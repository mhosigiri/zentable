# .bolt/config.json

```json
{
  "template": "nextjs-shadcn"
}

```

# .bolt/ignore

```
components/ui/*
hooks/use-toast.ts

```

# .bolt/prompt

```
For all designs I ask you to make, have them be beautiful, not cookie cutter. Make webpages that are fully featured and worthy for production.

When using client-side hooks (useState and useEffect) in a component that's being treated as a Server Component by Next.js, always add the "use client" directive at the top of the file.

Do not write code that will trigger this error: "Warning: Extra attributes from the server: %s%s""class,style"

By default, this template supports JSX syntax with Tailwind CSS classes, the shadcn/ui library, React hooks, and Lucide React for icons. Do not install other packages for UI themes, icons, etc unless absolutely necessary or I request them.

Use icons from lucide-react for logos.

```

# .cursor/rules/absolute_slideapp_features.md

```md
# Cursor for Slides (PresentAI) - Essential Features Checklist
*Based on Product Requirements Document - AI Slides Generator with Copilot*

## ğŸ¯ **Core Features - COMPLETED** âœ…

### Landing & Navigation
- [x] Professional landing page with hero section
- [x] Feature highlights and value propositions  
- [x] Clean navigation structure
- [x] Responsive design for mobile/desktop

### Complete AI Generation Pipeline
- [x] **Outline Generation** (`/api/generate-outline`)
  - Structured outline creation from user prompts
  - Smart template type selection  
  - Streaming responses for real-time updates
  - Multi-language support (EN, ES, FR, DE)
- [x] **Individual Slide Generation** (`/api/generate-slide`)
  - Template-specific content generation
  - Content expansion from bullet points
  - Style adaptation (Default, Modern, Minimal, Creative)
- [x] **AI Image Generation** (`/api/generate-image`)
  - Professional presentation images
  - 16:9 aspect ratio optimization
  - Contextual image prompts

### Slide Creation Workflow
- [x] **Generate from prompt** - Complete AI-powered pipeline
- [x] **Paste text** - Convert existing content to slides
- [x] **Import files/URLs** - Basic structure for file imports
- [x] Recent prompts history tracking
- [x] Settings configuration (language, style, slide count)

### Professional Slide Templates (10+ types)
- [x] **Basic Templates:**
  - Blank Card, Title with Text, Title with Bullets
- [x] **Image Templates:**
  - Image+Text, Text+Image, Title+Bullets+Image
- [x] **Multi-column Templates:**
  - 2, 3, 4 columns with/without headings
- [x] **Content Templates:**
  - Bullets (numbered with descriptions)
  - Paragraph (multi-section)
- [x] **Accent Templates:**
  - Accent Left/Right/Top/Background

### Rich Text Editor System  
- [x] **Tiptap Integration** with full editing capabilities
- [x] Bubble menu with formatting options
- [x] Real-time content editing
- [x] Image support and styling
- [x] Color picker and text alignment
- [x] Context-aware editing interface

### Presentation Management
- [x] **Complete Creation Workflow**
  - Generate â†’ Edit â†’ Refine pipeline
- [x] **Slide-by-slide editing** in `/docs/[id]`
- [x] **Drag-and-drop reordering**
- [x] **Real-time content updates**
- [x] **Client-side data persistence** (localStorage)
- [x] Document structure with metadata

### Theming System
- [x] **Theme Categories:**
  - Gradient themes (12 options)
  - Solid color themes (5 options) 
  - Pattern themes (4 options)
  - Glass themes (3 options)
- [x] Theme preview system
- [x] Dynamic theme application
- [x] Theme context management

### UI/UX Components
- [x] Complete UI component library (shadcn/ui)
- [x] Modal systems for various interactions
- [x] Toast notifications and loading states
- [x] Responsive layouts and mobile support
- [x] Context menus and drag handles

---

## ğŸš€ **Strategic Features - NEEDED** âŒ

### ğŸ¯ **PHASE 1: AI Copilot Integration** (Primary Focus)
- [ ] **Chat-Based Copilot Interface**
  - [ ] Floating chat widget (bottom-right, expandable)
  - [ ] Context-aware AI responses
  - [ ] Natural language command processing
  - [ ] Chat history during editing session
  - [ ] Quick action buttons for common requests

- [ ] **Core Copilot API** (`/api/copilot-chat`)
  - [ ] Conversational AI endpoint
  - [ ] Context management (current slide, presentation state)
  - [ ] Streaming chat responses
  - [ ] Action integration (execute changes from chat)

- [ ] **Content Assistance Commands**
  - [ ] "Make this slide more engaging"
  - [ ] "Add bullet points about [topic]"
  - [ ] "Rewrite in professional tone"
  - [ ] "Generate an image for this slide"
  - [ ] "Create a conclusion slide"

### ğŸ¯ **PHASE 2: Advanced Copilot Features**
- [ ] **Smart Suggestions System**
  - [ ] Proactive improvement recommendations
  - [ ] Template optimization suggestions
  - [ ] Content gap analysis
  - [ ] Style consistency checks

- [ ] **Collaborative Editing**
  - [ ] Inline AI suggestions in editor
  - [ ] Accept/reject interface for AI recommendations
  - [ ] Version history with AI change tracking
  - [ ] Iterative content refinement

- [ ] **Advanced Content Generation**
  - [ ] "Add 3 more slides about [topic]"
  - [ ] Content continuation and expansion
  - [ ] Cross-slide consistency maintenance
  - [ ] Style adaptation across presentation

### Enhanced Core Functionality
- [ ] **Slide Management** (Already partially working)
  - [ ] Add new slides between existing slides
  - [ ] Delete slides with confirmation
  - [ ] Duplicate slides
  - [ ] Bulk slide operations
  - [ ] Slide templates quick-add

- [ ] **Content Management**
  - [ ] Copy/paste slides
  - [ ] Undo/redo functionality
  - [ ] Auto-save improvements (enhance localStorage)
  - [ ] Slide notes/speaker notes
  - [ ] Content search within presentation

### Database & Persistence Upgrades
- [ ] **Database Integration** (Upgrade from localStorage)
  - [ ] User accounts & authentication
  - [ ] Cloud-based presentation storage
  - [ ] Presentation management dashboard
  - [ ] Sharing permissions system
  - [ ] Backup and sync capabilities

### Export & Sharing
- [ ] **Export Options**
  - [ ] PDF export (high priority)
  - [ ] PowerPoint (.pptx) export
  - [ ] Google Slides export
  - [ ] PNG/JPG image export
  - [ ] HTML export for web sharing

- [ ] **Sharing & Collaboration**
  - [ ] Public/private presentation links
  - [ ] Embed codes for websites
  - [ ] Real-time collaboration
  - [ ] Comment system
  - [ ] View-only sharing mode

### Presentation Mode
- [ ] **Full-Screen Presentation**
  - [ ] Presentation mode with navigation
  - [ ] Slide transitions/animations
  - [ ] Presenter view with notes
  - [ ] Timer and slide counter
  - [ ] Remote control support

### Advanced Content Features
- [ ] **Media Management**
  - [ ] File upload system (images, videos)
  - [ ] Stock photo integration
  - [ ] Image editing tools (crop, resize, filters)
  - [ ] Video embedding support
  - [ ] Audio narration support

- [ ] **Interactive Elements**
  - [ ] Clickable links and buttons
  - [ ] Embedded charts and graphs
  - [ ] Interactive polls/quizzes
  - [ ] Animation controls
  - [ ] Transition effects

### Templates & Customization
- [ ] **Advanced Templates**
  - [ ] Industry-specific templates (business, education, etc.)
  - [ ] Animated templates
  - [ ] Custom template creation
  - [ ] Template marketplace/sharing

- [ ] **Design System**
  - [ ] Custom fonts integration
  - [ ] Brand kit (logos, colors, fonts)
  - [ ] Master slide templates
  - [ ] Grid and alignment tools
  - [ ] Advanced formatting options

### Performance & Quality
- [ ] **Optimization**
  - [ ] Image optimization and compression
  - [ ] Lazy loading for large presentations
  - [ ] Offline mode support
  - [ ] Performance monitoring
  - [ ] Error tracking and reporting

### Import/Export Enhancements
- [ ] **Advanced Import**
  - [ ] PowerPoint import
  - [ ] Google Slides import
  - [ ] Notion page import
  - [ ] PDF import with OCR
  - [ ] Markdown import

### Analytics & Insights
- [ ] **Usage Analytics**
  - [ ] Presentation view statistics
  - [ ] Engagement metrics
  - [ ] Export tracking
  - [ ] User behavior analytics

---

## ğŸ¯ **Development Priorities** (Aligned with PRD)

### ğŸ”¥ **IMMEDIATE - PHASE 1** (Week 1-2)
**Primary Goal: AI Copilot Integration**
1. **Chat Interface Component** - Build floating chat widget
2. **Copilot API Endpoint** - Create `/api/copilot-chat`
3. **Context Management** - Track presentation and slide state
4. **Basic Chat Commands** - Core content editing via chat

### ğŸŸ¡ **SHORT-TERM - PHASE 2** (Week 3-4)
**Goal: Advanced Copilot Features**
1. **Smart Suggestions** - Proactive AI recommendations
2. **Inline Editing Integration** - AI suggestions in editor
3. **Content Analysis** - Identify improvement opportunities
4. **Performance Optimization** - Efficient AI request handling

### ğŸŸ¢ **MEDIUM-TERM** (Month 2)
**Goal: Export & Professional Features**
1. **PDF Export** - Essential for presentation sharing
2. **Presentation Mode** - Full-screen presentation
3. **PowerPoint Export** - Professional compatibility
4. **Enhanced Slide Management** - Complete CRUD operations

### ğŸ”µ **LONG-TERM - PHASE 3** (Month 3+)
**Goal: Advanced Platform Features**
1. **Multi-modal Input** - Voice commands and image analysis
2. **Real-time Collaboration** - Multi-user editing with AI
3. **Template Learning** - AI learns from user preferences
4. **Advanced Export** - Multiple format support

---

## ğŸ“Š **Current Status Summary** (Based on PRD Analysis)

**Completed:** ~85% of core presentation platform
- âœ… **Complete AI generation pipeline** (outline â†’ slides â†’ images)
- âœ… **Professional slide templates** (10+ types)
- âœ… **Rich text editor** with full editing capabilities
- âœ… **Theming system** (24 professional themes)
- âœ… **Data persistence** (localStorage-based)
- âœ… **Slide management** (drag-drop reordering, editing)
- âœ… **Multi-language support** (EN, ES, FR, DE)
- âœ… **Style adaptation** (Default, Modern, Minimal, Creative)

**Strategic Gap:** ~15% - Missing AI Copilot Integration
- âŒ **No conversational AI assistant** (main differentiator!)
- âŒ **No contextual content suggestions**
- âŒ **No natural language editing commands**
- âŒ **No proactive AI recommendations**

**Secondary Gaps:** Export & Professional Features
- âŒ **No PDF/PowerPoint export** (presentation sharing)
- âŒ **No full-screen presentation mode**
- âŒ **No cloud database** (currently localStorage only)
- âŒ **No user authentication system**

**Immediate Action Items (PRD-Aligned):**
1. **Build AI Copilot chat interface** - Main strategic feature
2. **Implement `/api/copilot-chat` endpoint** - Core AI assistant
3. **Add context management system** - Track slide/presentation state
4. **Create natural language command processing** - "Make this better"
5. **Design floating chat widget UI** - Always-accessible AI helper

---

## ğŸ—ï¸ **Technical Architecture** (PRD-Based Implementation)

### AI Copilot Architecture (Priority #1)
\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Chat Widget   â”‚â—„â”€â”€â–ºâ”‚  Copilot Engine  â”‚â—„â”€â”€â–ºâ”‚  Context Store  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Commands  â”‚    â”‚   AI Processing  â”‚    â”‚ Slide Content   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\`\`\`

### Required API Endpoints
\`\`\`
POST /api/copilot-chat          - Main copilot conversation
POST /api/copilot-context       - Context management  
POST /api/copilot-suggestions   - Proactive recommendations
GET/POST /api/presentations     - Basic CRUD (future)
POST /api/export/pdf           - PDF export (medium priority)
POST /api/export/pptx          - PowerPoint export
\`\`\`

### File Structure Extensions
\`\`\`
/components/copilot/
  â”œâ”€â”€ ChatWidget.tsx           - Floating chat interface
  â”œâ”€â”€ ContextManager.tsx       - Slide/presentation context
  â”œâ”€â”€ CommandProcessor.tsx     - Natural language processing
  â””â”€â”€ SuggestionEngine.tsx     - Proactive AI suggestions

/lib/copilot/
  â”œâ”€â”€ chat-context.ts          - Context management utilities
  â”œâ”€â”€ command-parser.ts        - Parse natural language commands
  â””â”€â”€ ai-suggestions.ts        - Generate contextual suggestions

/app/api/copilot/
  â”œâ”€â”€ chat/route.ts           - Main chat endpoint
  â”œâ”€â”€ context/route.ts        - Context management
  â””â”€â”€ suggestions/route.ts    - Suggestion engine
\`\`\`

### Context Management Schema
\`\`\`typescript
interface CopilotContext {
  presentationId: string;
  currentSlideId: string;
  slides: SlideData[];
  currentTemplate: string;
  userIntent: string;
  conversationHistory: ChatMessage[];
  lastAction: string;
}

interface ChatMessage {
  role: 'user' | 'assistant';
  content: string;
  timestamp: Date;
  actionExecuted?: boolean;
}
\`\`\`

### Success Metrics (From PRD)
- **Response Time**: < 3 seconds for copilot responses
- **Generation Speed**: < 30 seconds for full presentation  
- **Accuracy**: 90%+ relevant AI suggestions
- **User Engagement**: 70%+ users interact with copilot
- **Content Quality**: 90%+ user satisfaction

```

# .cursor/rules/adding-new-slide-templates.mdc

```mdc
---
description: 
globs: 
alwaysApply: false
---
# Adding New Slide Templates

This guide outlines the complete process for adding new slide templates to the cursor-for-slides presentation application.

## Overview
The slide system uses a modular architecture with templates that can be dynamically selected during presentation generation. Each template has its own component, API schema, and rendering logic.

## Step-by-Step Process

### 1. Create the Template Component
Create a new component in [components/slides/basic/](mdc:components/slides/basic) following this pattern:

\`\`\`typescript
// components/slides/basic/YourTemplate.tsx
'use client';

import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface YourTemplateProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  theme?: 'light' | 'dark';
}

export function YourTemplate({ 
  // Define your specific props here based on template needs
  title, 
  content, // or bulletPoints, sections, etc.
  isGenerating, 
  onUpdate, 
  isEditable = false,
  theme = 'light'
}: YourTemplateProps) {
  // Implementation with SlideWrapper
  return (
    <SlideWrapper>
      {/* Your template content */}
    </SlideWrapper>
  );
}
\`\`\`

**Key Requirements:**
- Use `SlideWrapper` for consistent styling and glass effects
- Support both editable and read-only modes
- Handle loading states with `isGenerating`
- Support light/dark themes
- Use `TiptapEditor` for editable content

### 2. Update SlideRenderer
Add your template to [components/slides/SlideRenderer.tsx](mdc:components/slides/SlideRenderer.tsx):

1. **Import the component:**
\`\`\`typescript
import { YourTemplate } from './basic/YourTemplate';
\`\`\`

2. **Add case to switch statement:**
\`\`\`typescript
case 'your-template-type':
  return <YourTemplate {...commonProps} />;
\`\`\`

3. **Update SlideData interface if needed:**
Add any new properties your template requires to the `SlideData` interface.

### 3. Update Generate Outline API
Modify [app/api/generate-outline/route.ts](mdc:app/api/generate-outline/route.ts):

1. **Add to template enum:**
\`\`\`typescript
templateType: z.enum([
  // ... existing templates
  'your-template-type'
])
\`\`\`

2. **Add to allTemplates array:**
\`\`\`typescript
const allTemplates = [
  // ... existing templates
  'your-template-type'
];
\`\`\`

3. **Update template selection logic:**
Add conditions in `selectTemplateType()` function to determine when your template should be used:
\`\`\`typescript
// Your template selection logic
if (contentText.includes('your-keywords')) {
  suitableTemplates.push('your-template-type');
}
\`\`\`

### 4. Update Generate Slide API
Modify [app/api/generate-slide/route.ts](mdc:app/api/generate-slide/route.ts):

1. **Create schema for your template:**
\`\`\`typescript
const YourTemplateSchema = z.object({
  title: z.string().describe('Main title for the slide'),
  // Add your specific fields with descriptions
  content: z.string().describe('Description of content structure'),
});
\`\`\`

2. **Add to getSchemaForTemplate():**
\`\`\`typescript
case 'your-template-type':
  return YourTemplateSchema;
\`\`\`

3. **Add to getPromptForTemplate():**
\`\`\`typescript
case 'your-template-type':
  return `Create a slide with [specific instructions for your template]. Base it on: ${baseContent}`;
\`\`\`

### 5. Create Test Page
Create a test page in [app/tests/](mdc:app/tests) to verify your template:

\`\`\`typescript
// app/tests/test-your-template/page.tsx
'use client';

import { YourTemplate } from '@/components/slides/basic/YourTemplate';
import { useTheme } from '@/contexts/ThemeContext';
import { ThemedLayout } from '@/components/ui/themed-layout';

export default function TestYourTemplatePage() {
  const sampleData = {
    id: 'test-your-template',
    templateType: 'your-template-type',
    title: 'Sample Title',
    // Add your sample data
    isEditable: true
  };

  return (
    <ThemedLayout>
      <div className="min-h-screen p-8">
        <div className="max-w-4xl mx-auto">
          <div className="mb-8">
            <h1 className="text-2xl font-bold text-gray-900 mb-2">
              Test: Your Template
            </h1>
            <p className="text-gray-600">
              Testing your new template component
            </p>
          </div>

          <div className="bg-white rounded-lg shadow-lg p-8 min-h-[600px]">
            <YourTemplate {...sampleData} />
          </div>

          <div className="mt-8 p-4 bg-gray-100 rounded-lg">
            <h3 className="font-semibold mb-2">Template Info:</h3>
            <ul className="text-sm text-gray-600 space-y-1">
              <li>â€¢ Template Type: your-template-type</li>
              <li>â€¢ Features: [describe features]</li>
              <li>â€¢ Use Case: [describe use cases]</li>
              <li>â€¢ Content: [describe content structure]</li>
            </ul>
          </div>
        </div>
      </div>
    </ThemedLayout>
  );
}
\`\`\`

## Template Design Guidelines

### Component Structure
- Always wrap content in `<SlideWrapper>` for consistent styling
- Support both editable and read-only modes
- Handle loading states with skeleton animations
- Use proper TypeScript interfaces extending `SlideData`

### Content Guidelines
- Keep content scannable and presentation-ready
- Support both light and dark themes
- Use semantic HTML structure
- Implement proper accessibility features

### API Integration
- Define clear, descriptive schemas
- Write specific prompts for content generation
- Include template in selection logic with appropriate triggers
- Test with various content types

## Testing Checklist
- [ ] Component renders correctly in both modes (editable/read-only)
- [ ] Loading states work properly
- [ ] Theme switching works (light/dark)
- [ ] Content updates properly in editable mode
- [ ] Template appears in generation system
- [ ] API generates appropriate content for template
- [ ] Test page demonstrates all features

## Common Patterns

### Simple Text Templates
Use for templates with title + single content area (like [TitleWithText](mdc:components/slides/basic/TitleWithText.tsx))

### Multi-Column Templates
Use grid layouts for templates with multiple content areas (like [TwoColumns](mdc:components/slides/basic/TwoColumns.tsx))

### Complex Structured Templates
Use for templates with multiple content types (like [Bullets](mdc:components/slides/basic/Bullets.tsx) with numbered items)

## File References
- Template Components: [components/slides/basic/](mdc:components/slides/basic)
- Slide Renderer: [components/slides/SlideRenderer.tsx](mdc:components/slides/SlideRenderer.tsx)
- Generate Outline API: [app/api/generate-outline/route.ts](mdc:app/api/generate-outline/route.ts)
- Generate Slide API: [app/api/generate-slide/route.ts](mdc:app/api/generate-slide/route.ts)
- Test Pages: [app/tests/](mdc:app/tests)
- Slide Wrapper: [components/slides/SlideWrapper.tsx](mdc:components/slides/SlideWrapper.tsx)

```

# .cursor/rules/agent-prompts.mdc

```mdc
---
description: 
globs: 
alwaysApply: false
---
# AI Agent Prompt Templates

## Approach 1: Enhanced Reasoning Agent

Use this prompt for enhanced reasoning in existing API endpoints ([generate-outline/route.ts](mdc:app/api/generate-outline/route.ts), [generate-slide/route.ts](mdc:app/api/generate-slide/route.ts)):

\`\`\`markdown
You are an AI presentation strategist and content architect. Your role is to analyze user input and create intelligent, well-reasoned presentation structures that maximize audience engagement and content effectiveness.

Your main goal is to transform user prompts into comprehensive presentation outlines with detailed reasoning for every design decision.

## Core Responsibilities

1. **Audience Analysis**: Analyze the intended audience, their knowledge level, attention span, and engagement preferences
2. **Content Strategy**: Determine the most effective way to structure information for maximum impact
3. **Visual Design Reasoning**: Select templates based on content type, flow, and visual hierarchy principles
4. **Engagement Optimization**: Ensure variety in templates and pacing to maintain audience attention

## Template Selection Reasoning

When selecting templates from the available options:
- **Basic Templates**: `blank-card`, `bullets`, `paragraph`
- **Column Templates**: `two-columns`, `three-columns`, `four-columns` (with heading variants)
- **Content Templates**: `image-and-text`, `text-and-image`, `title-with-bullets`
- **Accent Templates**: `accent-left`, `accent-right`, `accent-top`

Apply these selection criteria:
1. **Content Density**: Complex information â†’ multi-column layouts
2. **Comparison Needs**: Contrasting concepts â†’ two-column layouts
3. **Sequential Information**: Step-by-step processes â†’ bullets or numbered formats
4. **Visual Support**: Concepts needing illustration â†’ image-text combinations
5. **Emphasis Requirements**: Key messages â†’ accent templates

## Response Structure

Always include detailed reasoning in your responses:

\`\`\`json
{
  "reasoning": {
    "audienceAnalysis": "Detailed analysis of target audience and their specific needs",
    "contentStrategy": "Explanation of overall structural approach and information hierarchy",
    "visualApproach": "Rationale for template selections and visual design decisions",
    "engagementFactors": "Specific techniques used to maintain audience attention"
  },
  "outline": {
    // Your generated outline with justified template selections
  }
}
\`\`\`

## Quality Standards

- **Variety**: Avoid repetitive template usage; aim for visual diversity
- **Flow**: Ensure logical progression between slides
- **Balance**: Mix dense information slides with simpler, more digestible content
- **Professional**: Maintain appropriate tone and content depth for business presentations
\`\`\`

---

## Approach 2: AI Copilot Agent

Use this prompt for the comprehensive copilot chat system with granular slide operations:

\`\`\`markdown
You are an AI presentation copilot and design assistant. Your role is to help users create, edit, and optimize presentations through natural conversation and intelligent tool usage.

Your main goal is to understand user intentions and execute precise slide modifications, content improvements, and design optimizations using the available tools. Every UI operation that a user can perform manually should be available through conversational commands.

## Core Responsibilities

1. **Granular Slide Operations**: Handle specific requests like "add info to column 3", "replace image in slide 2", "make slide 5 less text-heavy"
2. **Multi-Slide Coordination**: Execute operations across multiple slides when requested
3. **Precision Editing**: Execute exact changes to specific slide elements (titles, content, bullets, columns, images)
4. **Template & Theme Management**: Change templates, apply themes, adjust styling
5. **Content Intelligence**: Analyze, optimize, and enhance slide content for effectiveness
6. **Design Optimization**: Recommend and apply appropriate layouts, themes, and visual elements

## Understanding User Requests

### Granular Operations You Must Handle:
- **Specific Column References**: "add content to column 3", "update the heading in the right column"
- **Element-Specific Changes**: "replace the image in the image-text slide", "update the title of slide 4"
- **Styling Adjustments**: "make the theme more techy", "reduce text size", "change to dark theme"
- **Content Modifications**: "make this slide less text-heavy", "add more bullet points", "remove the second bullet"
- **Template Changes**: "convert this to a two-column layout", "change slide 3 to image-and-text"
- **Multi-Slide Operations**: "update all bullet points to be shorter", "apply the same theme to slides 2-5"

### Context Recognition:
- **Current Slide**: Always be aware of which slide the user is viewing/editing
- **Slide Numbers**: Handle references like "slide 3", "the next slide", "this slide"
- **Element References**: Understand "left column", "right column", "third column", "the image", "main title"
- **Relative References**: "the previous slide", "all remaining slides", "slides after this one"

## Available Tool Categories

### ğŸ”§ **SLIDE-LEVEL OPERATIONS**
- Create, duplicate, delete, move slides
- Change slide templates (bullets â†” two-columns â†” image-text, etc.)
- Apply themes and styling changes

### âœï¸ **CONTENT MODIFICATION**
- Update titles, main content, and specific column content
- Add/update/remove bullet points in any column
- Modify column headings in multi-column layouts
- Text optimization (reduce length, enhance engagement, change tone)

### ğŸ–¼ï¸ **IMAGE OPERATIONS**  
- Generate new images with specific prompts
- Replace existing images
- Remove images from slides

### ğŸ¨ **STYLING & THEMES**
- Change presentation or individual slide themes
- Adjust text styling (size, color, alignment)
- Apply formatting changes

### ğŸ“Š **ANALYSIS & OPTIMIZATION**
- Analyze slide effectiveness and flow
- Provide improvement suggestions
- Optimize content for specific audiences

## Communication Patterns

### 1. **Acknowledge Specific Intent**
\`\`\`
User: "Add some info about market trends to column 3"
Response: "I'll add market trends information to the third column of this slide."
\`\`\`

### 2. **Clarify When Ambiguous**
\`\`\`
User: "Make this more professional"  
Response: "I can help make this more professional. Would you like me to:
- Adjust the theme to a more business-appropriate style
- Refine the text tone and language
- Optimize the layout and formatting
- Or all of the above?"
\`\`\`

### 3. **Explain Multi-Step Operations**
\`\`\`
User: "Convert this to a two-column layout with the image on the left"
Response: "I'll convert this slide to a two-column layout by:
1. Changing the template to 'image-and-text' 
2. Preserving your existing content
3. Positioning the image on the left side"
\`\`\`

### 4. **Provide Visual Feedback**
\`\`\`
After making changes: "I've updated column 3 with market trends information including current data points and growth projections. The content is now more balanced across all three columns."
\`\`\`

## Tool Usage Strategy

### **Server-Side Tools** (execute immediately):
- Content generation and modification
- Image generation and updates
- Template changes with content preservation
- Text optimization and analysis

### **Client-Side Tools** (immediate UI feedback):
- Theme applications and styling changes
- Slide reordering and positioning
- Visual formatting adjustments

### **Interactive Tools** (require user confirmation):
- Slide deletion (show confirmation dialog)
- Major template changes that might lose content
- Bulk operations across many slides

## Context Management

### Track These Details:
- **Current Slide ID and Position**: Always know which slide user is referencing
- **Slide Template Types**: Understand layout capabilities (columns, image positions, etc.)
- **Content Structure**: Know what elements exist (titles, bullets, images, columns)
- **Applied Themes**: Remember current theme and user preferences
- **Recent Changes**: Track what was just modified for better context

### Handle These References:
- **Positional**: "slide 3", "the next slide", "slides 2-4"
- **Relative**: "this slide", "the current slide", "previous slide"  
- **Element-Specific**: "left column", "the image", "second bullet point"
- **Template-Aware**: "the three-column slide", "slides with images"

## Example Interaction Patterns

\`\`\`
User: "Add some information about data security to the third column"
â†’ Use addContentToColumn with column: 'column3', content: [generated security content]

User: "Replace the image in slide number 2 with something more modern"  
â†’ Use generateSlideImage with slideId: [slide-2-id], imagePrompt: "modern [relevant context]"

User: "Make the theme more techy across all slides"
â†’ Use changeSlideTheme with themeId: [tech-theme], scope: 'presentation'

User: "This slide has way too much text, make it more concise"
â†’ Use reduceSlideText with targetLength: 'much-shorter', preserveMeaning: true

User: "Change this to a two-column layout and move the image to the left side"
â†’ Use changeSlideTemplate with newTemplateType: 'image-and-text', preserveContent: true
\`\`\`

Remember: Every operation that can be done through the UI should be accessible through conversational commands. Be precise, context-aware, and always confirm successful changes.
\`\`\`

## Usage Guidelines

### For Approach 1 (Enhanced Reasoning)
- Use in existing API endpoints to add intelligence to current generation
- Maintain backward compatibility with existing UI components
- Focus on improving quality of initial slide generation
- Provide reasoning data that can be displayed to users for transparency

### For Approach 2 (AI Copilot)
- Implement as new `/api/copilot-chat` endpoint with streaming responses
- Create comprehensive tool definitions for all slide operations
- Build conversational UI component for user interaction
- Integrate with existing slide management functions in [page.tsx](mdc:app/docs/[id]/page.tsx)

## Integration Points

Both approaches should integrate with:
- Current slide data structures from [SlideRenderer.tsx](mdc:components/slides/SlideRenderer.tsx)
- Template system in [components/slides/basic/](mdc:components/slides/basic)
- Slide management functions (lines 524-696 in [page.tsx](mdc:app/docs/[id]/page.tsx))
- UI components for modals and interactions

```

# .cursor/rules/ai_text_completion.md

```md
# AI Text Completion Features - Implementation Plan

## ğŸ¯ **Overview**
Adding Novel-style AI features to the Tiptap editor in the slide presentation app. This includes AI-powered text improvement, completion, and intelligent editing suggestions directly in the bubble menu.

## ğŸ“‹ **Game Plan & Task List**

### **Phase 1: Core AI Infrastructure** 
- [x] **Task 1.1**: Create AI text completion API endpoint (`/api/ai-text-completion`)
  - âœ… Supports commands: improve, fix, shorter, longer, continue, zap
  - âœ… Uses OpenAI GPT-4o with streaming responses
  - âœ… Proper error handling and response formatting

- [x] **Task 1.2**: Create AI selector commands component
  - âœ… Pre-defined AI editing options (improve, fix grammar, make shorter/longer)
  - âœ… Continue writing functionality
  - âœ… Smart text selection handling

- [x] **Task 1.3**: Create AI completion commands component
  - âœ… Replace selection option
  - âœ… Insert below option
  - âœ… Discard option

### **Phase 2: AI Selector Interface**
- [x] **Task 2.1**: Create main AI selector component
  - âœ… Command input interface with streaming
  - âœ… Loading states and animations
  - âœ… AI response rendering with scroll area
  - âœ… Integration with useCompletion hook from 'ai' library
  - âœ… Keyboard shortcuts (Enter, Escape)

- [x] **Task 2.2**: Create generative menu switch
  - âœ… Toggle between normal bubble menu and AI interface
  - âœ… Smooth transitions and proper state management
  - âœ… "Ask AI" button with magic icon

### **Phase 3: Bubble Menu Integration**
- [x] **Task 3.1**: Enhance existing TiptapEditor bubble menu
  - âœ… Add AI button to current bubble menu 
  - âœ… Integrate AI selector as overlay when activated
  - âœ… Maintain existing formatting tools (bold, italic, etc.)
  - âœ… Enhanced bubble menu with AI/normal mode toggle

- [x] **Task 3.2**: Add text selection context
  - âœ… Detect when text is selected
  - âœ… Show AI options based on selection
  - âœ… Handle empty selections gracefully
  - âœ… Extract selected text for AI processing

### **Phase 4: AI Response Handling**
- [x] **Task 4.1**: Implement completion integration
  - âœ… Replace selected text with AI suggestions
  - âœ… Insert AI content at cursor position
  - âœ… Preserve editor focus and selection state

- [x] **Task 4.2**: Add loading and error states
  - âœ… Show loading spinner during AI processing
  - âœ… Handle API errors gracefully with toast notifications
  - âœ… Provide user feedback for all states

### **Phase 5: Enhanced Features**
- [x] **Task 5.1**: Add custom command processing
  - âœ… Free-form text input for custom AI instructions
  - âœ… Context-aware AI responses
  - âœ… "Zap" command for custom instructions

- [x] **Task 5.2**: Add keyboard shortcuts
  - âœ… Quick access to AI features (Cmd/Ctrl + K)
  - âœ… Escape to close AI interface
  - âœ… Enter/Escape handling within AI selector

### **Phase 6: Polish & Optimization**
- [x] **Task 6.1**: Styling and animations
  - âœ… Match existing design system (shadcn/ui components)
  - âœ… Smooth transitions and micro-interactions
  - âœ… Responsive design for different screen sizes
  - âœ… Consistent purple theme for AI features

- [x] **Task 6.2**: Performance optimization
  - âœ… Debounce hook created for AI requests
  - âœ… Error handling and request cancellation
  - âœ… Optimized component structure

## ğŸ—ï¸ **Technical Architecture**

### **File Structure**
\`\`\`
components/editor/ai/
â”œâ”€â”€ ai-selector.tsx                 # Main AI interface component
â”œâ”€â”€ ai-selector-commands.tsx        # Pre-defined AI commands
â”œâ”€â”€ ai-completion-commands.tsx      # Replace/insert/discard options
â”œâ”€â”€ generative-menu-switch.tsx     # Toggle between normal/AI menu
â””â”€â”€ magic-icon.tsx                 # AI magic wand icon

app/api/
â””â”€â”€ ai-text-completion/
    â””â”€â”€ route.ts                   # âœ… AI completion API endpoint
\`\`\`

### **Key Components**
1. **AI Selector**: Main interface with command input and streaming responses
2. **Command Options**: Pre-built options (improve, fix, shorter, longer, continue)
3. **Completion Actions**: Replace, insert, or discard AI suggestions
4. **Menu Switch**: Toggle between standard formatting and AI tools
5. **Integration**: Seamless integration with existing bubble menu

### **User Experience Flow**
1. User selects text in editor
2. Bubble menu appears with AI button
3. Click "Ask AI" to open AI selector
4. Choose from pre-defined commands or type custom instruction
5. AI processes request with loading state
6. User can replace, insert, or discard AI suggestion
7. Content updates in editor with maintained focus

## ğŸ¨ **Design Considerations**
- **Consistent**: Match existing UI design system
- **Intuitive**: Clear labels and familiar interactions
- **Fast**: Immediate feedback and smooth animations
- **Accessible**: Keyboard navigation and screen reader support
- **Mobile-friendly**: Touch-optimized for tablet/mobile editing

## ğŸ”§ **Dependencies Used**
- `ai` library for streaming completions
- `@ai-sdk/openai` for OpenAI integration  
- `lucide-react` for icons (magic wand, arrows, etc.)
- Existing `@tiptap/react` bubble menu system
- Current UI component library (shadcn/ui)

---

## ğŸ‰ **IMPLEMENTATION COMPLETE - ENHANCED!**

### **âœ… What's Now Available:**
1. **AI-Enhanced Bubble Menu** - Magic AI icon appears when text is selected (now icon-only for cleaner UI)
2. **Smart AI Commands** - Improve writing, fix grammar, make shorter/longer, continue writing
3. **Custom AI Instructions** - Free-form text input for custom AI requests  
4. **Streaming AI Responses** - Real-time AI generation with loading states
5. **Replace/Insert Actions** - Choose how to apply AI suggestions
6. **Keyboard Shortcuts** - Cmd/Ctrl + K to toggle AI, Escape to close
7. **Error Handling** - Graceful error messages and retry options
8. **Mobile-Friendly** - Responsive design that works on all devices

### **ğŸ†• NEW ENHANCED FORMATTING:**
9. **Text Type Selector** - Dropdown with Text, Heading 1-3, Lists, Quote options
10. **Advanced Text Formatting** - Strikethrough, underline, inline code
11. **Enhanced Color Picker** - Separate text color and highlight color tabs
12. **Smart Dropdown Logic** - Proper state management, auto-close on selection changes
13. **Novel-Inspired UI** - Consistent with modern text editor patterns
14. **Z-Index Management** - Fixed layering issues with slide drag handles

### **ğŸš€ How to Use:**
1. **Select text** in any slide editor
2. **Click the magic AI icon** in the bubble menu (or press Cmd/Ctrl + K)
3. **Choose a command** (improve, fix, etc.) or **type custom instructions**
4. **Wait for AI response** with streaming
5. **Replace, insert, or discard** the AI suggestion

### **ğŸ¨ Enhanced Formatting Features:**
- **Text Types**: Click the text type selector (left side) to change to headings, lists, quotes
- **Text Styling**: Use strikethrough, underline, and inline code formatting
- **Colors**: Enhanced color picker with text color and highlight color tabs
- **Smart Behavior**: Dropdowns auto-close when you make selections or change text selection

### **ğŸ”§ Technical Implementation:**
- **API**: `/api/ai-text-completion` with OpenAI GPT-4o
- **AI Components**: Fully modular AI system in `components/editor/ai/`
- **Formatting Components**: Enhanced formatting in `components/editor/formatting/`
- **Integration**: Seamless integration with existing Tiptap editor
- **Extensions**: Added Highlight and Blockquote extensions
- **Performance**: Optimized with debouncing and proper state management
- **Z-Index**: Proper layering with slide drag handles (AI: z-150+, Drag: z-50)

---

## ğŸ“ **Final Progress Summary**
**Completed**: 16/16 tasks (100%) ğŸ‰
**Status**: **FULLY ENHANCED & READY!**
**All Phases**: âœ… COMPLETE + ENHANCED

### **âœ¨ Recent Enhancements (Phase 7):**
- [x] **Task 7.1**: Icon-only AI button for cleaner UI
- [x] **Task 7.2**: Enhanced formatting inspired by Novel
  - âœ… Text type selector (headings, lists, quotes)
  - âœ… Additional formatting (strikethrough, underline, code)
  - âœ… Enhanced color picker with text/highlight colors
  - âœ… Smart dropdown state management
  - âœ… Proper z-index layering
  - âœ… Novel-style UI consistency

```

# .cursor/rules/ai-agent-architecture.mdc

```mdc
---
description: 
globs: 
alwaysApply: false
---
# AI Agent Architecture Implementation Guide

## Overview
This application is evolving from a simple slide generator to a full-featured AI agent copilot system. The architecture supports two complementary approaches:

1. **Enhanced Reasoning** - Adding intelligent reasoning to existing API endpoints ([generate-outline/route.ts](mdc:app/api/generate-outline/route.ts), [generate-slide/route.ts](mdc:app/api/generate-slide/route.ts))
2. **AI Copilot** - A conversational agent with tools for comprehensive slide/document operations

## Core Data Structures

### SlideData Interface
The primary data structure is defined in [SlideRenderer.tsx](mdc:components/slides/SlideRenderer.tsx):
\`\`\`typescript
interface SlideData {
  id: string;
  templateType: string;
  title?: string;
  content?: string;
  bulletPoints?: string[];
  // ... extensive properties for different template types
}
\`\`\`

### Template Types
Available templates are defined in [generate-outline/route.ts](mdc:app/api/generate-outline/route.ts):
- Basic: `blank-card`, `bullets`, `paragraph`
- Columns: `two-columns`, `three-columns`, `four-columns` (with heading variants)
- Content: `image-and-text`, `text-and-image`, `title-with-bullets`
- Accent: `accent-left`, `accent-right`, `accent-top`

## AI Agent Patterns

### Tool-Based Architecture
Following the Vercel AI SDK pattern, define tools using Zod schemas:
\`\`\`typescript
const slideTools = {
  createSlide: {
    description: "Create a new slide with specified template and content",
    parameters: z.object({
      templateType: z.enum([...templateTypes]),
      title: z.string(),
      content: z.string().optional(),
      // ... additional parameters
    })
  }
}
\`\`\`

### Agent Prompt Structure
Use clear, structured prompts with:
- **Role Definition**: Specify the agent's purpose and capabilities
- **Tool Calling Rules**: Define how tools should be used
- **Communication Guidelines**: Format requirements and interaction patterns
- **Context Awareness**: How to use attached file information

## Implementation Approaches

### Approach 1: Enhanced Reasoning
Enhance existing endpoints with reasoning capabilities:
- Add `reasoning` object to API responses
- Include audience analysis, content strategy, visual approach
- Maintain backward compatibility with current UI
- Files to modify: [generate-outline/route.ts](mdc:app/api/generate-outline/route.ts), [generate-slide/route.ts](mdc:app/api/generate-slide/route.ts)

### Approach 2: AI Copilot
Create conversational agent with comprehensive tools:
- New API route: `app/api/copilot-chat/route.ts`
- Tool definitions: `app/api/copilot-chat/slide-tools.ts`
- UI components for chat interface
- Integration with existing slide management functions

## Template System Evolution

### Current: Presentation-Based
Templates are defined by their visual layout (two-columns, title-with-bullets)

### Future: Semantic-Based
Templates should be defined by content meaning:
- `comparison` â†’ renders as two-columns or timeline
- `list` â†’ renders as bullets or numbered list
- `showcase` â†’ renders with images and descriptions

## Development Guidelines

### File Organization
- API routes: `app/api/[endpoint]/route.ts`
- AI tools: `app/api/[endpoint]/[endpoint]-tools.ts`
- UI components: `components/ui/[component].tsx`
- Slide templates: `components/slides/basic/[Template].tsx`

### Agent Integration Points
- Slide creation functions in [page.tsx](mdc:app/docs/[id]/page.tsx) lines 524-696
- Slide management operations (duplicate, delete, reorder)
- Template selection modal [template-selection-modal.tsx](mdc:components/ui/template-selection-modal.tsx)
- AI generation modal [ai-generation-modal.tsx](mdc:components/ui/ai-generation-modal.tsx)

### Future Extensibility
- **Documents**: Extend SlideData to DocumentData for rich text editing
- **Database**: Replace local state with persistent storage
- **Multi-user**: Add collaboration features
- **Advanced AI**: Include image generation, voice narration, presentation practice

## Dependencies
Current AI-related dependencies from [package.json](mdc:package.json):
- `@ai-sdk/openai`: ^0.0.66
- `ai`: ^4.3.16
- `zod`: ^3.23.8
- `@tiptap/*`: Rich text editing capabilities

## Best Practices
1. **Type Safety**: Use TypeScript interfaces and Zod schemas
2. **Error Handling**: Implement robust error handling for AI operations
3. **Streaming**: Use streaming responses for real-time updates
4. **Caching**: Cache AI responses to improve performance
5. **Fallbacks**: Provide fallback templates if AI selection fails
6. **Testing**: Test with various content types and edge cases

```

# .cursor/rules/development-standards.mdc

```mdc
---
description:
globs:
alwaysApply: false
---

```

# .cursor/rules/extensibility-guide.mdc

```mdc
---
description: 
globs: 
alwaysApply: false
---
# Extensibility Guide: Adding New Templates and Tools

## Overview

This guide explains how to add new slide templates and copilot tools while maintaining the template-agnostic architecture. All tools are designed to work with the `SlideData` interface, ensuring they automatically support future templates.

## Adding New Slide Templates

### Step 1: Create the Template Component

Create your new template in `components/slides/basic/`:

\`\`\`typescript
// components/slides/basic/MyNewTemplate.tsx
'use client';

import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface MyNewTemplateProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  theme?: 'light' | 'dark';
}

export function MyNewTemplate({ 
  content,
  // Add any new properties your template needs
  customProperty,
  specialData,
  isGenerating, 
  onUpdate, 
  isEditable = false,
  theme = 'light'
}: MyNewTemplateProps) {

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      onUpdate({ content: newContent });
    }
  };

  // Handle updates to new properties
  const handleCustomPropertyChange = (newValue: any) => {
    if (onUpdate) {
      onUpdate({ customProperty: newValue });
    }
  };

  const defaultContent = `<h1>My New Template</h1>
    <p>Default content for the new template...</p>`;

  return (
    <SlideWrapper>
      {/* Your template layout */}
      <div className="my-new-template-layout">
        {isGenerating ? (
          <div className="animate-pulse">
            {/* Loading skeleton */}
          </div>
        ) : (
          <TiptapEditor
            content={content || defaultContent}
            onChange={handleContentChange}
            editable={isEditable}
          />
        )}
        
        {/* Additional template-specific elements */}
        {specialData && (
          <div className="special-section">
            {/* Render special data */}
          </div>
        )}
      </div>
    </SlideWrapper>
  );
}
\`\`\`

### Step 2: Update SlideData Interface

Add new properties to support your template:

\`\`\`typescript
// components/slides/SlideRenderer.tsx
export interface SlideData {
  // ... existing properties ...
  
  // Add new properties for your template
  customProperty?: string;
  specialData?: Array<{
    id: string;
    value: string;
    metadata?: any;
  }>;
  newArrayProperty?: string[];
  newObjectProperty?: {
    key1: string;
    key2: number;
  };
}
\`\`\`

### Step 3: Register Template in SlideRenderer

\`\`\`typescript
// components/slides/SlideRenderer.tsx
import { MyNewTemplate } from './basic/MyNewTemplate';

export function SlideRenderer({ slide, onUpdate, isEditable = false }: SlideRendererProps) {
  const { templateType } = slide;

  const commonProps = {
    ...slide,
    onUpdate,
    isEditable,
  };

  switch (templateType) {
    // ... existing cases ...
    
    case 'my-new-template':
      return <MyNewTemplate {...commonProps} />;
    
    default:
      return <BlankCard {...commonProps} />;
  }
}
\`\`\`

### Step 4: Update Template Lists

Add your template to any template selection lists:

\`\`\`typescript
// In generation APIs or template selection components
const AVAILABLE_TEMPLATES = [
  // ... existing templates ...
  'my-new-template'
];
\`\`\`

## Adding New Copilot Tools

### Step 1: Identify Tool Category

Determine if your tool is:
- **Server-side**: Requires AI processing, data manipulation, or external API calls
- **Client-side**: Immediate UI updates, theme changes, or simple state updates
- **Interactive**: Requires user confirmation or input

### Step 2: Create Tool Definition

Add to `lib/ai/slide-tools.ts`:

\`\`\`typescript
export const slideTools = {
  // ... existing tools ...

  // Example: Server-side tool for complex operations
  myComplexOperation: {
    description: "Perform a complex operation on slide data",
    parameters: z.object({
      slideId: z.string(),
      operationType: z.enum(['transform', 'analyze', 'generate']),
      targetProperty: z.string(), // Any SlideData property
      options: z.object({
        setting1: z.string().optional(),
        setting2: z.number().optional()
      }).optional()
    }),
    execute: async ({ slideId, operationType, targetProperty, options }) => {
      // Perform server-side processing
      const result = await performComplexOperation(slideId, operationType, targetProperty, options);
      
      // Update slide using the universal updateSlideProperty function
      await updateSlideProperty(slideId, targetProperty, result.newValue);
      
      return { 
        success: true, 
        message: `${operationType} operation completed on ${targetProperty}`,
        result: result.summary
      };
    }
  },

  // Example: Client-side tool for immediate UI updates
  myUIUpdate: {
    description: "Update UI elements immediately",
    parameters: z.object({
      slideId: z.string(),
      uiElement: z.string(),
      newValue: z.any()
    })
    // No execute function - handled by onToolCall in the chat component
  },

  // Example: Interactive tool requiring user input
  myInteractiveTool: {
    description: "Tool that requires user confirmation or input",
    parameters: z.object({
      slideId: z.string(),
      question: z.string(),
      options: z.array(z.string())
    })
    // Handled by tool invocation UI with addToolResult
  }
}
\`\`\`

### Step 3: Implement Tool Logic

#### For Server-side Tools:
Create the implementation functions:

\`\`\`typescript
// lib/ai/tool-implementations.ts
export async function performComplexOperation(
  slideId: string, 
  operationType: string, 
  targetProperty: string, 
  options?: any
) {
  // Your complex logic here
  const slide = await getSlideById(slideId);
  
  switch (operationType) {
    case 'transform':
      return await transformSlideProperty(slide, targetProperty, options);
    case 'analyze':
      return await analyzeSlideProperty(slide, targetProperty, options);
    case 'generate':
      return await generateContentForProperty(slide, targetProperty, options);
  }
}

export async function updateSlideProperty(
  slideId: string,
  property: string,
  value: any,
  index?: number
) {
  const slide = await getSlideById(slideId);
  
  if (index !== undefined && Array.isArray(slide[property])) {
    // Handle array operations
    slide[property][index] = value;
  } else {
    // Handle direct property updates
    slide[property] = value;
  }
  
  await saveSlide(slideId, slide);
}
\`\`\`

#### For Client-side Tools:
Handle in the chat component:

\`\`\`typescript
// components/ui/copilot-chat/chat-interface.tsx
async onToolCall({ toolCall }) {
  switch (toolCall.toolName) {
    case 'myUIUpdate':
      const { slideId, uiElement, newValue } = toolCall.args;
      
      // Update UI immediately
      updateSlideInUI(slideId, { [uiElement]: newValue });
      
      return { success: true, message: `${uiElement} updated` };
      
    case 'changeSlideTheme':
      applyThemeToSlide(toolCall.args.themeId, toolCall.args.slideId);
      return { success: true, message: 'Theme applied' };
      
    // Add more client-side tool handlers
  }
}
\`\`\`

#### For Interactive Tools:
Create tool invocation UI:

\`\`\`typescript
// components/ui/copilot-chat/tool-invocation.tsx
export function ToolInvocationComponent({ toolInvocation, onResult }) {
  switch (toolInvocation.toolName) {
    case 'myInteractiveTool':
      return (
        <div className="interactive-tool">
          <p>{toolInvocation.args.question}</p>
          <div className="options">
            {toolInvocation.args.options.map(option => (
              <button
                key={option}
                onClick={() => onResult(option)}
                className="option-button"
              >
                {option}
              </button>
            ))}
          </div>
        </div>
      );
      
    // Add more interactive tool UIs
  }
}
\`\`\`

## Universal Helper Functions

### Working with SlideData Properties

\`\`\`typescript
// lib/ai/slide-helpers.ts

// Get any property from a slide
export function getSlideProperty(slide: SlideData, property: string): any {
  return slide[property as keyof SlideData];
}

// Set any property on a slide
export function setSlideProperty(slide: SlideData, property: string, value: any): SlideData {
  return { ...slide, [property]: value };
}

// Add item to any array property
export function addToArrayProperty(
  slide: SlideData, 
  property: string, 
  item: any, 
  position?: number
): SlideData {
  const currentArray = getSlideProperty(slide, property) || [];
  const newArray = [...currentArray];
  
  if (position !== undefined) {
    newArray.splice(position, 0, item);
  } else {
    newArray.push(item);
  }
  
  return setSlideProperty(slide, property, newArray);
}

// Update item in any array property
export function updateArrayItem(
  slide: SlideData,
  property: string,
  index: number,
  newValue: any
): SlideData {
  const currentArray = getSlideProperty(slide, property) || [];
  const newArray = [...currentArray];
  newArray[index] = newValue;
  
  return setSlideProperty(slide, property, newArray);
}

// Remove item from any array property
export function removeFromArrayProperty(
  slide: SlideData,
  property: string,
  index: number
): SlideData {
  const currentArray = getSlideProperty(slide, property) || [];
  const newArray = currentArray.filter((_, i) => i !== index);
  
  return setSlideProperty(slide, property, newArray);
}
\`\`\`

## Template Content Mapping

When changing templates, use smart content mapping:

\`\`\`typescript
// lib/ai/template-mapper.ts
export function mapContentBetweenTemplates(
  sourceSlide: SlideData,
  targetTemplateType: string,
  customMapping?: Record<string, string>
): Partial<SlideData> {
  const mappings: Record<string, Record<string, string>> = {
    // Map from any template to two-columns
    'two-columns': {
      'content': 'leftContent',
      'bulletPoints': 'leftBullets',
      'title': 'title'
    },
    
    // Map from any template to three-columns
    'three-columns': {
      'content': 'column1Content',
      'bulletPoints': 'column1Bullets',
      'leftContent': 'column1Content',
      'rightContent': 'column2Content',
      'title': 'title'
    },
    
    // Add mappings for your new templates
    'my-new-template': {
      'content': 'customProperty',
      'bulletPoints': 'specialData',
      'title': 'title'
    }
  };

  const mapping = customMapping || mappings[targetTemplateType] || {};
  const newSlideData: Partial<SlideData> = { templateType: targetTemplateType };

  // Apply mappings
  Object.entries(mapping).forEach(([source, target]) => {
    const sourceValue = getSlideProperty(sourceSlide, source);
    if (sourceValue !== undefined) {
      newSlideData[target as keyof SlideData] = sourceValue;
    }
  });

  return newSlideData;
}
\`\`\`

## Best Practices for Extensions

### 1. **Follow SlideData Interface**
- Always add new properties to the `SlideData` interface
- Use optional properties for template-specific data
- Follow consistent naming conventions

### 2. **Use Universal Tools**
- Leverage `updateSlideProperty` for all content updates
- Use array helper functions for bullet points and lists
- Build on existing tool patterns

### 3. **Maintain Template Agnosticism**
- Tools should work with property names, not hardcoded templates
- Use dynamic property access rather than template-specific logic
- Always consider how tools will work with future templates

### 4. **Error Handling**
\`\`\`typescript
// Always include proper error handling
execute: async ({ slideId, property, value }) => {
  try {
    const slide = await getSlideById(slideId);
    if (!slide) {
      return { success: false, message: "Slide not found" };
    }
    
    if (!(property in slide)) {
      return { success: false, message: `Property ${property} not supported by this template` };
    }
    
    await updateSlideProperty(slideId, property, value);
    return { success: true, message: `${property} updated successfully` };
  } catch (error) {
    return { success: false, message: `Error updating ${property}: ${error.message}` };
  }
}
\`\`\`

### 5. **Documentation**
- Document new template properties in the SlideData interface
- Add tool descriptions that explain what templates they work with
- Include examples in tool parameter schemas

## Testing New Extensions

### Template Testing
\`\`\`typescript
// Create test pages like existing ones in app/tests/
// app/tests/test-my-new-template/page.tsx
export default function TestMyNewTemplatePage() {
  const slideData = {
    id: 'test-my-new-template',
    templateType: 'my-new-template',
    title: 'Test New Template',
    customProperty: 'Test custom data',
    specialData: [
      { id: '1', value: 'Item 1' },
      { id: '2', value: 'Item 2' }
    ]
  };

  return (
    <div className="test-container">
      <MyNewTemplate 
        {...slideData}
        isEditable={true}
        onUpdate={(updates) => console.log('Updates:', updates)}
      />
    </div>
  );
}
\`\`\`

### Tool Testing
\`\`\`typescript
// Test tools with various slide configurations
const testCases = [
  { templateType: 'bullets', property: 'bulletPoints' },
  { templateType: 'two-columns', property: 'leftBullets' },
  { templateType: 'my-new-template', property: 'specialData' }
];

testCases.forEach(async ({ templateType, property }) => {
  const result = await myNewTool({ 
    slideId: 'test', 
    targetProperty: property 
  });
  console.log(`${templateType} - ${property}:`, result);
});
\`\`\`

This extensibility architecture ensures that all future templates and tools work seamlessly together while maintaining the template-agnostic approach! ğŸš€

```

# .cursor/rules/granular-operations.mdc

```mdc
---
description:
globs:
alwaysApply: false
---

```

# .cursor/rules/implementation-plan.mdc

```mdc
---
description: 
globs: 
alwaysApply: false
---
# Implementation Plan: AI Copilot for Slides with MCP Integration

## Project Overview

Transform Cursor for Slides from a simple slide generator into a comprehensive AI copilot platform with bidirectional MCP (Model Context Protocol) integration, state-of-the-art prompting, and advanced brainstorming capabilities.

## Phase 1: Core Copilot Infrastructure (Week 1-2)

### **Chat Interface Foundation**
- [ ] Floating chat widget component
- [ ] Message history and context management
- [ ] Streaming response handling
- [ ] Basic tool calling infrastructure

### **API Routes**
- [ ] `/api/copilot-chat` - Main chat endpoint
- [ ] Enhanced context management
- [ ] Integration with existing slide management

### **Basic Tools**
- [ ] `updateSlideProperty` - Universal slide property updates
- [ ] `addBulletToProperty` - Bullet point management
- [ ] `updateSlideImage` - Image operations
- [ ] `changeSlideTemplate` - Template conversion
- [ ] `optimizeSlideContent` - Content optimization

### **Deliverables**
- Working chat interface integrated with slides editor
- Basic slide manipulation through conversation
- Context-aware responses about current presentation state

## Phase 2: Advanced Copilot Features (Week 3-4)

### **Enhanced Brainstorming**
- [ ] Multi-stage brainstorming flow (Discovery â†’ Content â†’ Structure â†’ Generate)
- [ ] Progress tracking interface
- [ ] Idea bank with organization tools
- [ ] Smart suggestion system

### **Advanced Tools**
- [ ] `analyzeSlide` - Content analysis and suggestions
- [ ] `createSlide` - New slide generation
- [ ] `duplicateSlide` - Slide duplication
- [ ] Multi-slide operations support

### **UI Enhancements**
- [ ] Inline AI suggestions in editor
- [ ] Accept/reject workflow for AI recommendations
- [ ] Tool invocation UI for interactive tools
- [ ] Progress indicators and loading states

### **Deliverables**
- Complete brainstorming workflow
- Advanced slide editing capabilities
- Proactive AI suggestions and improvements

## Phase 3: Bidirectional MCP Integration + State-of-the-Art Prompting (Week 5-8)

### **Enhanced Brainstorming with Live Data Integration**

#### **MCP Client Implementation (Your App Consuming Data)**
- [ ] **MCP Manager System**
  \`\`\`typescript
  // lib/mcp/mcp-manager.ts
  - Multi-server connection management
  - Tool discovery and caching
  - Error handling and reconnection logic
  - Support for stdio, SSE, and HTTP transports
  \`\`\`

- [ ] **Pre-built MCP Server Integrations**
  \`\`\`typescript
  // Ready-made integrations
  - Google Drive MCP (documents, spreadsheets)
  - Postgres/MySQL MCP (database queries)
  - GitHub MCP (repository data, issues, commits)
  - Slack MCP (team communications)
  - Filesystem MCP (local file access)
  - Smithery/mcp.so marketplace integration
  \`\`\`

- [ ] **Enhanced Brainstorming Interface**
  \`\`\`
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   Chat with AI      â”‚   Progress      â”‚   Quick Actions  â”‚
  â”‚   + Data Sources    â”‚   Tracker       â”‚   & Preview      â”‚
  â”‚                     â”‚                 â”‚                  â”‚
  â”‚ â€¢ Real-time data    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â€¢ Add MCP server â”‚
  â”‚ â€¢ Context aware     â”‚ â”‚ Discovery   â”‚ â”‚ â€¢ Export options â”‚
  â”‚ â€¢ Multi-modal       â”‚ â”‚ Content     â”‚ â”‚ â€¢ Theme apply    â”‚
  â”‚                     â”‚ â”‚ Structure   â”‚ â”‚ â€¢ Generate       â”‚
  â”‚                     â”‚ â”‚ Generate    â”‚ â”‚                  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚   Enhanced          â”‚   Data Sources  â”‚   Presentation   â”‚
  â”‚   Idea Bank         â”‚   Panel         â”‚   Preview        â”‚
  â”‚                     â”‚                 â”‚                  â”‚
  â”‚ â€¢ Real data tags    â”‚ â€¢ Connected     â”‚ â€¢ Live preview   â”‚
  â”‚ â€¢ Source tracking   â”‚ â€¢ Available     â”‚ â€¢ Structure view â”‚
  â”‚ â€¢ Auto-refresh      â”‚ â€¢ Add new       â”‚ â€¢ Export ready   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  \`\`\`

#### **MCP Server Implementation (Your App Providing Services)**
- [ ] **Presentation Generation MCP Server**
  \`\`\`typescript
  // lib/mcp/presentation-server.ts
  Tools for external MCP clients:
  - create_presentation: Full presentation generation
  - generate_slide: Single slide creation
  - brainstorm_presentation: Interactive brainstorming
  - apply_theme: Theme application
  - export_presentation: Multi-format export
  - analyze_content: Content analysis and suggestions
  \`\`\`

- [ ] **Distribution & Integration**
  \`\`\`bash
  # NPM package for easy installation
  npx cursor-for-slides mcp-server
  
  # Integration examples for major MCP clients:
  - Claude Desktop configuration
  - VS Code GitHub Copilot integration  
  - JetBrains AI Assistant setup
  - Cursor IDE integration
  - Custom client examples
  \`\`\`

### **State-of-the-Art Prompting Strategy Implementation**

#### **1. Hyper-Specific & Detailed Prompts (Manager Approach)**
\`\`\`typescript
// lib/prompts/master-prompts.ts
export const BRAINSTORMING_MASTER_PROMPT = `
You are a Senior Presentation Strategy Consultant and AI Brainstorming Specialist with 15+ years of experience helping executives, educators, and thought leaders create compelling, data-driven presentations.

## YOUR ROLE & EXPERTISE
You specialize in:
- Strategic presentation planning and narrative architecture
- Audience analysis and message crafting  
- Data integration and visual storytelling
- Cross-functional collaboration and stakeholder alignment
- Real-time content optimization based on live data sources

## YOUR CURRENT TASK
Your primary responsibility is to guide users through a comprehensive brainstorming process that transforms vague ideas into structured, compelling presentation concepts. You will:

1. DISCOVERY PHASE (2-3 interactions)
   - Understand presentation goals and success metrics
   - Identify target audience and their pain points/interests
   - Determine constraints (time, format, resources)
   - Assess available data sources and content assets

2. CONTENT EXPLORATION PHASE (3-4 interactions)
   - Generate and refine key message pillars
   - Identify supporting evidence and data points
   - Suggest relevant examples, case studies, and stories
   - Map content to audience interests and business objectives

3. STRUCTURE REFINEMENT PHASE (2-3 interactions)
   - Organize ideas into logical narrative flow
   - Design opening hooks and memorable conclusions
   - Balance information density with engagement
   - Recommend optimal templates and visual approaches

4. OPTIMIZATION PHASE (1-2 interactions)
   - Generate refined presentation prompt for slide creation
   - Suggest appropriate themes, styles, and slide count
   - Provide content quality assessment and recommendations

## CONNECTED DATA SOURCES
You have access to real-time data through MCP servers:
{connectedSources}

When relevant, proactively suggest using these data sources to:
- Validate assumptions with real metrics
- Include current, accurate information
- Support arguments with concrete evidence
- Personalize content to user's actual context

## INTERACTION GUIDELINES

### Communication Style
- Be conversational yet professional
- Ask thoughtful, open-ended questions that spark thinking
- Provide specific, actionable suggestions
- Balance guidance with user autonomy

### Question Strategy
- Start broad, then narrow focus
- Build on previous responses to maintain continuity
- Use data insights to prompt deeper exploration
- Validate understanding before moving to next phase

### Output Structure
Always structure your responses using:

**ğŸ¯ Current Focus:** [What we're working on]
**ğŸ’¡ Key Insight:** [Main takeaway from user's input]
**â“ Next Question:** [Specific question to advance discussion]
**ğŸ”— Data Opportunity:** [Relevant data sources to explore]
**ğŸ“‹ Running Notes:** [Summary of collected insights]

## ESCAPE HATCHES & QUALITY CONTROL
If at any point you encounter:
- Unclear or contradictory user input â†’ Ask for clarification
- Missing critical information â†’ Explicitly state what's needed
- Technical limitations â†’ Clearly explain constraints
- Data access issues â†’ Suggest alternative approaches

Always prioritize accuracy over assumption. Say "I don't have enough information about [specific aspect]" rather than making unsupported suggestions.

## SUCCESS METRICS
A successful brainstorming session results in:
- Clear presentation objective and success metrics
- Well-defined target audience profile
- 3-5 key message pillars with supporting evidence
- Logical narrative structure with opening/closing strategies
- Actionable next steps for slide creation
- Data-informed content recommendations

## CURRENT SESSION STATUS
Session Stage: {currentStage}
Ideas Collected: {ideasCount}
Data Sources Used: {dataSourcesUsed}
User Context: {userContext}

Begin each interaction by acknowledging the current stage and smoothly continuing the conversation flow.
`;

#### **2. Role-Based Persona Prompting**
\`\`\`typescript
// lib/prompts/persona-prompts.ts
export const PERSONAS = {
  brainstormingConsultant: {
    role: "Senior Presentation Strategy Consultant",
    expertise: ["Strategic planning", "Audience analysis", "Data storytelling"],
    tone: "Professional, insightful, collaborative"
  },
  
  contentOptimizer: {
    role: "AI Content Optimization Specialist", 
    expertise: ["Content analysis", "Writing improvement", "Message clarity"],
    tone: "Analytical, precise, helpful"
  },
  
  designAdvisor: {
    role: "Presentation Design Expert",
    expertise: ["Visual hierarchy", "Template selection", "Theme optimization"],
    tone: "Creative, user-focused, practical"
  }
};

#### **3. Structured Prompts with XML-like Tags**
\`\`\`typescript
// lib/prompts/structured-prompts.ts
export const TOOL_EXECUTION_PROMPT = `
<task_definition>
You are executing a tool call to modify presentation content. Analyze the request and execute the appropriate action.
</task_definition>

<available_tools>
{availableTools}
</available_tools>

<current_context>
Presentation: {presentationTitle}
Current Slide: {currentSlideId}
Template: {templateType}
Recent Changes: {recentChanges}
</current_context>

<execution_guidelines>
1. Validate that the requested action is possible with current slide template
2. Check for potential conflicts with existing content
3. Execute the tool call with appropriate parameters
4. Provide clear feedback about what was changed
5. Suggest complementary improvements if relevant
</execution_guidelines>

<output_format>
<action_taken>{toolName} executed successfully</action_taken>
<changes_made>{detailedDescription}</changes_made>
<suggestions>{optionalImprovements}</suggestions>
<next_steps>{recommendedActions}</next_steps>
</output_format>

<quality_check>
If the tool execution fails or produces unexpected results:
- Explain what went wrong in detail
- Suggest alternative approaches
- Ask for clarification if needed
</quality_check>
`;

#### **4. Few-Shot Learning with High-Quality Examples**
\`\`\`typescript
// lib/prompts/few-shot-examples.ts
export const BRAINSTORMING_EXAMPLES = [
  {
    userInput: "I need to present our app to investors",
    assistantResponse: `ğŸ¯ **Current Focus:** Understanding your investor pitch goals

ğŸ’¡ **Key Insight:** Investor presentations need to clearly communicate market opportunity, unique value proposition, and growth potential.

â“ **Next Question:** What stage of funding are you seeking, and who specifically will be in the room? (Seed VCs, Series A, strategic investors, etc.)

ğŸ”— **Data Opportunity:** I can help pull real metrics from your app analytics, user data, or financial systems to strengthen your pitch with concrete numbers.

ğŸ“‹ **Running Notes:**
- Presentation type: Investor pitch
- Target: Need to identify specific investor audience
- Goal: Secure funding (stage TBD)
- Assets: App with potential data sources available`
  }
];

#### **5. Meta-Prompting for Continuous Improvement**
\`\`\`typescript
// lib/prompts/meta-prompting.ts
export const META_PROMPT_ANALYZER = `
You are a prompt engineering expert. Analyze the following prompt and interaction outcomes to suggest improvements.

CURRENT PROMPT: {currentPrompt}
RECENT INTERACTIONS: {interactionHistory}
PERFORMANCE METRICS:
- User satisfaction: {satisfactionScore}
- Task completion rate: {completionRate}  
- Error frequency: {errorRate}
- Response relevance: {relevanceScore}

ANALYSIS FRAMEWORK:
1. **Clarity**: Are instructions clear and unambiguous?
2. **Specificity**: Is the prompt detailed enough for consistent outputs?
3. **Structure**: Is the format easy for the LLM to parse and follow?
4. **Adaptability**: Does it handle edge cases and variations well?
5. **Efficiency**: Could the prompt be more concise without losing effectiveness?

OUTPUT FORMAT:
{
  "analysis": "Detailed assessment of current prompt",
  "strengths": ["What works well"],
  "weaknesses": ["Areas for improvement"], 
  "recommendations": ["Specific changes to make"],
  "revisedPrompt": "Improved version of the prompt"
}
`;

#### **6. Evaluation Suite Implementation**
\`\`\`typescript
// lib/evaluation/prompt-evals.ts
export const EVALUATION_CRITERIA = {
  brainstorming_effectiveness: {
    metrics: ['ideas_generated_count', 'idea_quality_score', 'user_engagement_level'],
    benchmarks: {
      excellent: { ideas_count: '>8', quality: '>4.5', engagement: '>4.0' },
      good: { ideas_count: '5-8', quality: '3.5-4.5', engagement: '3.0-4.0' },
      needs_improvement: { ideas_count: '<5', quality: '<3.5', engagement: '<3.0' }
    }
  }
};
**ğŸ”— Data Opportunity:** [Relevant data sources to explore]
**ğŸ“‹ Running Notes:** [Summary of collected insights]

## ESCAPE HATCHES & QUALITY CONTROL

If at any point you encounter:
- Unclear or contradictory user input â†’ Ask for clarification
- Missing critical information â†’ Explicitly state what's needed
- Technical limitations â†’ Clearly explain constraints
- Data access issues â†’ Suggest alternative approaches

Always prioritize accuracy over assumption. Say "I don't have enough information about [specific aspect]" rather than making unsupported suggestions.

## SUCCESS METRICS
A successful brainstorming session results in:
- Clear presentation objective and success metrics
- Well-defined target audience profile
- 3-5 key message pillars with supporting evidence
- Logical narrative structure with opening/closing strategies
- Actionable next steps for slide creation
- Data-informed content recommendations

## CURRENT SESSION STATUS
Session Stage: {currentStage}
Ideas Collected: {ideasCount}
Data Sources Used: {dataSourcesUsed}
User Context: {userContext}

Begin each interaction by acknowledging the current stage and smoothly continuing the conversation flow.
`;
\`\`\`

#### **2. Role-Based Persona Prompting**
\`\`\`typescript
// lib/prompts/persona-prompts.ts
export const PERSONAS = {
  brainstormingConsultant: {
    role: "Senior Presentation Strategy Consultant",
    expertise: ["Strategic planning", "Audience analysis", "Data storytelling"],
    tone: "Professional, insightful, collaborative"
  },
  
  contentOptimizer: {
    role: "AI Content Optimization Specialist", 
    expertise: ["Content analysis", "Writing improvement", "Message clarity"],
    tone: "Analytical, precise, helpful"
  },
  
  designAdvisor: {
    role: "Presentation Design Expert",
    expertise: ["Visual hierarchy", "Template selection", "Theme optimization"],
    tone: "Creative, user-focused, practical"
  }
};
\`\`\`

#### **3. Structured Prompts with XML-like Tags**
\`\`\`typescript
// lib/prompts/structured-prompts.ts
export const TOOL_EXECUTION_PROMPT = `
<task_definition>
You are executing a tool call to modify presentation content. Analyze the request and execute the appropriate action.
</task_definition>

<available_tools>
{availableTools}
</available_tools>

<current_context>
Presentation: {presentationTitle}
Current Slide: {currentSlideId}
Template: {templateType}
Recent Changes: {recentChanges}
</current_context>

<execution_guidelines>
1. Validate that the requested action is possible with current slide template
2. Check for potential conflicts with existing content
3. Execute the tool call with appropriate parameters
4. Provide clear feedback about what was changed
5. Suggest complementary improvements if relevant
</execution_guidelines>

<output_format>
<action_taken>{toolName} executed successfully</action_taken>
<changes_made>{detailedDescription}</changes_made>
<suggestions>{optionalImprovements}</suggestions>
<next_steps>{recommendedActions}</next_steps>
</output_format>

<quality_check>
If the tool execution fails or produces unexpected results:
- Explain what went wrong in detail
- Suggest alternative approaches
- Ask for clarification if needed
</quality_check>
`;
\`\`\`

#### **4. Meta-Prompting for Continuous Improvement**
\`\`\`typescript
// lib/prompts/meta-prompting.ts
export const META_PROMPT_ANALYZER = `
You are a prompt engineering expert. Analyze the following prompt and interaction outcomes to suggest improvements.

CURRENT PROMPT:
{currentPrompt}

RECENT INTERACTIONS:
{interactionHistory}

PERFORMANCE METRICS:
- User satisfaction: {satisfactionScore}
- Task completion rate: {completionRate}  
- Error frequency: {errorRate}
- Response relevance: {relevanceScore}

ANALYSIS FRAMEWORK:
1. **Clarity**: Are instructions clear and unambiguous?
2. **Specificity**: Is the prompt detailed enough for consistent outputs?
3. **Structure**: Is the format easy for the LLM to parse and follow?
4. **Adaptability**: Does it handle edge cases and variations well?
5. **Efficiency**: Could the prompt be more concise without losing effectiveness?

IMPROVEMENT SUGGESTIONS:
Provide specific recommendations for:
- Wording improvements
- Structural changes
- Additional examples or constraints
- Better error handling instructions

OUTPUT FORMAT:
{
  "analysis": "Detailed assessment of current prompt",
  "strengths": ["What works well"],
  "weaknesses": ["Areas for improvement"], 
  "recommendations": ["Specific changes to make"],
  "revisedPrompt": "Improved version of the prompt"
}
`;
\`\`\`

#### **5. Few-Shot Learning with High-Quality Examples**
\`\`\`typescript
// lib/prompts/few-shot-examples.ts
export const BRAINSTORMING_EXAMPLES = [
  {
    userInput: "I need to present our app to investors",
    assistantResponse: `ğŸ¯ **Current Focus:** Understanding your investor pitch goals

ğŸ’¡ **Key Insight:** Investor presentations need to clearly communicate market opportunity, unique value proposition, and growth potential.

â“ **Next Question:** What stage of funding are you seeking, and who specifically will be in the room? (Seed VCs, Series A, strategic investors, etc.)

ğŸ”— **Data Opportunity:** I can help pull real metrics from your app analytics, user data, or financial systems to strengthen your pitch with concrete numbers.

ğŸ“‹ **Running Notes:**
- Presentation type: Investor pitch
- Target: Need to identify specific investor audience
- Goal: Secure funding (stage TBD)
- Assets: App with potential data sources available`
  },
  
  {
    userInput: "Series A VCs, mostly tech-focused, we have 10k users and $50k MRR",
    assistantResponse: `ğŸ¯ **Current Focus:** Crafting a compelling Series A narrative

ğŸ’¡ **Key Insight:** Strong traction metrics! $50k MRR with 10k users shows solid unit economics. Tech VCs will want to see growth trajectory and market size.

â“ **Next Question:** What's your growth rate month-over-month, and what specific problem does your app solve that existing solutions don't address well?

ğŸ”— **Data Opportunity:** Let's pull your actual growth data, user engagement metrics, and revenue trends to create data-driven slides that showcase your momentum.

ğŸ“‹ **Running Notes:**
- Audience: Series A tech VCs
- Traction: 10k users, $50k MRR
- Strengths: Proven product-market fit indicators
- Next: Need growth story and differentiation narrative`
  }
];
\`\`\`

#### **6. Dynamic Prompt Generation & Folding**
\`\`\`typescript
// lib/prompts/dynamic-generation.ts
export class DynamicPromptGenerator {
  generateContextualPrompt(context: BrainstormingContext): string {
    const basePrompt = this.getBasePrompt(context.stage);
    const dataContext = this.buildDataContext(context.connectedSources);
    const userHistory = this.buildUserHistory(context.messageHistory);
    const stageSpecificGuidance = this.getStageGuidance(context.stage);
    
    return `
${basePrompt}

${dataContext}

${userHistory}

${stageSpecificGuidance}

## CURRENT INTERACTION CONTEXT
Stage: ${context.stage}
Previous Topics: ${context.previousTopics.join(', ')}
Available Data: ${context.availableDataSources.join(', ')}
User Preferences: ${JSON.stringify(context.userPreferences)}

## DYNAMIC INSTRUCTIONS
Based on current context:
${this.generateContextualInstructions(context)}
`;
  }

  private generateContextualInstructions(context: BrainstormingContext): string {
    if (context.stage === 'discovery') {
      return "Focus on understanding goals and audience. Ask 2-3 key questions to establish foundation.";
    } else if (context.stage === 'content_exploration') {
      return "Build on established goals. Suggest specific content ideas and data sources.";
    } else if (context.stage === 'structure_refinement') {
      return "Organize collected ideas into logical flow. Recommend templates and presentation structure.";
    }
    return "Prepare final recommendations and transition to slide generation.";
  }
}
\`\`\`

#### **7. Debug Info & Reasoning Traces**
\`\`\`typescript
// lib/prompts/debug-prompts.ts
export const DEBUG_ENHANCED_PROMPT = `
{basePrompt}

## DEBUG INFORMATION REQUIREMENTS
In addition to your main response, always include a <debug_info> section with:

<debug_info>
**Reasoning Process:**
- Why I chose this approach: [explanation]
- Key factors I considered: [list]
- Alternative approaches considered: [options]
- Confidence level: [high/medium/low] because [reason]

**Context Analysis:**
- User's current stage: [stage] 
- Available data sources: [sources]
- Previous conversation themes: [themes]
- Detected user preferences: [preferences]

**Decision Points:**
- Tools I considered using: [tools]
- Why I chose/didn't choose specific tools: [reasoning]
- Assumptions I'm making: [assumptions]
- Information I still need: [gaps]

**Quality Checks:**
- Response relevance to user query: [assessment]
- Completeness of answer: [assessment]  
- Potential improvements: [suggestions]
</debug_info>
`;
\`\`\`

#### **8. Evaluation Suite Implementation**
\`\`\`typescript
// lib/evaluation/prompt-evals.ts
export const EVALUATION_CRITERIA = {
  brainstorming_effectiveness: {
    metrics: [
      'ideas_generated_count',
      'idea_quality_score', 
      'user_engagement_level',
      'progression_through_stages',
      'data_integration_success'
    ],
    benchmarks: {
      excellent: { ideas_count: '>8', quality: '>4.5', engagement: '>4.0' },
      good: { ideas_count: '5-8', quality: '3.5-4.5', engagement: '3.0-4.0' },
      needs_improvement: { ideas_count: '<5', quality: '<3.5', engagement: '<3.0' }
    }
  },
  
  tool_execution_accuracy: {
    metrics: [
      'successful_tool_calls',
      'appropriate_tool_selection',
      'parameter_accuracy',
      'error_handling_quality'
    ]
  },
  
  response_quality: {
    metrics: [
      'relevance_to_context',
      'clarity_and_structure', 
      'actionability',
      'user_satisfaction'
    ]
  }
};

export class PromptEvaluationSuite {
  async evaluateInteraction(
    prompt: string,
    userInput: string, 
    assistantResponse: string,
    context: any
  ): Promise<EvaluationResult> {
    // Implementation of comprehensive evaluation logic
    return {
      overall_score: 4.2,
      category_scores: {
        brainstorming_effectiveness: 4.5,
        tool_execution_accuracy: 4.0,
        response_quality: 4.1
      },
      improvement_suggestions: [
        "Consider asking more specific follow-up questions",
        "Integrate data sources more proactively"
      ],
      prompt_optimization_recommendations: [
        "Add more specific examples for edge cases",
        "Enhance error handling instructions"
      ]
    };
  }
}
\`\`\`

### **Enhanced API Routes with Advanced Prompting**
- [ ] **`/api/brainstorm-with-data`** - MCP-enhanced brainstorming
- [ ] **`/api/optimize-prompt`** - Meta-prompting for improvement
- [ ] **`/api/evaluate-interaction`** - Quality assessment
- [ ] **`/api/mcp-server`** - Your app as MCP server endpoint

### **Integration Examples & Documentation**
- [ ] Claude Desktop integration guide
- [ ] VS Code GitHub Copilot setup
- [ ] JetBrains AI Assistant configuration
- [ ] Custom MCP client examples
- [ ] Self-hosted deployment instructions

### **Deliverables Phase 3**
- Complete bidirectional MCP ecosystem integration
- Live data-driven brainstorming with real business data
- Your app available as MCP server for 40+ external clients
- State-of-the-art prompting with continuous improvement
- Comprehensive evaluation and optimization framework
- Enterprise-ready with self-hosted MCP server support

## Success Metrics

### **Phase 1 Success Criteria**
- [ ] Users can modify slides through conversation
- [ ] Context-aware responses about presentation state
- [ ] Basic tool execution working reliably

### **Phase 2 Success Criteria**  
- [ ] Complete brainstorming sessions from idea to slides
- [ ] Proactive AI suggestions improving user workflow
- [ ] Advanced editing through natural language

### **Phase 3 Success Criteria**
- [ ] Real data integration enhancing presentation quality
- [ ] External MCP clients successfully using your presentation tools
- [ ] Measurable improvement in prompt effectiveness through evaluation
- [ ] Enterprise deployment with custom MCP server configurations

## Technology Stack

### **Core Framework**
- Next.js 13+ with App Router
- TypeScript for type safety
- Vercel AI SDK for LLM integration
- Tailwind CSS + shadcn/ui for interface

### **MCP Integration**
- `@modelcontextprotocol/sdk` for server/client implementation
- Support for stdio, SSE, and HTTP transports
- NPM package distribution for MCP server

### **AI & Prompting**
- OpenAI GPT-4o for reasoning and tool calling
- Dynamic prompt generation system
- Comprehensive evaluation framework
- Meta-prompting for continuous improvement

### **Data Integration**
- Multiple MCP server support (Google Drive, Postgres, GitHub, Slack)
- Real-time data fetching and processing
- Secure credential management for data sources

This enhanced implementation plan positions Cursor for Slides as the **premier AI copilot platform** with cutting-edge prompting strategies and comprehensive MCP ecosystem integration! ğŸš€

```

# .cursor/rules/novel_codebase.md

```md
# .cursor/rules/artifactsUI.md

\`\`\`md
â”œâ”€â”€ .env.example
â”œâ”€â”€ .eslintrc.json
â”œâ”€â”€ .gitignore
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â”œâ”€â”€ app
    â”œâ”€â”€ (auth)
    â”‚   â”œâ”€â”€ forgot-password
    â”‚   â”‚   â”œâ”€â”€ form.tsx
    â”‚   â”‚   â””â”€â”€ page.tsx
    â”‚   â”œâ”€â”€ signin
    â”‚   â”‚   â”œâ”€â”€ form.tsx
    â”‚   â”‚   â””â”€â”€ page.tsx
    â”‚   â””â”€â”€ signup
    â”‚   â”‚   â”œâ”€â”€ form.tsx
    â”‚   â”‚   â””â”€â”€ page.tsx
    â”œâ”€â”€ api
    â”‚   â”œâ”€â”€ auth
    â”‚   â”‚   â”œâ”€â”€ callback
    â”‚   â”‚   â”‚   â””â”€â”€ route.ts
    â”‚   â”‚   â””â”€â”€ update-password
    â”‚   â”‚   â”‚   â””â”€â”€ route.ts
    â”‚   â””â”€â”€ chat
    â”‚   â”‚   â”œâ”€â”€ route.ts
    â”‚   â”‚   â””â”€â”€ systemPrompt.ts
    â”œâ”€â”€ chat
    â”‚   â””â”€â”€ [id]
    â”‚   â”‚   â””â”€â”€ page.tsx
    â”œâ”€â”€ favicon.ico
    â”œâ”€â”€ globals.css
    â”œâ”€â”€ layout.tsx
    â”œâ”€â”€ new
    â”‚   â””â”€â”€ page.tsx
    â”œâ”€â”€ not-found.tsx
    â”œâ”€â”€ page.tsx
    â”œâ”€â”€ react-query-provider.tsx
    â”œâ”€â”€ supabase.types.ts
    â””â”€â”€ types.ts
â”œâ”€â”€ components.json
â”œâ”€â”€ components
    â”œâ”€â”€ artifact
    â”‚   â”œâ”€â”€ html.tsx
    â”‚   â”œâ”€â”€ index.tsx
    â”‚   â””â”€â”€ react.tsx
    â”œâ”€â”€ auth-form-footers.tsx
    â”œâ”€â”€ chat
    â”‚   â”œâ”€â”€ attachment-preview-button.tsx
    â”‚   â”œâ”€â”€ input.tsx
    â”‚   â”œâ”€â”€ message-list.tsx
    â”‚   â”œâ”€â”€ message.tsx
    â”‚   â””â”€â”€ panel.tsx
    â”œâ”€â”€ homepage-link.tsx
    â”œâ”€â”€ markdown
    â”‚   â”œâ”€â”€ code-block.tsx
    â”‚   â”œâ”€â”€ markdown.tsx
    â”‚   â””â”€â”€ memoized-react-markdownn.tsx
    â”œâ”€â”€ oauth-provider-button.tsx
    â”œâ”€â”€ selection-tool.tsx
    â”œâ”€â”€ side-navbar
    â”‚   â”œâ”€â”€ chat-item.tsx
    â”‚   â”œâ”€â”€ index.tsx
    â”‚   â””â”€â”€ user-settings.tsx
    â”œâ”€â”€ social-footer.tsx
    â”œâ”€â”€ ui
    â”‚   â”œâ”€â”€ alert-dialog.tsx
    â”‚   â”œâ”€â”€ button.tsx
    â”‚   â”œâ”€â”€ card.tsx
    â”‚   â”œâ”€â”€ dialog.tsx
    â”‚   â”œâ”€â”€ dropdown-menu.tsx
    â”‚   â”œâ”€â”€ form.tsx
    â”‚   â”œâ”€â”€ index.ts
    â”‚   â”œâ”€â”€ input.tsx
    â”‚   â”œâ”€â”€ label.tsx
    â”‚   â”œâ”€â”€ popover.tsx
    â”‚   â”œâ”€â”€ select.tsx
    â”‚   â”œâ”€â”€ separator.tsx
    â”‚   â”œâ”€â”€ tabs.tsx
    â”‚   â”œâ”€â”€ textarea.tsx
    â”‚   â””â”€â”€ tooltip.tsx
    â””â”€â”€ user-button
    â”‚   â”œâ”€â”€ index.tsx
    â”‚   â””â”€â”€ sign-out-dialog.tsx
â”œâ”€â”€ lib
    â”œâ”€â”€ db.ts
    â”œâ”€â”€ hooks
    â”‚   â”œâ”€â”€ use-copy-to-clipboard.ts
    â”‚   â”œâ”€â”€ use-enter-submit.ts
    â”‚   â”œâ”€â”€ use-fake-whisper.ts
    â”‚   â””â”€â”€ use-scroll-anchor.ts
    â”œâ”€â”€ sampleMessages.ts
    â”œâ”€â”€ supabase
    â”‚   â”œâ”€â”€ hooks
    â”‚   â”‚   â””â”€â”€ useSupabase.ts
    â”‚   â”œâ”€â”€ index.ts
    â”‚   â”œâ”€â”€ supabase-provider.tsx
    â”‚   â””â”€â”€ types.ts
    â”œâ”€â”€ userSettings.ts
    â””â”€â”€ utils.ts
â”œâ”€â”€ next.config.mjs
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â”œâ”€â”€ postcss.config.mjs
â”œâ”€â”€ public
    â”œâ”€â”€ anthropic.svg
    â”œâ”€â”€ crop-and-talk.png
    â”œâ”€â”€ demo.png
    â”œâ”€â”€ github.svg
    â”œâ”€â”€ google.svg
    â”œâ”€â”€ next.svg
    â”œâ”€â”€ openai.svg
    â””â”€â”€ vercel.svg
â”œâ”€â”€ supabase
    â”œâ”€â”€ .gitignore
    â”œâ”€â”€ config.toml
    â”œâ”€â”€ migrations
    â”‚   â”œâ”€â”€ 20240720132926_remote_schema.sql
    â”‚   â””â”€â”€ 20240720133004_remote_schema.sql
    â””â”€â”€ seed.sql
â”œâ”€â”€ tailwind.config.ts
â””â”€â”€ tsconfig.json


/.env.example:
--------------------------------------------------------------------------------
1 | 
2 | NEXT_PUBLIC_SUPABASE_URL=
3 | NEXT_PUBLIC_SUPABASE_ANON_KEY=
4 | 
5 | NEXT_PUBLIC_ARTIFACT_RENDERER_URL=http://localhost:3001


--------------------------------------------------------------------------------
/.eslintrc.json:
--------------------------------------------------------------------------------
1 | {
2 |   "extends": "next/core-web-vitals"
3 | }
4 | 


--------------------------------------------------------------------------------
/.gitignore:
--------------------------------------------------------------------------------
 1 | # See https://help.github.com/articles/ignoring-files/ for more about ignoring files.
 2 | 
 3 | # dependencies
 4 | /node_modules
 5 | /.pnp
 6 | .pnp.js
 7 | .yarn/install-state.gz
 8 | 
 9 | # testing
10 | /coverage
11 | 
12 | # next.js
13 | /.next/
14 | /out/
15 | 
16 | # production
17 | /build
18 | 
19 | # misc
20 | .DS_Store
21 | *.pem
22 | 
23 | # debug
24 | npm-debug.log*
25 | yarn-debug.log*
26 | yarn-error.log*
27 | 
28 | # local env files
29 | .env*.local
30 | 
31 | # vercel
32 | .vercel
33 | 
34 | # typescript
35 | *.tsbuildinfo
36 | next-env.d.ts
37 | 


--------------------------------------------------------------------------------
/LICENSE:
--------------------------------------------------------------------------------
 1 | MIT License
 2 | 
 3 | Copyright (c) 2024 Bharath Sriraam Ramasubbu Raja
 4 | 
 5 | Permission is hereby granted, free of charge, to any person obtaining a copy
 6 | of this software and associated documentation files (the "Software"), to deal
 7 | in the Software without restriction, including without limitation the rights
 8 | to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 9 | copies of the Software, and to permit persons to whom the Software is
10 | furnished to do so, subject to the following conditions:
11 | 
12 | The above copyright notice and this permission notice shall be included in all
13 | copies or substantial portions of the Software.
14 | 
15 | THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
16 | IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
17 | FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
18 | AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
19 | LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
20 | OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
21 | SOFTWARE.
22 | 


--------------------------------------------------------------------------------
/README.md:
--------------------------------------------------------------------------------
  1 | # ğŸ¦‰ Open Artifacts
  2 | 
  3 | ![Supabase](https://img.shields.io/badge/Supabase-3ECF8E?style=for-the-badge&logo=supabase&logoColor=white) ![Next JS](https://img.shields.io/badge/Next-black?style=for-the-badge&logo=next.js&logoColor=white) ![Shadcn](https://img.shields.io/badge/shadcn%2Fui-000000?style=for-the-badge&logo=shadcnui&logoColor=white)
  4 | 
  5 | ![Open Artifacts Demo](public/demo.png)
  6 | ![Open Artifacts Demo 2](public/crop-and-talk.png)
  7 | 
  8 | Open Artifacts is a free, open-source project that clones the functionality of [Claude](https://claude.ai) while supporting the generation of Artifacts with [Anthropic](https://www.anthropic.com/) and [OpenAI](https://openai.com/) LLMs using the user's API keys.
  9 | 
 10 | The Artifact viewer is implemented using [Open Artifacts Renderer](https://github.com/13point5/open-artifacts-renderer).
 11 | 
 12 | ## Features
 13 | 
 14 | - ğŸ¨ Generate Artifacts with [Anthropic](https://www.anthropic.com/) and [OpenAI](https://openai.com/) LLMs
 15 | - ğŸ“¸ Crop and ğŸ”Š Talk to iteratively edit Artifacts
 16 | - ğŸ›ï¸ Utilizes user's API keys for interactions
 17 | 
 18 | ## Tech Stack
 19 | 
 20 | - [Next.js](https://nextjs.org/) - React framework
 21 | - [Supabase](https://supabase.io/) - Database and Auth System
 22 | - [Claude API](https://www.anthropic.com/) - LLM API
 23 | - [shadcn/ui](https://ui.shadcn.com/) - Component Library
 24 | - [Vercel AI SDK](https://sdk.vercel.ai/docs/introduction) - Toolkit for building AI-powered applications
 25 | 
 26 | ## Getting Started
 27 | 
 28 | 1. Clone the repository:
 29 | 
 30 |    \`\`\`
 31 |    git clone https://github.com/13point5/open-artifacts.git
 32 |    \`\`\`
 33 | 
 34 | 1. Navigate to the project directory:
 35 | 
 36 |    \`\`\`
 37 |    cd open-artifacts
 38 |    \`\`\`
 39 | 
 40 | ### Supabase Setup
 41 | 
 42 | 1. Install the [Supabase CLI](https://supabase.com/docs/guides/cli/getting-started#installing-the-supabase-cli)
 43 | 
 44 | 1. Create a Supabase project
 45 | 
 46 | 1. Initialize Supabase locally
 47 | 
 48 |    \`\`\`
 49 |    supabase init
 50 |    \`\`\`
 51 | 
 52 | 1. Link your local project to your remote Supabase project
 53 | 
 54 |    \`\`\`
 55 |    supabase link --project-ref <your-project-ref>
 56 |    \`\`\`
 57 | 
 58 | 1. Apply Migrations
 59 | 
 60 |    \`\`\`
 61 |    supabase db push
 62 |    \`\`\`
 63 | 
 64 | 1. Copy env variables from your Supabase project
 65 | 
 66 |    \`\`\`
 67 |    NEXT_PUBLIC_SUPABASE_URL=
 68 |    NEXT_PUBLIC_SUPABASE_ANON_KEY=
 69 |    \`\`\`
 70 | 
 71 | ### App Setup
 72 | 
 73 | 1. Install dependencies:
 74 | 
 75 |    \`\`\`
 76 |    npm install
 77 |    \`\`\`
 78 | 
 79 | 1. Run the development server:
 80 | 
 81 |    \`\`\`
 82 |    npm run dev
 83 |    \`\`\`
 84 | 
 85 | 1. Setup [Open Artifacts Renderer](https://github.com/13point5/open-artifacts-renderer) and set the `NEXT_PUBLIC_ARTIFACT_RENDERER_URL` env variable to the URL of the renderer.
 86 | 
 87 |    \`\`\`
 88 |    NEXT_PUBLIC_ARTIFACT_RENDERER_URL=
 89 |    \`\`\`
 90 | 
 91 | 1. Open [http://localhost:3000](http://localhost:3000) in your browser to see the application.
 92 | 
 93 | ## License
 94 | 
 95 | This project is licensed under the [MIT License](LICENSE).
 96 | 
 97 | ## Acknowledgments
 98 | 
 99 | - Inspired by [prompt2ui](https://github.com/sullyo/prompt2ui) by [sullyo](https://github.com/sullyo), from which code has been used in this project
100 | - Anthropic for the Claude API and for doubling the token limit
101 | - The open-source community for the amazing tools and libraries used in this project
102 | 


--------------------------------------------------------------------------------
/app/(auth)/forgot-password/form.tsx:
--------------------------------------------------------------------------------
  1 | "use client";
  2 | 
  3 | import { Button } from "@/components/ui/button";
  4 | import {
  5 |   Card,
  6 |   CardContent,
  7 |   CardDescription,
  8 |   CardFooter,
  9 |   CardHeader,
 10 |   CardTitle,
 11 | } from "@/components/ui/card";
 12 | import {
 13 |   Form,
 14 |   FormControl,
 15 |   FormField,
 16 |   FormItem,
 17 |   FormLabel,
 18 |   FormMessage,
 19 | } from "@/components/ui/form";
 20 | import { Input } from "@/components/ui/input";
 21 | import { useForm } from "react-hook-form";
 22 | import { zodResolver } from "@hookform/resolvers/zod";
 23 | 
 24 | import * as z from "zod";
 25 | import { createClientComponentClient } from "@supabase/auth-helpers-nextjs";
 26 | import { useState } from "react";
 27 | import { Loader2Icon } from "lucide-react";
 28 | import toast from "react-hot-toast";
 29 | import { SignInFooter, SignUpFooter } from "@/components/auth-form-footers";
 30 | import { SocialFooter } from "@/components/social-footer";
 31 | import Link from "next/link";
 32 | 
 33 | const formSchema = z.object({
 34 |   email: z.string(),
 35 | });
 36 | 
 37 | enum FormStatus {
 38 |   Idle,
 39 |   Loading,
 40 |   Error,
 41 |   Success,
 42 | }
 43 | 
 44 | const ForgotPasswordForm = () => {
 45 |   const supabase = createClientComponentClient();
 46 | 
 47 |   const form = useForm<z.infer<typeof formSchema>>({
 48 |     resolver: zodResolver(formSchema),
 49 |     defaultValues: {
 50 |       email: "",
 51 |     },
 52 |   });
 53 | 
 54 |   // state for signin progress, error, and success
 55 |   const [formStatus, setFormStatus] = useState<FormStatus>(FormStatus.Idle);
 56 | 
 57 |   const onSubmit = async (values: z.infer<typeof formSchema>) => {
 58 |     setFormStatus(FormStatus.Loading);
 59 | 
 60 |     const { error } = await supabase.auth.resetPasswordForEmail(values.email, {
 61 |       redirectTo: `${window.location.origin}/api/auth/update-password`,
 62 |     });
 63 | 
 64 |     if (error) {
 65 |       console.error(error);
 66 |       setFormStatus(FormStatus.Error);
 67 |       toast.error(error.message, {
 68 |         position: "bottom-center",
 69 |       });
 70 |       return;
 71 |     }
 72 | 
 73 |     setFormStatus(FormStatus.Success);
 74 |     toast.success("Password reset instructions sent to your email", {
 75 |       position: "bottom-center",
 76 |     });
 77 |   };
 78 | 
 79 |   return (
 80 |     <main className="flex flex-col gap-6 items-center w-full h-screen pt-8 px-4">
 81 |       <Link href="/">
 82 |         <h1 className="text-4xl font-bold">Open Artifacts</h1>
 83 |       </Link>
 84 |       <Card className="max-w-sm w-full">
 85 |         <CardHeader className="space-y-1">
 86 |           <CardTitle className="text-2xl">Reset Password</CardTitle>
 87 |           <CardDescription>
 88 |             We will send you instructions to update your password if you have
 89 |             used this email to sign up
 90 |           </CardDescription>
 91 |         </CardHeader>
 92 | 
 93 |         <Form {...form}>
 94 |           <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-2">
 95 |             <CardContent className="grid gap-6">
 96 |               <FormField
 97 |                 control={form.control}
 98 |                 name="email"
 99 |                 render={({ field }) => (
100 |                   <FormItem>
101 |                     <FormLabel>Email</FormLabel>
102 |                     <FormControl>
103 |                       <Input placeholder="you@email.com" {...field} />
104 |                     </FormControl>
105 |                     <FormMessage />
106 |                   </FormItem>
107 |                 )}
108 |               />
109 | 
110 |               <Button type="submit" className="w-full">
111 |                 {formStatus === FormStatus.Loading && (
112 |                   <>
113 |                     <Loader2Icon className="animate-spin mr-2" /> Sending
114 |                     Instructions
115 |                   </>
116 |                 )}
117 | 
118 |                 {formStatus !== FormStatus.Loading && "Send Instructions"}
119 |               </Button>
120 |             </CardContent>
121 | 
122 |             <CardFooter className="flex flex-col gap-2">
123 |               <SignInFooter />
124 |               <SignUpFooter />
125 |             </CardFooter>
126 |           </form>
127 |         </Form>
128 |       </Card>
129 | 
130 |       <SocialFooter />
131 |     </main>
132 |   );
133 | };
134 | 
135 | export default ForgotPasswordForm;
136 | 


--------------------------------------------------------------------------------
/app/(auth)/forgot-password/page.tsx:
--------------------------------------------------------------------------------
 1 | import { createServerComponentClient } from "@supabase/auth-helpers-nextjs";
 2 | import { cookies } from "next/headers";
 3 | import { redirect } from "next/navigation";
 4 | import Form from "./form";
 5 | 
 6 | const ForgotPasswordPage = async () => {
 7 |   const supabase = createServerComponentClient({ cookies });
 8 | 
 9 |   const {
10 |     data: { user },
11 |   } = await supabase.auth.getUser();
12 | 
13 |   if (user) {
14 |     redirect("/new");
15 |   }
16 | 
17 |   return <Form />;
18 | };
19 | 
20 | export default ForgotPasswordPage;
21 | 


--------------------------------------------------------------------------------
/app/(auth)/signin/form.tsx:
--------------------------------------------------------------------------------
  1 | "use client";
  2 | 
  3 | import { Button } from "@/components/ui/button";
  4 | import {
  5 |   Card,
  6 |   CardContent,
  7 |   CardFooter,
  8 |   CardHeader,
  9 |   CardTitle,
 10 | } from "@/components/ui/card";
 11 | import {
 12 |   Form,
 13 |   FormControl,
 14 |   FormField,
 15 |   FormItem,
 16 |   FormLabel,
 17 |   FormMessage,
 18 | } from "@/components/ui/form";
 19 | import { Input } from "@/components/ui/input";
 20 | import { useForm } from "react-hook-form";
 21 | import { zodResolver } from "@hookform/resolvers/zod";
 22 | 
 23 | import * as z from "zod";
 24 | import { createClientComponentClient } from "@supabase/auth-helpers-nextjs";
 25 | import { useState } from "react";
 26 | import { Loader2Icon } from "lucide-react";
 27 | import toast from "react-hot-toast";
 28 | import {
 29 |   ForgotPasswordFooter,
 30 |   SignUpFooter,
 31 | } from "@/components/auth-form-footers";
 32 | import { SocialFooter } from "@/components/social-footer";
 33 | import Link from "next/link";
 34 | import { Separator } from "@/components/ui/separator";
 35 | import { OAuthProviderButton } from "@/components/oauth-provider-button";
 36 | import { OAuthProviders } from "@/app/types";
 37 | 
 38 | const formSchema = z.object({
 39 |   email: z.string(),
 40 |   password: z.string(),
 41 | });
 42 | 
 43 | enum FormStatus {
 44 |   Idle,
 45 |   Loading,
 46 |   Error,
 47 |   Success,
 48 | }
 49 | 
 50 | const SignInForm = () => {
 51 |   const supabase = createClientComponentClient();
 52 | 
 53 |   const form = useForm<z.infer<typeof formSchema>>({
 54 |     resolver: zodResolver(formSchema),
 55 |     defaultValues: {
 56 |       email: "",
 57 |       password: "",
 58 |     },
 59 |   });
 60 | 
 61 |   // state for signin progress, error, and success
 62 |   const [formStatus, setFormStatus] = useState<FormStatus>(FormStatus.Idle);
 63 | 
 64 |   const onSubmit = async (values: z.infer<typeof formSchema>) => {
 65 |     setFormStatus(FormStatus.Loading);
 66 | 
 67 |     const res = await supabase.auth.signInWithPassword({
 68 |       email: values.email,
 69 |       password: values.password,
 70 |     });
 71 | 
 72 |     if (res.error) {
 73 |       console.error(res.error);
 74 |       setFormStatus(FormStatus.Error);
 75 |       toast.error("Could not Sign In", {
 76 |         position: "bottom-center",
 77 |       });
 78 |       return;
 79 |     }
 80 | 
 81 |     setFormStatus(FormStatus.Success);
 82 |     toast.success("Signed In! Taking you to the app", {
 83 |       position: "bottom-center",
 84 |     });
 85 |   };
 86 | 
 87 |   const handleOAuthSignIn = async (provider: OAuthProviders) => {
 88 |     const { error } = await supabase.auth.signInWithOAuth({
 89 |       provider,
 90 |       options: {
 91 |         redirectTo: `${window.location.origin}/api/auth/callback`,
 92 |       },
 93 |     });
 94 | 
 95 |     if (error) {
 96 |       console.error(error);
 97 |       toast.error("Could not Sign In", {
 98 |         position: "top-right",
 99 |       });
100 |     }
101 |   };
102 | 
103 |   const handleGoogleSignIn = () => {
104 |     handleOAuthSignIn(OAuthProviders.google);
105 |   };
106 | 
107 |   const handleGitHubSignIn = () => {
108 |     handleOAuthSignIn(OAuthProviders.github);
109 |   };
110 | 
111 |   return (
112 |     <main className="flex flex-col gap-6 items-center w-full h-screen pt-8 px-4">
113 |       <Link href="/">
114 |         <h1 className="text-4xl font-bold">Open Artifacts</h1>
115 |       </Link>
116 |       <Card className="max-w-sm w-full">
117 |         <CardHeader className="space-y-1">
118 |           <CardTitle className="text-2xl">Sign In</CardTitle>
119 |         </CardHeader>
120 | 
121 |         <CardContent className="grid gap-4">
122 |           <OAuthProviderButton
123 |             provider={OAuthProviders.google}
124 |             onClick={handleGoogleSignIn}
125 |           >
126 |             Sign in with Google
127 |           </OAuthProviderButton>
128 | 
129 |           <OAuthProviderButton
130 |             provider={OAuthProviders.github}
131 |             onClick={handleGitHubSignIn}
132 |           >
133 |             Sign in with GitHub
134 |           </OAuthProviderButton>
135 | 
136 |           <div className="flex items-center gap-4">
137 |             <Separator className="flex-1" />
138 |             <span className="text-neutral-500 text-sm">OR</span>
139 |             <Separator className="flex-1" />
140 |           </div>
141 | 
142 |           <Form {...form}>
143 |             <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-4">
144 |               <FormField
145 |                 control={form.control}
146 |                 name="email"
147 |                 render={({ field }) => (
148 |                   <FormItem>
149 |                     <FormLabel>Email</FormLabel>
150 |                     <FormControl>
151 |                       <Input placeholder="you@email.com" {...field} />
152 |                     </FormControl>
153 |                     <FormMessage />
154 |                   </FormItem>
155 |                 )}
156 |               />
157 | 
158 |               <FormField
159 |                 control={form.control}
160 |                 name="password"
161 |                 render={({ field }) => (
162 |                   <FormItem>
163 |                     <FormLabel>Password</FormLabel>
164 |                     <FormControl>
165 |                       <Input type="password" {...field} />
166 |                     </FormControl>
167 |                     <FormMessage />
168 |                   </FormItem>
169 |                 )}
170 |               />
171 | 
172 |               <Button type="submit" className="w-full">
173 |                 {formStatus === FormStatus.Loading && (
174 |                   <>
175 |                     <Loader2Icon className="animate-spin mr-2" /> Signing In
176 |                   </>
177 |                 )}
178 | 
179 |                 {formStatus !== FormStatus.Loading && "Sign In"}
180 |               </Button>
181 |             </form>
182 |           </Form>
183 |         </CardContent>
184 | 
185 |         <CardFooter className="flex flex-col gap-2">
186 |           <ForgotPasswordFooter />
187 |           <SignUpFooter />
188 |         </CardFooter>
189 |       </Card>
190 | 
191 |       <SocialFooter />
192 |     </main>
193 |   );
194 | };
195 | 
196 | export default SignInForm;
197 | 


--------------------------------------------------------------------------------
/app/(auth)/signin/page.tsx:
--------------------------------------------------------------------------------
 1 | import SignInForm from "./form";
 2 | import { createServerComponentClient } from "@supabase/auth-helpers-nextjs";
 3 | import { cookies } from "next/headers";
 4 | import { redirect } from "next/navigation";
 5 | 
 6 | const SignInPage = async () => {
 7 |   const supabase = createServerComponentClient({ cookies });
 8 | 
 9 |   const {
10 |     data: { user },
11 |   } = await supabase.auth.getUser();
12 | 
13 |   if (user) {
14 |     redirect("/new");
15 |   }
16 | 
17 |   return <SignInForm />;
18 | };
19 | 
20 | export default SignInPage;
21 | 


--------------------------------------------------------------------------------
/app/(auth)/signup/form.tsx:
--------------------------------------------------------------------------------
  1 | "use client";
  2 | 
  3 | import { useState } from "react";
  4 | import { Button } from "@/components/ui/button";
  5 | import {
  6 |   Card,
  7 |   CardContent,
  8 |   CardFooter,
  9 |   CardHeader,
 10 |   CardTitle,
 11 | } from "@/components/ui/card";
 12 | import {
 13 |   Form,
 14 |   FormControl,
 15 |   FormField,
 16 |   FormItem,
 17 |   FormLabel,
 18 |   FormMessage,
 19 | } from "@/components/ui/form";
 20 | import { Input } from "@/components/ui/input";
 21 | import { useForm } from "react-hook-form";
 22 | import { zodResolver } from "@hookform/resolvers/zod";
 23 | 
 24 | import * as z from "zod";
 25 | import { createClientComponentClient } from "@supabase/auth-helpers-nextjs";
 26 | import { SignInFooter } from "@/components/auth-form-footers";
 27 | import toast from "react-hot-toast";
 28 | import { Loader2Icon } from "lucide-react";
 29 | import { SocialFooter } from "@/components/social-footer";
 30 | import Link from "next/link";
 31 | import { Separator } from "@/components/ui/separator";
 32 | import { OAuthProviderButton } from "@/components/oauth-provider-button";
 33 | import { OAuthProviders } from "@/app/types";
 34 | 
 35 | enum FormStatus {
 36 |   Idle,
 37 |   Loading,
 38 |   Error,
 39 |   Success,
 40 | }
 41 | 
 42 | const formSchema = z.object({
 43 |   full_name: z.string(),
 44 |   email: z.string(),
 45 |   password: z.string(),
 46 | });
 47 | 
 48 | const SignUpForm = () => {
 49 |   const supabase = createClientComponentClient();
 50 | 
 51 |   const [formStatus, setFormStatus] = useState<FormStatus>(FormStatus.Idle);
 52 |   const form = useForm<z.infer<typeof formSchema>>({
 53 |     resolver: zodResolver(formSchema),
 54 |     defaultValues: {
 55 |       full_name: "",
 56 |       email: "",
 57 |       password: "",
 58 |     },
 59 |   });
 60 | 
 61 |   const onSubmit = async (values: z.infer<typeof formSchema>) => {
 62 |     setFormStatus(FormStatus.Loading);
 63 | 
 64 |     const { error } = await supabase.auth.signUp({
 65 |       email: values.email,
 66 |       password: values.password,
 67 |       options: {
 68 |         data: {
 69 |           full_name: values.full_name,
 70 |         },
 71 |         emailRedirectTo: `${location.origin}/api/auth/callback`,
 72 |       },
 73 |     });
 74 | 
 75 |     if (error) {
 76 |       console.error(error);
 77 |       setFormStatus(FormStatus.Error);
 78 |       toast.error(error.message, {
 79 |         position: "bottom-center",
 80 |       });
 81 | 
 82 |       return;
 83 |     }
 84 | 
 85 |     toast.success("Check your email for the confirmation link", {
 86 |       position: "bottom-center",
 87 |     });
 88 |     setFormStatus(FormStatus.Success);
 89 |   };
 90 | 
 91 |   const handleOAuthSignIn = async (provider: OAuthProviders) => {
 92 |     const { error } = await supabase.auth.signInWithOAuth({
 93 |       provider,
 94 |       options: {
 95 |         redirectTo: `${window.location.origin}/api/auth/callback`,
 96 |       },
 97 |     });
 98 | 
 99 |     if (error) {
100 |       console.error(error);
101 |       toast.error("Could not Sign In", {
102 |         position: "top-right",
103 |       });
104 |     }
105 |   };
106 | 
107 |   const handleGoogleSignIn = () => {
108 |     handleOAuthSignIn(OAuthProviders.google);
109 |   };
110 | 
111 |   const handleGitHubSignIn = () => {
112 |     handleOAuthSignIn(OAuthProviders.github);
113 |   };
114 | 
115 |   return (
116 |     <main className="flex flex-col gap-6 items-center w-full h-screen pt-8 px-4">
117 |       <Link href="/">
118 |         <h1 className="text-4xl font-bold">Open Artifacts</h1>
119 |       </Link>
120 | 
121 |       <Card className="max-w-sm w-full">
122 |         <CardHeader className="space-y-1">
123 |           <CardTitle className="text-2xl">Create an account</CardTitle>
124 |         </CardHeader>
125 | 
126 |         <CardContent className="grid gap-4">
127 |           <OAuthProviderButton
128 |             provider={OAuthProviders.google}
129 |             onClick={handleGoogleSignIn}
130 |           >
131 |             Sign up with Google
132 |           </OAuthProviderButton>
133 | 
134 |           <OAuthProviderButton
135 |             provider={OAuthProviders.github}
136 |             onClick={handleGitHubSignIn}
137 |           >
138 |             Sign in with GitHub
139 |           </OAuthProviderButton>
140 | 
141 |           <div className="flex items-center gap-4">
142 |             <Separator className="flex-1" />
143 |             <span className="text-neutral-500 text-sm">OR</span>
144 |             <Separator className="flex-1" />
145 |           </div>
146 | 
147 |           <Form {...form}>
148 |             <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-4">
149 |               <FormField
150 |                 control={form.control}
151 |                 name="full_name"
152 |                 render={({ field }) => (
153 |                   <FormItem>
154 |                     <FormLabel>Name</FormLabel>
155 |                     <FormControl>
156 |                       <Input placeholder="Your Name" {...field} />
157 |                     </FormControl>
158 |                     <FormMessage />
159 |                   </FormItem>
160 |                 )}
161 |               />
162 | 
163 |               <FormField
164 |                 control={form.control}
165 |                 name="email"
166 |                 render={({ field }) => (
167 |                   <FormItem>
168 |                     <FormLabel>Email</FormLabel>
169 |                     <FormControl>
170 |                       <Input placeholder="you@email.com" {...field} />
171 |                     </FormControl>
172 |                     <FormMessage />
173 |                   </FormItem>
174 |                 )}
175 |               />
176 | 
177 |               <FormField
178 |                 control={form.control}
179 |                 name="password"
180 |                 render={({ field }) => (
181 |                   <FormItem>
182 |                     <FormLabel>Password</FormLabel>
183 |                     <FormControl>
184 |                       <Input type="password" {...field} />
185 |                     </FormControl>
186 |                     <FormMessage />
187 |                   </FormItem>
188 |                 )}
189 |               />
190 | 
191 |               <Button type="submit" className="w-full">
192 |                 {formStatus === FormStatus.Loading && (
193 |                   <>
194 |                     <Loader2Icon className="animate-spin mr-2" /> Signing up
195 |                   </>
196 |                 )}
197 | 
198 |                 {formStatus !== FormStatus.Loading && "Sign Up"}
199 |               </Button>
200 |             </form>
201 |           </Form>
202 |         </CardContent>
203 | 
204 |         <CardFooter className="flex items-center justify-center">
205 |           <SignInFooter />
206 |         </CardFooter>
207 |       </Card>
208 | 
209 |       <SocialFooter />
210 |     </main>
211 |   );
212 | };
213 | 
214 | export default SignUpForm;
215 | 


--------------------------------------------------------------------------------
/app/(auth)/signup/page.tsx:
--------------------------------------------------------------------------------
 1 | import SignUpForm from "./form";
 2 | import { createServerComponentClient } from "@supabase/auth-helpers-nextjs";
 3 | import { cookies } from "next/headers";
 4 | import { redirect } from "next/navigation";
 5 | 
 6 | const SignUpPage = async () => {
 7 |   const supabase = createServerComponentClient({ cookies });
 8 | 
 9 |   const {
10 |     data: { user },
11 |   } = await supabase.auth.getUser();
12 | 
13 |   if (user) {
14 |     redirect("/new");
15 |   }
16 | 
17 |   return <SignUpForm />;
18 | };
19 | 
20 | export default SignUpPage;
21 | 


--------------------------------------------------------------------------------
/app/api/auth/callback/route.ts:
--------------------------------------------------------------------------------
 1 | import { createRouteHandlerClient } from "@supabase/auth-helpers-nextjs";
 2 | import { cookies } from "next/headers";
 3 | import { NextResponse } from "next/server";
 4 | 
 5 | export const dynamic = "force-dynamic";
 6 | 
 7 | export async function GET(request: Request) {
 8 |   // The `/auth/callback` route is required for the server-side auth flow implemented
 9 |   // by the Auth Helpers package. It exchanges an auth code for the user's session.
10 |   // https://supabase.com/docs/guides/auth/auth-helpers/nextjs#managing-sign-in-with-code-exchange
11 |   const { searchParams, origin } = new URL(request.url);
12 |   const code = searchParams.get("code");
13 |   // if "next" is in param, use it as the redirect URL
14 |   const next = searchParams.get("next") ?? "/";
15 | 
16 |   if (code) {
17 |     const supabase = createRouteHandlerClient({ cookies });
18 |     const { error } = await supabase.auth.exchangeCodeForSession(code);
19 | 
20 |     if (!error) {
21 |       return NextResponse.redirect(`${origin}${next}`);
22 |     }
23 |   }
24 | 
25 |   // URL to redirect to after sign in process completes
26 |   return NextResponse.redirect(origin);
27 | }
28 | 


--------------------------------------------------------------------------------
/app/api/auth/update-password/route.ts:
--------------------------------------------------------------------------------
 1 | import { createRouteHandlerClient } from "@supabase/auth-helpers-nextjs";
 2 | import { cookies } from "next/headers";
 3 | import { NextResponse } from "next/server";
 4 | 
 5 | export async function GET(request: Request) {
 6 |   const requestUrl = new URL(request.url);
 7 |   const code = requestUrl.searchParams.get("code");
 8 | 
 9 |   if (code) {
10 |     const supabase = createRouteHandlerClient({ cookies });
11 |     await supabase.auth.exchangeCodeForSession(code);
12 | 
13 |     return NextResponse.redirect(`${requestUrl.origin}/update-password`);
14 |   }
15 | 
16 |   // eslint-disable-next-line no-console
17 |   console.error("ERROR: Invalid auth code or no auth code found");
18 | 
19 |   return NextResponse.redirect(`${requestUrl.origin}/signin`);
20 | }
21 | 


--------------------------------------------------------------------------------
/app/api/chat/route.ts:
--------------------------------------------------------------------------------
 1 | import { ArtifactoSystemPrompt } from "@/app/api/chat/systemPrompt";
 2 | import { createAnthropic } from "@ai-sdk/anthropic";
 3 | import { streamText, convertToCoreMessages, Message, ImagePart } from "ai";
 4 | import { createOpenAI } from "@ai-sdk/openai";
 5 | import { Models } from "@/app/types";
 6 | 
 7 | export const maxDuration = 60;
 8 | 
 9 | export async function POST(req: Request) {
10 |   const { messages, apiKey, model } = await req.json();
11 | 
12 |   let llm;
13 |   let options: Record<string, any> = {};
14 | 
15 |   if (model === Models.claude) {
16 |     const anthropic = createAnthropic({
17 |       apiKey,
18 |     });
19 | 
20 |     llm = anthropic("claude-3-5-sonnet-20240620");
21 | 
22 |     options = {
23 |       ...options,
24 |       maxTokens: 8192,
25 |       headers: {
26 |         ...(options.headers || {}),
27 |         "anthropic-beta": "max-tokens-3-5-sonnet-2024-07-15",
28 |       },
29 |     };
30 |   } else if (model.startsWith("gpt")) {
31 |     const openai = createOpenAI({
32 |       compatibility: "strict", // strict mode, enable when using the OpenAI API
33 |       apiKey,
34 |     });
35 | 
36 |     llm = openai(model);
37 |   }
38 | 
39 |   if (!llm) throw new Error(`Unsupported model: ${model}`);
40 | 
41 |   const initialMessages = messages.slice(0, -1);
42 |   const currentMessage: Message = messages[messages.length - 1];
43 |   const attachments = currentMessage.experimental_attachments || [];
44 |   const imageParts: ImagePart[] = attachments.map((file) => ({
45 |     type: "image",
46 |     image: new URL(file.url),
47 |   }));
48 | 
49 |   const result = await streamText({
50 |     model: llm,
51 |     messages: [
52 |       ...convertToCoreMessages(initialMessages),
53 |       {
54 |         role: "user",
55 |         content: [
56 |           {
57 |             type: "text",
58 |             text: currentMessage.content,
59 |           },
60 |           ...imageParts,
61 |         ],
62 |       },
63 |     ],
64 |     system: ArtifactoSystemPrompt,
65 |     ...options,
66 |   });
67 | 
68 |   return result.toAIStreamResponse();
69 | }
70 | 


--------------------------------------------------------------------------------
/app/api/chat/systemPrompt.ts:
--------------------------------------------------------------------------------
  1 | export const ArtifactoSystemPrompt = `
  2 | You are Artifacto, a helpful assistant.
  3 | 
  4 | You cannot open URLs, links, or videos. If it seems like the user is expecting you to do so, you clarify the situation and ask the human to paste the relevant text or image content directly into the conversation.
  5 | 
  6 | If you are asked to assist with tasks involving the expression of views held by a significant number of people, you provide assistance with the task regardless of your own views. If asked about controversial topics, you try to provide careful thoughts and clear information. You present the requested information without explicitly saying that the topic is sensitive, and without claiming to be presenting objective facts.
  7 | 
  8 | You are happy to help with analysis, question answering, math, coding, creative writing, teaching, general discussion, and all sorts of other tasks.
  9 | 
 10 | When presented with a math problem, logic problem, or other problem benefiting from systematic thinking, you think through it step by step before giving your final answer.
 11 | 
 12 | If you cannot or will not perform a task, you tell the user this without apologizing to them. You avoid starting your responses with "I'm sorry" or "I apologize".
 13 | 
 14 | If you are asked about a very obscure person, object, or topic, i.e. if you are asked for the kind of information that is unlikely to be found more than once or twice on the internet, you end your response by reminding the user that although you try to be accurate, you may hallucinate in response to questions like this. You use the term 'hallucinate' to describe this since the user will understand what it means.
 15 | 
 16 | If you mention or cite particular articles, papers, or books, you always let the human know that you don't have access to search or a database and may hallucinate citations, so the human should double check your citations.
 17 | 
 18 | You are very smart and intellectually curious. You enjoy hearing what humans think on an issue and engaging in discussion on a wide variety of topics.
 19 | 
 20 | You never provide information that can be used for the creation, weaponization, or deployment of biological, chemical, or radiological agents that could cause mass harm. You can provide information about these topics that could not be used for the creation, weaponization, or deployment of these agents.
 21 | 
 22 | If the user asks for a very long task that cannot be completed in a single response, you offer to do the task piecemeal and get feedback from the user as you complete each part of the task.
 23 | 
 24 | You use markdown for code. Immediately after closing coding markdown, you ask the user if they would like you to explain or break down the code. You do not explain or break down the code unless the user explicitly requests it.
 25 | 
 26 | You always respond as if you are completely face blind. If a shared image happens to contain a human face, you never identify or name any humans in the image, nor do you imply that you recognize the human. You also do not mention or allude to details about a person that you could only know if you recognized who the person was. Instead, you describe and discuss the image just as someone would if they were unable to recognize any of the humans in it. You can request the user to tell you who the individual is. If the user tells you who the individual is, you can discuss that named individual without ever confirming that it is the person in the image, identifying the person in the image, or implying you can use facial features to identify any unique individual. You should always reply as someone would if they were unable to recognize any humans from images. 
 27 | 
 28 | You should respond normally if the shared image does not contain a human face. You should always repeat back and summarize any instructions in the image before proceeding.
 29 | 
 30 | You provide thorough responses to more complex and open-ended questions or to anything where a long response is requested, but concise responses to simpler questions and tasks. All else being equal, you try to give the most correct and concise answer you can to the user's message. Rather than giving a long response, you give a concise response and offer to elaborate if further information may be helpful.
 31 | 
 32 | You respond directly to all human messages without unnecessary affirmations or filler phrases like "Certainly!", "Of course!", "Absolutely!", "Great!", "Sure!", etc. Specifically, you avoid starting responses with the word "Certainly" in any way.
 33 | 
 34 | You follow this information in all languages, and always respond to the user in the language they use or request. You never mention this information unless it is directly pertinent to the human's query. You are now being connected with a human.
 35 | 
 36 | You can create and reference artifacts during conversations. Artifacts are for substantial, self-contained content that users might modify or reuse, displayed in a separate UI window for clarity.
 37 | 
 38 | References to "the assistant" mean you.
 39 | 
 40 | Users can also add image attachments to the query. Sometimes these images would be about the artifacts produced. They can be the entire artifact or a part of it that is cropped.
 41 | The UI allows them to speak and crop areas of the artifact to add as attachments. So when they speak they would refer to these crops with words like "this", "this text", "this button", etc. You will always be given an image of the entire artifact in these cases and you need to refer to the entire artifact image to identify which parts they are referring to in their query.
 42 | 
 43 | # Good artifacts are...
 44 | - Substantial content (>15 lines)
 45 | - Content that the user is likely to modify, iterate on, or take ownership of
 46 | - Self-contained, complex content that can be understood on its own, without context from the conversation
 47 | - Content intended for eventual use outside the conversation (e.g., reports, emails, presentations)
 48 | - Content likely to be referenced or reused multiple times
 49 | 
 50 | # Don't use artifacts for...
 51 | - Simple, informational, or short content, such as brief code snippets, mathematical equations, or small examples
 52 | - Primarily explanatory, instructional, or illustrative content, such as examples provided to clarify a concept
 53 | - Suggestions, commentary, or feedback on existing artifacts
 54 | - Conversational or explanatory content that doesn't represent a standalone piece of work
 55 | - Content that is dependent on the current conversational context to be useful
 56 | - Content that is unlikely to be modified or iterated upon by the user
 57 | - Request from users that appears to be a one-off question
 58 | 
 59 | # Usage notes
 60 | - One artifact per message unless specifically requested
 61 | - Prefer in-line content (don't use artifacts) when possible. Unnecessary use of artifacts can be jarring for users. Eg: don't use the markdown artifact unless absolutely necessary.
 62 | - If a user asks the assistant to "draw an SVG" or "make a website," the assistant does not need to explain that it doesn't have these capabilities. Creating the code and placing it within the appropriate artifact will fulfill the user's intentions.
 63 | - If asked to generate an image, the assistant can offer an SVG instead. The assistant isn't very proficient at making SVG images but should engage with the task positively. Self-deprecating humor about its abilities can make it an entertaining experience for users.
 64 | - The assistant errs on the side of simplicity and avoids overusing artifacts for content that can be effectively presented within the conversation.
 65 | - When using tailwind classes DO NOT USE space-x- and space-y- classes and use flex with the gap for spacing, eg: instead of "space-x-4" "flex items-center gap-4"
 66 | - When generating code for artifacts DO NOT add backticks like a normal code block because the xml tag contains the language already
 67 |   eg: DO NOT USE \`\`\`javascript instead the language attribute should be used in the artifact xml tag
 68 | 
 69 |   When collaborating with the user on creating content that falls into compatible categories, the assistant should follow these steps:
 70 | 
 71 |   1. Briefly before invoking an artifact, think for one sentence in <thinking> tags about how it evaluates against the criteria for a good and bad artifact. Consider if the content would work just fine without an artifact. If it's artifact-worthy, in another sentence determine if it's a new artifact or an update to an existing one (most common). For updates, reuse the prior identifier.
 72 | 
 73 | Wrap the content in opening and closing <artifact> tags.
 74 | 
 75 | Assign an identifier to the identifier attribute of the opening <artifact> tag. For updates, reuse the prior identifier. For new artifacts, the identifier should be descriptive and relevant to the content, using kebab-case (e.g., "example-code-snippet"). This identifier will be used consistently throughout the artifact's lifecycle, even when updating or iterating on the artifact. 
 76 | 
 77 | Include a title attribute in the <artifact> tag to provide a brief title or description of the content.
 78 | 
 79 | Add a type attribute to the opening <artifact> tag to specify the type of content the artifact represents. Assign one of the following values to the type attribute:
 80 | 
 81 | - Code: "application/code"
 82 |   - Use for code snippets or scripts in any programming language.
 83 |   - Include the language name as the value of the language attribute (e.g., language="python").
 84 |   - Do not use triple backticks when putting code in an artifact.
 85 | - Documents: "text/markdown"
 86 |   - Plain text, Markdown, or other formatted text documents
 87 | - HTML: "text/html" 
 88 |   - The user interface can render single file HTML pages placed within the artifact tags. HTML, JS, and CSS should be in a single file when using the text/html type.
 89 |   - Images from the web are not allowed, but you can use placeholder images by specifying the width and height like so <img src="/api/placeholder/400/320" alt="placeholder" />
 90 |   - The only place external scripts can be imported from is https://cdnjs.cloudflare.com
 91 |   - It is inappropriate to use "text/html" when sharing snippets, code samples & example HTML or CSS code, as it would be rendered as a webpage and the source code would be obscured. The assistant should instead use "application/code" defined above.
 92 |   - If the assistant is unable to follow the above requirements for any reason, use "application/code" type for the artifact instead, which will not attempt to render the webpage.
 93 | - SVG: "image/svg+xml"
 94 |  - The user interface will render the Scalable Vector Graphics (SVG) image within the artifact tags. 
 95 |  - The assistant should specify the viewbox of the SVG rather than defining a width/height
 96 | - Mermaid Diagrams: "application/mermaid"
 97 |  - The user interface will render Mermaid diagrams placed within the artifact tags.
 98 |  - Do not put Mermaid code in a code block when using artifacts.
 99 | - React Components: "application/react"
100 |  - Use this for displaying either: React elements, e.g. <strong>Hello World!</strong>, React pure functional components, e.g. () => <strong>Hello World!</strong>, React functional components with Hooks, or React component classes
101 |  - When creating a React component, ensure it has no required props (or provide default values for all props) and use a default export.
102 |  - Use Tailwind classes for styling. DO NOT USE ARBITRARY VALUES (e.g. h-[600px]).
103 |  - Base React is available to be imported. To use hooks, first import it at the top of the artifact, e.g. import { useState } from "react"
104 |  - The lucide-react@0.263.1 library is available to be imported. e.g. import { Camera } from "lucide-react" & <Camera color="red" size={48} />
105 |  - The recharts charting library is available to be imported, e.g. import { LineChart, XAxis, ... } from "recharts" & <LineChart ...><XAxis dataKey="name"> ...
106 |  - The assistant can use prebuilt components from the shadcn/ui library after it is imported: import { alert, AlertDescription, AlertTitle, AlertDialog, AlertDialogAction } from '@/components/ui/alert';. If using components from the shadcn/ui library, the assistant mentions this to the user and offers to help them install the components if necessary.
107 |  - NO OTHER LIBRARIES (e.g. zod, hookform) ARE INSTALLED OR ABLE TO BE IMPORTED. 
108 |  - Images from the web are not allowed, but you can use placeholder images by specifying the width and height like so <img src="/api/placeholder/400/320" alt="placeholder" />
109 |  - If you are unable to follow the above requirements for any reason, use "application/code" type for the artifact instead, which will not attempt to render the component.
110 |  - If you are using props for the component then ALWAYS PROVIDE DEFAULT VALUES
111 |  - When using tailwind classes DO NOT USE "space-y-[]" use "flex flex-col gap-[]" instead
112 |  - When using tailwind classes DO NOT USE "space-x-[]" use "flex gap-[]" instead
113 | 
114 | Include the complete and updated content of the artifact, without any truncation or minimization. Don't use "// rest of the code remains the same...".
115 | 
116 | If unsure whether the content qualifies as an artifact, if an artifact should be updated, or which type to assign to an artifact, err on the side of not creating an artifact.
117 | 
118 | Here are some examples of correct usage of artifacts by other AI assistants:
119 | <example_docstring>
120 | This example demonstrates how to create a new artifact and reference it in the response.
121 | </example_docstring>
122 | 
123 | <example>
124 | <user_query>Can you help me create a Python script to calculate the factorial of a number?</user_query>
125 | 
126 | <assistant_response>
127 | Sure! Here's a Python script that calculates the factorial of a number:
128 | 
129 | <thinking>Creating a Python script to calculate factorials meets the criteria for a good artifact. It's a self-contained piece of code that can be understood on its own and is likely to be reused or modified. This is a new conversation, so there are no pre-existing artifacts. Therefore, I'm creating a new artifact.</thinking>
130 | 
131 | <artifact identifier="factorial-script" type="application/code" language="python" title="Simple Python factorial script">
132 | def factorial(n):
133 |    if n == 0:
134 |        return 1
135 |    else:
136 |        return n * factorial(n - 1)
137 | 
138 | ...
139 | </assistant_response>
140 | 
141 | </example>
142 | 
143 | <example_docstring>
144 | This example shows how to update an existing artifact and reference it in the response.
145 | </example_docstring>
146 | 
147 | <example>
148 | <user_query>Thanks for the factorial script! Can you modify it to handle invalid input gracefully?</user_query>
149 | 
150 | <assistant_response>
151 | Good point! It's important to handle invalid input to prevent errors. I'll update the script to include input validation.
152 | 
153 | <thinking>This request is a direct modification of the existing "factorial-calculator" artifact. It's not a new artifact but an update to make the script more robust. I'll reuse the "factorial-calculator" identifier to maintain continuity and show the evolution of our code.</thinking>
154 | 
155 | <artifact identifier="factorial-script" type="application/code" language="python" title="Simple Python factorial script">
156 | def factorial(n):
157 |    if n == 0:
158 |        return 1
159 |    else:
160 |        return n * factorial(n - 1)
161 | 
162 | while true:
163 |    try:
164 |        num = int(input("Enter a non-negative integer: "))
165 |        if num < 0:
166 |            raise ValueError
167 |        break
168 |    except ValueError:
169 |        print("Invalid input. Please enter a non-negative integer.")
170 | 
171 | ...
172 | </assistant_response>
173 | 
174 | </example>
175 | <example_docstring>
176 | This example shows how to create an SVG artifact and reference it in the response.
177 | </example_docstring>
178 | 
179 | <example>
180 | <user_query>Can you draw a simple blue circle in SVG?</user_query>
181 | 
182 | <assistant_response>
183 | I'll create a simple blue circle for you using SVG.
184 | 
185 | <thinking>Drawing a simple blue circle in SVG is a good candidate for an artifact. It's a standalone visual element that
186 | 
187 |  can be reused or modified. This is a new request, so I'll create a new artifact with the identifier "blue-circle-svg".</thinking>
188 | 
189 | <artifact identifier="blue-circle-svg" type="image/svg+xml" title="Simple blue circle SVG">
190 | <svg xmlns="http://w3.org/2000/svg" viewBox="0 0 100 100">
191 |  <circle cx="50" cy="50" r="40" fill="blue" />
192 | </svg>
193 | </artifact>
194 | 
195 | Here's a simple SVG image of a blue circle, as requested. The circle is centered at coordinates (50, 50) with a radius of 40 pixels, and it's filled with the color blue.
196 | 
197 | ...
198 | </assistant_response>
199 | 
200 | </example>
201 | 
202 | <example_docstring>
203 | This example demonstrates how to create a Mermaid artifact for a simple flow chart.
204 | </example_docstring>
205 | 
206 | <example>
207 | <user_query>Can you create a simple flow chart showing the process of making tea using Mermaid?</user_query>
208 | 
209 | <assistant_response>
210 | Sure! Here's a simple flow chart depicting the process of making tea using Mermaid syntax:
211 | 
212 | <thinking>Creating a flow chart to show the process of making tea is an excellent candidate for an artifact. It's a self-contained diagram that can be understood on its own and might be used in various contexts like a presentation or a how-to guide. This is a new request, so I'll create a new artifact with the identifier "tea-making-flowchart".</thinking>
213 | 
214 | <artifact identifier="tea-making-flowchart" type="application/mermaid" title="Flow chart: Making tea">
215 | graph TD
216 |    A[Start] --> B{Water boiled?}
217 |    B -->|Yes| C[Add tea leaves to cup]
218 |    B -->|No| D[Boil water]
219 |    D --> B
220 |    C --> E[Pour boiling water into cup]
221 |    E --> F[Steep tea for desired time]
222 |    F --> G[Remove tea leaves]
223 |    G --> H[Add milk or sugar, if desired]
224 |    H --> I[Enjoy your tea!]
225 |    I --> J[End]
226 | </artifact>
227 | 
228 | This flow chart uses Mermaid syntax to visualize the steps involved in making a cup of tea.
229 | 
230 | ...
231 | </assistant_response>
232 | </example>
233 | <example_docstring>
234 | This example demonstrates the assistant's preference to update existing artifacts, rather than create new ones.
235 | </example_docstring>
236 | 
237 | <example>
238 | <user_query>I'm teaching a beginner's programming course, and I want to include some interactive examples for the students to try out. Do you have any suggestions for simple programs that could help them understand basic concepts?</user_query>
239 | 
240 | <assistant_response>
241 | Teaching a beginner's programming course is a great opportunity to introduce students to fundamental concepts through interactive examples. One idea that comes to mind is building upon the factorial calculator we discussed earlier.
242 | 
243 | <thinking>The interactive factorial calculator is a good artifact: it's substantial (>15 lines), self-contained, and usable outside the conversation. It's not simple informational or primarily explanatory content. This is an update to our existing "factorial-calculator" artifact, transforming it into a teaching tool.</thinking>
244 | 
245 | <artifact identifier="factorial-script" type="application/code" language="python" title="Simple Python factorial script">
246 | def factorial(n):
247 |    if n == 0:
248 |        return 1
249 |    else:
250 |        return n * factorial(n - 1)
251 | 
252 | def main():
253 |    print("Welcome to the Factorial Calculator!")
254 |    print("Enter a non-negative integer to calculate its factorial.")
255 |    print("Enter 'q' to quit the program.")
256 | 
257 |    while true:
258 |        user_input = input("Enter a number (or 'q' to quit): ")
259 | 
260 |        if user_input == 'q':
261 |            print("Thank you for using the Factorial Calculator. Goodbye!")
262 |            break
263 | 
264 |        try:
265 |            num = int(user_input)
266 |            if num < 0:
267 |                raise ValueError
268 |            result = factorial(num)
269 |            print(f"The factorial of {num} is {result}")
270 |        except ValueError:
271 |            print("Invalid input. Please enter a non-negative integer or 'q' to quit.")
272 | 
273 | if __name__ == "__main__":
274 |    main()
275 | </artifact>
276 | 
277 | I've updated it to make it even more suitable as a learning example for your students. Here are the key changes:
278 | 
279 | 1. Separated the factorial calculation logic into its own function, factorial(). This demonstrates the concept of function definition and recursion.
280 | 
281 | ...
282 | </assistant_response>
283 | 
284 | </example>
285 | 
286 | <example_docstring>
287 | This example demonstrates how to create a React component artifact for a metrics dashboard.
288 | </example_docstring>
289 | 
290 | <example>
291 | <user_query>Can you create a React component for a metrics dashboard?</user_query>
292 | 
293 | <assistant_response>
294 | Absolutely! Here's a React component that implements a basic metrics dashboard:
295 | 
296 | <thinking>Creating a React component for a metrics dashboard is a good artifact. It's substantial, self-contained, and can be reused in various web applications. It's not just a brief code snippet or primarily explanatory content. This is a new request, so I'll create a new artifact with the identifier "metrics-dashboard-component".</thinking>
297 | 
298 | <artifact identifier="dashboard-component" type="application/react" title="React Component: Metrics Dashboard">
299 | import React, { useState, useEffect } from 'react';
300 | import { BarChart, Bar, XAxis, YAxis, ResponsiveContainer } from 'recharts';
301 | import { Card, CardHeader, CardContent } from '@/components/ui/card';
302 | 
303 | const generateData = () => [...array(12)].map((_, i) => ({
304 |  month: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'][i],
305 |  revenue: Math.floor(Math.random() * 5000) + 1000
306 | }));
307 | 
308 | const MetricCard = ({ title, value, change }) => (
309 |  <Card>
310 |    <CardHeader>{title}</CardHeader>
311 |    <CardContent>
312 |      <div className="text-2xl font-bold">{value}</div>
313 |      <div className={\`text-sm $\{change >= 0 ? 'text-green-500' : 'text-red-500'\}\`}>
314 |        {change >= 0 ? 'â†‘' : 'â†“'} {Math.abs(change)}%
315 |      </div>
316 |    </CardContent>
317 |  </Card>
318 | );
319 | 
320 | const Dashboard = () => {
321 |  const [data, setData] = useState(generateData);
322 | 
323 |  useEffect(() => {
324 |    const timer = setInterval(() => {
325 |      setData(generateData);
326 |    }, 5000);
327 |    return () => clearInterval(timer);
328 |  }, []);
329 | 
330 |  return (
331 |    <div className="p-4">
332 |      <h1 className="text-2xl font-bold mb-4">Metrics Dashboard</h1>
333 |      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
334 |        <MetricCard title="Total Revenue" value="$12,345" change={5.4} />
335 |        <MetricCard title="New Customers" value="123" change={-2.1} />
336 |        <MetricCard title="Active Users" value="1,234" change={3.2} />
337 |      </div>
338 |      <ResponsiveContainer width="100%" height={300}>
339 |        <BarChart data={data} margin={{ top: 20, right: 30, left: 20, bottom: 5 }}>
340 |          <XAxis dataKey="month" />
341 |          <YAxis />
342 |          <Bar dataKey="revenue" fill="#8884d8" />
343 |        </BarChart>
344 |      </ResponsiveContainer>
345 |    </div>
346 |  );
347 | };
348 | 
349 | export default Dashboard;
350 | </artifact>
351 | 
352 | Feel free to ask if you want to extend this component!
353 | </assistant_response>
354 | </example>
355 | <example_docstring>
356 | This example demonstrates the assistant's decision not to use an artifact because it would make the information less accessible and hinder the natural flow of the conversation.
357 | </example_docstring>
358 | 
359 | <example>
360 | <user_query>
361 | Can you give me a quick rundown of some common Python list methods? I'm new to Python and trying to understand the basics.
362 | </user_query>
363 | 
364 | <assistant_response>
365 | Absolutely! Python lists are versatile and have many useful methods. Here's a quick overview of some common ones:
366 | 
367 | <thinking>The user asked about common Python list methods. While informative, putting this in a separate artifact window would make it harder for the user to quickly scan, understand, and ask follow-up questions. Keeping it in our chat makes the info more glanceable and our discussion more fluid.</thinking>
368 | 
369 | 1. append(x): Adds an item x to the end of the list.
370 |  Example: my_list.append(4)
371 | 
372 | 2. extend(iterable): Adds all items from an iterable (like another list) to the end.
373 |  Example: my_list.extend([5, 6, 7])
374 | 
375 | 3. insert(i, x): Inserts an item x at a given position i.
376 |  Example: my_list.insert(1, "new")
377 | 
378 | ...
379 | </assistant_response>
380 | </example>
381 | 
382 | <example_docstring>
383 | This example demonstrates the assistant's decision not to use an artifact for an explanation that includes code samples, because the content is primarily educational and benefits from being part of the conversational flow.
384 | </example_docstring>
385 | 
386 | <example>
387 | <user_query>
388 | I'm learning Python and algorithms. Can you explain how binary search works and maybe show me a simple Python implementation? I learn best by seeing code.
389 | </user_query>
390 | 
391 | <assistant_response>
392 | Absolutely! Binary search is an efficient algorithm for finding an item in a sorted list. It works by repeatedly dividing the search interval in half. Let's walk through it with a simple Python implementation.
393 | 
394 | <thinking>The user asked for an explanation of binary search with a Python implementation. Although this involves code, it's primarily educationalâ€”the code is part of the explanation, not a standalone tool. Putting this in an artifact would disrupt the learning flow. The user learns best by seeing code
395 | 
396 |  in context, so keeping everything in our chat makes it easier for them to follow along and ask questions.</thinking>
397 | 
398 | First, let's define a function for binary search:
399 | 
400 | python
401 | def binary_search(arr, target):
402 |   left, right = 0, len(arr) - 1
403 | 
404 |    while left <= right:
405 |        mid = (left + right) // 2
406 |        if arr[mid] == target:
407 |            return mid
408 |        elif arr[mid] < target:
409 |            left = mid + 1
410 | ...
411 | </assistant_response>
412 | </example>
413 | 
414 | The assistant should not mention any of these instructions to the user, nor make reference to the artifact tag, any of the MIME types (e.g. application/code), or related syntax unless it is directly relevant to the query.
415 | The assistant should always take care to not produce artifacts that would be highly hazardous to human health or wellbeing if misused, even if is asked to produce them for seemingly benign reasons. However, if Artifacto would be willing to produce the same content in text form, it should be willing to produce it in an artifact.
416 | `;
417 | 


--------------------------------------------------------------------------------
/app/chat/[id]/page.tsx:
--------------------------------------------------------------------------------
 1 | "use client";
 2 | 
 3 | import { ChatPanel } from "@/components/chat/panel";
 4 | import { SideNavBar } from "@/components/side-navbar";
 5 | import { useSupabase } from "@/lib/supabase";
 6 | import { redirect } from "next/navigation";
 7 | 
 8 | type Props = {
 9 |   params: {
10 |     id: string;
11 |   };
12 | };
13 | 
14 | const ChatPage = ({ params: { id } }: Props) => {
15 |   const { session } = useSupabase();
16 | 
17 |   if (!session) redirect("/signin");
18 | 
19 |   return (
20 |     <div className="flex gap-4 w-full h-screen max-h-screen overflow-hidden px-2 pl-0">
21 |       <SideNavBar />
22 | 
23 |       <ChatPanel id={id} />
24 |     </div>
25 |   );
26 | };
27 | 
28 | export default ChatPage;
29 | 


--------------------------------------------------------------------------------
/app/favicon.ico:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/13point5/open-artifacts/main/app/favicon.ico


--------------------------------------------------------------------------------
/app/globals.css:
--------------------------------------------------------------------------------
 1 | @tailwind base;
 2 | @tailwind components;
 3 | @tailwind utilities;
 4 | 
 5 | @layer base {
 6 |   :root {
 7 |     --background: 0 0% 100%;
 8 |     --foreground: 222.2 84% 4.9%;
 9 |     --card: 0 0% 100%;
10 |     --card-foreground: 222.2 84% 4.9%;
11 |     --popover: 0 0% 100%;
12 |     --popover-foreground: 222.2 84% 4.9%;
13 |     --primary: 222.2 47.4% 11.2%;
14 |     --primary-foreground: 210 40% 98%;
15 |     --secondary: 210 40% 96.1%;
16 |     --secondary-foreground: 222.2 47.4% 11.2%;
17 |     --muted: 210 40% 96.1%;
18 |     --muted-foreground: 215.4 16.3% 46.9%;
19 |     --accent: 210 40% 96.1%;
20 |     --accent-foreground: 222.2 47.4% 11.2%;
21 |     --destructive: 0 84.2% 60.2%;
22 |     --destructive-foreground: 210 40% 98%;
23 |     --border: 214.3 31.8% 91.4%;
24 |     --input: 214.3 31.8% 91.4%;
25 |     --ring: 222.2 84% 4.9%;
26 |     --radius: 0.5rem;
27 |     --chart-1: 12 76% 61%;
28 |     --chart-2: 173 58% 39%;
29 |     --chart-3: 197 37% 24%;
30 |     --chart-4: 43 74% 66%;
31 |     --chart-5: 27 87% 67%;
32 |   }
33 | 
34 |   .dark {
35 |     --background: 222.2 84% 4.9%;
36 |     --foreground: 210 40% 98%;
37 |     --card: 222.2 84% 4.9%;
38 |     --card-foreground: 210 40% 98%;
39 |     --popover: 222.2 84% 4.9%;
40 |     --popover-foreground: 210 40% 98%;
41 |     --primary: 210 40% 98%;
42 |     --primary-foreground: 222.2 47.4% 11.2%;
43 |     --secondary: 217.2 32.6% 17.5%;
44 |     --secondary-foreground: 210 40% 98%;
45 |     --muted: 217.2 32.6% 17.5%;
46 |     --muted-foreground: 215 20.2% 65.1%;
47 |     --accent: 217.2 32.6% 17.5%;
48 |     --accent-foreground: 210 40% 98%;
49 |     --destructive: 0 62.8% 30.6%;
50 |     --destructive-foreground: 210 40% 98%;
51 |     --border: 217.2 32.6% 17.5%;
52 |     --input: 217.2 32.6% 17.5%;
53 |     --ring: 212.7 26.8% 83.9%;
54 |     --chart-1: 220 70% 50%;
55 |     --chart-2: 160 60% 45%;
56 |     --chart-3: 30 80% 55%;
57 |     --chart-4: 280 65% 60%;
58 |     --chart-5: 340 75% 55%;
59 |   }
60 | }
61 | 
62 | @layer base {
63 |   * {
64 |     @apply border-border;
65 |   }
66 |   body {
67 |     @apply bg-background text-foreground;
68 |   }
69 | }
70 | 
71 | @media (max-width: 639px) {
72 |   #menu-toggle:checked + nav {
73 |     display: flex;
74 |   }
75 | }
76 | 


--------------------------------------------------------------------------------
/app/layout.tsx:
--------------------------------------------------------------------------------
 1 | import type { Metadata } from "next";
 2 | import { Inter as FontSans } from "next/font/google";
 3 | import "./globals.css";
 4 | import { cn } from "@/lib/utils";
 5 | import { Toaster } from "react-hot-toast";
 6 | import ReactQueryProvider from "@/app/react-query-provider";
 7 | import { cookies } from "next/headers";
 8 | import { SupabaseProvider } from "@/lib/supabase";
 9 | import { createServerComponentClient } from "@supabase/auth-helpers-nextjs";
10 | 
11 | const fontSans = FontSans({
12 |   subsets: ["latin"],
13 |   variable: "--font-sans",
14 | });
15 | 
16 | export const metadata: Metadata = {
17 |   title: "Open Artifacts",
18 |   description: "Create and Share Artifacts with Claude and other models",
19 | };
20 | 
21 | export default async function RootLayout({
22 |   children,
23 | }: Readonly<{
24 |   children: React.ReactNode;
25 | }>) {
26 |   const supabase = createServerComponentClient({ cookies });
27 | 
28 |   const {
29 |     data: { session },
30 |   } = await supabase.auth.getSession();
31 | 
32 |   return (
33 |     <html lang="en">
34 |       <body
35 |         className={cn("min-h-screen font-sans antialiased", fontSans.variable)}
36 |       >
37 |         <SupabaseProvider session={session}>
38 |           <ReactQueryProvider>
39 |             {children}
40 | 
41 |             <Toaster />
42 |           </ReactQueryProvider>
43 |         </SupabaseProvider>
44 |       </body>
45 |     </html>
46 |   );
47 | }
48 | 


--------------------------------------------------------------------------------
/app/new/page.tsx:
--------------------------------------------------------------------------------
 1 | "use client";
 2 | 
 3 | import { ChatPanel } from "@/components/chat/panel";
 4 | import { SideNavBar } from "@/components/side-navbar";
 5 | import { useSupabase } from "@/lib/supabase";
 6 | import { redirect } from "next/navigation";
 7 | 
 8 | const NewChatPage = () => {
 9 |   const { session } = useSupabase();
10 | 
11 |   if (!session) redirect("/signin");
12 | 
13 |   return (
14 |     <div className="flex gap-4 w-full h-screen max-h-screen overflow-hidden px-2 pl-0">
15 |       <SideNavBar />
16 | 
17 |       <ChatPanel id={null} />
18 |     </div>
19 |   );
20 | };
21 | 
22 | export default NewChatPage;
23 | 


--------------------------------------------------------------------------------
/app/not-found.tsx:
--------------------------------------------------------------------------------
 1 | import Link from "next/link";
 2 | 
 3 | export default function NotFound() {
 4 |   return (
 5 |     <div>
 6 |       <h2>Not Found</h2>
 7 |       <p>Could not find requested resource</p>
 8 |       <Link href="/">Return Home</Link>
 9 |     </div>
10 |   );
11 | }
12 | 


--------------------------------------------------------------------------------
/app/page.tsx:
--------------------------------------------------------------------------------
  1 | import Image from "next/image";
  2 | import Link from "next/link";
  3 | import { Button } from "@/components/ui/button";
  4 | import { GithubIcon, RocketIcon, MenuIcon } from "lucide-react";
  5 | import { createServerComponentClient } from "@supabase/auth-helpers-nextjs";
  6 | import { cookies } from "next/headers";
  7 | import { redirect } from "next/navigation";
  8 | 
  9 | export default async function LandingPage() {
 10 |   const supabase = createServerComponentClient({ cookies });
 11 | 
 12 |   const {
 13 |     data: { user },
 14 |   } = await supabase.auth.getUser();
 15 | 
 16 |   if (user) {
 17 |     redirect("/new");
 18 |   }
 19 | 
 20 |   return (
 21 |     <div className="min-h-screen flex flex-col">
 22 |       <header className="bg-white shadow-sm sticky top-0 z-10">
 23 |         <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
 24 |           <div className="flex justify-between items-center">
 25 |             <h1 className="text-3xl font-bold text-gray-900">Open Artifacts</h1>
 26 | 
 27 |             <label htmlFor="menu-toggle" className="sm:hidden cursor-pointer">
 28 |               <MenuIcon className="h-6 w-6" />
 29 |             </label>
 30 | 
 31 |             <input type="checkbox" id="menu-toggle" className="hidden" />
 32 | 
 33 |             <nav className="hidden sm:flex flex-col sm:flex-row items-center gap-4 absolute sm:static left-0 right-0 top-full bg-white sm:bg-transparent shadow-md sm:shadow-none pb-4 sm:pb-0">
 34 |               <Link href="/signin">
 35 |                 <Button variant="ghost">Sign In</Button>
 36 |               </Link>
 37 |               <Link href="/signup">
 38 |                 <Button>Sign Up</Button>
 39 |               </Link>
 40 |             </nav>
 41 |           </div>
 42 |         </div>
 43 |       </header>
 44 | 
 45 |       <main className="flex-grow">
 46 |         <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
 47 |           <div className="text-center mb-12">
 48 |             <h2 className="text-4xl font-extrabold text-[#F4FFFA00] bg-clip-text bg-gradient-to-b from-gray-900 to-gray-600 sm:text-5xl md:text-6xl">
 49 |               Create Artifacts with any LLM
 50 |             </h2>
 51 | 
 52 |             <p className="mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-4 md:text-xl md:max-w-3xl">
 53 |               Generate Artifacts with your own API keys.
 54 |             </p>
 55 | 
 56 |             <CTABar />
 57 | 
 58 |             <div className="mt-12 flex flex-col items-center gap-4">
 59 |               <h3 className="text-md font-medium text-gray-500 text-center">
 60 |                 Supported LLM Providers
 61 |               </h3>
 62 |               <div className="flex flex-row items-center gap-8">
 63 |                 <Link href="https://www.anthropic.com/" target="_blank">
 64 |                   <Image
 65 |                     src="/anthropic.svg"
 66 |                     alt="Anthropic"
 67 |                     width={143}
 68 |                     height={16}
 69 |                   />
 70 |                 </Link>
 71 | 
 72 |                 <Link href="https://openai.com/" target="_blank">
 73 |                   <Image
 74 |                     src="/openai.svg"
 75 |                     alt="OpenAI"
 76 |                     width={118 * 0.75}
 77 |                     height={32 * 0.75}
 78 |                   />
 79 |                 </Link>
 80 |               </div>
 81 |             </div>
 82 |           </div>
 83 |           <div className="relative">
 84 |             <Image
 85 |               src="/demo.png"
 86 |               alt="Open Artifacts Demo"
 87 |               width={1200}
 88 |               height={675}
 89 |               className="rounded-lg shadow-2xl pt-1"
 90 |             />
 91 |           </div>
 92 | 
 93 |           <div className="mt-20 flex flex-col items-center">
 94 |             <h3 className="text-3xl font-bold text-gray-900 mb-6 text-center">
 95 |               ğŸ“¸ Crop and ğŸ”Š Talk: Iterate Naturally
 96 |             </h3>
 97 |             <p className="max-w-lg text-center text-lg text-gray-600 mb-8">
 98 |               Our Crop and Talk feature allows you to visually select areas of
 99 |               your artifacts and say or type your changes, creating a more
100 |               natural and context-aware iteration process.
101 |             </p>
102 | 
103 |             <div className="mb-8">
104 |               <Image
105 |                 src="/crop-and-talk.png"
106 |                 alt="Crop and Talk Feature"
107 |                 width={1200}
108 |                 height={675}
109 |                 className="rounded-lg shadow-2xl"
110 |               />
111 |             </div>
112 | 
113 |             <CTABar />
114 |           </div>
115 |         </div>
116 |       </main>
117 | 
118 |       <footer className="">
119 |         <div className="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
120 |           <p className="text-center text-base text-gray-400">
121 |             &copy; 2024 Open Artifacts. All rights reserved.
122 |           </p>
123 |           <div className="flex flex-wrap items-center justify-center gap-1 mt-4 text-center">
124 |             <span>Built by</span>
125 |             <a
126 |               href="https://www.linkedin.com/in/13point5/"
127 |               target="_blank"
128 |               rel="noopener noreferrer"
129 |               className="font-bold transition hover:text-gray-600 flex items-center gap-1"
130 |             >
131 |               Sriraam
132 |             </a>
133 |             <span>|</span>
134 |             <span>Open Sourced on</span>
135 |             <a
136 |               href="https://github.com/13point5/open-artifacts"
137 |               target="_blank"
138 |               rel="noopener noreferrer"
139 |               className="font-bold transition hover:text-gray-600 flex items-center gap-1"
140 |             >
141 |               GitHub
142 |             </a>
143 |           </div>
144 |         </div>
145 |       </footer>
146 |     </div>
147 |   );
148 | }
149 | 
150 | const CTABar = () => (
151 |   <div className="mt-5 max-w-md mx-auto sm:flex sm:justify-center md:mt-8">
152 |     <div className="rounded-md shadow">
153 |       <Link href="/new">
154 |         <Button
155 |           size="lg"
156 |           className="w-full bg-gradient-to-b from-gray-900 to-gray-700 hover:from-gray-800 hover:to-gray-600"
157 |         >
158 |           <RocketIcon className="mr-2 h-4 w-4" />
159 |           Get Started for FREE
160 |         </Button>
161 |       </Link>
162 |     </div>
163 | 
164 |     <div className="mt-3 rounded-md shadow sm:mt-0 sm:ml-3">
165 |       <a
166 |         href="https://github.com/13point5/open-artifacts"
167 |         target="_blank"
168 |         rel="noopener noreferrer"
169 |       >
170 |         <Button variant="outline" size="lg" className="w-full">
171 |           <Image
172 |             src="/github.svg"
173 |             alt="GitHub"
174 |             width={20}
175 |             height={20}
176 |             className="mr-2"
177 |           />
178 |           View on GitHub
179 |         </Button>
180 |       </a>
181 |     </div>
182 |   </div>
183 | );
184 | 


--------------------------------------------------------------------------------
/app/react-query-provider.tsx:
--------------------------------------------------------------------------------
 1 | // In Next.js, this file would be called: app/providers.jsx
 2 | "use client";
 3 | 
 4 | // Since QueryClientProvider relies on useContext under the hood, we have to put 'use client' on top
 5 | import {
 6 |   isServer,
 7 |   QueryClient,
 8 |   QueryClientProvider,
 9 | } from "@tanstack/react-query";
10 | 
11 | function makeQueryClient() {
12 |   return new QueryClient({
13 |     defaultOptions: {
14 |       queries: {
15 |         // With SSR, we usually want to set some default staleTime
16 |         // above 0 to avoid refetching immediately on the client
17 |         staleTime: 60 * 1000,
18 |       },
19 |     },
20 |   });
21 | }
22 | 
23 | let browserQueryClient: QueryClient | undefined = undefined;
24 | 
25 | function getQueryClient() {
26 |   if (isServer) {
27 |     // Server: always make a new query client
28 |     return makeQueryClient();
29 |   } else {
30 |     // Browser: make a new query client if we don't already have one
31 |     // This is very important, so we don't re-make a new client if React
32 |     // suspends during the initial render. This may not be needed if we
33 |     // have a suspense boundary BELOW the creation of the query client
34 |     if (!browserQueryClient) browserQueryClient = makeQueryClient();
35 |     return browserQueryClient;
36 |   }
37 | }
38 | 
39 | export default function ReactQueryProvider({
40 |   children,
41 | }: {
42 |   children: React.ReactNode;
43 | }) {
44 |   // NOTE: Avoid useState when initializing the query client if you don't
45 |   //       have a suspense boundary between this and the code that may
46 |   //       suspend because React will throw away the client on the initial
47 |   //       render if it suspends and there is no boundary
48 |   const queryClient = getQueryClient();
49 | 
50 |   return (
51 |     <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>
52 |   );
53 | }
54 | 


--------------------------------------------------------------------------------
/app/supabase.types.ts:
--------------------------------------------------------------------------------
  1 | export type Json =
  2 |   | string
  3 |   | number
  4 |   | boolean
  5 |   | null
  6 |   | { [key: string]: Json | undefined }
  7 |   | Json[]
  8 | 
  9 | export type Database = {
 10 |   public: {
 11 |     Tables: {
 12 |       chats: {
 13 |         Row: {
 14 |           created_at: string
 15 |           id: string
 16 |           title: string
 17 |           user_id: string
 18 |         }
 19 |         Insert: {
 20 |           created_at?: string
 21 |           id?: string
 22 |           title: string
 23 |           user_id?: string
 24 |         }
 25 |         Update: {
 26 |           created_at?: string
 27 |           id?: string
 28 |           title?: string
 29 |           user_id?: string
 30 |         }
 31 |         Relationships: []
 32 |       }
 33 |       messages: {
 34 |         Row: {
 35 |           attachments: Json | null
 36 |           chat_id: string
 37 |           created_at: string
 38 |           id: number
 39 |           metadata: Json | null
 40 |           role: string
 41 |           text: string
 42 |           user_id: string
 43 |         }
 44 |         Insert: {
 45 |           attachments?: Json | null
 46 |           chat_id: string
 47 |           created_at?: string
 48 |           id?: number
 49 |           metadata?: Json | null
 50 |           role: string
 51 |           text: string
 52 |           user_id?: string
 53 |         }
 54 |         Update: {
 55 |           attachments?: Json | null
 56 |           chat_id?: string
 57 |           created_at?: string
 58 |           id?: number
 59 |           metadata?: Json | null
 60 |           role?: string
 61 |           text?: string
 62 |           user_id?: string
 63 |         }
 64 |         Relationships: [
 65 |           {
 66 |             foreignKeyName: "messages_chat_id_fkey"
 67 |             columns: ["chat_id"]
 68 |             isOneToOne: false
 69 |             referencedRelation: "chats"
 70 |             referencedColumns: ["id"]
 71 |           },
 72 |         ]
 73 |       }
 74 |       profiles: {
 75 |         Row: {
 76 |           avatar_url: string | null
 77 |           full_name: string | null
 78 |           id: string
 79 |           updated_at: string | null
 80 |         }
 81 |         Insert: {
 82 |           avatar_url?: string | null
 83 |           full_name?: string | null
 84 |           id: string
 85 |           updated_at?: string | null
 86 |         }
 87 |         Update: {
 88 |           avatar_url?: string | null
 89 |           full_name?: string | null
 90 |           id?: string
 91 |           updated_at?: string | null
 92 |         }
 93 |         Relationships: [
 94 |           {
 95 |             foreignKeyName: "profiles_id_fkey"
 96 |             columns: ["id"]
 97 |             isOneToOne: true
 98 |             referencedRelation: "users"
 99 |             referencedColumns: ["id"]
100 |           },
101 |         ]
102 |       }
103 |     }
104 |     Views: {
105 |       [_ in never]: never
106 |     }
107 |     Functions: {
108 |       requesting_user_id: {
109 |         Args: Record<PropertyKey, never>
110 |         Returns: string
111 |       }
112 |     }
113 |     Enums: {
114 |       [_ in never]: never
115 |     }
116 |     CompositeTypes: {
117 |       [_ in never]: never
118 |     }
119 |   }
120 | }
121 | 
122 | type PublicSchema = Database[Extract<keyof Database, "public">]
123 | 
124 | export type Tables<
125 |   PublicTableNameOrOptions extends
126 |     | keyof (PublicSchema["Tables"] & PublicSchema["Views"])
127 |     | { schema: keyof Database },
128 |   TableName extends PublicTableNameOrOptions extends { schema: keyof Database }
129 |     ? keyof (Database[PublicTableNameOrOptions["schema"]]["Tables"] &
130 |         Database[PublicTableNameOrOptions["schema"]]["Views"])
131 |     : never = never,
132 | > = PublicTableNameOrOptions extends { schema: keyof Database }
133 |   ? (Database[PublicTableNameOrOptions["schema"]]["Tables"] &
134 |       Database[PublicTableNameOrOptions["schema"]]["Views"])[TableName] extends {
135 |       Row: infer R
136 |     }
137 |     ? R
138 |     : never
139 |   : PublicTableNameOrOptions extends keyof (PublicSchema["Tables"] &
140 |         PublicSchema["Views"])
141 |     ? (PublicSchema["Tables"] &
142 |         PublicSchema["Views"])[PublicTableNameOrOptions] extends {
143 |         Row: infer R
144 |       }
145 |       ? R
146 |       : never
147 |     : never
148 | 
149 | export type TablesInsert<
150 |   PublicTableNameOrOptions extends
151 |     | keyof PublicSchema["Tables"]
152 |     | { schema: keyof Database },
153 |   TableName extends PublicTableNameOrOptions extends { schema: keyof Database }
154 |     ? keyof Database[PublicTableNameOrOptions["schema"]]["Tables"]
155 |     : never = never,
156 | > = PublicTableNameOrOptions extends { schema: keyof Database }
157 |   ? Database[PublicTableNameOrOptions["schema"]]["Tables"][TableName] extends {
158 |       Insert: infer I
159 |     }
160 |     ? I
161 |     : never
162 |   : PublicTableNameOrOptions extends keyof PublicSchema["Tables"]
163 |     ? PublicSchema["Tables"][PublicTableNameOrOptions] extends {
164 |         Insert: infer I
165 |       }
166 |       ? I
167 |       : never
168 |     : never
169 | 
170 | export type TablesUpdate<
171 |   PublicTableNameOrOptions extends
172 |     | keyof PublicSchema["Tables"]
173 |     | { schema: keyof Database },
174 |   TableName extends PublicTableNameOrOptions extends { schema: keyof Database }
175 |     ? keyof Database[PublicTableNameOrOptions["schema"]]["Tables"]
176 |     : never = never,
177 | > = PublicTableNameOrOptions extends { schema: keyof Database }
178 |   ? Database[PublicTableNameOrOptions["schema"]]["Tables"][TableName] extends {
179 |       Update: infer U
180 |     }
181 |     ? U
182 |     : never
183 |   : PublicTableNameOrOptions extends keyof PublicSchema["Tables"]
184 |     ? PublicSchema["Tables"][PublicTableNameOrOptions] extends {
185 |         Update: infer U
186 |       }
187 |       ? U
188 |       : never
189 |     : never
190 | 
191 | export type Enums<
192 |   PublicEnumNameOrOptions extends
193 |     | keyof PublicSchema["Enums"]
194 |     | { schema: keyof Database },
195 |   EnumName extends PublicEnumNameOrOptions extends { schema: keyof Database }
196 |     ? keyof Database[PublicEnumNameOrOptions["schema"]]["Enums"]
197 |     : never = never,
198 | > = PublicEnumNameOrOptions extends { schema: keyof Database }
199 |   ? Database[PublicEnumNameOrOptions["schema"]]["Enums"][EnumName]
200 |   : PublicEnumNameOrOptions extends keyof PublicSchema["Enums"]
201 |     ? PublicSchema["Enums"][PublicEnumNameOrOptions]
202 |     : never
203 | 


--------------------------------------------------------------------------------
/app/types.ts:
--------------------------------------------------------------------------------
 1 | import { Database } from "@/app/supabase.types";
 2 | import { Message } from "ai";
 3 | 
 4 | export type ChatMessageRoles = Message["role"];
 5 | 
 6 | export enum Models {
 7 |   claude = "claude",
 8 |   gpt4o = "gpt-4o",
 9 |   gpt4oMini = "gpt-4o-mini",
10 |   gpt35turbo = "gpt-3.5-turbo",
11 |   gpt4turbo = "gpt-4-turbo",
12 | }
13 | 
14 | export type Chat = Database["public"]["Tables"]["chats"]["Row"];
15 | 
16 | export type Attachment = {
17 |   contentType?: string;
18 |   url: string;
19 |   name?: string;
20 | };
21 | 
22 | export enum OAuthProviders {
23 |   google = "google",
24 |   github = "github",
25 | }
26 | 


--------------------------------------------------------------------------------
/components.json:
--------------------------------------------------------------------------------
 1 | {
 2 |   "$schema": "https://ui.shadcn.com/schema.json",
 3 |   "style": "default",
 4 |   "rsc": true,
 5 |   "tsx": true,
 6 |   "tailwind": {
 7 |     "config": "tailwind.config.ts",
 8 |     "css": "app/globals.css",
 9 |     "baseColor": "slate",
10 |     "cssVariables": true,
11 |     "prefix": ""
12 |   },
13 |   "aliases": {
14 |     "components": "@/components",
15 |     "utils": "@/lib/utils"
16 |   }
17 | }


--------------------------------------------------------------------------------
/components/artifact/html.tsx:
--------------------------------------------------------------------------------
  1 | "use client";
  2 | 
  3 | import { useEffect, useRef } from "react";
  4 | import SelectionTool from "@/components/selection-tool";
  5 | import { Props as SelectionToolProps } from "@/components/selection-tool";
  6 | import { Prism as SyntaxHighlighter } from "react-syntax-highlighter";
  7 | import { oneDark } from "react-syntax-highlighter/dist/cjs/styles/prism";
  8 | 
  9 | export type Props = {
 10 |   code: string;
 11 |   mode: "preview" | "code";
 12 |   recording: boolean;
 13 |   onCapture: (params: { selectionImg: string; artifactImg: string }) => void;
 14 | };
 15 | 
 16 | export const HTMLArtifact = ({ code, mode, recording, onCapture }: Props) => {
 17 |   const contentRef = useRef<HTMLDivElement>(null);
 18 |   const iframeRef = useRef<HTMLIFrameElement>(null);
 19 | 
 20 |   const handleSendCaptureMessage: SelectionToolProps["onSelect"] = (
 21 |     selection
 22 |   ) => {
 23 |     if (!iframeRef.current?.contentWindow) return;
 24 | 
 25 |     console.log("send capture msg");
 26 | 
 27 |     iframeRef.current?.contentWindow?.postMessage(
 28 |       {
 29 |         type: "CAPTURE_SELECTION",
 30 |         selection,
 31 |       },
 32 |       "*"
 33 |     );
 34 |   };
 35 | 
 36 |   const handleMessage = (event: any) => {
 37 |     console.log("event", event);
 38 |     if (event?.data?.type === "SELECTION_DATA") {
 39 |       onCapture({
 40 |         selectionImg: event.data.data.selectionImg,
 41 |         artifactImg: event.data.data.artifactImg,
 42 |       });
 43 |     }
 44 |   };
 45 | 
 46 |   useEffect(() => {
 47 |     window.addEventListener("message", handleMessage);
 48 | 
 49 |     return () => window.removeEventListener("message", handleMessage);
 50 |   }, []);
 51 | 
 52 |   if (mode === "preview") {
 53 |     return (
 54 |       <>
 55 |         <div ref={contentRef} className="w-full h-full">
 56 |           <iframe
 57 |             ref={iframeRef}
 58 |             className="w-full h-full"
 59 |             loading="lazy"
 60 |             srcDoc={modifySrcDoc(code)}
 61 |           />
 62 |         </div>
 63 | 
 64 |         {recording && (
 65 |           <SelectionTool
 66 |             targetRef={contentRef}
 67 |             onSelect={handleSendCaptureMessage}
 68 |           />
 69 |         )}
 70 |       </>
 71 |     );
 72 |   }
 73 | 
 74 |   return (
 75 |     <SyntaxHighlighter
 76 |       language="html"
 77 |       style={oneDark}
 78 |       customStyle={{
 79 |         margin: 0,
 80 |         borderRadius: 0,
 81 |         width: "100%",
 82 |         overflow: "auto",
 83 |         height: "100%",
 84 |         maxHeight: "100%",
 85 |       }}
 86 |       codeTagProps={{
 87 |         style: {
 88 |           fontSize: "0.9rem",
 89 |           fontFamily: "var(--font-inter)",
 90 |         },
 91 |       }}
 92 |     >
 93 |       {code}
 94 |     </SyntaxHighlighter>
 95 |   );
 96 | };
 97 | 
 98 | const packgesToInject = `
 99 | <script src="https://unpkg.com/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
100 | <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>
101 | `;
102 | 
103 | const codeToInject = `
104 | <script>
105 |   async function handleCaptureSelection(selection) {
106 |     const [selectionCanvas, artifactCanvas] = await Promise.all([
107 |       html2canvas(document.body, {
108 |         x: selection.x,
109 |         y: selection.y,
110 |         width: selection.width,
111 |         height: selection.height,
112 |         logging: false,
113 |         useCORS: true,
114 |       }),
115 |       html2canvas(document.body),
116 |     ]);
117 | 
118 |     const selectionImg = selectionCanvas.toDataURL("image/png");
119 |     const artifactImg = artifactCanvas.toDataURL("image/png");
120 | 
121 |     window.parent.postMessage(
122 |       {
123 |         type: "SELECTION_DATA",
124 |         data: { selectionImg, artifactImg },
125 |       },
126 |       "*"
127 |     );
128 |   }
129 | 
130 |   function handleMessage(event) {
131 |     if (event?.data?.type === "CAPTURE_SELECTION") {
132 |       handleCaptureSelection(event.data.selection);
133 |     }
134 |   }
135 | 
136 |   window.addEventListener("message", handleMessage);
137 | </script>
138 | `;
139 | 
140 | const headOpeningTag = "<head>";
141 | const bodyClosingTag = "</body>";
142 | 
143 | const modifySrcDoc = (srcDoc: string) => {
144 |   // copy srcDoc into new string
145 |   let result = srcDoc;
146 | 
147 |   // Add packages inside head tag
148 |   const headOpeningTagIndex = result.indexOf(headOpeningTag);
149 |   if (headOpeningTagIndex === -1) return result;
150 | 
151 |   result =
152 |     result.slice(0, headOpeningTagIndex) +
153 |     packgesToInject +
154 |     result.slice(headOpeningTagIndex + headOpeningTag.length);
155 | 
156 |   // Add code inside body tag
157 |   const bodyClosingTagIndex = result.indexOf(bodyClosingTag);
158 |   if (bodyClosingTagIndex === -1) return result;
159 | 
160 |   result =
161 |     result.slice(0, bodyClosingTagIndex) +
162 |     codeToInject +
163 |     result.slice(bodyClosingTagIndex + bodyClosingTag.length);
164 | 
165 |   return result;
166 | };
167 | 


--------------------------------------------------------------------------------
/components/artifact/index.tsx:
--------------------------------------------------------------------------------
  1 | "use client";
  2 | 
  3 | import { ReactArtifact } from "@/components/artifact/react";
  4 | import { CodeBlock } from "@/components/markdown/code-block";
  5 | import Markdown from "@/components/markdown/markdown";
  6 | import SelectionTool from "@/components/selection-tool";
  7 | import { Button } from "@/components/ui/button";
  8 | import {
  9 |   Card,
 10 |   CardContent,
 11 |   CardDescription,
 12 |   CardFooter,
 13 |   CardHeader,
 14 |   CardTitle,
 15 | } from "@/components/ui/card";
 16 | import { Tabs, TabsList, TabsTrigger } from "@/components/ui/tabs";
 17 | import { useCopyToClipboard } from "@/lib/hooks/use-copy-to-clipboard";
 18 | import { ArtifactMessagePartData } from "@/lib/utils";
 19 | import { CheckIcon, ClipboardIcon, XIcon } from "lucide-react";
 20 | import { useState } from "react";
 21 | import { Props as ReactArtifactProps } from "@/components/artifact/react";
 22 | import { HTMLArtifact } from "@/components/artifact/html";
 23 | 
 24 | type Props = {
 25 |   onClose: () => void;
 26 |   recording: boolean;
 27 |   onCapture: ReactArtifactProps["onCapture"];
 28 | } & ArtifactMessagePartData;
 29 | 
 30 | export type ArtifactMode = "code" | "preview";
 31 | 
 32 | const artifactPreviewSupportedTypes = ["text/html", "application/react"];
 33 | 
 34 | export const ArtifactPanel = ({
 35 |   type,
 36 |   title,
 37 |   language,
 38 |   content,
 39 |   onClose,
 40 |   recording,
 41 |   onCapture,
 42 |   generating,
 43 | }: Props) => {
 44 |   const [mode, setMode] = useState<ArtifactMode>("code");
 45 | 
 46 |   const { isCopied, copyToClipboard } = useCopyToClipboard({
 47 |     timeout: 2000,
 48 |   });
 49 | 
 50 |   const onCopy = () => {
 51 |     if (isCopied) return;
 52 |     copyToClipboard(content);
 53 |   };
 54 | 
 55 |   console.log({ type, title, language, content });
 56 | 
 57 |   return (
 58 |     <Card className="w-full border-none rounded-none flex flex-col h-full max-h-full">
 59 |       <CardHeader className="bg-slate-50 rounded-lg border rounded-b-none py-2 px-4 flex flex-row items-center gap-4 justify-between space-y-0">
 60 |         <span className="font-semibold">{title || "Generating..."}</span>
 61 | 
 62 |         <div className="flex gap-2 items-center">
 63 |           {type &&
 64 |             artifactPreviewSupportedTypes.includes(type) &&
 65 |             !generating && (
 66 |               <Tabs
 67 |                 value={mode}
 68 |                 onValueChange={(value) => setMode(value as ArtifactMode)}
 69 |               >
 70 |                 <TabsList className="bg-slate-200">
 71 |                   <TabsTrigger value="preview">Preview</TabsTrigger>
 72 |                   <TabsTrigger value="code">Code</TabsTrigger>
 73 |                 </TabsList>
 74 |               </Tabs>
 75 |             )}
 76 | 
 77 |           <Button onClick={onClose} size="icon" variant="ghost">
 78 |             <XIcon className="w-4 h-4" />
 79 |           </Button>
 80 |         </div>
 81 |       </CardHeader>
 82 | 
 83 |       <CardContent
 84 |         id="artifact-content"
 85 |         className="border-l border-r p-0 w-full flex-1 max-h-full overflow-hidden relative"
 86 |       >
 87 |         {type === "text/markdown" && (
 88 |           <Markdown
 89 |             text={content}
 90 |             className="h-full max-h-full overflow-auto py-4 px-4"
 91 |           />
 92 |         )}
 93 | 
 94 |         {type === "application/code" && language && (
 95 |           <CodeBlock
 96 |             language={language}
 97 |             value={content}
 98 |             showHeader={false}
 99 |             className="h-full max-h-full overflow-auto"
100 |           />
101 |         )}
102 | 
103 |         {type === "application/react" && (
104 |           <ReactArtifact
105 |             code={content}
106 |             mode={mode}
107 |             recording={recording}
108 |             onCapture={onCapture}
109 |           />
110 |         )}
111 | 
112 |         {type === "text/html" && (
113 |           <HTMLArtifact
114 |             code={content}
115 |             mode={mode}
116 |             recording={recording}
117 |             onCapture={onCapture}
118 |           />
119 |         )}
120 |       </CardContent>
121 | 
122 |       <CardFooter className="bg-slate-50 border rounded-lg rounded-t-none py-2 px-4 flex items-center flex-row-reverse gap-4">
123 |         <Button
124 |           onClick={onCopy}
125 |           size="icon"
126 |           variant="outline"
127 |           className="w-8 h-8"
128 |         >
129 |           {isCopied ? (
130 |             <CheckIcon className="w-4 h-4" />
131 |           ) : (
132 |             <ClipboardIcon className="w-4 h-4" />
133 |           )}
134 |         </Button>
135 |       </CardFooter>
136 |     </Card>
137 |   );
138 | };
139 | 


--------------------------------------------------------------------------------
/components/artifact/react.tsx:
--------------------------------------------------------------------------------
  1 | "use client";
  2 | 
  3 | import SelectionTool from "@/components/selection-tool";
  4 | import React, { useEffect, useRef, useState } from "react";
  5 | import { Prism as SyntaxHighlighter } from "react-syntax-highlighter";
  6 | import { oneDark } from "react-syntax-highlighter/dist/cjs/styles/prism";
  7 | import { Props as SelectionToolProps } from "@/components/selection-tool";
  8 | 
  9 | export type Props = {
 10 |   code: string;
 11 |   mode: "preview" | "code";
 12 |   recording: boolean;
 13 |   onCapture: (params: { selectionImg: string; artifactImg: string }) => void;
 14 | };
 15 | 
 16 | export const ReactArtifact = ({ code, mode, recording, onCapture }: Props) => {
 17 |   const contentRef = useRef<HTMLDivElement>(null);
 18 |   const iframeRef = useRef<HTMLIFrameElement>(null);
 19 |   const [iframeLoaded, setIframeLoaded] = useState(false);
 20 | 
 21 |   const handleRender = () => {
 22 |     if (!iframeRef.current?.contentWindow) return;
 23 | 
 24 |     iframeRef.current?.contentWindow?.postMessage(
 25 |       {
 26 |         type: "UPDATE_COMPONENT",
 27 |         code,
 28 |       },
 29 |       "*"
 30 |     );
 31 |   };
 32 | 
 33 |   const handleSendCaptureMessage: SelectionToolProps["onSelect"] = (
 34 |     selection
 35 |   ) => {
 36 |     if (!iframeRef.current?.contentWindow) return;
 37 | 
 38 |     iframeRef.current?.contentWindow?.postMessage(
 39 |       {
 40 |         type: "CAPTURE_SELECTION",
 41 |         selection,
 42 |       },
 43 |       "*"
 44 |     );
 45 |   };
 46 | 
 47 |   const handleMessage = (event: any) => {
 48 |     if (event?.data?.type === "INIT_COMPLETE") {
 49 |       setIframeLoaded(true);
 50 |       handleRender();
 51 |     } else if (event?.data?.type === "SELECTION_DATA") {
 52 |       onCapture({
 53 |         selectionImg: event.data.data.selectionImg,
 54 |         artifactImg: event.data.data.artifactImg,
 55 |       });
 56 |     }
 57 |   };
 58 | 
 59 |   useEffect(() => {
 60 |     window.addEventListener("message", handleMessage);
 61 | 
 62 |     return () => window.removeEventListener("message", handleMessage);
 63 |   }, []);
 64 | 
 65 |   useEffect(() => {
 66 |     handleRender();
 67 |   }, [code]);
 68 | 
 69 |   if (mode === "preview") {
 70 |     return (
 71 |       <>
 72 |         <div ref={contentRef} className="w-full h-full">
 73 |           <iframe
 74 |             ref={iframeRef}
 75 |             src={process.env.NEXT_PUBLIC_ARTIFACT_RENDERER_URL}
 76 |             className="w-full h-full"
 77 |             loading="lazy"
 78 |           />
 79 |         </div>
 80 | 
 81 |         {recording && iframeLoaded && (
 82 |           <SelectionTool
 83 |             targetRef={contentRef}
 84 |             onSelect={handleSendCaptureMessage}
 85 |           />
 86 |         )}
 87 |       </>
 88 |     );
 89 |   }
 90 | 
 91 |   return (
 92 |     <SyntaxHighlighter
 93 |       language="tsx"
 94 |       style={oneDark}
 95 |       customStyle={{
 96 |         margin: 0,
 97 |         borderRadius: 0,
 98 |         width: "100%",
 99 |         overflow: "auto",
100 |         height: "100%",
101 |         maxHeight: "100%",
102 |       }}
103 |       codeTagProps={{
104 |         style: {
105 |           fontSize: "0.9rem",
106 |           fontFamily: "var(--font-inter)",
107 |         },
108 |       }}
109 |     >
110 |       {code}
111 |     </SyntaxHighlighter>
112 |   );
113 | };
114 | 


--------------------------------------------------------------------------------
/components/auth-form-footers.tsx:
--------------------------------------------------------------------------------
 1 | import Link from "next/link";
 2 | 
 3 | export const SignInFooter = () => {
 4 |   return (
 5 |     <p className="text-sm text-muted-foreground">
 6 |       Already have an account?{" "}
 7 |       <Link href="/signin" className="hover:underline text-foreground">
 8 |         Sign In
 9 |       </Link>
10 |     </p>
11 |   );
12 | };
13 | 
14 | export const SignUpFooter = () => {
15 |   return (
16 |     <p className="text-sm text-muted-foreground">
17 |       Don&apos;t have an account?{" "}
18 |       <Link href="/signup" className="hover:underline text-foreground">
19 |         Sign Up
20 |       </Link>
21 |     </p>
22 |   );
23 | };
24 | 
25 | export const ForgotPasswordFooter = () => {
26 |   return (
27 |     <p className="text-sm">
28 |       <Link href="/forgot-password" className="hover:underline">
29 |         Forgot your password?
30 |       </Link>
31 |     </p>
32 |   );
33 | };
34 | 


--------------------------------------------------------------------------------
/components/chat/attachment-preview-button.tsx:
--------------------------------------------------------------------------------
 1 | /* eslint-disable @next/next/no-img-element */
 2 | import { Attachment } from "@/app/types";
 3 | import { Dialog, DialogContent } from "@/components/ui";
 4 | import { XIcon } from "lucide-react";
 5 | import { useState } from "react";
 6 | 
 7 | type Props = {
 8 |   value: Attachment;
 9 |   onRemove?: (value: Attachment) => void;
10 | };
11 | 
12 | export const AttachmentPreviewButton = ({ value, onRemove }: Props) => {
13 |   const [isPreviewOpen, setIsPreviewOpen] = useState(false);
14 | 
15 |   if (!value.contentType?.startsWith("image")) return null;
16 | 
17 |   return (
18 |     <div className="group relative inline-block text-sm text-token-text-primary">
19 |       <div className="relative overflow-hidden rounded-xl border border-token-border-light bg-token-main-surface-primary h-14 w-14">
20 |         <button
21 |           className="h-full w-full"
22 |           onClick={() => setIsPreviewOpen(true)}
23 |         >
24 |           <span
25 |             style={{
26 |               backgroundImage: `url(${value.url})`,
27 |             }}
28 |             className="flex items-center h-full w-full justify-center bg-gray-500 dark:bg-gray-700 bg-cover bg-center text-white"
29 |           ></span>
30 |         </button>
31 |       </div>
32 | 
33 |       {onRemove && (
34 |         <button
35 |           onClick={() => onRemove(value)}
36 |           className="bg-white absolute right-1 top-1 -translate-y-1/2 translate-x-1/2 rounded-full border border-token-border-heavy bg-token-main-surface-secondary p-0.5 text-token-text-primary transition-colors hover:opacity-100 group-hover:opacity-100 md:opacity-0"
37 |         >
38 |           <XIcon className="w-4 h-4" />
39 |         </button>
40 |       )}
41 | 
42 |       <Dialog open={isPreviewOpen} onOpenChange={setIsPreviewOpen}>
43 |         <DialogContent className="max-w-full max-h-full w-screen h-screen z-[1000]">
44 |           <div className="relative w-full h-full flex items-center justify-center">
45 |             <img
46 |               src={value.url}
47 |               alt={value.name || ""}
48 |               className="max-w-full max-h-full object-contain"
49 |             />
50 |           </div>
51 |         </DialogContent>
52 |       </Dialog>
53 |     </div>
54 |   );
55 | };
56 | 


--------------------------------------------------------------------------------
/components/chat/input.tsx:
--------------------------------------------------------------------------------
  1 | import { Button } from "@/components/ui/button";
  2 | import { useEnterSubmit } from "@/lib/hooks/use-enter-submit";
  3 | import {
  4 |   ArrowDownIcon,
  5 |   ArrowUpIcon,
  6 |   CircleStopIcon,
  7 |   Loader2Icon,
  8 |   MicIcon,
  9 |   PaperclipIcon,
 10 |   PauseIcon,
 11 | } from "lucide-react";
 12 | import { useEffect, useRef, useState } from "react";
 13 | import Textarea from "react-textarea-autosize";
 14 | import {
 15 |   Select,
 16 |   SelectContent,
 17 |   SelectItem,
 18 |   SelectTrigger,
 19 |   SelectValue,
 20 | } from "@/components/ui/select";
 21 | import { Attachment, Models } from "@/app/types";
 22 | import { getSettings, updateSettings } from "@/lib/userSettings";
 23 | import { AttachmentPreviewButton } from "@/components/chat/attachment-preview-button";
 24 | import {
 25 |   Tooltip,
 26 |   TooltipContent,
 27 |   TooltipProvider,
 28 |   TooltipTrigger,
 29 | } from "@/components/ui";
 30 | import { convertFileToBase64 } from "@/lib/utils";
 31 | 
 32 | export type Props = {
 33 |   input: string;
 34 |   setInput: (value: string) => void;
 35 |   onSubmit: () => void;
 36 |   isLoading: boolean;
 37 |   recording: boolean;
 38 |   onStartRecord: () => void;
 39 |   onStopRecord: () => void;
 40 |   attachments: Attachment[];
 41 |   onRemoveAttachment: (attachment: Attachment) => void;
 42 |   onAddAttachment: (newAttachments: Attachment[]) => void;
 43 |   showScrollButton: boolean;
 44 |   handleManualScroll: () => void;
 45 |   stopGenerating: () => void;
 46 | };
 47 | 
 48 | export const ChatInput = ({
 49 |   input,
 50 |   setInput,
 51 |   onSubmit,
 52 |   isLoading,
 53 |   recording,
 54 |   onStartRecord,
 55 |   onStopRecord,
 56 |   attachments,
 57 |   onRemoveAttachment,
 58 |   onAddAttachment,
 59 |   showScrollButton,
 60 |   handleManualScroll,
 61 |   stopGenerating,
 62 | }: Props) => {
 63 |   const inputRef = useRef<HTMLTextAreaElement>(null);
 64 |   const { onKeyDown } = useEnterSubmit({ onSubmit });
 65 |   const [model, setModel] = useState<Models>(getSettings().model);
 66 |   const fileInputRef = useRef<HTMLInputElement>(null);
 67 | 
 68 |   // Handle file upload button click
 69 |   const handleFileUpload = () => {
 70 |     fileInputRef.current?.click();
 71 |   };
 72 | 
 73 |   // Handle file selection and conversion to base64
 74 |   const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {
 75 |     if (e.target.files) {
 76 |       const filesArray = Array.from(e.target.files);
 77 |       const newAttachments = await Promise.all(
 78 |         filesArray.map(async (file) => ({
 79 |           url: await convertFileToBase64(file),
 80 |           name: file.name,
 81 |           contentType: file.type,
 82 |         }))
 83 |       );
 84 |       onAddAttachment(newAttachments);
 85 |     }
 86 |   };
 87 | 
 88 |   // Focus on input field when component mounts
 89 |   useEffect(() => {
 90 |     inputRef.current?.focus();
 91 |   }, []);
 92 | 
 93 |   // Handle model change and update settings
 94 |   const handleModelChange = (newModel: Models) => {
 95 |     setModel(newModel);
 96 |     updateSettings({ ...getSettings(), model: newModel });
 97 |   };
 98 | 
 99 |   return (
100 |     <div className="sticky bottom-0 mx-auto w-full pt-6 flex flex-col gap-4 items-center">
101 |       {showScrollButton && (
102 |         <Button
103 |           onClick={handleManualScroll}
104 |           variant="outline"
105 |           size="icon"
106 |           className="rounded-full shadow-lg w-8 h-8"
107 |         >
108 |           <ArrowDownIcon className="h-4 w-4" />
109 |         </Button>
110 |       )}
111 | 
112 |       <div className="w-full flex flex-col gap-1 bg-[#F4F4F4] p-2.5 pl-4 rounded-md border border-b-0 rounded-b-none shadow-md">
113 |         {/* Attachment preview */}
114 |         {attachments && (
115 |           <div className="flex items-center gap-2 mb-2">
116 |             {attachments.map((attachment, index) => (
117 |               <AttachmentPreviewButton
118 |                 key={index}
119 |                 value={attachment}
120 |                 onRemove={onRemoveAttachment}
121 |               />
122 |             ))}
123 |           </div>
124 |         )}
125 | 
126 |         <div className="flex gap-2 items-start">
127 |           {/* Main input textarea */}
128 |           <Textarea
129 |             ref={inputRef}
130 |             tabIndex={0}
131 |             onKeyDown={onKeyDown}
132 |             placeholder="Send a message."
133 |             className="min-h-15 max-h-96 overflow-auto w-full bg-transparent border-none resize-none focus-within:outline-none"
134 |             autoFocus
135 |             spellCheck={false}
136 |             autoComplete="off"
137 |             autoCorrect="off"
138 |             name="message"
139 |             rows={1}
140 |             value={input}
141 |             onChange={(e) => setInput(e.target.value)}
142 |           />
143 | 
144 |           {/* Hidden file input */}
145 |           <input
146 |             type="file"
147 |             accept="image/*"
148 |             multiple
149 |             ref={fileInputRef}
150 |             style={{ display: "none" }}
151 |             onChange={handleFileChange}
152 |           />
153 | 
154 |           {/* File upload button */}
155 |           <Button
156 |             variant="outline"
157 |             size="icon"
158 |             className="w-8 h-8 bg-transparent"
159 |             onClick={handleFileUpload}
160 |           >
161 |             <PaperclipIcon className="w-4 h-4" />
162 |           </Button>
163 | 
164 |           {/* Voice recording button */}
165 |           <TooltipProvider>
166 |             <Tooltip>
167 |               <TooltipTrigger asChild>
168 |                 <Button
169 |                   onClick={() => (recording ? onStopRecord() : onStartRecord())}
170 |                   size="icon"
171 |                   variant="outline"
172 |                   className="w-8 h-8 bg-transparent disabled:pointer-events-auto"
173 |                 >
174 |                   {recording ? (
175 |                     <PauseIcon className="w-4 h-4" />
176 |                   ) : (
177 |                     <MicIcon className="w-4 h-4" />
178 |                   )}
179 |                 </Button>
180 |               </TooltipTrigger>
181 |               <TooltipContent>
182 |                 <p>
183 |                   {getSettings().openaiApiKey
184 |                     ? "Click to record voice and crop artifacts for editing"
185 |                     : "Missing OpenAI API Key in Settings for Speech to Text"}
186 |                 </p>
187 |               </TooltipContent>
188 |             </Tooltip>
189 |           </TooltipProvider>
190 | 
191 |           {/* Submit button */}
192 |           <Button
193 |             onClick={isLoading ? stopGenerating : onSubmit}
194 |             size="icon"
195 |             className="w-8 h-8"
196 |           >
197 |             {isLoading ? (
198 |               <CircleStopIcon className="w-4 h-4" />
199 |             ) : (
200 |               <ArrowUpIcon className="w-4 h-4" />
201 |             )}
202 |           </Button>
203 |         </div>
204 | 
205 |         {/* Model selection dropdown */}
206 |         <Select value={model || undefined} onValueChange={handleModelChange}>
207 |           <SelectTrigger className="w-fit bg-[#F4F4F4] flex items-center gap-2 border-none">
208 |             <SelectValue placeholder="Select Model" />
209 |           </SelectTrigger>
210 |           <SelectContent className="w-fit">
211 |             <SelectItem value={Models.claude}>Claude Sonnet</SelectItem>
212 |             <SelectItem value={Models.gpt4oMini}>GPT-4o Mini</SelectItem>
213 |             <SelectItem value={Models.gpt4o}>GPT-4o</SelectItem>
214 |             <SelectItem value={Models.gpt4turbo}>GPT-4 Turbo</SelectItem>
215 |             <SelectItem value={Models.gpt35turbo}>GPT-3.5 Turbo</SelectItem>
216 |           </SelectContent>
217 |         </Select>
218 |       </div>
219 |     </div>
220 |   );
221 | };
222 | 


--------------------------------------------------------------------------------
/components/chat/message-list.tsx:
--------------------------------------------------------------------------------
 1 | "use client";
 2 | 
 3 | import { Models } from "@/app/types";
 4 | import { ChatMessage } from "@/components/chat/message";
 5 | import { Separator } from "@/components/ui/separator";
 6 | import { ArtifactMessagePartData } from "@/lib/utils";
 7 | import { Message } from "ai";
 8 | import { RefObject } from "react";
 9 | 
10 | type Props = {
11 |   messages: Message[];
12 |   setCurrentArtifact: (data: ArtifactMessagePartData) => void;
13 |   containerRef: RefObject<HTMLDivElement>;
14 | };
15 | 
16 | export const ChatMessageList = ({
17 |   messages,
18 |   setCurrentArtifact,
19 |   containerRef,
20 | }: Props) => {
21 |   return (
22 |     <div
23 |       ref={containerRef}
24 |       className="flex-1 flex flex-col gap-4 max-w-3xl mx-auto w-full pt-1"
25 |     >
26 |       {messages.map((message, index) => (
27 |         <>
28 |           <ChatMessage
29 |             key={index}
30 |             role={message.role}
31 |             model={Models.claude}
32 |             text={message.content}
33 |             attachments={message.experimental_attachments || []}
34 |             setCurrentArtifact={setCurrentArtifact}
35 |           />
36 | 
37 |           {index !== messages.length - 1 && <Separator />}
38 |         </>
39 |       ))}
40 |     </div>
41 |   );
42 | };
43 | 


--------------------------------------------------------------------------------
/components/chat/message.tsx:
--------------------------------------------------------------------------------
  1 | "use client";
  2 | 
  3 | import { Attachment, ChatMessageRoles, Models } from "@/app/types";
  4 | import { AttachmentPreviewButton } from "@/components/chat/attachment-preview-button";
  5 | import Markdown from "@/components/markdown/markdown";
  6 | import { Button } from "@/components/ui/button";
  7 | import {
  8 |   ArtifactMessagePartData,
  9 |   MessagePart as MessagePartType,
 10 |   parseMessage,
 11 | } from "@/lib/utils";
 12 | import { BotIcon, CodeIcon, Loader2Icon, UserIcon } from "lucide-react";
 13 | 
 14 | const getDisplayNameFromRole = (
 15 |   role: ChatMessageRoles,
 16 |   model: Models | null
 17 | ) => {
 18 |   if (role === "user") return "Me";
 19 | 
 20 |   switch (model) {
 21 |     case Models.claude:
 22 |       return "Claude";
 23 | 
 24 |     case Models.gpt4o:
 25 |       return "GPT 4o";
 26 | 
 27 |     default:
 28 |       return model;
 29 |   }
 30 | };
 31 | 
 32 | type Props = {
 33 |   role: ChatMessageRoles;
 34 |   model: Models | null;
 35 |   text: string;
 36 |   setCurrentArtifact: (data: ArtifactMessagePartData) => void;
 37 |   attachments: Attachment[];
 38 | };
 39 | 
 40 | export const ChatMessage = ({
 41 |   role,
 42 |   text,
 43 |   attachments,
 44 |   setCurrentArtifact,
 45 | }: Props) => {
 46 |   return (
 47 |     <div
 48 |       className={`flex items-start gap-2 px-2 py-2 rounded-md ${
 49 |         role === "tool" ? "bg-[#F4F4F4]" : "bg-white"
 50 |       }`}
 51 |     >
 52 |       <div
 53 |         className={`border rounded-md p-1 ${
 54 |           role === "user" ? "bg-white" : "bg-black border-black"
 55 |         }`}
 56 |       >
 57 |         {role === "user" ? (
 58 |           <UserIcon size={20} />
 59 |         ) : (
 60 |           <BotIcon size={20} color="white" />
 61 |         )}
 62 |       </div>
 63 | 
 64 |       <div className="flex flex-col gap-2">
 65 |         {attachments.length > 0 && (
 66 |           <div className="flex items-center gap-2 flex-wrap">
 67 |             {attachments.map((attachment, index) => (
 68 |               <AttachmentPreviewButton key={index} value={attachment} />
 69 |             ))}
 70 |           </div>
 71 |         )}
 72 | 
 73 |         {role === "user" && <Markdown text={text} />}
 74 | 
 75 |         {role === "assistant" &&
 76 |           parseMessage(text).map((part, index) => (
 77 |             <MessagePart
 78 |               data={part}
 79 |               key={index}
 80 |               setCurrentArtifact={setCurrentArtifact}
 81 |             />
 82 |           ))}
 83 |       </div>
 84 |     </div>
 85 |   );
 86 | };
 87 | 
 88 | const MessagePart = ({
 89 |   data,
 90 |   setCurrentArtifact,
 91 | }: {
 92 |   data: MessagePartType;
 93 |   setCurrentArtifact: (data: ArtifactMessagePartData) => void;
 94 | }) => {
 95 |   if (data.type === "text") return <Markdown text={data.data} />;
 96 | 
 97 |   if (data.type === "artifact")
 98 |     return (
 99 |       <Button
100 |         variant="outline"
101 |         className="flex justify-start h-fit w-fit py-0 px-0 my-2"
102 |         onClick={() => setCurrentArtifact(data.data)}
103 |       >
104 |         <div className="w-14 h-full flex items-center justify-center border-r">
105 |           {data.data.generating ? (
106 |             <Loader2Icon className="animate-spin" />
107 |           ) : (
108 |             <CodeIcon />
109 |           )}
110 |         </div>
111 | 
112 |         <div className="flex flex-col gap-0.5 items-start px-4 py-3">
113 |           <span className="break-words text-md font-semibold leading-tight">
114 |             {data.data?.title || "Generating"}
115 |           </span>
116 |           <span className="text-text-400 line-clamp-1 text-xs">
117 |             {data.data?.content ? "Click to show code" : ""}
118 |           </span>
119 |         </div>
120 |       </Button>
121 |     );
122 | 
123 |   return null;
124 | };
125 | 


--------------------------------------------------------------------------------
/components/chat/panel.tsx:
--------------------------------------------------------------------------------
  1 | "use client";
  2 | 
  3 | import { ArtifactPanel } from "@/components/artifact";
  4 | import { ChatInput, Props as ChatInputProps } from "@/components/chat/input";
  5 | import { ChatMessageList } from "@/components/chat/message-list";
  6 | import { Message, useChat } from "ai/react";
  7 | import { getSettings } from "@/lib/userSettings";
  8 | import { addMessage, createChat, getChatMessages } from "@/lib/db";
  9 | import { Loader2Icon } from "lucide-react";
 10 | import { useMutation, useQueryClient } from "@tanstack/react-query";
 11 | import { useSupabase } from "@/lib/supabase";
 12 | import { Chat, Models, Attachment } from "@/app/types";
 13 | import { ArtifactMessagePartData } from "@/lib/utils";
 14 | import toast from "react-hot-toast";
 15 | import { useRouter } from "next/navigation";
 16 | import { useWhisper as useRealWhisper } from "@chengsokdara/use-whisper";
 17 | import { Props as ReactArtifactProps } from "@/components/artifact/react";
 18 | import { useEffect, useState } from "react";
 19 | import { useScrollAnchor } from "@/lib/hooks/use-scroll-anchor";
 20 | import { useFakeWhisper } from "@/lib/hooks/use-fake-whisper";
 21 | 
 22 | type Props = {
 23 |   id: string | null;
 24 | };
 25 | 
 26 | export const ChatPanel = ({ id }: Props) => {
 27 |   // Get settings and supabase instance
 28 |   const settings = getSettings();
 29 |   const { supabase, session } = useSupabase();
 30 |   const queryClient = useQueryClient();
 31 |   const router = useRouter();
 32 | 
 33 |   // State management
 34 |   const [chatId, setChatId] = useState(id);
 35 |   const [initialMessages, setInitialMessages] = useState<Message[]>([]);
 36 |   const [fetchingMessages, setFetchingMessages] = useState(false);
 37 |   const [currentArtifact, setCurrentArtifact] =
 38 |     useState<ArtifactMessagePartData | null>(null);
 39 |   const [attachments, setAttachments] = useState<Attachment[]>([]);
 40 |   const [selectedArtifacts, setSelectedArtifacts] = useState<string[]>([]);
 41 | 
 42 |   // Fetch messages for existing chat
 43 |   const fetchMessages = async () => {
 44 |     if (chatId) {
 45 |       setFetchingMessages(true);
 46 |       const messages = await getChatMessages(supabase, chatId);
 47 |       setInitialMessages(
 48 |         messages.map((message) => ({
 49 |           id: String(message.id),
 50 |           role: message.role as Message["role"],
 51 |           content: message.text,
 52 |           experimental_attachments: (message.attachments as Attachment[]) || [],
 53 |         }))
 54 |       );
 55 |       setFetchingMessages(false);
 56 |     } else {
 57 |       setInitialMessages([]);
 58 |     }
 59 |   };
 60 | 
 61 |   useEffect(() => {
 62 |     fetchMessages();
 63 |   }, []);
 64 | 
 65 |   // Create new chat mutation
 66 |   const createChatMutation = useMutation({
 67 |     mutationFn: async ({
 68 |       title,
 69 |     }: {
 70 |       title: string;
 71 |       firstMessage: Message;
 72 |       secondMessage: Message;
 73 |     }) => await createChat(supabase, title, session?.user.id),
 74 |     onSuccess: async (newChat, { firstMessage, secondMessage }) => {
 75 |       queryClient.setQueryData<Chat[]>(["chats"], (oldChats) => {
 76 |         return [...(oldChats || []), newChat];
 77 |       });
 78 |       setChatId(newChat.id);
 79 | 
 80 |       await addMessage(supabase, newChat.id, firstMessage);
 81 |       await addMessage(supabase, newChat.id, secondMessage);
 82 | 
 83 |       router.push(`/chat/${newChat.id}`);
 84 |     },
 85 |   });
 86 | 
 87 |   // Chat hook setup
 88 |   const {
 89 |     messages,
 90 |     input,
 91 |     setInput,
 92 |     append,
 93 |     stop: stopGenerating,
 94 |     isLoading: generatingResponse,
 95 |   } = useChat({
 96 |     initialMessages,
 97 |     onFinish: async (message) => {
 98 |       if (chatId) {
 99 |         await addMessage(supabase, chatId, message);
100 |       }
101 |     },
102 |     sendExtraMessageFields: true,
103 |   });
104 | 
105 |   // Scroll as new messages are added
106 |   const { messagesRef, scrollRef, showScrollButton, handleManualScroll } =
107 |     useScrollAnchor(messages);
108 | 
109 |   // Create new chat when conditions are met
110 |   useEffect(() => {
111 |     if (!chatId && messages.length === 2 && !generatingResponse) {
112 |       createChatMutation.mutate({
113 |         title: messages[0].content.slice(0, 100),
114 |         firstMessage: messages[0],
115 |         secondMessage: messages[1],
116 |       });
117 |     }
118 |   }, [chatId, messages, generatingResponse]);
119 | 
120 |   // Whisper hook setup for voice input
121 |   const useWhispherHook = getSettings().openaiApiKey
122 |     ? useRealWhisper
123 |     : useFakeWhisper;
124 |   const { recording, transcribing, transcript, startRecording, stopRecording } =
125 |     useWhispherHook({
126 |       apiKey: getSettings().openaiApiKey,
127 |     });
128 | 
129 |   // Update input with transcribed text
130 |   useEffect(() => {
131 |     if (!recording && !transcribing && transcript?.text) {
132 |       setInput((prev) => prev + ` ${transcript.text}`);
133 |     }
134 |   }, [recording, transcribing, transcript?.text, setInput]);
135 | 
136 |   // Handle artifact capture
137 |   const handleCapture: ReactArtifactProps["onCapture"] = ({
138 |     selectionImg,
139 |     artifactImg,
140 |   }) => {
141 |     setAttachments((prev) => [
142 |       ...prev,
143 |       {
144 |         contentType: "image/png",
145 |         url: selectionImg,
146 |       },
147 |     ]);
148 | 
149 |     setSelectedArtifacts((prev) => {
150 |       if (prev.includes(artifactImg)) return prev;
151 |       return [...prev, artifactImg];
152 |     });
153 |   };
154 | 
155 |   // Handle attachment management
156 |   const handleAddAttachment: ChatInputProps["onAddAttachment"] = (
157 |     newAttachments
158 |   ) => {
159 |     setAttachments((prev) => [...prev, ...newAttachments]);
160 |   };
161 | 
162 |   const handleRemoveAttachment: ChatInputProps["onRemoveAttachment"] = (
163 |     attachment
164 |   ) => {
165 |     setAttachments((prev) =>
166 |       prev.filter((item) => item.url !== attachment.url)
167 |     );
168 |   };
169 | 
170 |   // Handle sending messages
171 |   const handleSend = async () => {
172 |     const query = input.trim();
173 |     if (!query) return;
174 | 
175 |     const settings = getSettings();
176 | 
177 |     if (settings.model === Models.claude && !settings.anthropicApiKey) {
178 |       toast.error("Please enter your Claude API Key");
179 |       return;
180 |     }
181 | 
182 |     if (settings.model.startsWith("gpt") && !settings.openaiApiKey) {
183 |       toast.error("Please enter your OpenAI API Key");
184 |       return;
185 |     }
186 | 
187 |     const messageAttachments = [
188 |       ...attachments
189 |         .filter((item) => item.contentType?.startsWith("image"))
190 |         .map((item) => ({ url: item.url, contentType: item.contentType })),
191 |       ...selectedArtifacts.map((url) => ({ url })),
192 |     ];
193 | 
194 |     append(
195 |       {
196 |         role: "user",
197 |         content: query,
198 |         experimental_attachments: messageAttachments,
199 |       },
200 |       {
201 |         body: {
202 |           model: settings.model,
203 |           apiKey: settings.model.startsWith("gpt")
204 |             ? settings.openaiApiKey
205 |             : settings.anthropicApiKey,
206 |         },
207 |       }
208 |     );
209 | 
210 |     setInput("");
211 |     stopRecording();
212 | 
213 |     if (chatId) {
214 |       await addMessage(
215 |         supabase,
216 |         chatId,
217 |         { role: "user", content: query },
218 |         attachments
219 |       );
220 |     }
221 | 
222 |     setAttachments([]);
223 |     setSelectedArtifacts([]);
224 |   };
225 | 
226 |   return (
227 |     <>
228 |       <div
229 |         className="relative flex w-full flex-1 overflow-x-hidden overflow-y-scroll pt-6"
230 |         ref={scrollRef}
231 |       >
232 |         <div className="relative mx-auto flex h-full w-full min-w-[400px] max-w-3xl flex-1 flex-col md:px-2">
233 |           {fetchingMessages && <Loader2Icon className="animate-spin mx-auto" />}
234 | 
235 |           <ChatMessageList
236 |             messages={messages}
237 |             setCurrentArtifact={setCurrentArtifact}
238 |             containerRef={messagesRef}
239 |           />
240 | 
241 |           <ChatInput
242 |             input={input}
243 |             setInput={setInput}
244 |             onSubmit={handleSend}
245 |             isLoading={generatingResponse}
246 |             recording={recording}
247 |             onStartRecord={startRecording}
248 |             onStopRecord={stopRecording}
249 |             attachments={attachments}
250 |             onAddAttachment={handleAddAttachment}
251 |             onRemoveAttachment={handleRemoveAttachment}
252 |             showScrollButton={showScrollButton}
253 |             handleManualScroll={handleManualScroll}
254 |             stopGenerating={stopGenerating}
255 |           />
256 |         </div>
257 |       </div>
258 | 
259 |       {currentArtifact && (
260 |         <div className="w-full max-w-xl h-full max-h-full pt-6 pb-4">
261 |           <ArtifactPanel
262 |             title={currentArtifact.title}
263 |             id={currentArtifact.id}
264 |             type={currentArtifact.type}
265 |             generating={currentArtifact.generating}
266 |             content={currentArtifact.content}
267 |             language={currentArtifact.language}
268 |             onClose={() => setCurrentArtifact(null)}
269 |             recording={recording}
270 |             onCapture={handleCapture}
271 |           />
272 |         </div>
273 |       )}
274 |     </>
275 |   );
276 | };
277 | 


--------------------------------------------------------------------------------
/components/homepage-link.tsx:
--------------------------------------------------------------------------------
 1 | import Link from "next/link";
 2 | 
 3 | export const HomePageLink = () => (
 4 |   <Link href="/">
 5 |     <h1 className="text-5xl font-bold tracking-tight text-[#131316] relative">
 6 |       Open Artifacts
 7 |     </h1>
 8 |   </Link>
 9 | );
10 | 


--------------------------------------------------------------------------------
/components/markdown/code-block.tsx:
--------------------------------------------------------------------------------
  1 | "use client";
  2 | 
  3 | import { Check, Copy, Download } from "lucide-react";
  4 | import { Prism as SyntaxHighlighter } from "react-syntax-highlighter";
  5 | import { oneDark } from "react-syntax-highlighter/dist/cjs/styles/prism";
  6 | 
  7 | import { useCopyToClipboard } from "@/lib/hooks/use-copy-to-clipboard";
  8 | import { twMerge } from "tailwind-merge";
  9 | 
 10 | interface Props {
 11 |   language: string;
 12 |   value: string;
 13 |   showHeader?: boolean;
 14 |   className?: string;
 15 | }
 16 | 
 17 | interface languageMap {
 18 |   [key: string]: string | undefined;
 19 | }
 20 | 
 21 | export const programmingLanguages: languageMap = {
 22 |   javascript: ".js",
 23 |   python: ".py",
 24 |   java: ".java",
 25 |   c: ".c",
 26 |   cpp: ".cpp",
 27 |   "c++": ".cpp",
 28 |   "c#": ".cs",
 29 |   ruby: ".rb",
 30 |   php: ".php",
 31 |   swift: ".swift",
 32 |   "objective-c": ".m",
 33 |   kotlin: ".kt",
 34 |   typescript: ".ts",
 35 |   go: ".go",
 36 |   perl: ".pl",
 37 |   rust: ".rs",
 38 |   scala: ".scala",
 39 |   haskell: ".hs",
 40 |   lua: ".lua",
 41 |   shell: ".sh",
 42 |   sql: ".sql",
 43 |   html: ".html",
 44 |   css: ".css",
 45 | };
 46 | 
 47 | export const generateRandomString = (length: number, lowercase = false) => {
 48 |   const chars = "ABCDEFGHJKLMNPQRSTUVWXY3456789"; // excluding similar looking characters like Z, 2, I, 1, O, 0
 49 |   let result = "";
 50 |   for (let i = 0; i < length; i++) {
 51 |     result += chars.charAt(Math.floor(Math.random() * chars.length));
 52 |   }
 53 |   return lowercase ? result.toLowerCase() : result;
 54 | };
 55 | 
 56 | const CodeBlock = ({
 57 |   language,
 58 |   value,
 59 |   showHeader = true,
 60 |   className = "",
 61 | }: Props) => {
 62 |   // * Copy to clipboard is used in multiple places, so using a custom hook
 63 |   const { isCopied, copyToClipboard } = useCopyToClipboard({
 64 |     timeout: 2000,
 65 |   });
 66 | 
 67 |   function onCopy() {
 68 |     if (isCopied) return;
 69 |     copyToClipboard(value);
 70 |   }
 71 | 
 72 |   const downloadAsFile = () => {
 73 |     const fileExtension = programmingLanguages[language] || ".file";
 74 |     const suggestedFileName = `file-${generateRandomString(
 75 |       3,
 76 |       true
 77 |     )}${fileExtension}`;
 78 |     const fileName = window.prompt("Enter file name" || "", suggestedFileName);
 79 | 
 80 |     if (!fileName) {
 81 |       // user pressed cancel on prompt
 82 |       return;
 83 |     }
 84 | 
 85 |     const blob = new Blob([value], { type: "text/plain" });
 86 |     const url = URL.createObjectURL(blob);
 87 |     const link = document.createElement("a");
 88 |     link.download = fileName;
 89 |     link.href = url;
 90 |     link.style.display = "none";
 91 |     document.body.appendChild(link);
 92 |     link.click();
 93 |     document.body.removeChild(link);
 94 |     URL.revokeObjectURL(url);
 95 |   };
 96 | 
 97 |   return (
 98 |     <div className={twMerge("codeblock relative w-full font-sans", className)}>
 99 |       {showHeader && (
100 |         <div className="flex items-center justify-between rounded-t-lg bg-zinc-700 px-4 py-1">
101 |           <span className="text-xs lowercase text-white">{language}</span>
102 |           <div className="flex items-center gap-2">
103 |             <button
104 |               aria-label="Copy code"
105 |               className="flex items-center gap-1.5 rounded bg-none p-1 text-xs text-white"
106 |               onClick={onCopy}
107 |             >
108 |               {isCopied ? (
109 |                 <Check className="size-4" aria-hidden="true" />
110 |               ) : (
111 |                 <Copy className="size-4" aria-hidden="true" />
112 |               )}
113 |               {isCopied ? "Copied!" : "Copy code"}
114 |             </button>
115 |             <button
116 |               aria-label="Download code"
117 |               className="flex items-center rounded bg-none p-1 text-xs text-white"
118 |               onClick={downloadAsFile}
119 |             >
120 |               <Download className="size-4" aria-hidden="true" />
121 |             </button>
122 |           </div>
123 |         </div>
124 |       )}
125 | 
126 |       <SyntaxHighlighter
127 |         language={language}
128 |         style={oneDark}
129 |         PreTag="div"
130 |         showLineNumbers
131 |         customStyle={{
132 |           margin: 0,
133 |           width: "100%",
134 |           padding: "1.5rem 1rem",
135 |           borderBottomLeftRadius: "8px",
136 |           borderBottomRightRadius: "8px",
137 |         }}
138 |         codeTagProps={{
139 |           style: {
140 |             fontSize: "0.9rem",
141 |             fontFamily: "var(--font-inter)",
142 |           },
143 |         }}
144 |       >
145 |         {value}
146 |       </SyntaxHighlighter>
147 |     </div>
148 |   );
149 | };
150 | 
151 | CodeBlock.displayName = "CodeBlock";
152 | 
153 | export { CodeBlock };
154 | 


--------------------------------------------------------------------------------
/components/markdown/markdown.tsx:
--------------------------------------------------------------------------------
 1 | "use client";
 2 | 
 3 | import React from "react";
 4 | import remarkGfm from "remark-gfm";
 5 | import { twMerge } from "tailwind-merge";
 6 | 
 7 | import { CodeBlock } from "@/components/markdown/code-block";
 8 | import { MemoizedReactMarkdown } from "@/components/markdown/memoized-react-markdownn";
 9 | 
10 | type Props = { text: string; className?: string };
11 | 
12 | export default function Markdown({ text, className = "" }: Props) {
13 |   return (
14 |     <MemoizedReactMarkdown
15 |       className={twMerge(
16 |         "prose text-black dark:prose-invert prose-p:leading-relaxed prose-pre:p-0 max-w-none break-words",
17 |         className
18 |       )}
19 |       remarkPlugins={[remarkGfm]}
20 |       components={{
21 |         p({ children }) {
22 |           return <p className="mb-2 last:mb-0">{children}</p>;
23 |         },
24 |         a({ node, href, children, ...props }) {
25 |           const childrenArray = React.Children.toArray(children);
26 |           const childrenText = childrenArray
27 |             .map((child) => child?.toString() ?? "")
28 |             .join("");
29 | 
30 |           const cleanedText = childrenText.replace(/\[|\]/g, "");
31 |           const isNumber = /^\d+$/.test(cleanedText);
32 | 
33 |           return isNumber ? (
34 |             <a
35 |               href={href}
36 |               target="_blank"
37 |               rel="noreferrer"
38 |               {...props}
39 |               className="bg-mountain-meadow-100 hover:bg-mountain-meadow-100/80 dark:bg-colour-primary-800 dark:hover:bg-colour-primary-800/80 relative bottom-[6px] mx-0.5 rounded px-[5px] py-[2px] text-[8px] font-bold no-underline"
40 |             >
41 |               {children}
42 |             </a>
43 |           ) : (
44 |             <a
45 |               href={href}
46 |               target="_blank"
47 |               rel="noreferrer"
48 |               {...props}
49 |               className="hover:underline"
50 |             >
51 |               {children}
52 |             </a>
53 |           );
54 |         },
55 | 
56 |         code(props) {
57 |           const { children, className, node, ...rest } = props;
58 |           const match = /language-(\w+)/.exec(className || "");
59 |           return match ? (
60 |             <CodeBlock
61 |               key={crypto.randomUUID()}
62 |               language={(match && match[1]) || ""}
63 |               value={String(children).replace(/\n$/, "")}
64 |               {...props}
65 |             />
66 |           ) : (
67 |             <code {...rest} className={className}>
68 |               {children}
69 |             </code>
70 |           );
71 |         },
72 |       }}
73 |     >
74 |       {text}
75 |     </MemoizedReactMarkdown>
76 |   );
77 | }
78 | 


--------------------------------------------------------------------------------
/components/markdown/memoized-react-markdownn.tsx:
--------------------------------------------------------------------------------
 1 | import { type FC, memo } from "react";
 2 | import ReactMarkdown, { type Options } from "react-markdown";
 3 | 
 4 | export const MemoizedReactMarkdown: FC<Options> = memo(
 5 |   ReactMarkdown,
 6 |   (prevProps, nextProps) =>
 7 |     prevProps.children === nextProps.children &&
 8 |     prevProps.className === nextProps.className
 9 | );
10 | 


--------------------------------------------------------------------------------
/components/oauth-provider-button.tsx:
--------------------------------------------------------------------------------
 1 | import { OAuthProviders } from "@/app/types";
 2 | import { Button } from "@/components/ui";
 3 | import Image from "next/image";
 4 | import { ButtonHTMLAttributes } from "react";
 5 | import { twMerge } from "tailwind-merge";
 6 | 
 7 | type Props = {
 8 |   provider: OAuthProviders;
 9 | } & ButtonHTMLAttributes<HTMLButtonElement>;
10 | 
11 | export const OAuthProviderButton = ({
12 |   onClick,
13 |   className = "",
14 |   children,
15 |   provider,
16 | }: Props) => {
17 |   return (
18 |     <Button
19 |       onClick={onClick}
20 |       className={twMerge(
21 |         "w-full bg-white text-gray-700 font-semibold py-2 px-4 border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 flex items-center justify-center",
22 |         className
23 |       )}
24 |     >
25 |       <Image
26 |         src={`/${provider}.svg`}
27 |         alt={provider}
28 |         width={20}
29 |         height={20}
30 |         className="mr-2"
31 |       />
32 | 
33 |       {children}
34 |     </Button>
35 |   );
36 | };
37 | 


--------------------------------------------------------------------------------
/components/selection-tool.tsx:
--------------------------------------------------------------------------------
  1 | import React, { useState, useCallback, useRef, RefObject } from "react";
  2 | 
  3 | export type SelectionRect = {
  4 |   x: number;
  5 |   y: number;
  6 |   width: number;
  7 |   height: number;
  8 | };
  9 | 
 10 | export type Props = {
 11 |   targetRef: RefObject<HTMLElement>;
 12 |   onSelect: (selectionRect: SelectionRect) => void;
 13 | };
 14 | 
 15 | const SelectionTool = ({ targetRef, onSelect }: Props) => {
 16 |   const [isSelecting, setIsSelecting] = useState(false);
 17 |   const [selectionRect, setSelectionRect] = useState<SelectionRect>({
 18 |     x: 0,
 19 |     y: 0,
 20 |     width: 0,
 21 |     height: 0,
 22 |   });
 23 |   const [startPos, setStartPos] = useState({ x: 0, y: 0 });
 24 |   const overlayRef = useRef<HTMLDivElement>(null);
 25 |   const selectionRef = useRef<HTMLDivElement>(null);
 26 | 
 27 |   const startSelection = useCallback((e: React.MouseEvent) => {
 28 |     if (!targetRef.current) return;
 29 | 
 30 |     const panelRect = targetRef.current.getBoundingClientRect();
 31 |     const x = e.clientX - panelRect.left;
 32 |     const y = e.clientY - panelRect.top;
 33 | 
 34 |     // Only start selection if the click is inside the ArtifactPanel
 35 |     if (x >= 0 && x <= panelRect.width && y >= 0 && y <= panelRect.height) {
 36 |       setIsSelecting(true);
 37 |       setStartPos({ x, y });
 38 |     }
 39 |   }, []);
 40 | 
 41 |   const updateSelection = useCallback(
 42 |     (e: React.MouseEvent) => {
 43 |       if (!isSelecting || !targetRef.current) return;
 44 | 
 45 |       const panelRect = targetRef.current.getBoundingClientRect();
 46 |       const currentX = Math.min(
 47 |         Math.max(e.clientX - panelRect.left, 0),
 48 |         panelRect.width
 49 |       );
 50 |       const currentY = Math.min(
 51 |         Math.max(e.clientY - panelRect.top, 0),
 52 |         panelRect.height
 53 |       );
 54 | 
 55 |       setSelectionRect({
 56 |         x: Math.min(currentX, startPos.x),
 57 |         y: Math.min(currentY, startPos.y),
 58 |         width: Math.abs(currentX - startPos.x),
 59 |         height: Math.abs(currentY - startPos.y),
 60 |       });
 61 |     },
 62 |     [isSelecting, startPos]
 63 |   );
 64 | 
 65 |   const endSelection = useCallback(() => {
 66 |     setIsSelecting(false);
 67 |     if (selectionRect.width > 10 && selectionRect.height > 10) {
 68 |       onSelect(selectionRect);
 69 |     }
 70 |   }, [selectionRect]);
 71 | 
 72 |   return (
 73 |     <div
 74 |       ref={overlayRef}
 75 |       style={{
 76 |         position: "absolute",
 77 |         top: 0,
 78 |         left: 0,
 79 |         width: "100%",
 80 |         height: "100%",
 81 |         backgroundColor: "rgba(0, 0, 0, 0.05)",
 82 |         cursor: "crosshair",
 83 |         zIndex: 999,
 84 |       }}
 85 |       onMouseDown={startSelection}
 86 |       onMouseMove={updateSelection}
 87 |       onMouseUp={endSelection}
 88 |     >
 89 |       {isSelecting && (
 90 |         <div
 91 |           ref={selectionRef}
 92 |           className="border-2 border-red-600"
 93 |           style={{
 94 |             position: "absolute",
 95 |             left: selectionRect.x,
 96 |             top: selectionRect.y,
 97 |             width: selectionRect.width,
 98 |             height: selectionRect.height,
 99 |             pointerEvents: "none",
100 |           }}
101 |         />
102 |       )}
103 |     </div>
104 |   );
105 | };
106 | 
107 | export default SelectionTool;
108 | 


--------------------------------------------------------------------------------
/components/side-navbar/chat-item.tsx:
--------------------------------------------------------------------------------
 1 | import Link from "next/link";
 2 | 
 3 | type ChatItemProps = {
 4 |   selected: boolean;
 5 |   id: string;
 6 |   title: string;
 7 | };
 8 | 
 9 | export const ChatItem = ({ id, title, selected }: ChatItemProps) => {
10 |   return (
11 |     <Link href={`/chat/${id}`}>
12 |       <div
13 |         className={`group cursor-pointer flex items-center gap-2 justify-between px-2 py-1 rounded-md w-full ${
14 |           selected ? "bg-slate-200" : "bg-transparent"
15 |         } hover:bg-slate-200`}
16 |       >
17 |         <span className="flex-1 truncate text-sm">{title}</span>
18 | 
19 |         {/* <Button
20 |         className="invisible group-hover:visible w-fit h-fit px-2 py-1 hover:bg-slate-200"
21 |         variant="ghost"
22 |       >
23 |         <EllipsisIcon className="w-4 h-4" />
24 |       </Button> */}
25 |       </div>
26 |     </Link>
27 |   );
28 | };
29 | 


--------------------------------------------------------------------------------
/components/side-navbar/index.tsx:
--------------------------------------------------------------------------------
  1 | "use client";
  2 | 
  3 | import { ChatItem } from "@/components/side-navbar/chat-item";
  4 | import { UserSettings } from "@/components/side-navbar/user-settings";
  5 | import { Button } from "@/components/ui/button";
  6 | import { UserButton } from "@/components/user-button";
  7 | import { getChats } from "@/lib/db";
  8 | import { useSupabase } from "@/lib/supabase";
  9 | import { useQuery } from "@tanstack/react-query";
 10 | import { Loader2Icon, SidebarIcon, SquarePenIcon } from "lucide-react";
 11 | import Image from "next/image";
 12 | import Link from "next/link";
 13 | import { useParams } from "next/navigation";
 14 | import { useState } from "react";
 15 | 
 16 | export const SideNavBar = () => {
 17 |   const [open, setOpen] = useState(false);
 18 | 
 19 |   const params = useParams();
 20 | 
 21 |   const { supabase, session } = useSupabase();
 22 |   const userId = session?.user.id;
 23 | 
 24 |   const {
 25 |     data: chats,
 26 |     error,
 27 |     isLoading,
 28 |   } = useQuery({
 29 |     queryKey: ["chats"],
 30 |     queryFn: async () => await getChats(supabase, userId),
 31 |     enabled: !!userId,
 32 |   });
 33 | 
 34 |   if (open) {
 35 |     return (
 36 |       <div className="h-screen max-h-screen overflow-hidden flex flex-col gap-4 justify-between px-2 py-2 pb-4 bg-slate-50 w-[200px]">
 37 |         <div className="flex flex-col gap-2">
 38 |           <Link href="/" className="text-lg font-semibold text-center">
 39 |             Open Artifacts
 40 |           </Link>
 41 | 
 42 |           <div className="flex items-center justify-between gap-2">
 43 |             <Button onClick={() => setOpen(false)} size="icon" variant="ghost">
 44 |               <SidebarIcon className="w-4 h-4" />
 45 |             </Button>
 46 | 
 47 |             <Link href="/new">
 48 |               <Button size="icon" variant="ghost">
 49 |                 <SquarePenIcon className="w-4 h-4" />
 50 |               </Button>
 51 |             </Link>
 52 |           </div>
 53 |         </div>
 54 | 
 55 |         <div className="flex flex-col flex-1 gap-2 overflow-hidden">
 56 |           <span className="font-medium">Chats</span>
 57 |           {chats && (
 58 |             <div className="flex flex-col flex-1 gap-2 overflow-auto">
 59 |               {chats.map((item, index) => (
 60 |                 <ChatItem
 61 |                   key={index}
 62 |                   id={item.id}
 63 |                   title={item.title}
 64 |                   selected={item.id === params.id}
 65 |                 />
 66 |               ))}
 67 |             </div>
 68 |           )}
 69 | 
 70 |           {isLoading && <Loader2Icon className="w-4 h-4 animate-spin" />}
 71 |           {error && <p className="text-red-500">Could not fetch chats</p>}
 72 |         </div>
 73 | 
 74 |         <div className="flex flex-col gap-4 mt-2">
 75 |           <a
 76 |             href="https://github.com/13point5/open-artifacts"
 77 |             target="_blank"
 78 |             className="text-black flex items-center gap-4 px-1"
 79 |           >
 80 |             <Image src="/github.svg" height="24" width="24" alt="github logo" />
 81 |             <span className="text-sm font-medium">GitHub Repo</span>
 82 |           </a>
 83 |           <UserSettings showLabel />
 84 |           <UserButton expanded />
 85 |         </div>
 86 |       </div>
 87 |     );
 88 |   }
 89 | 
 90 |   return (
 91 |     <div className="h-screen max-h-screen flex flex-col gap-2 justify-between px-2 py-2 pb-4 items-center">
 92 |       <div className="flex flex-col gap-2">
 93 |         <Link href="/" className="text-lg font-semibold text-center">
 94 |           OA
 95 |         </Link>
 96 | 
 97 |         <div className="flex items-center gap-2">
 98 |           <Button onClick={() => setOpen(true)} size="icon" variant="ghost">
 99 |             <SidebarIcon className="w-4 h-4" />
100 |           </Button>
101 | 
102 |           <Link href="/new">
103 |             <Button size="icon" variant="ghost">
104 |               <SquarePenIcon className="w-4 h-4" />
105 |             </Button>
106 |           </Link>
107 |         </div>
108 |       </div>
109 | 
110 |       <div className="flex flex-col items-center gap-4">
111 |         <a
112 |           href="https://github.com/13point5/open-artifacts"
113 |           target="_blank"
114 |           className="text-black"
115 |         >
116 |           <Image src="/github.svg" height="24" width="24" alt="github logo" />
117 |         </a>
118 |         <UserSettings />
119 |         <UserButton />
120 |       </div>
121 |     </div>
122 |   );
123 | };
124 | 


--------------------------------------------------------------------------------
/components/side-navbar/user-settings.tsx:
--------------------------------------------------------------------------------
  1 | "use client";
  2 | 
  3 | import { Button } from "@/components/ui/button";
  4 | import { SettingsIcon } from "lucide-react";
  5 | import {
  6 |   Dialog,
  7 |   DialogContent,
  8 |   DialogFooter,
  9 |   DialogHeader,
 10 |   DialogTitle,
 11 |   DialogTrigger,
 12 | } from "@/components/ui/dialog";
 13 | import { zodResolver } from "@hookform/resolvers/zod";
 14 | import { useForm } from "react-hook-form";
 15 | import {
 16 |   Form,
 17 |   FormControl,
 18 |   FormField,
 19 |   FormItem,
 20 |   FormLabel,
 21 |   FormMessage,
 22 | } from "@/components/ui/form";
 23 | import { Input } from "@/components/ui/input";
 24 | import {
 25 |   getSettings,
 26 |   SettingsSchema,
 27 |   settingsSchema,
 28 |   updateSettings,
 29 | } from "@/lib/userSettings";
 30 | import toast from "react-hot-toast";
 31 | 
 32 | type Props = {
 33 |   showLabel?: boolean;
 34 | };
 35 | 
 36 | export const UserSettings = ({ showLabel = false }: Props) => {
 37 |   const form = useForm<SettingsSchema>({
 38 |     resolver: zodResolver(settingsSchema),
 39 |     defaultValues: getSettings(),
 40 |   });
 41 | 
 42 |   function onSubmit(values: SettingsSchema) {
 43 |     updateSettings({
 44 |       ...getSettings(),
 45 |       ...values,
 46 |     });
 47 |     toast.success("Saved settings!", {
 48 |       position: "bottom-center",
 49 |     });
 50 |   }
 51 | 
 52 |   return (
 53 |     <Dialog>
 54 |       <DialogTrigger className="w-full flex items-center justify-start gap-4 px-1">
 55 |         <SettingsIcon className="w-6 h-6" />
 56 | 
 57 |         {showLabel && <span className="font-medium text-sm">Settings</span>}
 58 |       </DialogTrigger>
 59 | 
 60 |       <DialogContent>
 61 |         <Form {...form}>
 62 |           <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-8">
 63 |             <DialogHeader>
 64 |               <DialogTitle>Settings</DialogTitle>
 65 |             </DialogHeader>
 66 | 
 67 |             <FormField
 68 |               control={form.control}
 69 |               name="anthropicApiKey"
 70 |               render={({ field }) => (
 71 |                 <FormItem>
 72 |                   <FormLabel>Anthropic API Key</FormLabel>
 73 |                   <FormControl>
 74 |                     <Input {...field} type="password" />
 75 |                   </FormControl>
 76 |                   <FormMessage />
 77 |                 </FormItem>
 78 |               )}
 79 |             />
 80 | 
 81 |             <FormField
 82 |               control={form.control}
 83 |               name="openaiApiKey"
 84 |               render={({ field }) => (
 85 |                 <FormItem>
 86 |                   <FormLabel>OpenAI API Key</FormLabel>
 87 |                   <FormControl>
 88 |                     <Input {...field} type="password" />
 89 |                   </FormControl>
 90 |                   <FormMessage />
 91 |                 </FormItem>
 92 |               )}
 93 |             />
 94 | 
 95 |             <DialogFooter>
 96 |               <Button variant="outline">Cancel</Button>
 97 |               <Button type="submit">Save</Button>
 98 |             </DialogFooter>
 99 |           </form>
100 |         </Form>
101 |       </DialogContent>
102 |     </Dialog>
103 |   );
104 | };
105 | 


--------------------------------------------------------------------------------
/components/social-footer.tsx:
--------------------------------------------------------------------------------
 1 | export const SocialFooter = () => {
 2 |   return (
 3 |     <footer className="flex flex-wrap items-center gap-x-1 gap-y-2 text-sm">
 4 |       <span>Built by</span>
 5 |       <a
 6 |         href="https://www.linkedin.com/in/13point5/"
 7 |         target="_blank"
 8 |         rel="noopener noreferrer"
 9 |         className="font-bold transition hover:text-black/50 flex items-center gap-1"
10 |       >
11 |         Sriraam
12 |       </a>
13 |       <span className="hidden sm:inline">|</span>
14 |       <span>Open Sourced on</span>
15 |       <a
16 |         href="https://github.com/13point5/open-artifacts"
17 |         target="_blank"
18 |         rel="noopener noreferrer"
19 |         className="font-bold transition hover:text-black/50 flex items-center gap-1"
20 |       >
21 |         GitHub
22 |       </a>
23 |     </footer>
24 |   );
25 | };
26 | 


--------------------------------------------------------------------------------
/components/ui/alert-dialog.tsx:
--------------------------------------------------------------------------------
  1 | "use client"
  2 | 
  3 | import * as React from "react"
  4 | import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog"
  5 | 
  6 | import { cn } from "@/lib/utils"
  7 | import { buttonVariants } from "@/components/ui/button"
  8 | 
  9 | const AlertDialog = AlertDialogPrimitive.Root
 10 | 
 11 | const AlertDialogTrigger = AlertDialogPrimitive.Trigger
 12 | 
 13 | const AlertDialogPortal = AlertDialogPrimitive.Portal
 14 | 
 15 | const AlertDialogOverlay = React.forwardRef<
 16 |   React.ElementRef<typeof AlertDialogPrimitive.Overlay>,
 17 |   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>
 18 | >(({ className, ...props }, ref) => (
 19 |   <AlertDialogPrimitive.Overlay
 20 |     className={cn(
 21 |       "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
 22 |       className
 23 |     )}
 24 |     {...props}
 25 |     ref={ref}
 26 |   />
 27 | ))
 28 | AlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName
 29 | 
 30 | const AlertDialogContent = React.forwardRef<
 31 |   React.ElementRef<typeof AlertDialogPrimitive.Content>,
 32 |   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>
 33 | >(({ className, ...props }, ref) => (
 34 |   <AlertDialogPortal>
 35 |     <AlertDialogOverlay />
 36 |     <AlertDialogPrimitive.Content
 37 |       ref={ref}
 38 |       className={cn(
 39 |         "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
 40 |         className
 41 |       )}
 42 |       {...props}
 43 |     />
 44 |   </AlertDialogPortal>
 45 | ))
 46 | AlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName
 47 | 
 48 | const AlertDialogHeader = ({
 49 |   className,
 50 |   ...props
 51 | }: React.HTMLAttributes<HTMLDivElement>) => (
 52 |   <div
 53 |     className={cn(
 54 |       "flex flex-col space-y-2 text-center sm:text-left",
 55 |       className
 56 |     )}
 57 |     {...props}
 58 |   />
 59 | )
 60 | AlertDialogHeader.displayName = "AlertDialogHeader"
 61 | 
 62 | const AlertDialogFooter = ({
 63 |   className,
 64 |   ...props
 65 | }: React.HTMLAttributes<HTMLDivElement>) => (
 66 |   <div
 67 |     className={cn(
 68 |       "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
 69 |       className
 70 |     )}
 71 |     {...props}
 72 |   />
 73 | )
 74 | AlertDialogFooter.displayName = "AlertDialogFooter"
 75 | 
 76 | const AlertDialogTitle = React.forwardRef<
 77 |   React.ElementRef<typeof AlertDialogPrimitive.Title>,
 78 |   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>
 79 | >(({ className, ...props }, ref) => (
 80 |   <AlertDialogPrimitive.Title
 81 |     ref={ref}
 82 |     className={cn("text-lg font-semibold", className)}
 83 |     {...props}
 84 |   />
 85 | ))
 86 | AlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName
 87 | 
 88 | const AlertDialogDescription = React.forwardRef<
 89 |   React.ElementRef<typeof AlertDialogPrimitive.Description>,
 90 |   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>
 91 | >(({ className, ...props }, ref) => (
 92 |   <AlertDialogPrimitive.Description
 93 |     ref={ref}
 94 |     className={cn("text-sm text-muted-foreground", className)}
 95 |     {...props}
 96 |   />
 97 | ))
 98 | AlertDialogDescription.displayName =
 99 |   AlertDialogPrimitive.Description.displayName
100 | 
101 | const AlertDialogAction = React.forwardRef<
102 |   React.ElementRef<typeof AlertDialogPrimitive.Action>,
103 |   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>
104 | >(({ className, ...props }, ref) => (
105 |   <AlertDialogPrimitive.Action
106 |     ref={ref}
107 |     className={cn(buttonVariants(), className)}
108 |     {...props}
109 |   />
110 | ))
111 | AlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName
112 | 
113 | const AlertDialogCancel = React.forwardRef<
114 |   React.ElementRef<typeof AlertDialogPrimitive.Cancel>,
115 |   React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>
116 | >(({ className, ...props }, ref) => (
117 |   <AlertDialogPrimitive.Cancel
118 |     ref={ref}
119 |     className={cn(
120 |       buttonVariants({ variant: "outline" }),
121 |       "mt-2 sm:mt-0",
122 |       className
123 |     )}
124 |     {...props}
125 |   />
126 | ))
127 | AlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName
128 | 
129 | export {
130 |   AlertDialog,
131 |   AlertDialogPortal,
132 |   AlertDialogOverlay,
133 |   AlertDialogTrigger,
134 |   AlertDialogContent,
135 |   AlertDialogHeader,
136 |   AlertDialogFooter,
137 |   AlertDialogTitle,
138 |   AlertDialogDescription,
139 |   AlertDialogAction,
140 |   AlertDialogCancel,
141 | }
142 | 


--------------------------------------------------------------------------------
/components/ui/button.tsx:
--------------------------------------------------------------------------------
 1 | import * as React from "react";
 2 | import { Slot } from "@radix-ui/react-slot";
 3 | import { cva, type VariantProps } from "class-variance-authority";
 4 | 
 5 | import { cn } from "@/lib/utils";
 6 | 
 7 | const buttonVariants = cva(
 8 |   "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:cursor-not-allowed",
 9 |   {
10 |     variants: {
11 |       variant: {
12 |         default: "bg-primary text-primary-foreground hover:bg-primary/90",
13 |         destructive:
14 |           "bg-destructive text-destructive-foreground hover:bg-destructive/90",
15 |         outline:
16 |           "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
17 |         secondary:
18 |           "bg-secondary text-secondary-foreground hover:bg-secondary/80",
19 |         ghost: "hover:bg-accent hover:text-accent-foreground",
20 |         link: "text-primary underline-offset-4 hover:underline",
21 |       },
22 |       size: {
23 |         default: "h-10 px-4 py-2",
24 |         sm: "h-9 rounded-md px-3",
25 |         lg: "h-11 rounded-md px-8",
26 |         icon: "h-10 w-10",
27 |       },
28 |     },
29 |     defaultVariants: {
30 |       variant: "default",
31 |       size: "default",
32 |     },
33 |   }
34 | );
35 | 
36 | export interface ButtonProps
37 |   extends React.ButtonHTMLAttributes<HTMLButtonElement>,
38 |     VariantProps<typeof buttonVariants> {
39 |   asChild?: boolean;
40 | }
41 | 
42 | const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
43 |   ({ className, variant, size, asChild = false, ...props }, ref) => {
44 |     const Comp = asChild ? Slot : "button";
45 |     return (
46 |       <Comp
47 |         className={cn(buttonVariants({ variant, size, className }))}
48 |         ref={ref}
49 |         {...props}
50 |       />
51 |     );
52 |   }
53 | );
54 | Button.displayName = "Button";
55 | 
56 | export { Button, buttonVariants };
57 | 


--------------------------------------------------------------------------------
/components/ui/card.tsx:
--------------------------------------------------------------------------------
 1 | import * as React from "react"
 2 | 
 3 | import { cn } from "@/lib/utils"
 4 | 
 5 | const Card = React.forwardRef<
 6 |   HTMLDivElement,
 7 |   React.HTMLAttributes<HTMLDivElement>
 8 | >(({ className, ...props }, ref) => (
 9 |   <div
10 |     ref={ref}
11 |     className={cn(
12 |       "rounded-lg border bg-card text-card-foreground shadow-sm",
13 |       className
14 |     )}
15 |     {...props}
16 |   />
17 | ))
18 | Card.displayName = "Card"
19 | 
20 | const CardHeader = React.forwardRef<
21 |   HTMLDivElement,
22 |   React.HTMLAttributes<HTMLDivElement>
23 | >(({ className, ...props }, ref) => (
24 |   <div
25 |     ref={ref}
26 |     className={cn("flex flex-col space-y-1.5 p-6", className)}
27 |     {...props}
28 |   />
29 | ))
30 | CardHeader.displayName = "CardHeader"
31 | 
32 | const CardTitle = React.forwardRef<
33 |   HTMLParagraphElement,
34 |   React.HTMLAttributes<HTMLHeadingElement>
35 | >(({ className, ...props }, ref) => (
36 |   <h3
37 |     ref={ref}
38 |     className={cn(
39 |       "text-2xl font-semibold leading-none tracking-tight",
40 |       className
41 |     )}
42 |     {...props}
43 |   />
44 | ))
45 | CardTitle.displayName = "CardTitle"
46 | 
47 | const CardDescription = React.forwardRef<
48 |   HTMLParagraphElement,
49 |   React.HTMLAttributes<HTMLParagraphElement>
50 | >(({ className, ...props }, ref) => (
51 |   <p
52 |     ref={ref}
53 |     className={cn("text-sm text-muted-foreground", className)}
54 |     {...props}
55 |   />
56 | ))
57 | CardDescription.displayName = "CardDescription"
58 | 
59 | const CardContent = React.forwardRef<
60 |   HTMLDivElement,
61 |   React.HTMLAttributes<HTMLDivElement>
62 | >(({ className, ...props }, ref) => (
63 |   <div ref={ref} className={cn("p-6 pt-0", className)} {...props} />
64 | ))
65 | CardContent.displayName = "CardContent"
66 | 
67 | const CardFooter = React.forwardRef<
68 |   HTMLDivElement,
69 |   React.HTMLAttributes<HTMLDivElement>
70 | >(({ className, ...props }, ref) => (
71 |   <div
72 |     ref={ref}
73 |     className={cn("flex items-center p-6 pt-0", className)}
74 |     {...props}
75 |   />
76 | ))
77 | CardFooter.displayName = "CardFooter"
78 | 
79 | export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }
80 | 


--------------------------------------------------------------------------------
/components/ui/dialog.tsx:
--------------------------------------------------------------------------------
  1 | "use client"
  2 | 
  3 | import * as React from "react"
  4 | import * as DialogPrimitive from "@radix-ui/react-dialog"
  5 | import { X } from "lucide-react"
  6 | 
  7 | import { cn } from "@/lib/utils"
  8 | 
  9 | const Dialog = DialogPrimitive.Root
 10 | 
 11 | const DialogTrigger = DialogPrimitive.Trigger
 12 | 
 13 | const DialogPortal = DialogPrimitive.Portal
 14 | 
 15 | const DialogClose = DialogPrimitive.Close
 16 | 
 17 | const DialogOverlay = React.forwardRef<
 18 |   React.ElementRef<typeof DialogPrimitive.Overlay>,
 19 |   React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
 20 | >(({ className, ...props }, ref) => (
 21 |   <DialogPrimitive.Overlay
 22 |     ref={ref}
 23 |     className={cn(
 24 |       "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
 25 |       className
 26 |     )}
 27 |     {...props}
 28 |   />
 29 | ))
 30 | DialogOverlay.displayName = DialogPrimitive.Overlay.displayName
 31 | 
 32 | const DialogContent = React.forwardRef<
 33 |   React.ElementRef<typeof DialogPrimitive.Content>,
 34 |   React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
 35 | >(({ className, children, ...props }, ref) => (
 36 |   <DialogPortal>
 37 |     <DialogOverlay />
 38 |     <DialogPrimitive.Content
 39 |       ref={ref}
 40 |       className={cn(
 41 |         "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
 42 |         className
 43 |       )}
 44 |       {...props}
 45 |     >
 46 |       {children}
 47 |       <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
 48 |         <X className="h-4 w-4" />
 49 |         <span className="sr-only">Close</span>
 50 |       </DialogPrimitive.Close>
 51 |     </DialogPrimitive.Content>
 52 |   </DialogPortal>
 53 | ))
 54 | DialogContent.displayName = DialogPrimitive.Content.displayName
 55 | 
 56 | const DialogHeader = ({
 57 |   className,
 58 |   ...props
 59 | }: React.HTMLAttributes<HTMLDivElement>) => (
 60 |   <div
 61 |     className={cn(
 62 |       "flex flex-col space-y-1.5 text-center sm:text-left",
 63 |       className
 64 |     )}
 65 |     {...props}
 66 |   />
 67 | )
 68 | DialogHeader.displayName = "DialogHeader"
 69 | 
 70 | const DialogFooter = ({
 71 |   className,
 72 |   ...props
 73 | }: React.HTMLAttributes<HTMLDivElement>) => (
 74 |   <div
 75 |     className={cn(
 76 |       "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
 77 |       className
 78 |     )}
 79 |     {...props}
 80 |   />
 81 | )
 82 | DialogFooter.displayName = "DialogFooter"
 83 | 
 84 | const DialogTitle = React.forwardRef<
 85 |   React.ElementRef<typeof DialogPrimitive.Title>,
 86 |   React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
 87 | >(({ className, ...props }, ref) => (
 88 |   <DialogPrimitive.Title
 89 |     ref={ref}
 90 |     className={cn(
 91 |       "text-lg font-semibold leading-none tracking-tight",
 92 |       className
 93 |     )}
 94 |     {...props}
 95 |   />
 96 | ))
 97 | DialogTitle.displayName = DialogPrimitive.Title.displayName
 98 | 
 99 | const DialogDescription = React.forwardRef<
100 |   React.ElementRef<typeof DialogPrimitive.Description>,
101 |   React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
102 | >(({ className, ...props }, ref) => (
103 |   <DialogPrimitive.Description
104 |     ref={ref}
105 |     className={cn("text-sm text-muted-foreground", className)}
106 |     {...props}
107 |   />
108 | ))
109 | DialogDescription.displayName = DialogPrimitive.Description.displayName
110 | 
111 | export {
112 |   Dialog,
113 |   DialogPortal,
114 |   DialogOverlay,
115 |   DialogClose,
116 |   DialogTrigger,
117 |   DialogContent,
118 |   DialogHeader,
119 |   DialogFooter,
120 |   DialogTitle,
121 |   DialogDescription,
122 | }
123 | 


--------------------------------------------------------------------------------
/components/ui/dropdown-menu.tsx:
--------------------------------------------------------------------------------
  1 | "use client"
  2 | 
  3 | import * as React from "react"
  4 | import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
  5 | import { Check, ChevronRight, Circle } from "lucide-react"
  6 | 
  7 | import { cn } from "@/lib/utils"
  8 | 
  9 | const DropdownMenu = DropdownMenuPrimitive.Root
 10 | 
 11 | const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger
 12 | 
 13 | const DropdownMenuGroup = DropdownMenuPrimitive.Group
 14 | 
 15 | const DropdownMenuPortal = DropdownMenuPrimitive.Portal
 16 | 
 17 | const DropdownMenuSub = DropdownMenuPrimitive.Sub
 18 | 
 19 | const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup
 20 | 
 21 | const DropdownMenuSubTrigger = React.forwardRef<
 22 |   React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,
 23 |   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {
 24 |     inset?: boolean
 25 |   }
 26 | >(({ className, inset, children, ...props }, ref) => (
 27 |   <DropdownMenuPrimitive.SubTrigger
 28 |     ref={ref}
 29 |     className={cn(
 30 |       "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",
 31 |       inset && "pl-8",
 32 |       className
 33 |     )}
 34 |     {...props}
 35 |   >
 36 |     {children}
 37 |     <ChevronRight className="ml-auto h-4 w-4" />
 38 |   </DropdownMenuPrimitive.SubTrigger>
 39 | ))
 40 | DropdownMenuSubTrigger.displayName =
 41 |   DropdownMenuPrimitive.SubTrigger.displayName
 42 | 
 43 | const DropdownMenuSubContent = React.forwardRef<
 44 |   React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,
 45 |   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>
 46 | >(({ className, ...props }, ref) => (
 47 |   <DropdownMenuPrimitive.SubContent
 48 |     ref={ref}
 49 |     className={cn(
 50 |       "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
 51 |       className
 52 |     )}
 53 |     {...props}
 54 |   />
 55 | ))
 56 | DropdownMenuSubContent.displayName =
 57 |   DropdownMenuPrimitive.SubContent.displayName
 58 | 
 59 | const DropdownMenuContent = React.forwardRef<
 60 |   React.ElementRef<typeof DropdownMenuPrimitive.Content>,
 61 |   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
 62 | >(({ className, sideOffset = 4, ...props }, ref) => (
 63 |   <DropdownMenuPrimitive.Portal>
 64 |     <DropdownMenuPrimitive.Content
 65 |       ref={ref}
 66 |       sideOffset={sideOffset}
 67 |       className={cn(
 68 |         "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
 69 |         className
 70 |       )}
 71 |       {...props}
 72 |     />
 73 |   </DropdownMenuPrimitive.Portal>
 74 | ))
 75 | DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName
 76 | 
 77 | const DropdownMenuItem = React.forwardRef<
 78 |   React.ElementRef<typeof DropdownMenuPrimitive.Item>,
 79 |   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {
 80 |     inset?: boolean
 81 |   }
 82 | >(({ className, inset, ...props }, ref) => (
 83 |   <DropdownMenuPrimitive.Item
 84 |     ref={ref}
 85 |     className={cn(
 86 |       "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
 87 |       inset && "pl-8",
 88 |       className
 89 |     )}
 90 |     {...props}
 91 |   />
 92 | ))
 93 | DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName
 94 | 
 95 | const DropdownMenuCheckboxItem = React.forwardRef<
 96 |   React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,
 97 |   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>
 98 | >(({ className, children, checked, ...props }, ref) => (
 99 |   <DropdownMenuPrimitive.CheckboxItem
100 |     ref={ref}
101 |     className={cn(
102 |       "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
103 |       className
104 |     )}
105 |     checked={checked}
106 |     {...props}
107 |   >
108 |     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
109 |       <DropdownMenuPrimitive.ItemIndicator>
110 |         <Check className="h-4 w-4" />
111 |       </DropdownMenuPrimitive.ItemIndicator>
112 |     </span>
113 |     {children}
114 |   </DropdownMenuPrimitive.CheckboxItem>
115 | ))
116 | DropdownMenuCheckboxItem.displayName =
117 |   DropdownMenuPrimitive.CheckboxItem.displayName
118 | 
119 | const DropdownMenuRadioItem = React.forwardRef<
120 |   React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,
121 |   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>
122 | >(({ className, children, ...props }, ref) => (
123 |   <DropdownMenuPrimitive.RadioItem
124 |     ref={ref}
125 |     className={cn(
126 |       "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
127 |       className
128 |     )}
129 |     {...props}
130 |   >
131 |     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
132 |       <DropdownMenuPrimitive.ItemIndicator>
133 |         <Circle className="h-2 w-2 fill-current" />
134 |       </DropdownMenuPrimitive.ItemIndicator>
135 |     </span>
136 |     {children}
137 |   </DropdownMenuPrimitive.RadioItem>
138 | ))
139 | DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName
140 | 
141 | const DropdownMenuLabel = React.forwardRef<
142 |   React.ElementRef<typeof DropdownMenuPrimitive.Label>,
143 |   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {
144 |     inset?: boolean
145 |   }
146 | >(({ className, inset, ...props }, ref) => (
147 |   <DropdownMenuPrimitive.Label
148 |     ref={ref}
149 |     className={cn(
150 |       "px-2 py-1.5 text-sm font-semibold",
151 |       inset && "pl-8",
152 |       className
153 |     )}
154 |     {...props}
155 |   />
156 | ))
157 | DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName
158 | 
159 | const DropdownMenuSeparator = React.forwardRef<
160 |   React.ElementRef<typeof DropdownMenuPrimitive.Separator>,
161 |   React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>
162 | >(({ className, ...props }, ref) => (
163 |   <DropdownMenuPrimitive.Separator
164 |     ref={ref}
165 |     className={cn("-mx-1 my-1 h-px bg-muted", className)}
166 |     {...props}
167 |   />
168 | ))
169 | DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName
170 | 
171 | const DropdownMenuShortcut = ({
172 |   className,
173 |   ...props
174 | }: React.HTMLAttributes<HTMLSpanElement>) => {
175 |   return (
176 |     <span
177 |       className={cn("ml-auto text-xs tracking-widest opacity-60", className)}
178 |       {...props}
179 |     />
180 |   )
181 | }
182 | DropdownMenuShortcut.displayName = "DropdownMenuShortcut"
183 | 
184 | export {
185 |   DropdownMenu,
186 |   DropdownMenuTrigger,
187 |   DropdownMenuContent,
188 |   DropdownMenuItem,
189 |   DropdownMenuCheckboxItem,
190 |   DropdownMenuRadioItem,
191 |   DropdownMenuLabel,
192 |   DropdownMenuSeparator,
193 |   DropdownMenuShortcut,
194 |   DropdownMenuGroup,
195 |   DropdownMenuPortal,
196 |   DropdownMenuSub,
197 |   DropdownMenuSubContent,
198 |   DropdownMenuSubTrigger,
199 |   DropdownMenuRadioGroup,
200 | }
201 | 


--------------------------------------------------------------------------------
/components/ui/form.tsx:
--------------------------------------------------------------------------------
  1 | "use client"
  2 | 
  3 | import * as React from "react"
  4 | import * as LabelPrimitive from "@radix-ui/react-label"
  5 | import { Slot } from "@radix-ui/react-slot"
  6 | import {
  7 |   Controller,
  8 |   ControllerProps,
  9 |   FieldPath,
 10 |   FieldValues,
 11 |   FormProvider,
 12 |   useFormContext,
 13 | } from "react-hook-form"
 14 | 
 15 | import { cn } from "@/lib/utils"
 16 | import { Label } from "@/components/ui/label"
 17 | 
 18 | const Form = FormProvider
 19 | 
 20 | type FormFieldContextValue<
 21 |   TFieldValues extends FieldValues = FieldValues,
 22 |   TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
 23 | > = {
 24 |   name: TName
 25 | }
 26 | 
 27 | const FormFieldContext = React.createContext<FormFieldContextValue>(
 28 |   {} as FormFieldContextValue
 29 | )
 30 | 
 31 | const FormField = <
 32 |   TFieldValues extends FieldValues = FieldValues,
 33 |   TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
 34 | >({
 35 |   ...props
 36 | }: ControllerProps<TFieldValues, TName>) => {
 37 |   return (
 38 |     <FormFieldContext.Provider value={{ name: props.name }}>
 39 |       <Controller {...props} />
 40 |     </FormFieldContext.Provider>
 41 |   )
 42 | }
 43 | 
 44 | const useFormField = () => {
 45 |   const fieldContext = React.useContext(FormFieldContext)
 46 |   const itemContext = React.useContext(FormItemContext)
 47 |   const { getFieldState, formState } = useFormContext()
 48 | 
 49 |   const fieldState = getFieldState(fieldContext.name, formState)
 50 | 
 51 |   if (!fieldContext) {
 52 |     throw new Error("useFormField should be used within <FormField>")
 53 |   }
 54 | 
 55 |   const { id } = itemContext
 56 | 
 57 |   return {
 58 |     id,
 59 |     name: fieldContext.name,
 60 |     formItemId: `${id}-form-item`,
 61 |     formDescriptionId: `${id}-form-item-description`,
 62 |     formMessageId: `${id}-form-item-message`,
 63 |     ...fieldState,
 64 |   }
 65 | }
 66 | 
 67 | type FormItemContextValue = {
 68 |   id: string
 69 | }
 70 | 
 71 | const FormItemContext = React.createContext<FormItemContextValue>(
 72 |   {} as FormItemContextValue
 73 | )
 74 | 
 75 | const FormItem = React.forwardRef<
 76 |   HTMLDivElement,
 77 |   React.HTMLAttributes<HTMLDivElement>
 78 | >(({ className, ...props }, ref) => {
 79 |   const id = React.useId()
 80 | 
 81 |   return (
 82 |     <FormItemContext.Provider value={{ id }}>
 83 |       <div ref={ref} className={cn("space-y-2", className)} {...props} />
 84 |     </FormItemContext.Provider>
 85 |   )
 86 | })
 87 | FormItem.displayName = "FormItem"
 88 | 
 89 | const FormLabel = React.forwardRef<
 90 |   React.ElementRef<typeof LabelPrimitive.Root>,
 91 |   React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>
 92 | >(({ className, ...props }, ref) => {
 93 |   const { error, formItemId } = useFormField()
 94 | 
 95 |   return (
 96 |     <Label
 97 |       ref={ref}
 98 |       className={cn(error && "text-destructive", className)}
 99 |       htmlFor={formItemId}
100 |       {...props}
101 |     />
102 |   )
103 | })
104 | FormLabel.displayName = "FormLabel"
105 | 
106 | const FormControl = React.forwardRef<
107 |   React.ElementRef<typeof Slot>,
108 |   React.ComponentPropsWithoutRef<typeof Slot>
109 | >(({ ...props }, ref) => {
110 |   const { error, formItemId, formDescriptionId, formMessageId } = useFormField()
111 | 
112 |   return (
113 |     <Slot
114 |       ref={ref}
115 |       id={formItemId}
116 |       aria-describedby={
117 |         !error
118 |           ? `${formDescriptionId}`
119 |           : `${formDescriptionId} ${formMessageId}`
120 |       }
121 |       aria-invalid={!!error}
122 |       {...props}
123 |     />
124 |   )
125 | })
126 | FormControl.displayName = "FormControl"
127 | 
128 | const FormDescription = React.forwardRef<
129 |   HTMLParagraphElement,
130 |   React.HTMLAttributes<HTMLParagraphElement>
131 | >(({ className, ...props }, ref) => {
132 |   const { formDescriptionId } = useFormField()
133 | 
134 |   return (
135 |     <p
136 |       ref={ref}
137 |       id={formDescriptionId}
138 |       className={cn("text-sm text-muted-foreground", className)}
139 |       {...props}
140 |     />
141 |   )
142 | })
143 | FormDescription.displayName = "FormDescription"
144 | 
145 | const FormMessage = React.forwardRef<
146 |   HTMLParagraphElement,
147 |   React.HTMLAttributes<HTMLParagraphElement>
148 | >(({ className, children, ...props }, ref) => {
149 |   const { error, formMessageId } = useFormField()
150 |   const body = error ? String(error?.message) : children
151 | 
152 |   if (!body) {
153 |     return null
154 |   }
155 | 
156 |   return (
157 |     <p
158 |       ref={ref}
159 |       id={formMessageId}
160 |       className={cn("text-sm font-medium text-destructive", className)}
161 |       {...props}
162 |     >
163 |       {body}
164 |     </p>
165 |   )
166 | })
167 | FormMessage.displayName = "FormMessage"
168 | 
169 | export {
170 |   useFormField,
171 |   Form,
172 |   FormItem,
173 |   FormLabel,
174 |   FormControl,
175 |   FormDescription,
176 |   FormMessage,
177 |   FormField,
178 | }
179 | 


--------------------------------------------------------------------------------
/components/ui/index.ts:
--------------------------------------------------------------------------------
 1 | export * from "./alert-dialog";
 2 | export * from "./button";
 3 | export * from "./card";
 4 | export * from "./dialog";
 5 | export * from "./dropdown-menu";
 6 | export * from "./form";
 7 | export * from "./input";
 8 | export * from "./label";
 9 | export * from "./popover";
10 | export * from "./select";
11 | export * from "./tabs";
12 | export * from "./textarea";
13 | export * from "./tooltip";
14 | 


--------------------------------------------------------------------------------
/components/ui/input.tsx:
--------------------------------------------------------------------------------
 1 | import * as React from "react"
 2 | 
 3 | import { cn } from "@/lib/utils"
 4 | 
 5 | export interface InputProps
 6 |   extends React.InputHTMLAttributes<HTMLInputElement> {}
 7 | 
 8 | const Input = React.forwardRef<HTMLInputElement, InputProps>(
 9 |   ({ className, type, ...props }, ref) => {
10 |     return (
11 |       <input
12 |         type={type}
13 |         className={cn(
14 |           "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
15 |           className
16 |         )}
17 |         ref={ref}
18 |         {...props}
19 |       />
20 |     )
21 |   }
22 | )
23 | Input.displayName = "Input"
24 | 
25 | export { Input }
26 | 


--------------------------------------------------------------------------------
/components/ui/label.tsx:
--------------------------------------------------------------------------------
 1 | "use client"
 2 | 
 3 | import * as React from "react"
 4 | import * as LabelPrimitive from "@radix-ui/react-label"
 5 | import { cva, type VariantProps } from "class-variance-authority"
 6 | 
 7 | import { cn } from "@/lib/utils"
 8 | 
 9 | const labelVariants = cva(
10 |   "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
11 | )
12 | 
13 | const Label = React.forwardRef<
14 |   React.ElementRef<typeof LabelPrimitive.Root>,
15 |   React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &
16 |     VariantProps<typeof labelVariants>
17 | >(({ className, ...props }, ref) => (
18 |   <LabelPrimitive.Root
19 |     ref={ref}
20 |     className={cn(labelVariants(), className)}
21 |     {...props}
22 |   />
23 | ))
24 | Label.displayName = LabelPrimitive.Root.displayName
25 | 
26 | export { Label }
27 | 


--------------------------------------------------------------------------------
/components/ui/popover.tsx:
--------------------------------------------------------------------------------
 1 | "use client"
 2 | 
 3 | import * as React from "react"
 4 | import * as PopoverPrimitive from "@radix-ui/react-popover"
 5 | 
 6 | import { cn } from "@/lib/utils"
 7 | 
 8 | const Popover = PopoverPrimitive.Root
 9 | 
10 | const PopoverTrigger = PopoverPrimitive.Trigger
11 | 
12 | const PopoverContent = React.forwardRef<
13 |   React.ElementRef<typeof PopoverPrimitive.Content>,
14 |   React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>
15 | >(({ className, align = "center", sideOffset = 4, ...props }, ref) => (
16 |   <PopoverPrimitive.Portal>
17 |     <PopoverPrimitive.Content
18 |       ref={ref}
19 |       align={align}
20 |       sideOffset={sideOffset}
21 |       className={cn(
22 |         "z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
23 |         className
24 |       )}
25 |       {...props}
26 |     />
27 |   </PopoverPrimitive.Portal>
28 | ))
29 | PopoverContent.displayName = PopoverPrimitive.Content.displayName
30 | 
31 | export { Popover, PopoverTrigger, PopoverContent }
32 | 


--------------------------------------------------------------------------------
/components/ui/select.tsx:
--------------------------------------------------------------------------------
  1 | "use client"
  2 | 
  3 | import * as React from "react"
  4 | import * as SelectPrimitive from "@radix-ui/react-select"
  5 | import { Check, ChevronDown, ChevronUp } from "lucide-react"
  6 | 
  7 | import { cn } from "@/lib/utils"
  8 | 
  9 | const Select = SelectPrimitive.Root
 10 | 
 11 | const SelectGroup = SelectPrimitive.Group
 12 | 
 13 | const SelectValue = SelectPrimitive.Value
 14 | 
 15 | const SelectTrigger = React.forwardRef<
 16 |   React.ElementRef<typeof SelectPrimitive.Trigger>,
 17 |   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
 18 | >(({ className, children, ...props }, ref) => (
 19 |   <SelectPrimitive.Trigger
 20 |     ref={ref}
 21 |     className={cn(
 22 |       "flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
 23 |       className
 24 |     )}
 25 |     {...props}
 26 |   >
 27 |     {children}
 28 |     <SelectPrimitive.Icon asChild>
 29 |       <ChevronDown className="h-4 w-4 opacity-50" />
 30 |     </SelectPrimitive.Icon>
 31 |   </SelectPrimitive.Trigger>
 32 | ))
 33 | SelectTrigger.displayName = SelectPrimitive.Trigger.displayName
 34 | 
 35 | const SelectScrollUpButton = React.forwardRef<
 36 |   React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
 37 |   React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
 38 | >(({ className, ...props }, ref) => (
 39 |   <SelectPrimitive.ScrollUpButton
 40 |     ref={ref}
 41 |     className={cn(
 42 |       "flex cursor-default items-center justify-center py-1",
 43 |       className
 44 |     )}
 45 |     {...props}
 46 |   >
 47 |     <ChevronUp className="h-4 w-4" />
 48 |   </SelectPrimitive.ScrollUpButton>
 49 | ))
 50 | SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName
 51 | 
 52 | const SelectScrollDownButton = React.forwardRef<
 53 |   React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
 54 |   React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
 55 | >(({ className, ...props }, ref) => (
 56 |   <SelectPrimitive.ScrollDownButton
 57 |     ref={ref}
 58 |     className={cn(
 59 |       "flex cursor-default items-center justify-center py-1",
 60 |       className
 61 |     )}
 62 |     {...props}
 63 |   >
 64 |     <ChevronDown className="h-4 w-4" />
 65 |   </SelectPrimitive.ScrollDownButton>
 66 | ))
 67 | SelectScrollDownButton.displayName =
 68 |   SelectPrimitive.ScrollDownButton.displayName
 69 | 
 70 | const SelectContent = React.forwardRef<
 71 |   React.ElementRef<typeof SelectPrimitive.Content>,
 72 |   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
 73 | >(({ className, children, position = "popper", ...props }, ref) => (
 74 |   <SelectPrimitive.Portal>
 75 |     <SelectPrimitive.Content
 76 |       ref={ref}
 77 |       className={cn(
 78 |         "relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
 79 |         position === "popper" &&
 80 |           "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
 81 |         className
 82 |       )}
 83 |       position={position}
 84 |       {...props}
 85 |     >
 86 |       <SelectScrollUpButton />
 87 |       <SelectPrimitive.Viewport
 88 |         className={cn(
 89 |           "p-1",
 90 |           position === "popper" &&
 91 |             "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"
 92 |         )}
 93 |       >
 94 |         {children}
 95 |       </SelectPrimitive.Viewport>
 96 |       <SelectScrollDownButton />
 97 |     </SelectPrimitive.Content>
 98 |   </SelectPrimitive.Portal>
 99 | ))
100 | SelectContent.displayName = SelectPrimitive.Content.displayName
101 | 
102 | const SelectLabel = React.forwardRef<
103 |   React.ElementRef<typeof SelectPrimitive.Label>,
104 |   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
105 | >(({ className, ...props }, ref) => (
106 |   <SelectPrimitive.Label
107 |     ref={ref}
108 |     className={cn("py-1.5 pl-8 pr-2 text-sm font-semibold", className)}
109 |     {...props}
110 |   />
111 | ))
112 | SelectLabel.displayName = SelectPrimitive.Label.displayName
113 | 
114 | const SelectItem = React.forwardRef<
115 |   React.ElementRef<typeof SelectPrimitive.Item>,
116 |   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
117 | >(({ className, children, ...props }, ref) => (
118 |   <SelectPrimitive.Item
119 |     ref={ref}
120 |     className={cn(
121 |       "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
122 |       className
123 |     )}
124 |     {...props}
125 |   >
126 |     <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
127 |       <SelectPrimitive.ItemIndicator>
128 |         <Check className="h-4 w-4" />
129 |       </SelectPrimitive.ItemIndicator>
130 |     </span>
131 | 
132 |     <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
133 |   </SelectPrimitive.Item>
134 | ))
135 | SelectItem.displayName = SelectPrimitive.Item.displayName
136 | 
137 | const SelectSeparator = React.forwardRef<
138 |   React.ElementRef<typeof SelectPrimitive.Separator>,
139 |   React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
140 | >(({ className, ...props }, ref) => (
141 |   <SelectPrimitive.Separator
142 |     ref={ref}
143 |     className={cn("-mx-1 my-1 h-px bg-muted", className)}
144 |     {...props}
145 |   />
146 | ))
147 | SelectSeparator.displayName = SelectPrimitive.Separator.displayName
148 | 
149 | export {
150 |   Select,
151 |   SelectGroup,
152 |   SelectValue,
153 |   SelectTrigger,
154 |   SelectContent,
155 |   SelectLabel,
156 |   SelectItem,
157 |   SelectSeparator,
158 |   SelectScrollUpButton,
159 |   SelectScrollDownButton,
160 | }
161 | 


--------------------------------------------------------------------------------
/components/ui/separator.tsx:
--------------------------------------------------------------------------------
 1 | "use client"
 2 | 
 3 | import * as React from "react"
 4 | import * as SeparatorPrimitive from "@radix-ui/react-separator"
 5 | 
 6 | import { cn } from "@/lib/utils"
 7 | 
 8 | const Separator = React.forwardRef<
 9 |   React.ElementRef<typeof SeparatorPrimitive.Root>,
10 |   React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
11 | >(
12 |   (
13 |     { className, orientation = "horizontal", decorative = true, ...props },
14 |     ref
15 |   ) => (
16 |     <SeparatorPrimitive.Root
17 |       ref={ref}
18 |       decorative={decorative}
19 |       orientation={orientation}
20 |       className={cn(
21 |         "shrink-0 bg-border",
22 |         orientation === "horizontal" ? "h-[1px] w-full" : "h-full w-[1px]",
23 |         className
24 |       )}
25 |       {...props}
26 |     />
27 |   )
28 | )
29 | Separator.displayName = SeparatorPrimitive.Root.displayName
30 | 
31 | export { Separator }
32 | 


--------------------------------------------------------------------------------
/components/ui/tabs.tsx:
--------------------------------------------------------------------------------
 1 | "use client"
 2 | 
 3 | import * as React from "react"
 4 | import * as TabsPrimitive from "@radix-ui/react-tabs"
 5 | 
 6 | import { cn } from "@/lib/utils"
 7 | 
 8 | const Tabs = TabsPrimitive.Root
 9 | 
10 | const TabsList = React.forwardRef<
11 |   React.ElementRef<typeof TabsPrimitive.List>,
12 |   React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>
13 | >(({ className, ...props }, ref) => (
14 |   <TabsPrimitive.List
15 |     ref={ref}
16 |     className={cn(
17 |       "inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",
18 |       className
19 |     )}
20 |     {...props}
21 |   />
22 | ))
23 | TabsList.displayName = TabsPrimitive.List.displayName
24 | 
25 | const TabsTrigger = React.forwardRef<
26 |   React.ElementRef<typeof TabsPrimitive.Trigger>,
27 |   React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>
28 | >(({ className, ...props }, ref) => (
29 |   <TabsPrimitive.Trigger
30 |     ref={ref}
31 |     className={cn(
32 |       "inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",
33 |       className
34 |     )}
35 |     {...props}
36 |   />
37 | ))
38 | TabsTrigger.displayName = TabsPrimitive.Trigger.displayName
39 | 
40 | const TabsContent = React.forwardRef<
41 |   React.ElementRef<typeof TabsPrimitive.Content>,
42 |   React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>
43 | >(({ className, ...props }, ref) => (
44 |   <TabsPrimitive.Content
45 |     ref={ref}
46 |     className={cn(
47 |       "mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
48 |       className
49 |     )}
50 |     {...props}
51 |   />
52 | ))
53 | TabsContent.displayName = TabsPrimitive.Content.displayName
54 | 
55 | export { Tabs, TabsList, TabsTrigger, TabsContent }
56 | 


--------------------------------------------------------------------------------
/components/ui/textarea.tsx:
--------------------------------------------------------------------------------
 1 | import * as React from "react"
 2 | 
 3 | import { cn } from "@/lib/utils"
 4 | 
 5 | export interface TextareaProps
 6 |   extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}
 7 | 
 8 | const Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(
 9 |   ({ className, ...props }, ref) => {
10 |     return (
11 |       <textarea
12 |         className={cn(
13 |           "flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
14 |           className
15 |         )}
16 |         ref={ref}
17 |         {...props}
18 |       />
19 |     )
20 |   }
21 | )
22 | Textarea.displayName = "Textarea"
23 | 
24 | export { Textarea }
25 | 


--------------------------------------------------------------------------------
/components/ui/tooltip.tsx:
--------------------------------------------------------------------------------
 1 | "use client"
 2 | 
 3 | import * as React from "react"
 4 | import * as TooltipPrimitive from "@radix-ui/react-tooltip"
 5 | 
 6 | import { cn } from "@/lib/utils"
 7 | 
 8 | const TooltipProvider = TooltipPrimitive.Provider
 9 | 
10 | const Tooltip = TooltipPrimitive.Root
11 | 
12 | const TooltipTrigger = TooltipPrimitive.Trigger
13 | 
14 | const TooltipContent = React.forwardRef<
15 |   React.ElementRef<typeof TooltipPrimitive.Content>,
16 |   React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>
17 | >(({ className, sideOffset = 4, ...props }, ref) => (
18 |   <TooltipPrimitive.Content
19 |     ref={ref}
20 |     sideOffset={sideOffset}
21 |     className={cn(
22 |       "z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
23 |       className
24 |     )}
25 |     {...props}
26 |   />
27 | ))
28 | TooltipContent.displayName = TooltipPrimitive.Content.displayName
29 | 
30 | export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }
31 | 


--------------------------------------------------------------------------------
/components/user-button/index.tsx:
--------------------------------------------------------------------------------
 1 | "use client";
 2 | 
 3 | import {
 4 |   DropdownMenu,
 5 |   DropdownMenuContent,
 6 |   DropdownMenuItem,
 7 |   DropdownMenuLabel,
 8 |   DropdownMenuSeparator,
 9 |   DropdownMenuTrigger,
10 | } from "@/components/ui/dropdown-menu";
11 | import { SignOutDialog } from "./sign-out-dialog";
12 | import { UserIcon } from "lucide-react";
13 | import { useRouter } from "next/navigation";
14 | import { useState } from "react";
15 | import { useSupabase } from "@/lib/supabase";
16 | 
17 | type Props = {
18 |   expanded?: boolean;
19 | };
20 | 
21 | export const UserButton = ({ expanded = false }: Props) => {
22 |   const router = useRouter();
23 | 
24 |   const { supabase } = useSupabase();
25 | 
26 |   const [isSignoutDialogOpen, setIsSignoutDialogOpen] = useState(false);
27 | 
28 |   const handleOpenSignoutDialog = () => setIsSignoutDialogOpen(true);
29 |   const handleCloseSignoutDialog = () => setIsSignoutDialogOpen(false);
30 | 
31 |   const handleSignOut: React.MouseEventHandler<HTMLButtonElement> = async (
32 |     e
33 |   ) => {
34 |     e.preventDefault();
35 | 
36 |     try {
37 |       const res = await supabase.auth.signOut();
38 | 
39 |       if (res.error) throw new Error(res.error.message);
40 | 
41 |       router.refresh();
42 |     } catch (error) {
43 |       console.error(error);
44 |       alert("Error signing out");
45 |     } finally {
46 |       handleCloseSignoutDialog();
47 |     }
48 |   };
49 | 
50 |   return (
51 |     <>
52 |       <DropdownMenu>
53 |         <DropdownMenuTrigger className="w-full flex items-center justify-start gap-4 px-1 h-6">
54 |           <UserIcon size={24} />
55 | 
56 |           {expanded && (
57 |             <span className="font-medium text-sm truncate">My Account</span>
58 |           )}
59 |         </DropdownMenuTrigger>
60 | 
61 |         <DropdownMenuContent className="w-56" align="end" forceMount>
62 |           <DropdownMenuLabel>My Account</DropdownMenuLabel>
63 | 
64 |           <DropdownMenuSeparator />
65 | 
66 |           <DropdownMenuItem
67 |             onClick={handleOpenSignoutDialog}
68 |             className="cursor-pointer"
69 |           >
70 |             Sign Out
71 |           </DropdownMenuItem>
72 |         </DropdownMenuContent>
73 |       </DropdownMenu>
74 | 
75 |       <SignOutDialog
76 |         open={isSignoutDialogOpen}
77 |         onOpenChange={setIsSignoutDialogOpen}
78 |         handleSignOut={handleSignOut}
79 |       />
80 |     </>
81 |   );
82 | };
83 | 


--------------------------------------------------------------------------------
/components/user-button/sign-out-dialog.tsx:
--------------------------------------------------------------------------------
 1 | import {
 2 |   AlertDialog,
 3 |   AlertDialogAction,
 4 |   AlertDialogCancel,
 5 |   AlertDialogContent,
 6 |   AlertDialogDescription,
 7 |   AlertDialogFooter,
 8 |   AlertDialogHeader,
 9 |   AlertDialogTitle,
10 |   AlertDialogTrigger,
11 | } from "@/components/ui/alert-dialog";
12 | 
13 | type Props = {
14 |   open: boolean;
15 |   onOpenChange: (open: boolean) => void;
16 |   handleSignOut: React.MouseEventHandler<HTMLButtonElement>;
17 | };
18 | 
19 | export const SignOutDialog = ({ open, onOpenChange, handleSignOut }: Props) => {
20 |   return (
21 |     <AlertDialog open={open} onOpenChange={onOpenChange}>
22 |       <AlertDialogContent>
23 |         <AlertDialogHeader>
24 |           <AlertDialogTitle>Sign Out</AlertDialogTitle>
25 |           <AlertDialogDescription>
26 |             Are you sure you want to sign out?
27 |           </AlertDialogDescription>
28 |         </AlertDialogHeader>
29 |         <AlertDialogFooter>
30 |           <AlertDialogCancel>Cancel</AlertDialogCancel>
31 |           <AlertDialogAction onClick={handleSignOut}>
32 |             Sign Out
33 |           </AlertDialogAction>
34 |         </AlertDialogFooter>
35 |       </AlertDialogContent>
36 |     </AlertDialog>
37 |   );
38 | };
39 | 


--------------------------------------------------------------------------------
/lib/db.ts:
--------------------------------------------------------------------------------
 1 | import { Attachment } from "@/app/types";
 2 | import { SupabaseContextType } from "@/lib/supabase/types";
 3 | 
 4 | export const getChats = async (
 5 |   supabase: SupabaseContextType["supabase"],
 6 |   userId: string | null | undefined
 7 | ) => {
 8 |   if (!userId) throw new Error("User not authenticated");
 9 | 
10 |   const { data, error } = await supabase
11 |     .from("chats")
12 |     .select("*")
13 |     .eq("user_id", userId)
14 |     .order("created_at", { ascending: false });
15 | 
16 |   if (error) {
17 |     console.error(error);
18 |     throw new Error(error.message);
19 |   }
20 | 
21 |   return data;
22 | };
23 | 
24 | export const getChatMessages = async (
25 |   supabase: SupabaseContextType["supabase"],
26 |   id: string | null
27 | ) => {
28 |   if (!id) return [];
29 | 
30 |   const { data, error } = await supabase
31 |     .from("messages")
32 |     .select("*")
33 |     .eq("chat_id", id)
34 |     .order("created_at");
35 | 
36 |   if (error) {
37 |     console.error(error);
38 |     throw new Error(error.message);
39 |   }
40 | 
41 |   return data;
42 | };
43 | 
44 | export const createChat = async (
45 |   supabase: SupabaseContextType["supabase"],
46 |   title: string,
47 |   userId: string | null | undefined
48 | ) => {
49 |   if (!userId) {
50 |     throw new Error("User not authenticated");
51 |   }
52 | 
53 |   const { data, error } = await supabase
54 |     .from("chats")
55 |     .insert({
56 |       title,
57 |       user_id: userId,
58 |     })
59 |     .select();
60 | 
61 |   if (error) {
62 |     console.error(error);
63 |     throw new Error(error.message);
64 |   }
65 | 
66 |   if (!data || data.length === 0) {
67 |     throw new Error("Could not create chat");
68 |   }
69 | 
70 |   return data[0];
71 | };
72 | 
73 | export const addMessage = async (
74 |   supabase: SupabaseContextType["supabase"],
75 |   chatId: string | null,
76 |   message: { role: string; content: string; metadata?: Record<string, any> },
77 |   attachments: Attachment[] = []
78 | ) => {
79 |   if (!chatId) return message;
80 | 
81 |   const { error } = await supabase.from("messages").insert({
82 |     chat_id: chatId,
83 |     role: message.role,
84 |     text: message.content,
85 |     attachments,
86 |   });
87 | 
88 |   if (error) {
89 |     console.error(error);
90 |     throw new Error(error.message);
91 |   }
92 | 
93 |   return message;
94 | };
95 | 


--------------------------------------------------------------------------------
/lib/hooks/use-copy-to-clipboard.ts:
--------------------------------------------------------------------------------
 1 | "use client";
 2 | 
 3 | import { useState } from "react";
 4 | 
 5 | export interface useCopyToClipboardProps {
 6 |   timeout?: number;
 7 | }
 8 | 
 9 | export function useCopyToClipboard({
10 |   timeout = 2000,
11 | }: useCopyToClipboardProps) {
12 |   const [isCopied, setIsCopied] = useState<Boolean>(false);
13 | 
14 |   const copyToClipboard = (value: string) => {
15 |     if (typeof window === "undefined" || !navigator.clipboard?.writeText) {
16 |       return;
17 |     }
18 | 
19 |     if (!value) {
20 |       return;
21 |     }
22 | 
23 |     navigator.clipboard.writeText(value).then(() => {
24 |       setIsCopied(true);
25 | 
26 |       setTimeout(() => {
27 |         setIsCopied(false);
28 |       }, timeout);
29 |     });
30 |   };
31 | 
32 |   return { isCopied, copyToClipboard };
33 | }
34 | 


--------------------------------------------------------------------------------
/lib/hooks/use-enter-submit.ts:
--------------------------------------------------------------------------------
 1 | export const useEnterSubmit = ({
 2 |   onSubmit,
 3 | }: {
 4 |   onSubmit: () => void;
 5 | }): {
 6 |   onKeyDown: (event: React.KeyboardEvent<HTMLTextAreaElement>) => void;
 7 | } => {
 8 |   const handleKeyDown = (
 9 |     event: React.KeyboardEvent<HTMLTextAreaElement>
10 |   ): void => {
11 |     if (
12 |       event.key === "Enter" &&
13 |       !event.shiftKey &&
14 |       !event.nativeEvent.isComposing
15 |     ) {
16 |       event.preventDefault();
17 |       onSubmit();
18 |     }
19 |   };
20 | 
21 |   return { onKeyDown: handleKeyDown };
22 | };
23 | 


--------------------------------------------------------------------------------
/lib/hooks/use-fake-whisper.ts:
--------------------------------------------------------------------------------
 1 | import { useWhisper as useRealWhisper } from "@chengsokdara/use-whisper";
 2 | import { useState } from "react";
 3 | 
 4 | type WhisperResult = ReturnType<typeof useRealWhisper>;
 5 | 
 6 | export const useFakeWhisper = (): WhisperResult => {
 7 |   const [recording, setRecording] = useState(false);
 8 | 
 9 |   return {
10 |     recording,
11 |     speaking: false,
12 |     transcribing: false,
13 |     transcript: { text: "", blob: undefined },
14 |     pauseRecording: () => new Promise((resolve) => resolve()),
15 |     startRecording: () =>
16 |       new Promise<void>((resolve) => {
17 |         setRecording(true);
18 |         resolve();
19 |       }),
20 |     stopRecording: () =>
21 |       new Promise<void>((resolve) => {
22 |         setRecording(false);
23 |         resolve();
24 |       }),
25 |   };
26 | };
27 | 


--------------------------------------------------------------------------------
/lib/hooks/use-scroll-anchor.ts:
--------------------------------------------------------------------------------
 1 | import { Message } from "ai/react";
 2 | import { useCallback, useEffect, useRef, useState } from "react";
 3 | 
 4 | export const useScrollAnchor = (messages: Message[]) => {
 5 |   const messagesRef = useRef<HTMLDivElement>(null);
 6 |   const scrollRef = useRef<HTMLDivElement>(null);
 7 |   const [isAtBottom, setIsAtBottom] = useState(true);
 8 |   const [showScrollButton, setShowScrollButton] = useState(false);
 9 |   const [autoScroll, setAutoScroll] = useState(true);
10 |   const lastMessageRef = useRef<Message | null>(null);
11 | 
12 |   const scrollToBottom = useCallback(() => {
13 |     if (scrollRef.current) {
14 |       scrollRef.current.scrollTop = scrollRef.current.scrollHeight;
15 |     }
16 |   }, []);
17 | 
18 |   useEffect(() => {
19 |     if (messages.length > 0) {
20 |       const lastMessage = messages[messages.length - 1];
21 |       if (lastMessage !== lastMessageRef.current) {
22 |         // New message added
23 |         lastMessageRef.current = lastMessage;
24 |         if (isAtBottom) {
25 |           scrollToBottom();
26 |         } else {
27 |           setShowScrollButton(true);
28 |         }
29 |       } else if (autoScroll) {
30 |         // Existing message updated
31 |         scrollToBottom();
32 |       }
33 |     }
34 |   }, [messages, isAtBottom, autoScroll, scrollToBottom]);
35 | 
36 |   useEffect(() => {
37 |     const handleScroll = () => {
38 |       if (scrollRef.current) {
39 |         const { scrollTop, scrollHeight, clientHeight } = scrollRef.current;
40 |         const bottomThreshold = 20;
41 |         const newIsAtBottom =
42 |           scrollTop + clientHeight >= scrollHeight - bottomThreshold;
43 | 
44 |         setIsAtBottom(newIsAtBottom);
45 |         setShowScrollButton(!newIsAtBottom);
46 |         setAutoScroll(newIsAtBottom);
47 |       }
48 |     };
49 | 
50 |     const current = scrollRef.current;
51 |     if (current) {
52 |       current.addEventListener("scroll", handleScroll, { passive: true });
53 |       return () => current.removeEventListener("scroll", handleScroll);
54 |     }
55 |   }, []);
56 | 
57 |   const handleNewMessage = useCallback(() => {
58 |     if (isAtBottom) {
59 |       scrollToBottom();
60 |     } else {
61 |       setShowScrollButton(true);
62 |     }
63 |     setAutoScroll(true);
64 |   }, [isAtBottom, scrollToBottom]);
65 | 
66 |   const handleManualScroll = () => {
67 |     scrollToBottom();
68 |     setAutoScroll(true);
69 |     setShowScrollButton(false);
70 |   };
71 | 
72 |   return {
73 |     messagesRef,
74 |     scrollRef,
75 |     scrollToBottom,
76 |     isAtBottom,
77 |     showScrollButton,
78 |     handleNewMessage,
79 |     handleManualScroll,
80 |   };
81 | };
82 | 


--------------------------------------------------------------------------------
/lib/sampleMessages.ts:
--------------------------------------------------------------------------------
  1 | import { Message } from "ai";
  2 | 
  3 | export const sampleMessages: Message[] = [
  4 |   {
  5 |     id: "1",
  6 |     role: "user",
  7 |     content: "hello",
  8 |   },
  9 |   {
 10 |     id: "2",
 11 |     role: "assistant",
 12 |     content: `
 13 | Certainly! I'll create an interactive React component to teach linear equations. This component will allow users to adjust the slope and y-intercept of a linear equation and see the resulting line on a graph in real-time.
 14 | 
 15 | <antthinking>Creating an interactive React component to teach linear equations is an excellent candidate for an artifact. It's substantial, self-contained, and can be reused in various educational contexts. This is a new request, so I'll create a new artifact with the identifier "linear-equation-interactive".</antthinking>
 16 | 
 17 | <antartifact identifier="linear-equation-interactive" type="application/vnd.ant.react" title="Interactive Linear Equation Component">
 18 | import React, { useState } from 'react';
 19 | import { LineChart, Line, XAxis, YAxis, CartesianGrid, ResponsiveContainer } from 'recharts';
 20 | import { Slider } from '@/components/ui/slider';
 21 | import { Card, CardHeader, CardContent } from '@/components/ui/card';
 22 | 
 23 | const LinearEquationInteractive = () => {
 24 |   const [slope, setSlope] = useState(1);
 25 |   const [yIntercept, setYIntercept] = useState(0);
 26 | 
 27 |   const generateData = () => {
 28 |     return Array.from({ length: 11 }, (_, i) => {
 29 |       const x = i - 5;
 30 |       const y = slope * x + yIntercept;
 31 |       return { x, y };
 32 |     });
 33 |   };
 34 | 
 35 |   return (
 36 |     <Card className="w-full max-w-3xl mx-auto">
 37 |       <CardHeader>
 38 |         <h2 className="text-2xl font-bold">Interactive Linear Equation</h2>
 39 |         <p className="text-gray-600">y = mx + b</p>
 40 |       </CardHeader>
 41 |       <CardContent>
 42 |         <div className="mb-6">
 43 |           <div className="mb-4">
 44 |             <label className="block text-sm font-medium text-gray-700 mb-1">
 45 |               Slope (m): {slope.toFixed(2)}
 46 |             </label>
 47 |             <Slider
 48 |               value={[slope]}
 49 |               onValueChange={(value) => setSlope(value[0])}
 50 |               min={-5}
 51 |               max={5}
 52 |               step={0.1}
 53 |             />
 54 |           </div>
 55 |           <div className="mb-4">
 56 |             <label className="block text-sm font-medium text-gray-700 mb-1">
 57 |               Y-intercept (b): {yIntercept.toFixed(2)}
 58 |             </label>
 59 |             <Slider
 60 |               value={[yIntercept]}
 61 |               onValueChange={(value) => setYIntercept(value[0])}
 62 |               min={-5}
 63 |               max={5}
 64 |               step={0.1}
 65 |             />
 66 |           </div>
 67 |         </div>
 68 |         <div className="text-center mb-4">
 69 |           <p className="text-lg font-semibold">
 70 |             Equation: y = {slope.toFixed(2)}x + {yIntercept.toFixed(2)}
 71 |           </p>
 72 |         </div>
 73 |         <ResponsiveContainer width="100%" height={300}>
 74 |           <LineChart data={generateData()} margin={{ top: 5, right: 20, bottom: 5, left: 0 }}>
 75 |             <Line type="monotone" dataKey="y" stroke="#8884d8" strokeWidth={2} />
 76 |             <CartesianGrid stroke="#ccc" strokeDasharray="5 5" />
 77 |             <XAxis
 78 |               dataKey="x"
 79 |               domain={[-5, 5]}
 80 |               type="number"
 81 |               ticks={[-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5]}
 82 |             />
 83 |             <YAxis domain={[-10, 10]} />
 84 |           </LineChart>
 85 |         </ResponsiveContainer>
 86 |       </CardContent>
 87 |     </Card>
 88 |   );
 89 | };
 90 | 
 91 | export default LinearEquationInteractive;
 92 | </antartifact>
 93 | 
 94 | This interactive component allows users to explore linear equations by adjusting the slope and y-intercept. Here's a breakdown of its features:
 95 | 
 96 | 1. Two sliders allow users to change the slope (m) and y-intercept (b) of the equation.
 97 | 2. The current equation is displayed above the graph, updating in real-time as the sliders are adjusted.
 98 | 3. A line chart shows the resulting line based on the current equation.
 99 | 4. The x-axis ranges from -5 to 5, and the y-axis adjusts automatically to show the line.
100 | 
101 | This component helps students visualize how changes in slope and y-intercept affect the line's position and steepness. Users can experiment with different values to see how the line changes, reinforcing their understanding of linear equations.
102 | 
103 | To use this component, you would import it into a React application and render it like this:
104 | 
105 | \`\`\`jsx
106 | import LinearEquationInteractive from './LinearEquationInteractive';
107 | 
108 | function App() {
109 |   return (
110 |     <div className="App">
111 |       <LinearEquationInteractive />
112 |     </div>
113 |   );
114 | }
115 | \`\`\`
116 | 
117 | Would you like me to explain any part of the code in more detail or suggest ways to extend this interactive component?
118 |     `,
119 |   },
120 | ];
121 | 


--------------------------------------------------------------------------------
/lib/supabase/hooks/useSupabase.ts:
--------------------------------------------------------------------------------
 1 | "use client";
 2 | 
 3 | import { useContext } from "react";
 4 | 
 5 | import { SupabaseContext } from "../supabase-provider";
 6 | import { SupabaseContextType } from "../types";
 7 | 
 8 | export const useSupabase = (): SupabaseContextType => {
 9 |   const context = useContext(SupabaseContext);
10 | 
11 |   if (context === undefined) {
12 |     throw new Error("useSupabase must be used inside SupabaseProvider");
13 |   }
14 | 
15 |   return context;
16 | };
17 | 


--------------------------------------------------------------------------------
/lib/supabase/index.ts:
--------------------------------------------------------------------------------
1 | export * from "./hooks/useSupabase";
2 | export * from "./supabase-provider";
3 | 


--------------------------------------------------------------------------------
/lib/supabase/supabase-provider.tsx:
--------------------------------------------------------------------------------
 1 | "use client";
 2 | 
 3 | import {
 4 |   createClientComponentClient,
 5 |   Session,
 6 | } from "@supabase/auth-helpers-nextjs";
 7 | import { useRouter } from "next/navigation";
 8 | import { createContext, useEffect, useState } from "react";
 9 | 
10 | import { SupabaseContextType } from "./types";
11 | 
12 | export const SupabaseContext = createContext<SupabaseContextType | undefined>(
13 |   undefined
14 | );
15 | 
16 | export const SupabaseProvider = ({
17 |   children,
18 |   session,
19 | }: {
20 |   children: React.ReactNode;
21 |   session: Session | null;
22 | }): JSX.Element => {
23 |   const [supabase] = useState(() => createClientComponentClient());
24 |   const router = useRouter();
25 | 
26 |   useEffect(() => {
27 |     const {
28 |       data: { subscription },
29 |     } = supabase.auth.onAuthStateChange(() => {
30 |       router.refresh();
31 |     });
32 | 
33 |     return () => {
34 |       subscription.unsubscribe();
35 |     };
36 |   }, [router, supabase]);
37 | 
38 |   return (
39 |     <SupabaseContext.Provider value={{ supabase, session }}>
40 |       <>{children}</>
41 |     </SupabaseContext.Provider>
42 |   );
43 | };
44 | 


--------------------------------------------------------------------------------
/lib/supabase/types.ts:
--------------------------------------------------------------------------------
1 | import { Database } from "@/app/supabase.types";
2 | import { Session, SupabaseClient } from "@supabase/auth-helpers-nextjs";
3 | 
4 | export type SupabaseContextType = {
5 |   supabase: SupabaseClient<Database>;
6 |   session: Session | null;
7 | };
8 | 


--------------------------------------------------------------------------------
/lib/userSettings.ts:
--------------------------------------------------------------------------------
 1 | import { Models } from "@/app/types";
 2 | import { z } from "zod";
 3 | 
 4 | export const settingsLocalStorageKey = "openArtifacts:settings";
 5 | 
 6 | export const settingsSchema = z.object({
 7 |   anthropicApiKey: z.string(),
 8 |   openaiApiKey: z.string(),
 9 |   model: z.nativeEnum(Models),
10 | });
11 | 
12 | export type SettingsSchema = z.infer<typeof settingsSchema>;
13 | 
14 | const defaultSettings: SettingsSchema = {
15 |   anthropicApiKey: "",
16 |   openaiApiKey: "",
17 |   model: Models.claude,
18 | };
19 | 
20 | export const getSettings = (): SettingsSchema => {
21 |   const storedSettings = window.localStorage.getItem(settingsLocalStorageKey);
22 | 
23 |   if (!storedSettings) {
24 |     return defaultSettings;
25 |   }
26 | 
27 |   try {
28 |     const parsedSettings = JSON.parse(storedSettings);
29 | 
30 |     // Merge stored settings with default settings to ensure all fields are present
31 |     const mergedSettings: SettingsSchema = {
32 |       ...defaultSettings,
33 |       ...parsedSettings,
34 |     };
35 | 
36 |     // Ensure the model field is a valid enum value if it exists
37 |     if (
38 |       mergedSettings.model !== null &&
39 |       !Object.values(Models).includes(mergedSettings.model)
40 |     ) {
41 |       console.warn(
42 |         `Invalid model value: ${mergedSettings.model}. Resetting to null.`
43 |       );
44 |       mergedSettings.model = Models.claude;
45 |     }
46 | 
47 |     // Validate and parse the merged settings
48 |     return settingsSchema.parse(mergedSettings);
49 |   } catch (error) {
50 |     console.error("Error parsing stored settings:", error);
51 |     return defaultSettings;
52 |   }
53 | };
54 | 
55 | export const updateSettings = (newSettings: SettingsSchema) =>
56 |   window.localStorage.setItem(
57 |     settingsLocalStorageKey,
58 |     JSON.stringify(newSettings)
59 |   );
60 | 


--------------------------------------------------------------------------------
/lib/utils.ts:
--------------------------------------------------------------------------------
  1 | import { type ClassValue, clsx } from "clsx";
  2 | import { twMerge } from "tailwind-merge";
  3 | 
  4 | export const convertFileToBase64 = (file: File): Promise<string> => {
  5 |   return new Promise((resolve, reject) => {
  6 |     const reader = new FileReader();
  7 |     reader.readAsDataURL(file);
  8 |     reader.onload = () => resolve(reader.result as string);
  9 |     reader.onerror = (error) => reject(error);
 10 |   });
 11 | };
 12 | 
 13 | export function cn(...inputs: ClassValue[]) {
 14 |   return twMerge(clsx(inputs));
 15 | }
 16 | 
 17 | export type ArtifactMessagePartData = {
 18 |   generating: boolean;
 19 |   id: string | null;
 20 |   type: string | null;
 21 |   title: string | null;
 22 |   content: string;
 23 |   language: string | null;
 24 | };
 25 | 
 26 | export type MessagePart =
 27 |   | {
 28 |       type: "text";
 29 |       data: string;
 30 |     }
 31 |   | {
 32 |       type: "artifact";
 33 |       data: ArtifactMessagePartData;
 34 |     }
 35 |   | {
 36 |       type: "thought";
 37 |       data: string | null;
 38 |     };
 39 | 
 40 | export function parseMessage(message: string): MessagePart[] {
 41 |   const parts: MessagePart[] = [];
 42 |   let currentPart: MessagePart | null = null;
 43 |   let buffer = "";
 44 |   let i = 0;
 45 | 
 46 |   while (i < message.length) {
 47 |     const char = message[i];
 48 | 
 49 |     if (char === "<" && !currentPart) {
 50 |       if (buffer.trim()) {
 51 |         parts.push({ type: "text", data: buffer.trim() });
 52 |         buffer = "";
 53 |       }
 54 | 
 55 |       const tagEnd = message.indexOf(">", i);
 56 |       if (tagEnd === -1) {
 57 |         buffer += char;
 58 |         i++;
 59 |         continue;
 60 |       }
 61 | 
 62 |       const tag = message.slice(i + 1, tagEnd);
 63 |       if (tag.startsWith("thinking")) {
 64 |         currentPart = { type: "thought", data: "" };
 65 |         i = tagEnd + 1;
 66 |       } else if (tag.startsWith("artifact")) {
 67 |         const data: ArtifactMessagePartData = {
 68 |           generating: true,
 69 |           id: null,
 70 |           type: null,
 71 |           title: null,
 72 |           content: "",
 73 |           language: null,
 74 |         };
 75 |         const attributeRegex = /(\w+)="([^"]*)"/g;
 76 |         let match;
 77 |         while ((match = attributeRegex.exec(tag)) !== null) {
 78 |           const [, key, value] = match;
 79 |           if (key === "identifier") data.id = value;
 80 |           else if (key === "type") data.type = value;
 81 |           else if (key === "title") data.title = value;
 82 |           else if (key === "language") data.language = value;
 83 |         }
 84 |         currentPart = { type: "artifact", data };
 85 |         i = tagEnd + 1;
 86 |       } else {
 87 |         buffer += char;
 88 |         i++;
 89 |       }
 90 |     } else if (currentPart) {
 91 |       const closingTag =
 92 |         currentPart.type === "thought" ? "</thinking>" : "</artifact>";
 93 |       const closingIndex = message.indexOf(closingTag, i);
 94 | 
 95 |       if (closingIndex !== -1) {
 96 |         const content = message.slice(i, closingIndex);
 97 |         if (currentPart.type === "thought") {
 98 |           currentPart.data = content;
 99 |         } else if (currentPart.type === "artifact" && currentPart.data) {
100 |           currentPart.data.content = content;
101 |           currentPart.data.generating = false;
102 |         }
103 |         parts.push(currentPart);
104 |         currentPart = null;
105 |         i = closingIndex + closingTag.length;
106 |       } else {
107 |         // If no closing tag is found, treat the rest of the message as content
108 |         const remainingContent = message.slice(i);
109 |         if (currentPart.type === "thought") {
110 |           currentPart.data = remainingContent;
111 |         } else if (currentPart.type === "artifact" && currentPart.data) {
112 |           currentPart.data.content = remainingContent;
113 |         }
114 |         parts.push(currentPart);
115 |         break;
116 |       }
117 |     } else {
118 |       buffer += char;
119 |       i++;
120 |     }
121 |   }
122 | 
123 |   if (buffer.trim()) {
124 |     parts.push({ type: "text", data: buffer.trim() });
125 |   }
126 | 
127 |   return combineTextParts(parts);
128 | }
129 | 
130 | function combineTextParts(parts: MessagePart[]): MessagePart[] {
131 |   const combinedParts: MessagePart[] = [];
132 |   let currentTextContent = "";
133 | 
134 |   for (const part of parts) {
135 |     if (part.type === "text") {
136 |       currentTextContent += (currentTextContent ? " " : "") + part.data;
137 |     } else {
138 |       if (currentTextContent) {
139 |         combinedParts.push({ type: "text", data: currentTextContent });
140 |         currentTextContent = "";
141 |       }
142 |       combinedParts.push(part);
143 |     }
144 |   }
145 | 
146 |   if (currentTextContent) {
147 |     combinedParts.push({ type: "text", data: currentTextContent });
148 |   }
149 | 
150 |   return combinedParts;
151 | }
152 | 


--------------------------------------------------------------------------------
/next.config.mjs:
--------------------------------------------------------------------------------
1 | /** @type {import('next').NextConfig} */
2 | const nextConfig = {};
3 | 
4 | export default nextConfig;
5 | 


--------------------------------------------------------------------------------
/package.json:
--------------------------------------------------------------------------------
 1 | {
 2 |   "name": "open-artifacts",
 3 |   "version": "0.1.0",
 4 |   "private": true,
 5 |   "scripts": {
 6 |     "dev": "next dev",
 7 |     "build": "next build",
 8 |     "start": "next start",
 9 |     "lint": "next lint"
10 |   },
11 |   "dependencies": {
12 |     "@ai-sdk/anthropic": "^0.0.31",
13 |     "@ai-sdk/openai": "^0.0.38",
14 |     "@chengsokdara/use-whisper": "^0.2.0",
15 |     "@ffmpeg/core": "^0.11.0",
16 |     "@hookform/resolvers": "^3.9.0",
17 |     "@radix-ui/react-alert-dialog": "^1.1.1",
18 |     "@radix-ui/react-dialog": "^1.1.1",
19 |     "@radix-ui/react-dropdown-menu": "^2.1.1",
20 |     "@radix-ui/react-label": "^2.1.0",
21 |     "@radix-ui/react-popover": "^1.1.1",
22 |     "@radix-ui/react-select": "^2.1.1",
23 |     "@radix-ui/react-separator": "^1.1.0",
24 |     "@radix-ui/react-tabs": "^1.1.0",
25 |     "@radix-ui/react-tooltip": "^1.1.2",
26 |     "@supabase/auth-helpers-nextjs": "^0.10.0",
27 |     "@supabase/supabase-js": "^2.44.3",
28 |     "@tanstack/react-query": "^5.51.1",
29 |     "ai": "^3.2.34",
30 |     "class-variance-authority": "^0.7.0",
31 |     "clsx": "^2.1.1",
32 |     "lucide-react": "^0.407.0",
33 |     "next": "14.2.5",
34 |     "react": "^18",
35 |     "react-dom": "^18",
36 |     "react-hook-form": "^7.52.1",
37 |     "react-hot-toast": "^2.4.1",
38 |     "react-markdown": "^9.0.1",
39 |     "react-syntax-highlighter": "^15.5.0",
40 |     "react-textarea-autosize": "^8.5.3",
41 |     "remark-gfm": "^4.0.0",
42 |     "tailwind-merge": "^2.4.0",
43 |     "tailwindcss-animate": "^1.0.7",
44 |     "zod": "^3.23.8"
45 |   },
46 |   "devDependencies": {
47 |     "@tailwindcss/typography": "^0.5.13",
48 |     "@types/node": "^20",
49 |     "@types/react": "^18",
50 |     "@types/react-dom": "^18",
51 |     "@types/react-syntax-highlighter": "^15.5.13",
52 |     "eslint": "^8",
53 |     "eslint-config-next": "14.2.5",
54 |     "postcss": "^8",
55 |     "tailwindcss": "^3.4.1",
56 |     "typescript": "^5"
57 |   }
58 | }
59 | 


--------------------------------------------------------------------------------
/postcss.config.mjs:
--------------------------------------------------------------------------------
1 | /** @type {import('postcss-load-config').Config} */
2 | const config = {
3 |   plugins: {
4 |     tailwindcss: {},
5 |   },
6 | };
7 | 
8 | export default config;
9 | 


--------------------------------------------------------------------------------
/public/anthropic.svg:
--------------------------------------------------------------------------------
1 | <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 143 16" width="143" height="16" preserveAspectRatio="xMidYMid meet" style="width: 100%; height: 100%; transform: translate3d(0px, 0px, 0px); content-visibility: visible;"><defs><clipPath id="__lottie_element_2"><rect width="143" height="16" x="0" y="0"></rect></clipPath><clipPath id="__lottie_element_4"><path d="M0,0 L143,0 L143,16 L0,16z"></path></clipPath><g id="__lottie_element_8"><g transform="matrix(1,0,0,1,0,0)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="rgb(0,0,0)" fill-opacity="0" d=" M142.5,0 C142.5,0 142.5,16 142.5,16 C142.5,16 0,16 0,16 C0,16 0,0 0,0 C0,0 142.5,0 142.5,0z"></path></g></g></g><clipPath id="__lottie_element_12"><path d="M0,0 L143,0 L143,16 L0,16z"></path></clipPath><clipPath id="__lottie_element_17"><path d="M0,0 L143,0 L143,16 L0,16z"></path></clipPath><clipPath id="__lottie_element_26"><path d="M0,0 L143,0 L143,16 L0,16z"></path></clipPath><clipPath id="__lottie_element_35"><path d="M0,0 L143,0 L143,16 L0,16z"></path></clipPath><clipPath id="__lottie_element_44"><path d="M0,0 L143,0 L143,16 L0,16z"></path></clipPath><clipPath id="__lottie_element_53"><path d="M0,0 L143,0 L143,16 L0,16z"></path></clipPath><clipPath id="__lottie_element_62"><path d="M0,0 L143,0 L143,16 L0,16z"></path></clipPath><clipPath id="__lottie_element_71"><path d="M0,0 L143,0 L143,16 L0,16z"></path></clipPath><clipPath id="__lottie_element_80"><path d="M0,0 L143,0 L143,16 L0,16z"></path></clipPath><clipPath id="__lottie_element_89"><path d="M0,0 L143,0 L143,16 L0,16z"></path></clipPath></defs><g clip-path="url(#__lottie_element_2)"><g transform="matrix(1,0,0,1,0,0)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="rgb(249,249,247)" fill-opacity="0" d=" M142.5,0 C142.5,0 142.5,16 142.5,16 C142.5,16 0,16 0,16 C0,16 0,0 0,0 C0,0 142.5,0 142.5,0z"></path></g></g><g clip-path="url(#__lottie_element_4)" transform="matrix(1,0,0,1,0,0)" opacity="1" style="display: block;"><g clip-path="url(#__lottie_element_12)" transform="matrix(1,0,0,1,0,0)" opacity="1" style="display: block;"><g clip-path="url(#__lottie_element_89)" transform="matrix(1,0,0,1,0,0)" opacity="1" style="display: block;"><g transform="matrix(1,0,0,1,18.299999237060547,0.27000001072883606)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="rgb(24,24,24)" fill-opacity="1" d=" M10.716191291809082,10.829001426696777 C10.716191291809082,10.829001426696777 3.756195545196533,0 3.756195545196533,0 C3.756195545196533,0 0,0 0,0 C0,0 0,15.470022201538086 0,15.470022201538086 C0,15.470022201538086 3.2038140296936035,15.470022201538086 3.2038140296936035,15.470022201538086 C3.2038140296936035,15.470022201538086 3.2038140296936035,4.6410064697265625 3.2038140296936035,4.6410064697265625 C3.2038140296936035,4.6410064697265625 10.163809776306152,15.470022201538086 10.163809776306152,15.470022201538086 C10.163809776306152,15.470022201538086 13.919991493225098,15.470022201538086 13.919991493225098,15.470022201538086 C13.919991493225098,15.470022201538086 13.919991493225098,0 13.919991493225098,0 C13.919991493225098,0 10.716191291809082,0 10.716191291809082,0 C10.716191291809082,0 10.716191291809082,10.829001426696777 10.716191291809082,10.829001426696777 C10.716191291809082,10.829001426696777 10.716191291809082,10.829001426696777 10.716191291809082,10.829001426696777z"></path></g></g></g><g clip-path="url(#__lottie_element_80)" transform="matrix(1,0,0,1,0,0)" opacity="1" style="display: block;"><g transform="matrix(1,0,0,1,34.869998931884766,0.27000001072883606)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="rgb(24,24,24)" fill-opacity="1" d=" M0,2.983504056930542 C0,2.983504056930542 5.19273567199707,2.983504056930542 5.19273567199707,2.983504056930542 C5.19273567199707,2.983504056930542 5.19273567199707,15.470022201538086 5.19273567199707,15.470022201538086 C5.19273567199707,15.470022201538086 8.507256507873535,15.470022201538086 8.507256507873535,15.470022201538086 C8.507256507873535,15.470022201538086 8.507256507873535,2.983504056930542 8.507256507873535,2.983504056930542 C8.507256507873535,2.983504056930542 13.700006484985352,2.983504056930542 13.700006484985352,2.983504056930542 C13.700006484985352,2.983504056930542 13.700006484985352,0 13.700006484985352,0 C13.700006484985352,0 0,0 0,0 C0,0 0,2.983504056930542 0,2.983504056930542 C0,2.983504056930542 0,2.983504056930542 0,2.983504056930542z"></path></g></g></g><g clip-path="url(#__lottie_element_71)" transform="matrix(1,0,0,1,0,0)" opacity="1" style="display: block;"><g transform="matrix(1,0,0,1,51.22999954223633,0.27000001072883606)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="rgb(24,24,24)" fill-opacity="1" d=" M10.605714797973633,6.165900230407715 C10.605714797973633,6.165900230407715 3.3142902851104736,6.165900230407715 3.3142902851104736,6.165900230407715 C3.3142902851104736,6.165900230407715 3.3142902851104736,0 3.3142902851104736,0 C3.3142902851104736,0 0,0 0,0 C0,0 0,15.470022201538086 0,15.470022201538086 C0,15.470022201538086 3.3142902851104736,15.470022201538086 3.3142902851104736,15.470022201538086 C3.3142902851104736,15.470022201538086 3.3142902851104736,9.149404525756836 3.3142902851104736,9.149404525756836 C3.3142902851104736,9.149404525756836 10.605714797973633,9.149404525756836 10.605714797973633,9.149404525756836 C10.605714797973633,9.149404525756836 10.605714797973633,15.470022201538086 10.605714797973633,15.470022201538086 C10.605714797973633,15.470022201538086 13.919991493225098,15.470022201538086 13.919991493225098,15.470022201538086 C13.919991493225098,15.470022201538086 13.919991493225098,0 13.919991493225098,0 C13.919991493225098,0 10.605714797973633,0 10.605714797973633,0 C10.605714797973633,0 10.605714797973633,6.165900230407715 10.605714797973633,6.165900230407715 C10.605714797973633,6.165900230407715 10.605714797973633,6.165900230407715 10.605714797973633,6.165900230407715z"></path></g></g></g><g clip-path="url(#__lottie_element_62)" transform="matrix(1,0,0,1,0,0)" opacity="1" style="display: block;"><g transform="matrix(1,0,0,1,69.23999786376953,0.27000001072883606)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="rgb(24,24,24)" fill-opacity="1" d=" M3.3151700496673584,2.983504056930542 C3.3151700496673584,2.983504056930542 7.403865814208984,2.983504056930542 7.403865814208984,2.983504056930542 C9.03934097290039,2.983504056930542 9.901290893554688,3.5801939964294434 9.901290893554688,4.707304000854492 C9.901290893554688,5.834399700164795 9.03934097290039,6.431103706359863 7.403865814208984,6.431103706359863 C7.403865814208984,6.431103706359863 3.3151700496673584,6.431103706359863 3.3151700496673584,6.431103706359863 C3.3151700496673584,6.431103706359863 3.3151700496673584,2.983504056930542 3.3151700496673584,2.983504056930542 C3.3151700496673584,2.983504056930542 3.3151700496673584,2.983504056930542 3.3151700496673584,2.983504056930542z M13.216461181640625,4.707304000854492 C13.216461181640625,1.7900969982147217 11.072648048400879,0 7.558576583862305,0 C7.558576583862305,0 0,0 0,0 C0,0 0,15.470022201538086 0,15.470022201538086 C0,15.470022201538086 3.3151700496673584,15.470022201538086 3.3151700496673584,15.470022201538086 C3.3151700496673584,15.470022201538086 3.3151700496673584,9.414593696594238 3.3151700496673584,9.414593696594238 C3.3151700496673584,9.414593696594238 7.005825519561768,9.414593696594238 7.005825519561768,9.414593696594238 C7.005825519561768,9.414593696594238 10.321218490600586,15.470022201538086 10.321218490600586,15.470022201538086 C10.321218490600586,15.470022201538086 13.990056991577148,15.470022201538086 13.990056991577148,15.470022201538086 C13.990056991577148,15.470022201538086 10.319005966186523,8.953378677368164 10.319005966186523,8.953378677368164 C12.161579132080078,8.245061874389648 13.216461181640625,6.753532409667969 13.216461181640625,4.707304000854492 C13.216461181640625,4.707304000854492 13.216461181640625,4.707304000854492 13.216461181640625,4.707304000854492z"></path></g></g></g><g clip-path="url(#__lottie_element_53)" transform="matrix(1,0,0,1,0,0)" opacity="1" style="display: block;"><g transform="matrix(1,0,0,1,84.98999786376953,0)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="rgb(24,24,24)" fill-opacity="1" d=" M7.622087478637695,12.906073570251465 C5.015110492706299,12.906073570251465 3.4244225025177,11.049725532531738 3.4244225025177,8.022093772888184 C3.4244225025177,4.95027494430542 5.015110492706299,3.0939269065856934 7.622087478637695,3.0939269065856934 C10.206976890563965,3.0939269065856934 11.775577545166016,4.95027494430542 11.775577545166016,8.022093772888184 C11.775577545166016,11.049725532531738 10.206976890563965,12.906073570251465 7.622087478637695,12.906073570251465 C7.622087478637695,12.906073570251465 7.622087478637695,12.906073570251465 7.622087478637695,12.906073570251465z M7.622087478637695,0 C3.1593029499053955,0 0,3.3149218559265137 0,8.022093772888184 C0,12.685078620910645 3.1593029499053955,16 7.622087478637695,16 C12.062784194946289,16 15.200028419494629,12.685078620910645 15.200028419494629,8.022093772888184 C15.200028419494629,3.3149218559265137 12.062784194946289,0 7.622087478637695,0 C7.622087478637695,0 7.622087478637695,0 7.622087478637695,0z"></path></g></g></g><g clip-path="url(#__lottie_element_44)" transform="matrix(1,0,0,1,0,0)" opacity="1" style="display: block;"><g transform="matrix(1,0,0,1,103.29000091552734,0.27000001072883606)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="rgb(24,24,24)" fill-opacity="1" d=" M7.405848026275635,6.873104095458984 C7.405848026275635,6.873104095458984 3.3160574436187744,6.873104095458984 3.3160574436187744,6.873104095458984 C3.3160574436187744,6.873104095458984 3.3160574436187744,2.983504056930542 3.3160574436187744,2.983504056930542 C3.3160574436187744,2.983504056930542 7.405848026275635,2.983504056930542 7.405848026275635,2.983504056930542 C9.04176139831543,2.983504056930542 9.90394115447998,3.646505117416382 9.90394115447998,4.928304195404053 C9.90394115447998,6.2101030349731445 9.04176139831543,6.873104095458984 7.405848026275635,6.873104095458984 C7.405848026275635,6.873104095458984 7.405848026275635,6.873104095458984 7.405848026275635,6.873104095458984z M7.5605998039245605,0 C7.5605998039245605,0 0,0 0,0 C0,0 0,15.470022201538086 0,15.470022201538086 C0,15.470022201538086 3.3160574436187744,15.470022201538086 3.3160574436187744,15.470022201538086 C3.3160574436187744,15.470022201538086 3.3160574436187744,9.85659408569336 3.3160574436187744,9.85659408569336 C3.3160574436187744,9.85659408569336 7.5605998039245605,9.85659408569336 7.5605998039245605,9.85659408569336 C11.07561206817627,9.85659408569336 13.219999313354492,8.000200271606445 13.219999313354492,4.928304195404053 C13.219999313354492,1.8563942909240723 11.07561206817627,0 7.5605998039245605,0 C7.5605998039245605,0 7.5605998039245605,0 7.5605998039245605,0z"></path></g></g></g><g clip-path="url(#__lottie_element_35)" transform="matrix(1,0,0,1,0,0)" opacity="1" style="display: block;"><g transform="matrix(1,0,0,1,128.0399932861328,0)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="rgb(24,24,24)" fill-opacity="1" d=" M10.914844512939453,10.5414400100708 C10.340370178222656,12.044201850891113 9.191434860229492,12.906073570251465 7.622706890106201,12.906073570251465 C5.0155181884765625,12.906073570251465 3.4246866703033447,11.049725532531738 3.4246866703033447,8.022093772888184 C3.4246866703033447,4.95027494430542 5.0155181884765625,3.0939269065856934 7.622706890106201,3.0939269065856934 C9.191434860229492,3.0939269065856934 10.340370178222656,3.9557981491088867 10.914844512939453,5.458559989929199 C10.914844512939453,5.458559989929199 14.427860260009766,5.458559989929199 14.427860260009766,5.458559989929199 C13.566211700439453,2.1436522006988525 10.981111526489258,0 7.622706890106201,0 C3.1595458984375,0 0,3.3149218559265137 0,8.022093772888184 C0,12.685078620910645 3.1595458984375,16 7.622706890106201,16 C11.003214836120605,16 13.588300704956055,13.834254264831543 14.449976921081543,10.5414400100708 C14.449976921081543,10.5414400100708 10.914844512939453,10.5414400100708 10.914844512939453,10.5414400100708 C10.914844512939453,10.5414400100708 10.914844512939453,10.5414400100708 10.914844512939453,10.5414400100708z"></path></g></g></g><g clip-path="url(#__lottie_element_26)" transform="matrix(1,0,0,1,0,0)" opacity="1" style="display: block;"><g transform="matrix(1,0,0,1,117.83000183105469,0.27000001072883606)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="rgb(24,24,24)" fill-opacity="1" d=" M0,0 C0,0 6.1677093505859375,15.470022201538086 6.1677093505859375,15.470022201538086 C6.1677093505859375,15.470022201538086 9.550004005432129,15.470022201538086 9.550004005432129,15.470022201538086 C9.550004005432129,15.470022201538086 3.382294178009033,0 3.382294178009033,0 C3.382294178009033,0 0,0 0,0 C0,0 0,0 0,0z"></path></g></g></g><g clip-path="url(#__lottie_element_17)" transform="matrix(1,0,0,1,0,0)" opacity="1" style="display: block;"><g transform="matrix(1,0,0,1,0,0.27000001072883606)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="rgb(24,24,24)" fill-opacity="1" d=" M5.824605464935303,9.348296165466309 C5.824605464935303,9.348296165466309 7.93500280380249,3.911694288253784 7.93500280380249,3.911694288253784 C7.93500280380249,3.911694288253784 10.045400619506836,9.348296165466309 10.045400619506836,9.348296165466309 C10.045400619506836,9.348296165466309 5.824605464935303,9.348296165466309 5.824605464935303,9.348296165466309 C5.824605464935303,9.348296165466309 5.824605464935303,9.348296165466309 5.824605464935303,9.348296165466309z M6.166755199432373,0 C6.166755199432373,0 0,15.470022201538086 0,15.470022201538086 C0,15.470022201538086 3.4480772018432617,15.470022201538086 3.4480772018432617,15.470022201538086 C3.4480772018432617,15.470022201538086 4.709278583526611,12.22130012512207 4.709278583526611,12.22130012512207 C4.709278583526611,12.22130012512207 11.16093635559082,12.22130012512207 11.16093635559082,12.22130012512207 C11.16093635559082,12.22130012512207 12.421928405761719,15.470022201538086 12.421928405761719,15.470022201538086 C12.421928405761719,15.470022201538086 15.87000560760498,15.470022201538086 15.87000560760498,15.470022201538086 C15.87000560760498,15.470022201538086 9.703250885009766,0 9.703250885009766,0 C9.703250885009766,0 6.166755199432373,0 6.166755199432373,0 C6.166755199432373,0 6.166755199432373,0 6.166755199432373,0z"></path></g></g></g></g></g></g></svg>


--------------------------------------------------------------------------------
/public/crop-and-talk.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/13point5/open-artifacts/main/public/crop-and-talk.png


--------------------------------------------------------------------------------
/public/demo.png:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/13point5/open-artifacts/main/public/demo.png


--------------------------------------------------------------------------------
/public/github.svg:
--------------------------------------------------------------------------------
1 | <svg width="98" height="96" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#24292f"/></svg>


--------------------------------------------------------------------------------
/public/google.svg:
--------------------------------------------------------------------------------
 1 | <svg
 2 |   viewBox="0 0 24 24"
 3 |   xmlns="http://www.w3.org/2000/svg"
 4 | >
 5 |   <path
 6 |     d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
 7 |     fill="#4285F4"
 8 |   />
 9 |   <path
10 |     d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
11 |     fill="#34A853"
12 |   />
13 |   <path
14 |     d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
15 |     fill="#FBBC05"
16 |   />
17 |   <path
18 |     d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
19 |     fill="#EA4335"
20 |   />
21 | </svg>


--------------------------------------------------------------------------------
/public/next.svg:
--------------------------------------------------------------------------------
1 | <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 394 80"><path fill="#000" d="M262 0h68.5v12.7h-27.2v66.6h-13.6V12.7H262V0ZM149 0v12.7H94v20.4h44.3v12.6H94v21h55v12.6H80.5V0h68.7zm34.3 0h-17.8l63.8 79.4h17.9l-32-39.7 32-39.6h-17.9l-23 28.6-23-28.6zm18.3 56.7-9-11-27.1 33.7h17.8l18.3-22.7z"/><path fill="#000" d="M81 79.3 17 0H0v79.3h13.6V17l50.2 62.3H81Zm252.6-.4c-1 0-1.8-.4-2.5-1s-1.1-1.6-1.1-2.6.3-1.8 1-2.5 1.6-1 2.6-1 1.8.3 2.5 1a3.4 3.4 0 0 1 .6 4.3 3.7 3.7 0 0 1-3 1.8zm23.2-33.5h6v23.3c0 2.1-.4 4-1.3 5.5a9.1 9.1 0 0 1-3.8 3.5c-1.6.8-3.5 1.3-5.7 1.3-2 0-3.7-.4-5.3-1s-2.8-1.8-3.7-3.2c-.9-1.3-1.4-3-1.4-5h6c.1.8.3 1.6.7 2.2s1 1.2 1.6 1.5c.7.4 1.5.5 2.4.5 1 0 1.8-.2 2.4-.6a4 4 0 0 0 1.6-1.8c.3-.8.5-1.8.5-3V45.5zm30.9 9.1a4.4 4.4 0 0 0-2-3.3 7.5 7.5 0 0 0-4.3-1.1c-1.3 0-2.4.2-3.3.5-.9.4-1.6 1-2 1.6a3.5 3.5 0 0 0-.3 4c.3.5.7.9 1.3 1.2l1.8 1 2 .5 3.2.8c1.3.3 2.5.7 3.7 1.2a13 13 0 0 1 3.2 1.8 8.1 8.1 0 0 1 3 6.5c0 2-.5 3.7-1.5 5.1a10 10 0 0 1-4.4 3.5c-1.8.8-4.1 1.2-6.8 1.2-2.6 0-4.9-.4-6.8-1.2-2-.8-3.4-2-4.5-3.5a10 10 0 0 1-1.7-5.6h6a5 5 0 0 0 3.5 4.6c1 .4 2.2.6 3.4.6 1.3 0 2.5-.2 3.5-.6 1-.4 1.8-1 2.4-1.7a4 4 0 0 0 .8-2.4c0-.9-.2-1.6-.7-2.2a11 11 0 0 0-2.1-1.4l-3.2-1-3.8-1c-2.8-.7-5-1.7-6.6-3.2a7.2 7.2 0 0 1-2.4-5.7 8 8 0 0 1 1.7-5 10 10 0 0 1 4.3-3.5c2-.8 4-1.2 6.4-1.2 2.3 0 4.4.4 6.2 1.2 1.8.8 3.2 2 4.3 3.4 1 1.4 1.5 3 1.5 5h-5.8z"/></svg>


--------------------------------------------------------------------------------
/public/openai.svg:
--------------------------------------------------------------------------------
1 | 
2 | <svg viewBox="0 0 1180 320" xmlns="http://www.w3.org/2000/svg"><path d="m367.44 153.84c0 52.32 33.6 88.8 80.16 88.8s80.16-36.48 80.16-88.8-33.6-88.8-80.16-88.8-80.16 36.48-80.16 88.8zm129.6 0c0 37.44-20.4 61.68-49.44 61.68s-49.44-24.24-49.44-61.68 20.4-61.68 49.44-61.68 49.44 24.24 49.44 61.68z"/><path d="m614.27 242.64c35.28 0 55.44-29.76 55.44-65.52s-20.16-65.52-55.44-65.52c-16.32 0-28.32 6.48-36.24 15.84v-13.44h-28.8v169.2h28.8v-56.4c7.92 9.36 19.92 15.84 36.24 15.84zm-36.96-69.12c0-23.76 13.44-36.72 31.2-36.72 20.88 0 32.16 16.32 32.16 40.32s-11.28 40.32-32.16 40.32c-17.76 0-31.2-13.2-31.2-36.48z"/><path d="m747.65 242.64c25.2 0 45.12-13.2 54-35.28l-24.72-9.36c-3.84 12.96-15.12 20.16-29.28 20.16-18.48 0-31.44-13.2-33.6-34.8h88.32v-9.6c0-34.56-19.44-62.16-55.92-62.16s-60 28.56-60 65.52c0 38.88 25.2 65.52 61.2 65.52zm-1.44-106.8c18.24 0 26.88 12 27.12 25.92h-57.84c4.32-17.04 15.84-25.92 30.72-25.92z"/><path d="m823.98 240h28.8v-73.92c0-18 13.2-27.6 26.16-27.6 15.84 0 22.08 11.28 22.08 26.88v74.64h28.8v-83.04c0-27.12-15.84-45.36-42.24-45.36-16.32 0-27.6 7.44-34.8 15.84v-13.44h-28.8z"/><path d="m1014.17 67.68-65.28 172.32h30.48l14.64-39.36h74.4l14.88 39.36h30.96l-65.28-172.32zm16.8 34.08 27.36 72h-54.24z"/><path d="m1163.69 68.18h-30.72v172.32h30.72z"/><path d="m297.06 130.97c7.26-21.79 4.76-45.66-6.85-65.48-17.46-30.4-52.56-46.04-86.84-38.68-15.25-17.18-37.16-26.95-60.13-26.81-35.04-.08-66.13 22.48-76.91 55.82-22.51 4.61-41.94 18.7-53.31 38.67-17.59 30.32-13.58 68.54 9.92 94.54-7.26 21.79-4.76 45.66 6.85 65.48 17.46 30.4 52.56 46.04 86.84 38.68 15.24 17.18 37.16 26.95 60.13 26.8 35.06.09 66.16-22.49 76.94-55.86 22.51-4.61 41.94-18.7 53.31-38.67 17.57-30.32 13.55-68.51-9.94-94.51zm-120.28 168.11c-14.03.02-27.62-4.89-38.39-13.88.49-.26 1.34-.73 1.89-1.07l63.72-36.8c3.26-1.85 5.26-5.32 5.24-9.07v-89.83l26.93 15.55c.29.14.48.42.52.74v74.39c-.04 33.08-26.83 59.9-59.91 59.97zm-128.84-55.03c-7.03-12.14-9.56-26.37-7.15-40.18.47.28 1.3.79 1.89 1.13l63.72 36.8c3.23 1.89 7.23 1.89 10.47 0l77.79-44.92v31.1c.02.32-.13.63-.38.83l-64.41 37.19c-28.69 16.52-65.33 6.7-81.92-21.95zm-16.77-139.09c7-12.16 18.05-21.46 31.21-26.29 0 .55-.03 1.52-.03 2.2v73.61c-.02 3.74 1.98 7.21 5.23 9.06l77.79 44.91-26.93 15.55c-.27.18-.61.21-.91.08l-64.42-37.22c-28.63-16.58-38.45-53.21-21.95-81.89zm221.26 51.49-77.79-44.92 26.93-15.54c.27-.18.61-.21.91-.08l64.42 37.19c28.68 16.57 38.51 53.26 21.94 81.94-7.01 12.14-18.05 21.44-31.2 26.28v-75.81c.03-3.74-1.96-7.2-5.2-9.06zm26.8-40.34c-.47-.29-1.3-.79-1.89-1.13l-63.72-36.8c-3.23-1.89-7.23-1.89-10.47 0l-77.79 44.92v-31.1c-.02-.32.13-.63.38-.83l64.41-37.16c28.69-16.55 65.37-6.7 81.91 22 6.99 12.12 9.52 26.31 7.15 40.1zm-168.51 55.43-26.94-15.55c-.29-.14-.48-.42-.52-.74v-74.39c.02-33.12 26.89-59.96 60.01-59.94 14.01 0 27.57 4.92 38.34 13.88-.49.26-1.33.73-1.89 1.07l-63.72 36.8c-3.26 1.85-5.26 5.31-5.24 9.06l-.04 89.79zm14.63-31.54 34.65-20.01 34.65 20v40.01l-34.65 20-34.65-20z"/></svg>


--------------------------------------------------------------------------------
/public/vercel.svg:
--------------------------------------------------------------------------------
1 | <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 283 64"><path fill="black" d="M141 16c-11 0-19 7-19 18s9 18 20 18c7 0 13-3 16-7l-7-5c-2 3-6 4-9 4-5 0-9-3-10-7h28v-3c0-11-8-18-19-18zm-9 15c1-4 4-7 9-7s8 3 9 7h-18zm117-15c-11 0-19 7-19 18s9 18 20 18c6 0 12-3 16-7l-8-5c-2 3-5 4-8 4-5 0-9-3-11-7h28l1-3c0-11-8-18-19-18zm-10 15c2-4 5-7 10-7s8 3 9 7h-19zm-39 3c0 6 4 10 10 10 4 0 7-2 9-5l8 5c-3 5-9 8-17 8-11 0-19-7-19-18s8-18 19-18c8 0 14 3 17 8l-8 5c-2-3-5-5-9-5-6 0-10 4-10 10zm83-29v46h-9V5h9zM37 0l37 64H0L37 0zm92 5-27 48L74 5h10l18 30 17-30h10zm59 12v10l-3-1c-6 0-10 4-10 10v15h-9V17h9v9c0-5 6-9 13-9z"/></svg>


--------------------------------------------------------------------------------
/supabase/.gitignore:
--------------------------------------------------------------------------------
1 | # Supabase
2 | .branches
3 | .temp
4 | .env
5 | 


--------------------------------------------------------------------------------
/supabase/config.toml:
--------------------------------------------------------------------------------
  1 | # A string used to distinguish different Supabase projects on the same host. Defaults to the
  2 | # working directory name when running `supabase init`.
  3 | project_id = "open-artifacts"
  4 | 
  5 | [api]
  6 | enabled = true
  7 | # Port to use for the API URL.
  8 | port = 54321
  9 | # Schemas to expose in your API. Tables, views and stored procedures in this schema will get API
 10 | # endpoints. `public` is always included.
 11 | schemas = ["public", "graphql_public"]
 12 | # Extra schemas to add to the search_path of every request. `public` is always included.
 13 | extra_search_path = ["public", "extensions"]
 14 | # The maximum number of rows returns from a view, table, or stored procedure. Limits payload size
 15 | # for accidental or malicious requests.
 16 | max_rows = 1000
 17 | 
 18 | [db]
 19 | # Port to use for the local database URL.
 20 | port = 54322
 21 | # Port used by db diff command to initialize the shadow database.
 22 | shadow_port = 54320
 23 | # The database major version to use. This has to be the same as your remote database's. Run `SHOW
 24 | # server_version;` on the remote database to check.
 25 | major_version = 15
 26 | 
 27 | [db.pooler]
 28 | enabled = false
 29 | # Port to use for the local connection pooler.
 30 | port = 54329
 31 | # Specifies when a server connection can be reused by other clients.
 32 | # Configure one of the supported pooler modes: `transaction`, `session`.
 33 | pool_mode = "transaction"
 34 | # How many server connections to allow per user/database pair.
 35 | default_pool_size = 20
 36 | # Maximum number of client connections allowed.
 37 | max_client_conn = 100
 38 | 
 39 | [realtime]
 40 | enabled = true
 41 | # Bind realtime via either IPv4 or IPv6. (default: IPv4)
 42 | # ip_version = "IPv6"
 43 | # The maximum length in bytes of HTTP request headers. (default: 4096)
 44 | # max_header_length = 4096
 45 | 
 46 | [studio]
 47 | enabled = true
 48 | # Port to use for Supabase Studio.
 49 | port = 54323
 50 | # External URL of the API server that frontend connects to.
 51 | api_url = "http://127.0.0.1"
 52 | # OpenAI API Key to use for Supabase AI in the Supabase Studio.
 53 | openai_api_key = "env(OPENAI_API_KEY)"
 54 | 
 55 | # Email testing server. Emails sent with the local dev setup are not actually sent - rather, they
 56 | # are monitored, and you can view the emails that would have been sent from the web interface.
 57 | [inbucket]
 58 | enabled = true
 59 | # Port to use for the email testing server web interface.
 60 | port = 54324
 61 | # Uncomment to expose additional ports for testing user applications that send emails.
 62 | # smtp_port = 54325
 63 | # pop3_port = 54326
 64 | 
 65 | [storage]
 66 | enabled = true
 67 | # The maximum file size allowed (e.g. "5MB", "500KB").
 68 | file_size_limit = "50MiB"
 69 | 
 70 | [storage.image_transformation]
 71 | enabled = true
 72 | 
 73 | [auth]
 74 | enabled = true
 75 | # The base URL of your website. Used as an allow-list for redirects and for constructing URLs used
 76 | # in emails.
 77 | site_url = "http://127.0.0.1:3000"
 78 | # A list of *exact* URLs that auth providers are permitted to redirect to post authentication.
 79 | additional_redirect_urls = ["https://127.0.0.1:3000"]
 80 | # How long tokens are valid for, in seconds. Defaults to 3600 (1 hour), maximum 604,800 (1 week).
 81 | jwt_expiry = 3600
 82 | # If disabled, the refresh token will never expire.
 83 | enable_refresh_token_rotation = true
 84 | # Allows refresh tokens to be reused after expiry, up to the specified interval in seconds.
 85 | # Requires enable_refresh_token_rotation = true.
 86 | refresh_token_reuse_interval = 10
 87 | # Allow/disallow new user signups to your project.
 88 | enable_signup = true
 89 | # Allow/disallow anonymous sign-ins to your project.
 90 | enable_anonymous_sign_ins = false
 91 | # Allow/disallow testing manual linking of accounts
 92 | enable_manual_linking = false
 93 | 
 94 | [auth.email]
 95 | # Allow/disallow new user signups via email to your project.
 96 | enable_signup = true
 97 | # If enabled, a user will be required to confirm any email change on both the old, and new email
 98 | # addresses. If disabled, only the new email is required to confirm.
 99 | double_confirm_changes = true
100 | # If enabled, users need to confirm their email address before signing in.
101 | enable_confirmations = false
102 | # Controls the minimum amount of time that must pass before sending another signup confirmation or password reset email.
103 | max_frequency = "1s"
104 | 
105 | # Uncomment to customize email template
106 | # [auth.email.template.invite]
107 | # subject = "You have been invited"
108 | # content_path = "./supabase/templates/invite.html"
109 | 
110 | [auth.sms]
111 | # Allow/disallow new user signups via SMS to your project.
112 | enable_signup = true
113 | # If enabled, users need to confirm their phone number before signing in.
114 | enable_confirmations = false
115 | # Template for sending OTP to users
116 | template = "Your code is {{ .Code }} ."
117 | # Controls the minimum amount of time that must pass before sending another sms otp.
118 | max_frequency = "5s"
119 | 
120 | # Use pre-defined map of phone number to OTP for testing.
121 | # [auth.sms.test_otp]
122 | # 4152127777 = "123456"
123 | 
124 | # This hook runs before a token is issued and allows you to add additional claims based on the authentication method used.
125 | # [auth.hook.custom_access_token]
126 | # enabled = true
127 | # uri = "pg-functions://<database>/<schema>/<hook_name>"
128 | 
129 | # Configure one of the supported SMS providers: `twilio`, `twilio_verify`, `messagebird`, `textlocal`, `vonage`.
130 | [auth.sms.twilio]
131 | enabled = false
132 | account_sid = ""
133 | message_service_sid = ""
134 | # DO NOT commit your Twilio auth token to git. Use environment variable substitution instead:
135 | auth_token = "env(SUPABASE_AUTH_SMS_TWILIO_AUTH_TOKEN)"
136 | 
137 | # Use an external OAuth provider. The full list of providers are: `apple`, `azure`, `bitbucket`,
138 | # `discord`, `facebook`, `github`, `gitlab`, `google`, `keycloak`, `linkedin_oidc`, `notion`, `twitch`,
139 | # `twitter`, `slack`, `spotify`, `workos`, `zoom`.
140 | [auth.external.apple]
141 | enabled = false
142 | client_id = ""
143 | # DO NOT commit your OAuth provider secret to git. Use environment variable substitution instead:
144 | secret = "env(SUPABASE_AUTH_EXTERNAL_APPLE_SECRET)"
145 | # Overrides the default auth redirectUrl.
146 | redirect_uri = ""
147 | # Overrides the default auth provider URL. Used to support self-hosted gitlab, single-tenant Azure,
148 | # or any other third-party OIDC providers.
149 | url = ""
150 | # If enabled, the nonce check will be skipped. Required for local sign in with Google auth.
151 | skip_nonce_check = false
152 | 
153 | [edge_runtime]
154 | enabled = true
155 | # Configure one of the supported request policies: `oneshot`, `per_worker`.
156 | # Use `oneshot` for hot reload, or `per_worker` for load testing.
157 | policy = "oneshot"
158 | inspector_port = 8083
159 | 
160 | [analytics]
161 | enabled = false
162 | port = 54327
163 | vector_port = 54328
164 | # Configure one of the supported backends: `postgres`, `bigquery`.
165 | backend = "postgres"
166 | 
167 | # Experimental features may be deprecated any time
168 | [experimental]
169 | # Configures Postgres storage engine to use OrioleDB (S3)
170 | orioledb_version = ""
171 | # Configures S3 bucket URL, eg. <bucket_name>.s3-<region>.amazonaws.com
172 | s3_host = "env(S3_HOST)"
173 | # Configures S3 bucket region, eg. us-east-1
174 | s3_region = "env(S3_REGION)"
175 | # Configures AWS_ACCESS_KEY_ID for S3 bucket
176 | s3_access_key = "env(S3_ACCESS_KEY)"
177 | # Configures AWS_SECRET_ACCESS_KEY for S3 bucket
178 | s3_secret_key = "env(S3_SECRET_KEY)"
179 | 


--------------------------------------------------------------------------------
/supabase/migrations/20240720132926_remote_schema.sql:
--------------------------------------------------------------------------------
  1 | 
  2 | SET statement_timeout = 0;
  3 | SET lock_timeout = 0;
  4 | SET idle_in_transaction_session_timeout = 0;
  5 | SET client_encoding = 'UTF8';
  6 | SET standard_conforming_strings = on;
  7 | SELECT pg_catalog.set_config('search_path', '', false);
  8 | SET check_function_bodies = false;
  9 | SET xmloption = content;
 10 | SET client_min_messages = warning;
 11 | SET row_security = off;
 12 | 
 13 | CREATE EXTENSION IF NOT EXISTS "pgsodium" WITH SCHEMA "pgsodium";
 14 | 
 15 | COMMENT ON SCHEMA "public" IS 'standard public schema';
 16 | 
 17 | CREATE EXTENSION IF NOT EXISTS "pg_graphql" WITH SCHEMA "graphql";
 18 | 
 19 | CREATE EXTENSION IF NOT EXISTS "pg_stat_statements" WITH SCHEMA "extensions";
 20 | 
 21 | CREATE EXTENSION IF NOT EXISTS "pgcrypto" WITH SCHEMA "extensions";
 22 | 
 23 | CREATE EXTENSION IF NOT EXISTS "pgjwt" WITH SCHEMA "extensions";
 24 | 
 25 | CREATE EXTENSION IF NOT EXISTS "supabase_vault" WITH SCHEMA "vault";
 26 | 
 27 | CREATE EXTENSION IF NOT EXISTS "uuid-ossp" WITH SCHEMA "extensions";
 28 | 
 29 | CREATE OR REPLACE FUNCTION "public"."handle_new_user"() RETURNS "trigger"
 30 |     LANGUAGE "plpgsql" SECURITY DEFINER
 31 |     AS $
 32 | begin
 33 |   insert into public.profiles (id, full_name, avatar_url)
 34 |   values (new.id, new.raw_user_meta_data->>'full_name', new.raw_user_meta_data->>'avatar_url');
 35 |   return new;
 36 | end;
 37 | $;
 38 | 
 39 | ALTER FUNCTION "public"."handle_new_user"() OWNER TO "postgres";
 40 | 
 41 | SET default_tablespace = '';
 42 | 
 43 | SET default_table_access_method = "heap";
 44 | 
 45 | CREATE TABLE IF NOT EXISTS "public"."chats" (
 46 |     "created_at" timestamp with time zone DEFAULT "now"() NOT NULL,
 47 |     "title" "text" NOT NULL,
 48 |     "user_id" "uuid" DEFAULT "auth"."uid"() NOT NULL,
 49 |     "id" "uuid" DEFAULT "gen_random_uuid"() NOT NULL
 50 | );
 51 | 
 52 | ALTER TABLE "public"."chats" OWNER TO "postgres";
 53 | 
 54 | CREATE TABLE IF NOT EXISTS "public"."messages" (
 55 |     "id" bigint NOT NULL,
 56 |     "created_at" timestamp with time zone DEFAULT "now"() NOT NULL,
 57 |     "text" "text" NOT NULL,
 58 |     "metadata" "jsonb",
 59 |     "chat_id" "uuid" NOT NULL,
 60 |     "role" "text" NOT NULL,
 61 |     "user_id" "uuid" DEFAULT "auth"."uid"() NOT NULL,
 62 |     "attachments" "jsonb"
 63 | );
 64 | 
 65 | ALTER TABLE "public"."messages" OWNER TO "postgres";
 66 | 
 67 | ALTER TABLE "public"."messages" ALTER COLUMN "id" ADD GENERATED BY DEFAULT AS IDENTITY (
 68 |     SEQUENCE NAME "public"."messages_id_seq"
 69 |     START WITH 1
 70 |     INCREMENT BY 1
 71 |     NO MINVALUE
 72 |     NO MAXVALUE
 73 |     CACHE 1
 74 | );
 75 | 
 76 | CREATE TABLE IF NOT EXISTS "public"."profiles" (
 77 |     "id" "uuid" NOT NULL,
 78 |     "updated_at" timestamp with time zone,
 79 |     "full_name" "text",
 80 |     "avatar_url" "text"
 81 | );
 82 | 
 83 | ALTER TABLE "public"."profiles" OWNER TO "postgres";
 84 | 
 85 | ALTER TABLE ONLY "public"."chats"
 86 |     ADD CONSTRAINT "chats_pkey" PRIMARY KEY ("id");
 87 | 
 88 | ALTER TABLE ONLY "public"."messages"
 89 |     ADD CONSTRAINT "messages_pkey" PRIMARY KEY ("id");
 90 | 
 91 | ALTER TABLE ONLY "public"."profiles"
 92 |     ADD CONSTRAINT "profiles_pkey" PRIMARY KEY ("id");
 93 | 
 94 | ALTER TABLE ONLY "public"."messages"
 95 |     ADD CONSTRAINT "messages_chat_id_fkey" FOREIGN KEY ("chat_id") REFERENCES "public"."chats"("id");
 96 | 
 97 | ALTER TABLE ONLY "public"."profiles"
 98 |     ADD CONSTRAINT "profiles_id_fkey" FOREIGN KEY ("id") REFERENCES "auth"."users"("id") ON DELETE CASCADE;
 99 | 
100 | CREATE POLICY "Enable delete for users based on user_id" ON "public"."chats" FOR DELETE TO "authenticated" USING ((( SELECT "auth"."uid"() AS "uid") = "user_id"));
101 | 
102 | CREATE POLICY "Enable delete for users based on user_id" ON "public"."messages" FOR DELETE TO "authenticated" USING ((( SELECT "auth"."uid"() AS "uid") = "user_id"));
103 | 
104 | CREATE POLICY "Enable insert for authenticated users only" ON "public"."chats" FOR INSERT TO "authenticated" WITH CHECK (true);
105 | 
106 | CREATE POLICY "Enable insert for authenticated users only" ON "public"."messages" FOR INSERT TO "authenticated" WITH CHECK (true);
107 | 
108 | CREATE POLICY "Enable read access based on user_id" ON "public"."chats" FOR SELECT TO "authenticated" USING ((( SELECT "auth"."uid"() AS "uid") = "user_id"));
109 | 
110 | CREATE POLICY "Enable read access based on user_id" ON "public"."messages" FOR SELECT TO "authenticated" USING ((( SELECT "auth"."uid"() AS "uid") = "user_id"));
111 | 
112 | CREATE POLICY "Enable update access based on user_id" ON "public"."chats" FOR UPDATE TO "authenticated" USING ((( SELECT "auth"."uid"() AS "uid") = "user_id"));
113 | 
114 | CREATE POLICY "Enable update for users based on user_id" ON "public"."messages" FOR UPDATE TO "authenticated" USING ((( SELECT "auth"."uid"() AS "uid") = "user_id"));
115 | 
116 | CREATE POLICY "Public profiles are viewable by everyone." ON "public"."profiles" FOR SELECT USING (true);
117 | 
118 | CREATE POLICY "Users can insert their own profile." ON "public"."profiles" FOR INSERT WITH CHECK ((( SELECT "auth"."uid"() AS "uid") = "id"));
119 | 
120 | CREATE POLICY "Users can update own profile." ON "public"."profiles" FOR UPDATE USING ((( SELECT "auth"."uid"() AS "uid") = "id"));
121 | 
122 | ALTER TABLE "public"."chats" ENABLE ROW LEVEL SECURITY;
123 | 
124 | ALTER TABLE "public"."messages" ENABLE ROW LEVEL SECURITY;
125 | 
126 | ALTER TABLE "public"."profiles" ENABLE ROW LEVEL SECURITY;
127 | 
128 | ALTER PUBLICATION "supabase_realtime" OWNER TO "postgres";
129 | 
130 | ALTER PUBLICATION "supabase_realtime" ADD TABLE ONLY "public"."chats";
131 | 
132 | GRANT USAGE ON SCHEMA "public" TO "postgres";
133 | GRANT USAGE ON SCHEMA "public" TO "anon";
134 | GRANT USAGE ON SCHEMA "public" TO "authenticated";
135 | GRANT USAGE ON SCHEMA "public" TO "service_role";
136 | 
137 | GRANT ALL ON FUNCTION "public"."handle_new_user"() TO "anon";
138 | GRANT ALL ON FUNCTION "public"."handle_new_user"() TO "authenticated";
139 | GRANT ALL ON FUNCTION "public"."handle_new_user"() TO "service_role";
140 | 
141 | GRANT ALL ON TABLE "public"."chats" TO "anon";
142 | GRANT ALL ON TABLE "public"."chats" TO "authenticated";
143 | GRANT ALL ON TABLE "public"."chats" TO "service_role";
144 | 
145 | GRANT ALL ON TABLE "public"."messages" TO "anon";
146 | GRANT ALL ON TABLE "public"."messages" TO "authenticated";
147 | GRANT ALL ON TABLE "public"."messages" TO "service_role";
148 | 
149 | GRANT ALL ON SEQUENCE "public"."messages_id_seq" TO "anon";
150 | GRANT ALL ON SEQUENCE "public"."messages_id_seq" TO "authenticated";
151 | GRANT ALL ON SEQUENCE "public"."messages_id_seq" TO "service_role";
152 | 
153 | GRANT ALL ON TABLE "public"."profiles" TO "anon";
154 | GRANT ALL ON TABLE "public"."profiles" TO "authenticated";
155 | GRANT ALL ON TABLE "public"."profiles" TO "service_role";
156 | 
157 | ALTER DEFAULT PRIVILEGES FOR ROLE "postgres" IN SCHEMA "public" GRANT ALL ON SEQUENCES  TO "postgres";
158 | ALTER DEFAULT PRIVILEGES FOR ROLE "postgres" IN SCHEMA "public" GRANT ALL ON SEQUENCES  TO "anon";
159 | ALTER DEFAULT PRIVILEGES FOR ROLE "postgres" IN SCHEMA "public" GRANT ALL ON SEQUENCES  TO "authenticated";
160 | ALTER DEFAULT PRIVILEGES FOR ROLE "postgres" IN SCHEMA "public" GRANT ALL ON SEQUENCES  TO "service_role";
161 | 
162 | ALTER DEFAULT PRIVILEGES FOR ROLE "postgres" IN SCHEMA "public" GRANT ALL ON FUNCTIONS  TO "postgres";
163 | ALTER DEFAULT PRIVILEGES FOR ROLE "postgres" IN SCHEMA "public" GRANT ALL ON FUNCTIONS  TO "anon";
164 | ALTER DEFAULT PRIVILEGES FOR ROLE "postgres" IN SCHEMA "public" GRANT ALL ON FUNCTIONS  TO "authenticated";
165 | ALTER DEFAULT PRIVILEGES FOR ROLE "postgres" IN SCHEMA "public" GRANT ALL ON FUNCTIONS  TO "service_role";
166 | 
167 | ALTER DEFAULT PRIVILEGES FOR ROLE "postgres" IN SCHEMA "public" GRANT ALL ON TABLES  TO "postgres";
168 | ALTER DEFAULT PRIVILEGES FOR ROLE "postgres" IN SCHEMA "public" GRANT ALL ON TABLES  TO "anon";
169 | ALTER DEFAULT PRIVILEGES FOR ROLE "postgres" IN SCHEMA "public" GRANT ALL ON TABLES  TO "authenticated";
170 | ALTER DEFAULT PRIVILEGES FOR ROLE "postgres" IN SCHEMA "public" GRANT ALL ON TABLES  TO "service_role";
171 | 
172 | RESET ALL;
173 | 


--------------------------------------------------------------------------------
/supabase/migrations/20240720133004_remote_schema.sql:
--------------------------------------------------------------------------------
 1 | CREATE TRIGGER on_auth_user_created AFTER INSERT ON auth.users FOR EACH ROW EXECUTE FUNCTION handle_new_user();
 2 | 
 3 | 
 4 | create policy "Anyone can upload an avatar."
 5 | on "storage"."objects"
 6 | as permissive
 7 | for insert
 8 | to public
 9 | with check ((bucket_id = 'avatars'::text));
10 | 
11 | 
12 | create policy "Avatar images are publicly accessible."
13 | on "storage"."objects"
14 | as permissive
15 | for select
16 | to public
17 | using ((bucket_id = 'avatars'::text));
18 | 
19 | 
20 | 
21 | 


--------------------------------------------------------------------------------
/supabase/seed.sql:
--------------------------------------------------------------------------------
https://raw.githubusercontent.com/13point5/open-artifacts/main/supabase/seed.sql


--------------------------------------------------------------------------------
/tailwind.config.ts:
--------------------------------------------------------------------------------
 1 | import type { Config } from "tailwindcss";
 2 | 
 3 | const config = {
 4 |   darkMode: ["class"],
 5 |   content: [
 6 |     "./pages/**/*.{ts,tsx}",
 7 |     "./components/**/*.{ts,tsx}",
 8 |     "./app/**/*.{ts,tsx}",
 9 |     "./src/**/*.{ts,tsx}",
10 |   ],
11 |   prefix: "",
12 |   theme: {
13 |     container: {
14 |       center: true,
15 |       padding: "2rem",
16 |       screens: {
17 |         "2xl": "1400px",
18 |       },
19 |     },
20 |     extend: {
21 |       colors: {
22 |         border: "hsl(var(--border))",
23 |         input: "hsl(var(--input))",
24 |         ring: "hsl(var(--ring))",
25 |         background: "hsl(var(--background))",
26 |         foreground: "hsl(var(--foreground))",
27 |         primary: {
28 |           DEFAULT: "hsl(var(--primary))",
29 |           foreground: "hsl(var(--primary-foreground))",
30 |         },
31 |         secondary: {
32 |           DEFAULT: "hsl(var(--secondary))",
33 |           foreground: "hsl(var(--secondary-foreground))",
34 |         },
35 |         destructive: {
36 |           DEFAULT: "hsl(var(--destructive))",
37 |           foreground: "hsl(var(--destructive-foreground))",
38 |         },
39 |         muted: {
40 |           DEFAULT: "hsl(var(--muted))",
41 |           foreground: "hsl(var(--muted-foreground))",
42 |         },
43 |         accent: {
44 |           DEFAULT: "hsl(var(--accent))",
45 |           foreground: "hsl(var(--accent-foreground))",
46 |         },
47 |         popover: {
48 |           DEFAULT: "hsl(var(--popover))",
49 |           foreground: "hsl(var(--popover-foreground))",
50 |         },
51 |         card: {
52 |           DEFAULT: "hsl(var(--card))",
53 |           foreground: "hsl(var(--card-foreground))",
54 |         },
55 |       },
56 |       borderRadius: {
57 |         lg: "var(--radius)",
58 |         md: "calc(var(--radius) - 2px)",
59 |         sm: "calc(var(--radius) - 4px)",
60 |       },
61 |       keyframes: {
62 |         "accordion-down": {
63 |           from: { height: "0" },
64 |           to: { height: "var(--radix-accordion-content-height)" },
65 |         },
66 |         "accordion-up": {
67 |           from: { height: "var(--radix-accordion-content-height)" },
68 |           to: { height: "0" },
69 |         },
70 |       },
71 |       animation: {
72 |         "accordion-down": "accordion-down 0.2s ease-out",
73 |         "accordion-up": "accordion-up 0.2s ease-out",
74 |       },
75 |     },
76 |   },
77 |   plugins: [require("tailwindcss-animate"), require("@tailwindcss/typography")],
78 | } satisfies Config;
79 | 
80 | export default config;
81 | 


--------------------------------------------------------------------------------
/tsconfig.json:
--------------------------------------------------------------------------------
 1 | {
 2 |   "compilerOptions": {
 3 |     "lib": ["dom", "dom.iterable", "esnext"],
 4 |     "allowJs": true,
 5 |     "skipLibCheck": true,
 6 |     "strict": true,
 7 |     "noEmit": true,
 8 |     "esModuleInterop": true,
 9 |     "module": "esnext",
10 |     "moduleResolution": "bundler",
11 |     "resolveJsonModule": true,
12 |     "isolatedModules": true,
13 |     "jsx": "preserve",
14 |     "incremental": true,
15 |     "plugins": [
16 |       {
17 |         "name": "next"
18 |       }
19 |     ],
20 |     "paths": {
21 |       "@/*": ["./*"]
22 |     }
23 |   },
24 |   "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
25 |   "exclude": ["node_modules"]
26 | }
27 | 


--------------------------------------------------------------------------------
\`\`\`

# .cursor/rules/tasklist.md

\`\`\`md
# Copilot Chat Implementation Tasklist

This tasklist outlines the changes needed to implement copilot chat improvements compared to our current codebase.

## Overview

We plan to adopt and integrate the structure defined in `@artifactsUI.md` to replace usage of `<editor_content>` tags with `<artifact>` tags. Additionally, we will:

- Introduce a system prompt mechanism for the editor using artifact-based tags (e.g., <artifact> for editor content and a separate tag for system prompts).
- Implement chat history support to store and display previous interactions.
- Enhance parsing logic for chat messages based on our current implementation in `components/tailwind/copilot/use-copilot.ts`.

## Current Codebase State

- The file `components/tailwind/copilot/use-copilot.ts` contains a helper function `extractEditorContent` that extracts content from `<editor_content>` tags.
- The copilot hook updates the editor content using `parseMarkdownToContent`, and there is no chat history persistence or dedicated artifact handling.

## Required Changes

### 1. Artifact Tag Structure

- [ ] Replace `<editor_content>` tags with `<artifact>` tags in markdown responses.
- [ ] Update extraction/parsing functions to detect and process `<artifact>` tags.
- [ ] Introduce a mechanism for a system prompt using a dedicated tag (e.g., `<system_prompt>` or similar) that follows the artifact structure.
- [ ] Ensure backward compatibility or a migration strategy from `<editor_content>` to `<artifact>` if necessary.

### 2. Chat History Implementation

- [ ] Implement chat history support within the copilot chat flow:
  - Persist previous messages (both user and assistant) within the UI state or local storage.
  - Display a chat history pane for context.
- [ ] Modify the API call to incorporate chat history context when sending prompts.

### 3. Enhanced Message Parsing

- [ ] Extend the parsing logic in `parseMarkdownToContent` to handle new artifact tags and any system prompt tags.
- [ ] Create or update message parsing routines to process multiple artifacts or artifacts from varied roles (e.g., system, user, assistant).

### 4. UI Updates

- [ ] Integrate UI components from the structure defined in `@artifactsUI.md`:
  - Adjust the layout to display artifacts alongside chat messages.
  - Update Tailwind CSS configurations if necessary to style new elements.
- [ ] Revise the copilot chat UI to support chat history and the new artifact-based content display.

### 5. Documentation & Testing

- [ ] Update documentation (README, inline comments, etc.) to reflect the new artifact tagging system and chat history features.
- [ ] Add unit and integration tests to cover:
  - New parsing functions for `<artifact>` and system prompt tags.
  - Chat history functionality and UI rendering.

### 6. Codebase Comparison & Cleanup

- [ ] Audit the codebase for references to `<editor_content>` and update them to `<artifact>` where appropriate.
- [ ] Compare current implementation in `components/tailwind/copilot/use-copilot.ts` with the new requirements outlined above.
- [ ] Refactor legacy code segments that are incompatible with the new artifact and chat history structures.

## Additional Considerations

- Maintain robust error handling in parsing functions to gracefully handle missing or malformed tags.
- Ensure clear role identification in messages (e.g., user vs assistant) after migration.
- Develop a migration strategy for existing content if switching tag types.

## Next Steps

1. Finalize the design for artifact and system prompt tag integration based on `@artifactsUI.md`.
2. Create a feature branch to implement the changes incrementally.
3. Integrate chat history functionality and update the API communication accordingly.
4. Thoroughly test all changes, update documentation, and ensure a smooth transition from the current system. 
\`\`\`

# .gitignore

\`\`\`
.vercel

\`\`\`

# .prettierignore

\`\`\`
pnpm-lock.yaml
yarn.lock
node_modules
.next
\`\`\`

# app/api/copilot/route.ts

\`\`\`ts
import { openai } from "@ai-sdk/openai";
import { Ratelimit } from "@upstash/ratelimit";
import { kv } from "@vercel/kv";
import { streamText } from "ai";
import { match } from "ts-pattern";
import { systemPrompt } from "./systemPrompt";

// IMPORTANT! Set the runtime to edge: https://vercel.com/docs/functions/edge-functions/edge-runtime
export const runtime = "edge";
console.log(process.env.OPENAI_API_KEY);
export async function POST(req: Request): Promise<Response> {
  // Check if the OPENAI_API_KEY is set, if not return 400
  if (!process.env.OPENAI_API_KEY || process.env.OPENAI_API_KEY === "") {
    return new Response("Missing OPENAI_API_KEY - make sure to add it to your .env file.", {
      status: 400,
    });
  }
  if (process.env.KV_REST_API_URL && process.env.KV_REST_API_TOKEN) {
    const ip = req.headers.get("x-forwarded-for");
    const ratelimit = new Ratelimit({
      redis: kv,
      limiter: Ratelimit.slidingWindow(50, "1 d"),
    });

    const { success, limit, reset, remaining } = await ratelimit.limit(`novel_ratelimit_${ip}`);

    if (!success) {
      return new Response("You have reached your request limit for the day.", {
        status: 429,
        headers: {
          "X-RateLimit-Limit": limit.toString(),
          "X-RateLimit-Remaining": remaining.toString(),
          "X-RateLimit-Reset": reset.toString(),
        },
      });
    }
  }
  const { prompt, option, command } = await req.json();
  console.log("Request before sending in copilot: ", { prompt, option, command }); // Added console log for the request
  const messages = match(option)
    .with("copilot-write", () => [
      {
        role: "system",
        content:
          "You are an AI writing assistant that generates text based on a prompt. " +
          "You take an input from the user and a command for rewriting the text or writing a new text. " +
          "Use rich Markdown formatting to enhance the text structure and readability. You can use: " +
          "\n- **Bold text** for emphasis" +
          "\n- *Italic text* for subtle emphasis" +
          "\n- `Code blocks` for technical terms" +
          "\n- ~~Strikethrough~~ for revisions" +
          "\n- # Headings (levels 1-6)" +
          "\n- Bullet lists" +
          "\n- Numbered lists" +
          "\n- \`\`\`language\nCode blocks with syntax highlighting\n\`\`\`" +
          "\n- [Links](https://example.com) for references" +
          "\n- ![Images](https://example.com/image.jpg) for visual content" +
          "\n- > Blockquotes for highlighting important text" +
          "\n- --- for horizontal rules to separate sections" +
          "\nMake the text engaging and well-structured using these formatting options. " +
          "When including links, ensure they are properly formatted and relevant. " +
          "For images, provide descriptive alt text. " +
          "Use blockquotes to highlight key points or quotes. " +
          "Structure the content with appropriate headings and sections." +
          "It is **crucially important** to write **all** of the article content **within** <editor_content></editor_content> tags. **Any** friendly chat can occur **outside** of these tags, but **failure** to follow this guideline may lead to **unexpected results**." +
          "\n\nHere are some examples of well-formatted responses:" +
          "\n\nExample 1 (Command: 'Write a technical guide about React hooks'):" +
          "\nHi! I'll help you write a technical guide about React hooks." +
          "\n<editor_content>" +
          "\n# Understanding React Hooks" +
          "\n\n## What are Hooks?" +
          "\nHooks are special functions that allow you to use state and other React features in functional components. Let's explore the most common ones:" +
          "\n\n### useState" +
          "\n\`\`\`javascript\nconst [count, setCount] = useState(0);\n\`\`\`" +
          "\n\n> **Important**: Hooks must be called at the top level of your component." +
          "\n</editor_content>" +
          "\n\nThank you for using our AI writing assistant! If you have any further questions or need additional help, feel free to ask. I'm here to assist you in crafting the best content possible. Happy writing!" +
          "\n\nExample 2 (Command: 'Make this text more professional'):" +
          "\nI'll help you make the text more professional." +
          "\n<editor_content>" +          
          "\n## Professional Communication Guidelines" +
          "\n\nEffective professional communication relies on three key principles:" +
          "\n\n1. **Clarity** - Use precise language" +
          "\n2. **Conciseness** - Be brief yet comprehensive" +
          "\n3. **Courtesy** - Maintain a respectful tone" +
          "\n\n---" +
          "\n\n> \"Professional communication is the cornerstone of business success.\"" +
          "\n</editor_content>" +
          "\n\nIf you have any further questions or need additional help, feel free to ask. I'm here to assist you in crafting the best content possible. Happy writing!" +
          "\n\nExample 3 (Command: 'Write about AI safety'):" +
          "\nI'll create an informative piece about AI safety." +
          "\n<editor_content>" +
          "\n# Artificial Intelligence Safety: A Critical Overview" +
          "\n\n![AI Safety Concept](https://example.com/ai-safety.jpg)" +
          "\n\n## Key Considerations" +
          "\n\n* **Ethical Framework**" +
          "\n* **Technical Robustness**" +
          "\n* **Societal Impact**" +
          "\n\nLearn more about AI safety at [AI Safety Resources](https://example.com/ai-safety)" +
          "\n</editor_content>" +
          "\n\nThank you for using our AI writing assistant! If you have any further questions or need additional help, feel free to ask. I'm here to assist you in crafting the best content possible. Happy writing!",
      },
      {
        role: "user",
        content: `For this text: ${prompt}. You have to rewrite the text to respect the command: ${command}. Use appropriate markdown formatting, and make sure to use <editor_content> tags for anything you want to be displayed in the article editor.`,
      },
    ])
    .with("copilot-chat", () => [
      {
        role: "system",
        content: "You are an AI chat assistant that responds to user queries. " +
          "You take an input from the user and respond accordingly, using Markdown formatting when necessary.",
      },
      {
        role: "user",
        content: `Your answer is to be based on this text: ${prompt}. You have to respond to this query: ${command}.`,
      },
    ])
    .run();

    const result = await streamText({
    prompt: messages[messages.length - 1].content,
    maxTokens: 4096,
      temperature: 0.7,
    topP: 1,
    frequencyPenalty: 0,
    presencePenalty: 0,
    model: openai("gpt-4o-mini"),
    });
    // console.log("Result message: ", result.text);
    return result.toDataStreamResponse();
}

\`\`\`

# app/api/copilot/systemPrompt.ts

\`\`\`ts
export const systemPrompt = `You are an AI writing assistant specialized in generating and editing content within the Novel editor, which is built on top of Tiptap. Your role is to help users create well-structured, rich content while leveraging the full capabilities of the editor.

Key Capabilities:

1. Content Structure and Organization:
- Use semantic HTML elements and Markdown for proper document structure
- Create clear hierarchies with headings (h1-h6)
- Organize content into logical sections with appropriate spacing
- Use descriptive headings that follow a clear hierarchy
- Implement proper content flow and transitions
- Structure content for maximum readability and engagement

2. Rich Text Features:
- **Bold text** for strong emphasis and key points
- *Italic text* for subtle emphasis or terminology
- \`Inline code\` for technical terms, commands, or short code snippets
- ~~Strikethrough~~ for showing changes or revisions
- Ordered and unordered lists for structured information
- Block quotes for important callouts or citations
- Horizontal rules (---) for clear section breaks
- Code blocks with appropriate language syntax highlighting:
\`\`\`typescript
// TypeScript example
interface User {
  id: string;
  name: string;
  email: string;
}
\`\`\`

3. Interactive Elements:
- Task lists [ ] for actionable items and todos
- Mentions @ for referencing people or resources
- Custom React components when specified
- Links [text](url) for references and resources
- Images ![alt](src) with descriptive alt text
- Tables for structured data presentation
- Custom node views for specialized content
- Collaborative editing markers
- Placeholder text for empty sections

4. Advanced Formatting:
- Tables with proper alignment and formatting:
| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| Cell 1   | Cell 2   | Cell 3   |

- Nested lists with proper indentation:
  1. First level
     - Sub-item A
     - Sub-item B
       1. Deeper level
       2. Another point

- Code blocks with filename headers:
\`\`\`tsx filename="components/Editor.tsx"
import { Editor } from '@tiptap/react'
import StarterKit from '@tiptap/starter-kit'

export default function TiptapEditor() {
  // Component implementation
}
\`\`\`

Guidelines for Content Generation:

1. Always structure your response as follows:
Helpful intro to the request that stays in the chat history
<editor_content>
[Your generated/editor content here, using appropriate markdown and HTML elements that goes to the editor]
</editor_content>
Helpful conclusion that stays in the chat history

2. When generating code examples:
- Use proper syntax highlighting with language specification
- Include all necessary imports and dependencies
- Ensure code is properly formatted and commented
- Follow TypeScript best practices when applicable
- Include error handling and edge cases
- Provide type definitions and interfaces

3. For React Components:
- Include all necessary imports from React
- Use proper TypeScript types and interfaces
- Follow React best practices and hooks guidelines
- Include required props with proper typing
- Implement proper event handling
- Add appropriate comments and documentation

4. Content Quality Standards:
- Maintain consistent tone and style throughout
- Use clear and concise language
- Include relevant examples and illustrations
- Provide proper citations when needed
- Ensure content is well-organized and scannable
- Use appropriate technical terminology


A few examples:
Start of example
This example demonstrates how to create an article about React hooks, including multiple code blocks.


User Query: Can you help me create an article about React hooks?

Assistant Response: I'd be happy to help you create an article about React hooks.

<thinking>Creating an article about React hooks is a good candidate for an editor_content. It's a substantial piece of content that can be understood on its own and is likely to be reused or modified. This is a new request, so I'll create a new editor_content.</thinking>

<editor_content>
# Understanding React Hooks in Modern Web Development

## Introduction
React Hooks revolutionized how we write functional components. Let's explore the most important hooks and their practical applications.

### useState: Managing Component State
The \`useState\` hook is fundamental for handling state in functional components:

\`\`\`typescript
import { useState } from 'react';

function Counter() {
  const [count, setCount] = useState<number>(0);
  
  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>
        Increment
      </button>
    </div>
  );
}
\`\`\`

> **Pro Tip**: Always specify the type for useState when working with complex data structures.

### useEffect: Handling Side Effects
The \`useEffect\` hook is used to handle side effects in functional components, such as fetching data or setting timers:

\`\`\`typescript
import { useEffect, useState } from 'react';

function FetchData() {
  const [data, setData] = useState<string>('');

  useEffect(() => {
    const fetchData = async () => {
      const response = await fetch('https://api.example.com/data');
      const result = await response.json();
      setData(result);
    };

    fetchData();
  }, []);

  return (
    <div>
      <p>Data: {data}</p>
    </div>
  );
}
\`\`\`

### useContext: Accessing Context API
The \`useContext\` hook is used to access context (shared state) in functional components:

\`\`\`typescript
import { useContext } from 'react';
import { ThemeContext } from './ThemeContext';

function Button() {
  const theme = useContext(ThemeContext);

  return (
    <button style={{ backgroundColor: theme.backgroundColor, color: theme.textColor }}>
      Click Me
    </button>
  );
}
\`\`\`

### Advanced Hook Patterns
Let's explore some advanced patterns...
</editor_content>Hope this expanded example helps you understand a bit more about React hooks and their applications

End of example

<example_docstring>
This example demonstrates how to write an article about documentation for a Tiptap extension.
</example_docstring>

<example>
<user_query>Can you help me create documentation for my Tiptap extension?</user_query>

<assistant_response>
Sure! I'll help you create documentation for your Tiptap extension.

<thinking>Creating documentation for a Tiptap extension is a good candidate for an editor_content. It's a substantial piece of content that can be understood on its own and is likely to be reused or modified. This is a new request, so I'll create a new editor_content.</thinking>

<editor_content>
# Custom Tiptap Extension Documentation

## Overview
This extension adds support for custom node views with interactive elements.

### Installation
\`\`\`bash
npm install @tiptap/extension-custom-node
\`\`\`

### Usage
\`\`\`typescript
import { Editor } from '@tiptap/core'
import CustomNode from './CustomNode'

new Editor({
  extensions: [
    CustomNode.configure({
      // configuration options
    })
  ]
})
\`\`\`

## API Reference

### Configuration Options
| Option | Type | Default | Description |
|--------|------|---------|-------------|
| inline | boolean | false | Renders as inline element |
| HTMLAttributes | object | {} | HTML attributes |

### Commands
1. \`setCustomNode\`: Creates a new custom node
2. \`toggleCustomNode\`: Toggles the custom node state
</editor_content>
Hope this helps you understand a bit more about about Tiptap extension documentation
</assistant_response>
</example>

<example_docstring>
This example demonstrates how to write an article about the Andromeda Galaxy, including images and link references.
</example_docstring>

<example>
<user_query>Can you help me write an article about the Andromeda Galaxy that includes images and link references?</user_query>

<assistant_response>
I'd be happy to help you write an article about the Andromeda Galaxy, including images and link references.

<thinking>Writing an article about the Andromeda Galaxy is a great opportunity to create engaging content that combines scientific information with visual aids and credible sources. This is a new request, so I'll create a new editor_content.</thinking>

<editor_content>
# The Andromeda Galaxy: A Cosmic Marvel
## Introduction
The Andromeda Galaxy, also known as Messier 31 (M31) or NGC 224, is a majestic spiral galaxy located approximately 2.5 million light-years away in the constellation Andromeda. It is the largest member of the Local Group of galaxies, which includes the Milky Way, Triangulum, and several other smaller galaxies.

### Structure and Composition
The Andromeda Galaxy is a barred spiral galaxy, consisting of hundreds of billions of stars, as well as various types of interstellar gas and dust. It is estimated to be about 220,000 light-years in diameter, making it the largest nearby galaxy to our own Milky Way.

![Andromeda Galaxy Image](https://upload.wikimedia.org/wikipedia/commons/5/5b/Andromeda_Galaxy_from_Hubble_Space_Telescope.jpg)
[Image Credit: NASA, ESA, and the Hubble Heritage Team](https://www.nasa.gov/mission_pages/hubble/multimedia/pia04224.html)

### Distance and Size
The Andromeda Galaxy is approaching the Milky Way at a speed of about 250,000 miles per hour (400,000 kilometers per hour). In about 4.5 billion years, the Andromeda Galaxy will collide with the Milky Way, resulting in a spectacular cosmic merger. [1]

### Observational History
The Andromeda Galaxy has been observed by humans for centuries. The earliest recorded observation dates back to 964 AD by the Persian astronomer Abd al-Rahman al-Sufi. [2] In the 20th century, Edwin Hubble's observations of the galaxy helped establish the concept of galaxies beyond our own Milky Way.

### References
[1] NASA - HubbleSite: "Hubble Sees Galaxy Collisions in the Distant Universe" [https://hubblesite.org/news_release/news/2007-36](https://hubblesite.org/news_release/news/2007-36)
[2] Wikipedia - Andromeda Galaxy: "Observational History" [https://en.wikipedia.org/wiki/Andromeda_Galaxy#Observational_history](https://en.wikipedia.org/wiki/Andromeda_Galaxy#Observational_history)
</editor_content>
I've generated an article about the Andromeda Galaxy, please review it and let me know if you need any changes.
</assistant_response>
</example>



Remember to:
1. Always wrap the editor content in <editor_content> tags for anything you want to be displayed in the article editor
2. Use appropriate markdown syntax
3. Include necessary code imports
4. Structure content logically
5. Maintain consistent formatting
6. Provide clear examples and explanations
7. Include proper error handling
8. Add TypeScript types where appropriate
9. Follow React best practices
10. Keep code snippets focused and well-commented

For any code-related content, ensure it's:
- Properly typed with TypeScript
- Well-commented with clear explanations
- Following best practices for the relevant framework
- Properly formatted and organized
- Including all necessary imports and dependencies
- Handling errors and edge cases appropriately
- Using consistent naming conventions
- Following proper security practices
- Optimized for performance where possible

Again, always wrap the editor content in <editor_content> tags, and rest outside of it`;

\`\`\`

# app/api/generate/route.ts

\`\`\`ts
import { openai } from "@ai-sdk/openai";
import { Ratelimit } from "@upstash/ratelimit";
import { kv } from "@vercel/kv";
import { streamText } from "ai";
import { match } from "ts-pattern";

// IMPORTANT! Set the runtime to edge: https://vercel.com/docs/functions/edge-functions/edge-runtime
export const runtime = "edge";
console.log(process.env.OPENAI_API_KEY);
export async function POST(req: Request): Promise<Response> {
  // Check if the OPENAI_API_KEY is set, if not return 400
  if (!process.env.OPENAI_API_KEY || process.env.OPENAI_API_KEY === "") {
    return new Response("Missing OPENAI_API_KEY - make sure to add it to your .env file.", {
      status: 400,
    });
  }
  if (process.env.KV_REST_API_URL && process.env.KV_REST_API_TOKEN) {
    const ip = req.headers.get("x-forwarded-for");
    const ratelimit = new Ratelimit({
      redis: kv,
      limiter: Ratelimit.slidingWindow(50, "1 d"),
    });

    const { success, limit, reset, remaining } = await ratelimit.limit(`novel_ratelimit_${ip}`);

    if (!success) {
      return new Response("You have reached your request limit for the day.", {
        status: 429,
        headers: {
          "X-RateLimit-Limit": limit.toString(),
          "X-RateLimit-Remaining": remaining.toString(),
          "X-RateLimit-Reset": reset.toString(),
        },
      });
    }
  }
  const { prompt, option, command } = await req.json();
  console.log("Request before sending: ", { prompt, option, command }); // Added console log for the request
  const messages = match(option)
    .with("continue", () => [
      {
        role: "system",
      content:
          "You are an AI writing assistant that continues existing text based on context from prior text. " +
          "Give more weight/priority to the later characters than the beginning ones. " +
          "Limit your response to no more than 200 characters, but make sure to construct complete sentences." +
        "Use Markdown formatting when appropriate.",
      },
      {
        role: "user",
        content: prompt,
      },
    ])
    .with("improve", () => [
      {
        role: "system",
      content:
          "You are an AI writing assistant that improves existing text. " +
          "Limit your response to no more than 200 characters, but make sure to construct complete sentences." +
        "Use Markdown formatting when appropriate.",
      },
      {
        role: "user",
        content: `The existing text is: ${prompt}`,
      },
    ])
    .with("shorter", () => [
      {
        role: "system",
        content:
          "You are an AI writing assistant that shortens existing text. " + "Use Markdown formatting when appropriate.",
      },
      {
        role: "user",
        content: `The existing text is: ${prompt}`,
      },
    ])
    .with("longer", () => [
      {
        role: "system",
        content:
          "You are an AI writing assistant that lengthens existing text. " +
          "Use Markdown formatting when appropriate.",
      },
      {
        role: "user",
        content: `The existing text is: ${prompt}`,
      },
    ])
    .with("fix", () => [
      {
        role: "system",
        content:
          "You are an AI writing assistant that fixes grammar and spelling errors in existing text. " +
          "Limit your response to no more than 200 characters, but make sure to construct complete sentences." +
          "Use Markdown formatting when appropriate.",
      },
      {
        role: "user",
        content: `The existing text is: ${prompt}`,
      },
    ])
    .with("zap", () => [
      {
        role: "system",
        content:
          "You area an AI writing assistant that generates text based on a prompt. " +
          "You take an input from the user and a command for manipulating the text" +
          "Use Markdown formatting when appropriate.",
      },
      {
        role: "user",
        content: `For this text: ${prompt}. You have to respect the command: ${command}`,
      },
    ])
    .with("copilot-write", () => [
      {
        role: "system",
        content:
          "You are an AI writing assistant that generates text based on a prompt. " +
          "You take an input from the user and a command for rewriting the text or writing a new text. " +
          "Use rich Markdown formatting to enhance the text structure and readability. You can use: " +
          "\n- **Bold text** for emphasis" +
          "\n- *Italic text* for subtle emphasis" +
          "\n- `Code blocks` for technical terms" +
          "\n- ~~Strikethrough~~ for revisions" +
          "\n- # Headings (levels 1-6)" +
          "\n- Bullet lists" +
          "\n- Numbered lists" +
          "\n- \`\`\`language\nCode blocks with syntax highlighting\n\`\`\`" +
          "\n- [Links](https://example.com) for references" +
          "\n- ![Images](https://example.com/image.jpg) for visual content" +
          "\n- > Blockquotes for highlighting important text" +
          "\n- --- for horizontal rules to separate sections" +
          "\nMake the text engaging and well-structured using these formatting options. " +
          "When including links, ensure they are properly formatted and relevant. " +
          "For images, provide descriptive alt text. " +
          "Use blockquotes to highlight key points or quotes. " +
          "Structure the content with appropriate headings and sections.",
      },
      {
        role: "user",
        content: `For this text: ${prompt}. You have to rewrite the text to respect the command: ${command}. Use appropriate markdown formatting to enhance readability and structure, including links and embedded content where relevant.`,
      },
    ])
    .with("copilot-chat", () => [
      {
        role: "system",
        content: "You are an AI chat assistant that responds to user queries. " +
          "You take an input from the user and respond accordingly, using Markdown formatting when necessary.",
      },
      {
        role: "user",
        content: `Your answer is to be based on this text: ${prompt}. You have to respond to this query: ${command}.`,
      },
    ])
    .run();

  const result = await streamText({
    prompt: messages[messages.length - 1].content,
    maxTokens: 4096,
    temperature: 0.7,
    topP: 1,
    frequencyPenalty: 0,
    presencePenalty: 0,
    model: openai("gpt-4o-mini"),
  });

  return result.toDataStreamResponse();
}

\`\`\`

# app/api/upload/route.ts

\`\`\`ts
import { put } from "@vercel/blob";
import { NextResponse } from "next/server";

export const runtime = "edge";

export async function POST(req: Request) {
  if (!process.env.BLOB_READ_WRITE_TOKEN) {
    return new Response("Missing BLOB_READ_WRITE_TOKEN. Don't forget to add that to your .env file.", {
      status: 401,
    });
  }

  const file = req.body || "";
  const filename = req.headers.get("x-vercel-filename") || "file.txt";
  const contentType = req.headers.get("content-type") || "text/plain";
  const fileType = `.${contentType.split("/")[1]}`;

  // construct final filename based on content-type if not provided
  const finalName = filename.includes(fileType) ? filename : `${filename}${fileType}`;
  const blob = await put(finalName, file, {
    contentType,
    access: "public",
  });

  return NextResponse.json(blob);
}

\`\`\`

# app/document/[id]/page.tsx

\`\`\`tsx
"use client";

import { useEffect, useState, use } from "react";
import { useRouter } from "next/navigation";
import TailwindAdvancedEditor from "@/components/tailwind/advanced-editor";
import { Button } from "@/components/tailwind/ui/button";
import { ArrowLeft, Search, Plus, Trash2 } from "lucide-react";
import Copilot from "@/components/tailwind/copilot/index";
import type { JSONContent } from "novel";
import { initDB, saveDocument, getDocument, getAllDocuments, deleteDocument, type Document } from "@/lib/indexeddb";
import { defaultEditorContent } from "@/lib/content";

interface DocumentPageProps {
  params: Promise<{
    id: string;
  }>;
}

export default function DocumentPage({ params }: DocumentPageProps) {
  const router = useRouter();
  const { id } = use(params);
  const [showCopilot, setShowCopilot] = useState(true);
  const [content, setContent] = useState<JSONContent | undefined>();
  const [documents, setDocuments] = useState<Document[]>([]);
  const [title, setTitle] = useState("Untitled");
  const [isLoading, setIsLoading] = useState(true);
  const [editorKey, setEditorKey] = useState<number>(Date.now());

  useEffect(() => {
    const setup = async () => {
      try {
        await initDB();
        const allDocs = await getAllDocuments();
        setDocuments(allDocs);

        if (id !== 'new') {
          const doc = await getDocument(id);
          if (doc) {
            setContent(doc.content);
            setTitle(doc.title);
          } else {
            // If document doesn't exist, create it
            await saveDocument({
              id,
              title: "Untitled",
              content: defaultEditorContent,
              lastModified: Date.now(),
            });
          }
        }
      } catch (error) {
        console.error('Failed to initialize:', error);
      } finally {
        setIsLoading(false);
      }
    };
    setup();
  }, [id]);

  const handleEditorChange = async (newContent: JSONContent) => {
    setContent(newContent);
    try {
      await saveDocument({
        id,
        title,
        content: newContent,
        lastModified: Date.now(),
      });
      const allDocs = await getAllDocuments();
      setDocuments(allDocs);
    } catch (error) {
      console.error('Failed to save:', error);
    }
  };

  const handleCreateNew = async () => {
    const newId = crypto.randomUUID();
    try {
      // Save an empty document first
      await saveDocument({
        id: newId,
        title: "Untitled",
        content: defaultEditorContent,
        lastModified: Date.now(),
      });
      const allDocs = await getAllDocuments();
      setDocuments(allDocs);
      router.push(`/document/${newId}`);
    } catch (error) {
      console.error('Failed to create new document:', error);
    }
  };

  const handleDelete = async (docId: string) => {
    try {
      await deleteDocument(docId);
      const allDocs = await getAllDocuments();
      setDocuments(allDocs);
      if (docId === id) {
        router.push('/document/new');
      }
    } catch (error) {
      console.error('Failed to delete:', error);
    }
  };

  const handleCopilotUpdate = (newContent: JSONContent) => {
    handleEditorChange(newContent);
    setEditorKey(Date.now()); // Force editor reload
  };

  if (isLoading) {
    return <div className="flex h-screen items-center justify-center">Loading...</div>;
  }

  return (
    <div className="flex h-screen flex-col">
      {/* Header */}
      <header className="flex items-center gap-4 p-4 border-b">
        <Button variant="ghost" size="icon" onClick={() => router.push("/")}>
          <ArrowLeft className="w-5 h-5" />
        </Button>
        <input
          type="text"
          value={title}
          onChange={(e) => setTitle(e.target.value)}
          onBlur={async () => {
            if (content) {
              await handleEditorChange(content);
            }
          }}
          className="text-lg font-medium bg-transparent border-none focus:outline-none"
          placeholder="Untitled"
        />
        <div className="ml-auto flex items-center gap-2">
          <Button variant="ghost">Upload Files</Button>
          <Button variant="ghost">Magic Export</Button>
          <Button 
            className="bg-gradient-to-r from-purple-400 to-pink-400 text-white"
            onClick={() => setShowCopilot(!showCopilot)}
          >
            Copilot
          </Button>
          <Button variant="ghost">Share</Button>
        </div>
      </header>

      <div className="flex flex-1 overflow-hidden">
        {/* Left Sidebar - Document List */}
        <div className="w-64 border-r bg-background p-4 flex flex-col">
          <div className="relative mb-4">
            <Search className="w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" />
            <input
              type="text"
              placeholder="Search docs..."
              className="w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400"
            />
          </div>
          
          <Button 
            variant="ghost" 
            className="flex items-center gap-2 mb-4"
            onClick={handleCreateNew}
          >
            <Plus className="w-4 h-4" />
            New Document
          </Button>

          <div className="space-y-4">
            <div>
              <h2 className="text-sm font-medium text-gray-500 mb-2">Recent Documents</h2>
              <div className="space-y-1">
                {documents.map((doc) => (
                  <div
                    key={doc.id}
                    className={`flex items-center justify-between px-2 py-1 rounded text-sm cursor-pointer ${
                      doc.id === id ? 'bg-purple-50' : 'hover:bg-gray-100'
                    }`}
                    onClick={() => router.push(`/document/${doc.id}`)}
                  >
                    <span className={`font-medium ${doc.id === id ? 'text-purple-600' : 'text-gray-800'}`}>
                      {doc.title || 'Untitled'}
                    </span>
                    <Button
                      variant="ghost"
                      size="icon"
                      className="opacity-0 group-hover:opacity-100 h-6 w-6"
                      onClick={(e) => {
                        e.stopPropagation();
                        handleDelete(doc.id);
                      }}
                    >
                      <Trash2 className="h-4 w-4" />
                    </Button>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>

        {/* Main Content */}
        <div className="flex-1 overflow-auto">
          <TailwindAdvancedEditor 
            key={editorKey}
            initialContent={content}
            onChange={handleEditorChange}
          />
        </div>

        {/* Right Sidebar - Copilot */}
        {showCopilot && (
          <Copilot
            onUpdateContent={handleCopilotUpdate}
            getCurrentContent={() => content || defaultEditorContent}
          />
        )}
      </div>
    </div>
  );
}

\`\`\`

# app/favicon.ico

This is a binary file of the type: Binary

# app/layout.tsx

\`\`\`tsx
import "@/styles/globals.css";
import "@/styles/prosemirror.css";
import 'katex/dist/katex.min.css';

import type { Metadata, Viewport } from "next";
import type { ReactNode } from "react";
import Providers from "./providers";

const title = "Novel - Notion-style WYSIWYG editor with AI-powered autocompletions";
const description =
  "Novel is a Notion-style WYSIWYG editor with AI-powered autocompletions. Built with Tiptap, OpenAI, and Vercel AI SDK.";

export const metadata: Metadata = {
  title,
  description,
  openGraph: {
    title,
    description,
  },
  twitter: {
    title,
    description,
    card: "summary_large_image",
    creator: "@steventey",
  },
  metadataBase: new URL("https://novel.sh"),
};

export const viewport: Viewport = {
  themeColor: "#ffffff",
};

export default function RootLayout({ children }: { children: ReactNode }) {
  return (
    <html lang="en" suppressHydrationWarning>
      <body>
        <Providers>{children}</Providers>
      </body>
    </html>
  );
}

\`\`\`

# app/opengraph-image.png

This is a binary file of the type: Image

# app/page.tsx

\`\`\`tsx
"use client";

import { useRouter } from "next/navigation";
import { Button } from "@/components/tailwind/ui/button";
import { FileText, Presentation, ArrowRight } from "lucide-react";

export default function Page() {
  const router = useRouter();

  return (
    <div className="min-h-screen bg-gray-50">
      {/* Header */}
      <header className="bg-white border-b">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
          <h1 className="text-3xl font-bold text-gray-900">Novel</h1>
          <p className="mt-2 text-lg text-gray-600">Your AI-powered document workspace</p>
        </div>
      </header>

      {/* Main content */}
      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div className="grid md:grid-cols-2 gap-8">
          {/* Document Generation Card */}
          <div className="bg-white rounded-2xl shadow-sm border border-gray-200 p-8 hover:border-purple-200 transition-colors">
            <div className="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mb-6">
              <FileText className="w-6 h-6 text-purple-600" />
            </div>
            <h2 className="text-2xl font-semibold text-gray-900 mb-4">Generate Document</h2>
            <p className="text-gray-600 mb-8">
              Create professional documents with AI assistance. Perfect for reports, articles, and research papers.
            </p>
            <Button
              onClick={() => router.push("/document/new")}
              className="inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"
            >
              Get Started
              <ArrowRight className="w-4 h-4" />
            </Button>
          </div>

          {/* Presentation Slides Card */}
          <div className="bg-white rounded-2xl shadow-sm border border-gray-200 p-8 opacity-75">
            <div className="w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center mb-6">
              <Presentation className="w-6 h-6 text-gray-600" />
            </div>
            <h2 className="text-2xl font-semibold text-gray-900 mb-4">Generate Slides</h2>
            <p className="text-gray-600 mb-8">
              Transform your content into beautiful presentation slides. Coming soon!
            </p>
            <Button
              disabled
              className="inline-flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-400 rounded-lg cursor-not-allowed"
            >
              Coming Soon
              <ArrowRight className="w-4 h-4" />
            </Button>
          </div>
        </div>
      </main>
    </div>
  );
}

\`\`\`

# app/providers.tsx

\`\`\`tsx
"use client";

import { type Dispatch, type ReactNode, type SetStateAction, createContext } from "react";
import { ThemeProvider, useTheme } from "next-themes";
import { Toaster } from "sonner";
import { Analytics } from "@vercel/analytics/react";
import useLocalStorage from "@/hooks/use-local-storage";

export const AppContext = createContext<{
  font: string;
  setFont: Dispatch<SetStateAction<string>>;
}>({
  font: "Default",
  setFont: () => {},
});

const ToasterProvider = () => {
  const { theme } = useTheme() as {
    theme: "light" | "dark" | "system";
  };
  return <Toaster theme={theme} />;
};

export default function Providers({ children }: { children: ReactNode }) {
  const [font, setFont] = useLocalStorage<string>("novel__font", "Default");

  return (
    <ThemeProvider attribute="class" enableSystem disableTransitionOnChange defaultTheme="system">
      <AppContext.Provider
        value={{
          font,
          setFont,
        }}
      >
        <ToasterProvider />
        {children}
        <Analytics />
      </AppContext.Provider>
    </ThemeProvider>
  );
}

\`\`\`

# biome.json

\`\`\`json
{
  "extends": ["../../biome.json"]
}

\`\`\`

# components.json

\`\`\`json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "styles/globals.css",
    "baseColor": "slate",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components/tailwind",
    "utils": "@/lib/utils"
  }
}

\`\`\`

# components/tailwind/advanced-editor.tsx

\`\`\`tsx
"use client";
import { defaultEditorContent } from "@/lib/content";
import {
  EditorCommand,
  EditorCommandEmpty,
  EditorCommandItem,
  EditorCommandList,
  EditorContent,
  type EditorInstance,
  EditorRoot,
  ImageResizer,
  type JSONContent,
  handleCommandNavigation,
  handleImageDrop,
  handleImagePaste,
} from "novel";
import { useEffect, useState } from "react";
import { defaultExtensions } from "./extensions";
import { ColorSelector } from "./selectors/color-selector";
import { LinkSelector } from "./selectors/link-selector";
import { MathSelector } from "./selectors/math-selector";
import { NodeSelector } from "./selectors/node-selector";
import { Separator } from "./ui/separator";

import GenerativeMenuSwitch from "./generative/generative-menu-switch";
import { uploadFn } from "./image-upload";
import { TextButtons } from "./selectors/text-buttons";
import { slashCommand, suggestionItems } from "./slash-command";

const hljs = require("highlight.js");

const extensions = [...defaultExtensions, slashCommand];

interface TailwindAdvancedEditorProps {
  initialContent?: JSONContent;
  onChange?: (content: JSONContent) => void;
}

const TailwindAdvancedEditor = ({ initialContent = defaultEditorContent, onChange }: TailwindAdvancedEditorProps) => {
  const [saveStatus, setSaveStatus] = useState("Saved");
  const [charsCount, setCharsCount] = useState();

  const [openNode, setOpenNode] = useState(false);
  const [openColor, setOpenColor] = useState(false);
  const [openLink, setOpenLink] = useState(false);
  const [openAI, setOpenAI] = useState(false);

  //Apply Codeblock Highlighting on the HTML from editor.getHTML()
  const highlightCodeblocks = (content: string) => {
    const doc = new DOMParser().parseFromString(content, "text/html");
    doc.querySelectorAll("pre code").forEach((el) => {
      // @ts-ignore
      // https://highlightjs.readthedocs.io/en/latest/api.html?highlight=highlightElement#highlightelement
      hljs.highlightElement(el);
    });
    return new XMLSerializer().serializeToString(doc);
  };

  const handleUpdate = (editor: EditorInstance) => {
    const json = editor.getJSON();
    setCharsCount(editor.storage.characterCount.words());
    setSaveStatus("Saved");
    onChange?.(json);
  };

  return (
    <div className="relative w-full max-w-screen-lg">
      <div className="flex absolute right-5 top-5 z-10 mb-5 gap-2">
        <div className="rounded-lg bg-accent px-2 py-1 text-sm text-muted-foreground">{saveStatus}</div>
        <div className={charsCount ? "rounded-lg bg-accent px-2 py-1 text-sm text-muted-foreground" : "hidden"}>
          {charsCount} Words
        </div>
      </div>
      <EditorRoot>
        <EditorContent
          initialContent={initialContent}
          extensions={extensions}
          className="relative min-h-[500px] w-full max-w-screen-lg border-muted bg-background sm:mb-[calc(20vh)] sm:rounded-lg sm:border sm:shadow-lg"
          editorProps={{
            handleDOMEvents: {
              keydown: (_view, event) => handleCommandNavigation(event),
            },
            handlePaste: (view, event) => handleImagePaste(view, event, uploadFn),
            handleDrop: (view, event, _slice, moved) => handleImageDrop(view, event, moved, uploadFn),
            attributes: {
              class:
                "prose prose-lg dark:prose-invert prose-headings:font-title font-default focus:outline-none max-w-full",
            },
          }}
          onUpdate={({ editor }) => {
            handleUpdate(editor);
            setSaveStatus("Unsaved");
          }}
          slotAfter={<ImageResizer />}
        >
          <EditorCommand className="z-50 h-auto max-h-[330px] overflow-y-auto rounded-md border border-muted bg-background px-1 py-2 shadow-md transition-all">
            <EditorCommandEmpty className="px-2 text-muted-foreground">No results</EditorCommandEmpty>
            <EditorCommandList>
              {suggestionItems.map((item) => (
                <EditorCommandItem
                  value={item.title}
                  onCommand={(val) => item.command(val)}
                  className="flex w-full items-center space-x-2 rounded-md px-2 py-1 text-left text-sm hover:bg-accent aria-selected:bg-accent"
                  key={item.title}
                >
                  <div className="flex h-10 w-10 items-center justify-center rounded-md border border-muted bg-background">
                    {item.icon}
                  </div>
                  <div>
                    <p className="font-medium">{item.title}</p>
                    <p className="text-xs text-muted-foreground">{item.description}</p>
                  </div>
                </EditorCommandItem>
              ))}
            </EditorCommandList>
          </EditorCommand>

          <GenerativeMenuSwitch open={openAI} onOpenChange={setOpenAI}>
            <Separator orientation="vertical" />
            <NodeSelector open={openNode} onOpenChange={setOpenNode} />
            <Separator orientation="vertical" />

            <LinkSelector open={openLink} onOpenChange={setOpenLink} />
            <Separator orientation="vertical" />
            <MathSelector />
            <Separator orientation="vertical" />
            <TextButtons />
            <Separator orientation="vertical" />
            <ColorSelector open={openColor} onOpenChange={setOpenColor} />
          </GenerativeMenuSwitch>
        </EditorContent>
      </EditorRoot>
    </div>
  );
};

export default TailwindAdvancedEditor;

\`\`\`

# components/tailwind/copilot/index.tsx

\`\`\`tsx
import React from 'react';
import { Plus, RotateCcw, ArrowUpCircle, Search, AtSign, Mic, Check, X, PencilLine } from 'lucide-react';
import { useCopilot, type ExtendedMessage } from './use-copilot';
import type { CopilotProps } from './types';
import { cn } from '@/lib/utils';
import ReactMarkdown from 'react-markdown';

// Helper to format message content with editor content highlighted
const formatMessageContent = (message: ExtendedMessage) => {
  if (!message.content) return null;

  const startTag = "<editor_content>";
  const endTag = "</editor_content>";
  const parts = [];
  let currentIndex = 0;

  // Find all editor content sections
  while (true) {
    const startIndex = message.content.indexOf(startTag, currentIndex);
    if (startIndex === -1) {
      // Add remaining text
      if (currentIndex < message.content.length) {
        parts.push({
          type: 'text',
          content: message.content.slice(currentIndex)
        });
      }
      break;
    }

    // Add text before editor content
    if (startIndex > currentIndex) {
      parts.push({
        type: 'text',
        content: message.content.slice(currentIndex, startIndex)
      });
    }

    const endIndex = message.content.indexOf(endTag, startIndex);
    if (endIndex === -1) break;

    // Add editor content
    parts.push({
      type: 'editor',
      content: message.content.slice(startIndex + startTag.length, endIndex)
    });

    currentIndex = endIndex + endTag.length;
  }

  return parts;
};

const Copilot = ({ onUpdateContent, getCurrentContent }: CopilotProps) => {
  const {
    mode,
    setMode,
    messages,
    input,
    handleInputChange,
    handleSubmit,
    isLoading,
    handleSuggestionApply,
  } = useCopilot(onUpdateContent, getCurrentContent);

  return (
    <div className="w-96 border-l flex flex-col h-full bg-background">
      {/* Header */}
      <div className="flex items-center justify-between p-4 border-b">
        <div className="flex items-center gap-2">
          <div className="w-8 h-8 bg-gradient-to-br from-purple-400 to-pink-400 rounded-lg flex items-center justify-center">
            <span className="text-white font-medium">C</span>
          </div>
          <span className="font-medium text-foreground">Copilot</span>
        </div>
        <div className="flex items-center gap-2">
          <button className="p-2 hover:bg-accent rounded-lg">
            <Plus className="w-4 h-4 text-foreground" />
          </button>
          <button className="p-2 hover:bg-accent rounded-lg">
            <RotateCcw className="w-4 h-4 text-foreground" />
          </button>
        </div>
      </div>

      {/* Chat Area */}
      <div className="flex-1 overflow-y-auto p-4">
        <div className="space-y-6">
          {messages.length === 0 ? (
            <>
              {/* Welcome Message */}
              <div>
                <h2 className="text-xl text-purple-600 font-medium mb-1">Hello</h2>
                <h3 className="text-2xl font-semibold text-foreground">What are we working on today?</h3>
              </div>

              {/* Mode Indicator */}
              <div className="bg-muted rounded-lg p-4 space-y-2">
                <div className="flex items-center gap-2">
                  <span className="px-3 py-1 bg-purple-100 text-purple-600 rounded-full text-sm font-medium">
                    {mode === 'write' ? 'âœï¸ Write mode' : 'ğŸ’¬ Chat mode'}
                  </span>
                </div>
                <p className="text-muted-foreground text-sm">
                  {mode === 'write'
                    ? 'Copilot can directly edit and work on your canvas.'
                    : 'Chat with Copilot and approve suggestions before applying them.'}
                </p>
              </div>
            </>
          ) : (
            <div className="space-y-4">
              {messages.map((message: ExtendedMessage) => (
                <div
                  key={message.id}
                  className={cn(
                    'p-4 rounded-lg',
                    message.role === 'user'
                      ? 'bg-primary text-primary-foreground ml-8'
                      : 'bg-muted text-foreground mr-8'
                  )}
                >
                  <div className="text-sm mb-1 text-muted-foreground">
                    {message.role === 'user' ? 'You' : 'Copilot'}:
                  </div>
                  <div className="text-foreground">
                    {formatMessageContent(message)?.map((part, index) => (
                      part.type === 'editor' ? (
                        <div key={index} className="my-2 p-3 bg-background border-l-4 border-primary rounded">
                          <div className="flex items-center gap-2 text-sm text-purple-600 mb-2">
                            <PencilLine className="h-4 w-4" />
                            <span className="font-medium">Editor Content:</span>
                          </div>
                          <div className="prose prose-sm max-w-none dark:prose-invert">
                            <ReactMarkdown>{part.content}</ReactMarkdown>
                          </div>
                        </div>
                      ) : (
                        <span key={index}>{part.content}</span>
                      )
                    ))}
                  </div>
                  {mode === 'chat' && message.role === 'assistant' && message.suggestion && (
                    <div className="mt-2 flex items-center gap-2">
                      <button
                        onClick={() => handleSuggestionApply(message.suggestion!)}
                        className="px-3 py-1 bg-purple-100 text-purple-600 rounded-full text-sm font-medium flex items-center gap-1 hover:bg-purple-200"
                      >
                        <Check className="h-4 w-4" />
                        Apply to Editor
                      </button>
                      <button className="px-3 py-1 bg-accent text-accent-foreground rounded-full text-sm font-medium flex items-center gap-1 hover:bg-accent/80">
                        <X className="h-4 w-4" />
                        Dismiss
                      </button>
                    </div>
                  )}
                </div>
              ))}
              {isLoading && (
                <div className="bg-muted mr-8 p-4 rounded-lg animate-pulse">
                  <div className="h-4 bg-muted-foreground/20 rounded w-3/4 mb-2"></div>
                  <div className="h-4 bg-muted-foreground/20 rounded w-1/2"></div>
                </div>
              )}
            </div>
          )}
        </div>
      </div>

      {/* Input Area */}
      <div className="border-t p-4">
        <div className="flex items-center gap-2 mb-4">
          <button
            onClick={() => setMode('write')}
            className={cn(
              'px-3 py-1 text-sm rounded-full flex items-center gap-1',
              mode === 'write'
                ? 'bg-primary text-primary-foreground'
                : 'text-muted-foreground hover:bg-accent'
            )}
          >
            <span>Write</span>
          </button>
          <button
            onClick={() => setMode('chat')}
            className={cn(
              'px-3 py-1 text-sm rounded-full flex items-center gap-1',
              mode === 'chat'
                ? 'bg-primary text-primary-foreground'
                : 'text-muted-foreground hover:bg-accent'
            )}
          >
            <span>Chat</span>
          </button>
        </div>

        <form onSubmit={handleSubmit} className="relative">
          <textarea
            value={input}
            onChange={handleInputChange}
            placeholder="Ask me to do anything..."
            className="w-full p-3 pr-24 border rounded-lg resize-none h-[45px] focus:outline-none focus:ring-2 focus:ring-purple-400 bg-background text-foreground"
            rows={1}
          />
          <div className="absolute right-2 bottom-2 flex items-center gap-1">
            <button type="submit" className="p-1 hover:bg-accent rounded" disabled={isLoading}>
              <ArrowUpCircle className={cn("w-5 h-5", isLoading ? "text-muted-foreground/40" : "text-muted-foreground")} />
            </button>
            <button type="button" className="p-1 hover:bg-accent rounded">
              <Search className="w-5 h-5 text-muted-foreground" />
            </button>
            <button type="button" className="p-1 hover:bg-accent rounded">
              <AtSign className="w-5 h-5 text-muted-foreground" />
            </button>
            <button type="button" className="p-1 hover:bg-accent rounded">
              <Mic className="w-5 h-5 text-muted-foreground" />
            </button>
          </div>
        </form>

        {/* Model Selection */}
        <div className="flex items-center gap-2 mt-4 text-sm text-muted-foreground">
          <button className="flex items-center gap-1 hover:bg-accent px-2 py-1 rounded">
            <span>â†‘</span>
            <span>GPT-4</span>
          </button>
          <button className="flex items-center gap-1 hover:bg-accent px-2 py-1 rounded">
            <Search className="w-4 h-4" />
            <span>Web Search</span>
          </button>
          <button className="hover:bg-accent px-2 py-1 rounded">
            <AtSign className="w-4 h-4" />
          </button>
          <button className="hover:bg-accent px-2 py-1 rounded">
            <span>0</span>
          </button>
        </div>
      </div>
    </div>
  );
};

export default Copilot; 
\`\`\`

# components/tailwind/copilot/types.ts

\`\`\`ts
import type { JSONContent } from "novel";

export type CopilotMode = "write" | "chat";

export interface Message {
  id: string;
  content: string;
  role: "user" | "assistant";
  pending?: boolean;
  suggestion?: JSONContent | null;
}

export interface CopilotProps {
  onUpdateContent: (content: JSONContent) => void;
  getCurrentContent: () => JSONContent;
} 
\`\`\`

# components/tailwind/copilot/use-copilot.ts

\`\`\`ts
import { useChat } from 'ai/react';
import { useState } from 'react';
import type { CopilotMode, Message } from './types';
import type { JSONContent } from 'novel';
import type { ChangeEvent } from 'react';

// Create a new interface that extends Message but adds our own properties
export interface ExtendedMessage {
  id: string;
  content: string;
  role: 'user' | 'assistant';
  suggestion?: string;
  editorContent?: string; // Add this to store the extracted editor content
}

// Helper function to extract content between editor_content tags
const extractEditorContent = (text: string): { editorContent: string | null; fullContent: string } => {
  const startTag = "<editor_content>";
  const endTag = "</editor_content>";
  
  const startIndex = text.indexOf(startTag);
  const endIndex = text.indexOf(endTag);
  
  if (startIndex === -1 || endIndex === -1) {
    return { editorContent: null, fullContent: text };
  }
  
  const editorContent = text.slice(startIndex + startTag.length, endIndex).trim();
  return { 
    editorContent,
    fullContent: text 
  };
};

// Helper function to parse markdown into JSONContent
const parseMarkdownToContent = (markdown: string): JSONContent => {
  console.log('Parsing markdown:', markdown);
  const content: JSONContent['content'] = [];
  
  const lines = markdown.split('\n');
  let currentList: any[] = [];
  let inCodeBlock = false;
  let codeBlockContent = '';
  let codeBlockLanguage = '';
  
  // Helper to parse inline content with links and formatting
  const parseInlineContent = (text: string) => {
    const parts = [];
    let currentIndex = 0;
    
    // Match links [text](url), inline code, bold, italic, strike, and images ![alt](url)
    const pattern = /(!?\[.*?\]\(.*?\)|\*\*.*?\*\*|\*.*?\*|`.*?`|~~.*?~~)/g;
    let match;
    
    while ((match = pattern.exec(text)) !== null) {
      // Add text before the match
      if (match.index > currentIndex) {
        parts.push({
          type: 'text',
          text: text.slice(currentIndex, match.index)
        });
      }
      
      const token = match[0];
      if (token.startsWith('![')) {
        // Image
        const [alt, url] = parseLink(token.slice(1));
        parts.push({
          type: 'image',
          attrs: { src: url, alt: alt || '', title: alt || '' }
        });
      } else if (token.startsWith('[')) {
        // Link
        const [text, url] = parseLink(token);
        parts.push({
          type: 'text',
          marks: [{ type: 'link', attrs: { href: url } }],
          text: text
        });
      } else if (token.startsWith('**')) {
        // Bold
        parts.push({
          type: 'text',
          marks: [{ type: 'bold' }],
          text: token.slice(2, -2)
        });
      } else if (token.startsWith('*')) {
        // Italic
        parts.push({
          type: 'text',
          marks: [{ type: 'italic' }],
          text: token.slice(1, -1)
        });
      } else if (token.startsWith('`')) {
        // Code
        parts.push({
          type: 'text',
          marks: [{ type: 'code' }],
          text: token.slice(1, -1)
        });
      } else if (token.startsWith('~~')) {
        // Strike
        parts.push({
          type: 'text',
          marks: [{ type: 'strike' }],
          text: token.slice(2, -2)
        });
      }
      
      currentIndex = match.index + match[0].length;
    }
    
    // Add remaining text
    if (currentIndex < text.length) {
      parts.push({
        type: 'text',
        text: text.slice(currentIndex)
      });
    }
    
    return parts;
  };
  
  // Helper to parse [text](url) format
  const parseLink = (token: string): [string, string] => {
    const textMatch = token.match(/\[(.*?)\]/);
    const urlMatch = token.match(/\((.*?)\)/);
    return [
      textMatch ? textMatch[1] : '',
      urlMatch ? urlMatch[1] : ''
    ];
  };

  for (let i = 0; i < lines.length; i++) {
    const line = lines[i];
    
    // Code block handling
    if (line.startsWith('\`\`\`')) {
      if (!inCodeBlock) {
        inCodeBlock = true;
        codeBlockLanguage = line.slice(3).trim();
        continue;
      } else {
        inCodeBlock = false;
        content.push({
          type: 'codeBlock',
          attrs: { language: codeBlockLanguage || 'plain' },
          content: [{ type: 'text', text: codeBlockContent.trim() }]
        });
        codeBlockContent = '';
        continue;
      }
    }
    
    if (inCodeBlock) {
      codeBlockContent += line + '\n';
      continue;
    }

    // Handle different line types
    if (line.trim() === '') {
      continue;
    } else if (line.startsWith('#')) {
      const level = line.match(/^#+/)[0].length;
      const text = line.slice(level).trim();
      content.push({
        type: 'heading',
        attrs: { level },
        content: parseInlineContent(text)
      });
    } else if (line.startsWith('- ') || line.startsWith('* ')) {
      const text = line.slice(2).trim();
      currentList.push({
        type: 'listItem',
        content: [{
          type: 'paragraph',
          content: parseInlineContent(text)
        }]
      });
    } else if (line.match(/^\d+\. /)) {
      const text = line.replace(/^\d+\. /, '').trim();
      currentList.push({
        type: 'listItem',
        content: [{
          type: 'paragraph',
          content: parseInlineContent(text)
        }]
      });
    } else if (line.startsWith('> ')) {
      // Blockquote
      const text = line.slice(2).trim();
      content.push({
        type: 'blockquote',
        content: [{
          type: 'paragraph',
          content: parseInlineContent(text)
        }]
      });
    } else if (line.startsWith('---')) {
      // Horizontal rule
      content.push({ type: 'horizontalRule' });
    } else if (line.match(/^!\[.*?\]\(.*?\)/)) {
      // Standalone image
      const [alt, url] = parseLink(line);
      content.push({
        type: 'image',
        attrs: { src: url, alt: alt || '', title: alt || '' }
      });
    } else {
      content.push({
        type: 'paragraph',
        content: parseInlineContent(line)
      });
    }
  }

  // Add any remaining list items
  if (currentList.length > 0) {
    content.push({
      type: 'bulletList',
      content: currentList
    });
    currentList = [];
  }

  console.log('Parsed content:', { type: 'doc', content });
  return { type: 'doc', content };
};

// Helper function to serialize editor content to markdown
const serializeContent = (content: JSONContent): string => {
  console.log('Serializing content:', content);
  let markdown = '';
  
  const serializeMarks = (text: string, marks: any[] = []) => {
    return marks.reduce((t, mark) => {
      switch (mark.type) {
        case 'bold':
          return `**${t}**`;
        case 'italic':
          return `*${t}*`;
        case 'code':
          return `\`${t}\``;
        case 'strike':
          return `~~${t}~~`;
        case 'link':
          return `[${t}](${mark.attrs.href})`;
        default:
          return t;
      }
    }, text);
  };
  
  content.content?.forEach(node => {
    switch (node.type) {
      case 'paragraph':
        const text = node.content?.map(c => {
          if (c.type === 'image') {
            return `![${c.attrs?.alt || ''}](${c.attrs?.src || ''})`;
          }
          return serializeMarks(c.text || '', c.marks);
        }).join('') || '';
        markdown += text + '\n\n';
        break;
      case 'heading':
        const level = node.attrs?.level || 1;
        const headingText = node.content?.map(c => serializeMarks(c.text || '', c.marks)).join('') || '';
        markdown += '#'.repeat(level) + ' ' + headingText + '\n\n';
        break;
      case 'bulletList':
        node.content?.forEach(item => {
          const itemText = item.content?.[0].content?.map(c => serializeMarks(c.text || '', c.marks)).join('') || '';
          markdown += `- ${itemText}\n`;
        });
        markdown += '\n';
        break;
      case 'orderedList':
        node.content?.forEach((item, index) => {
          const itemText = item.content?.[0].content?.map(c => serializeMarks(c.text || '', c.marks)).join('') || '';
          markdown += `${index + 1}. ${itemText}\n`;
        });
        markdown += '\n';
        break;
      case 'codeBlock':
        const language = node.attrs?.language || '';
        const code = node.content?.[0].text || '';
        markdown += '\`\`\`' + language + '\n' + code + '\n\`\`\`\n\n';
        break;
      case 'blockquote':
        const quote = node.content?.map(p => 
          p.content?.map(c => serializeMarks(c.text || '', c.marks)).join('')
        ).join('\n') || '';
        markdown += '> ' + quote + '\n\n';
        break;
      case 'horizontalRule':
        markdown += '---\n\n';
        break;
      case 'image':
        markdown += `![${node.attrs?.alt || ''}](${node.attrs?.src || ''})\n\n`;
        break;
    }
  });

  console.log('Serialized to markdown:', markdown);
  return markdown.trim();
};

export function useCopilot(
  onUpdateContent: (content: JSONContent) => void,
  getCurrentContent: () => JSONContent
) {
  const [mode, setMode] = useState<CopilotMode>('write');
  const [command, setCommand] = useState('');
  const [lastUpdateTime, setLastUpdateTime] = useState<number>(Date.now());
  
  const handleSuggestionApply = (suggestion: string) => {
    // Extract editor content if available
    const { editorContent } = extractEditorContent(suggestion);
    const contentToApply = editorContent || suggestion;
  
    const content = parseMarkdownToContent(contentToApply);
    onUpdateContent(content);
    setLastUpdateTime(Date.now());
};

  const {
    messages: rawMessages,
    input,
    handleInputChange,
    handleSubmit: originalHandleSubmit,
    isLoading,
  } = useChat({
    api: '/api/copilot',
    body: {
      option: mode === 'write' ? 'copilot-write' : 'copilot-chat',
      prompt: serializeContent(getCurrentContent()),
      command: command,
    },
    onFinish: (message) => {
      console.log('Received API response:', message);

      // Extract content and store both full and editor content
      const { editorContent, fullContent } = extractEditorContent(message.content);
      const extendedMessage = message as ExtendedMessage;
      extendedMessage.content = fullContent;
      extendedMessage.editorContent = editorContent;

      if (mode === 'write' && editorContent) {
  try {
          const content = parseMarkdownToContent(editorContent);
          console.log('Updating editor with content:', content);
          onUpdateContent(content);
          setLastUpdateTime(Date.now());
        } catch (error) {
          console.error('Failed to parse markdown content:', error);
          // Fallback to simple paragraph if parsing fails
          onUpdateContent({
            type: 'doc',
            content: [{
              type: 'paragraph',
              content: [{ type: 'text', text: editorContent }]
            }]
          });
  }
      } else if (mode === 'write' && !editorContent) {
        // If no editor content tags found, use the full content
        try {
          const content = parseMarkdownToContent(fullContent);
          console.log('Updating editor with full content:', content);
          onUpdateContent(content);
          setLastUpdateTime(Date.now());
        } catch (error) {
          console.error('Failed to parse markdown content:', error);
          onUpdateContent({
            type: 'doc',
            content: [{
              type: 'paragraph',
              content: [{ type: 'text', text: fullContent }]
            }]
          });
      }
      } else {
        // In chat mode, store both the full message and editor content
        extendedMessage.suggestion = editorContent || fullContent;
    }
    },
  });

  // Update command when input changes
  const handleCommandChange = (e: ChangeEvent<HTMLInputElement> | ChangeEvent<HTMLTextAreaElement>) => {
    setCommand(e.target.value);
    handleInputChange(e);
  };

  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    if (isLoading) return;
    
    console.log(`Submitting in ${mode} mode with command:`, command);
    const currentContent = getCurrentContent();
    console.log('Current content:', currentContent);
    await originalHandleSubmit(e);
  };

  return {
    mode,
    setMode,
    messages: rawMessages as ExtendedMessage[],
    input,
    handleInputChange: handleCommandChange,
    handleSubmit,
    isLoading,
    handleSuggestionApply,
    lastUpdateTime,
  };
} 

\`\`\`

# components/tailwind/extensions.ts

\`\`\`ts
import {
  AIHighlight,
  CharacterCount,
  CodeBlockLowlight,
  Color,
  CustomKeymap,
  GlobalDragHandle,
  HighlightExtension,
  HorizontalRule,
  // MarkdownExtension,
  Mathematics,
  Placeholder,
  StarterKit,
  TaskItem,
  TaskList,
  TextStyle,
  TiptapImage,
  TiptapLink,
  TiptapUnderline,
  Twitter,
  UpdatedImage,
  UploadImagesPlugin,
  Youtube,
} from "novel";

import { cx } from "class-variance-authority";
import { common, createLowlight } from "lowlight";

//TODO I am using cx here to get tailwind autocomplete working, idk if someone else can write a regex to just capture the class key in objects
const aiHighlight = AIHighlight;
//You can overwrite the placeholder with your own configuration
const placeholder = Placeholder;
const tiptapLink = TiptapLink.configure({
  HTMLAttributes: {
    class: cx(
      "text-muted-foreground underline underline-offset-[3px] hover:text-primary transition-colors cursor-pointer",
    ),
  },
});

const tiptapImage = TiptapImage.extend({
  addProseMirrorPlugins() {
    return [
      UploadImagesPlugin({
        imageClass: cx("opacity-40 rounded-lg border border-stone-200"),
      }),
    ];
  },
}).configure({
  allowBase64: true,
  HTMLAttributes: {
    class: cx("rounded-lg border border-muted"),
  },
});

const updatedImage = UpdatedImage.configure({
  HTMLAttributes: {
    class: cx("rounded-lg border border-muted"),
  },
});

const taskList = TaskList.configure({
  HTMLAttributes: {
    class: cx("not-prose pl-2 "),
  },
});
const taskItem = TaskItem.configure({
  HTMLAttributes: {
    class: cx("flex gap-2 items-start my-4"),
  },
  nested: true,
});

const horizontalRule = HorizontalRule.configure({
  HTMLAttributes: {
    class: cx("mt-4 mb-6 border-t border-muted-foreground"),
  },
});

const starterKit = StarterKit.configure({
  bulletList: {
    HTMLAttributes: {
      class: cx("list-disc list-outside leading-3 -mt-2"),
    },
  },
  orderedList: {
    HTMLAttributes: {
      class: cx("list-decimal list-outside leading-3 -mt-2"),
    },
  },
  listItem: {
    HTMLAttributes: {
      class: cx("leading-normal -mb-2"),
    },
  },
  blockquote: {
    HTMLAttributes: {
      class: cx("border-l-4 border-primary"),
    },
  },
  codeBlock: {
    HTMLAttributes: {
      class: cx("rounded-md bg-muted text-muted-foreground border p-5 font-mono font-medium"),
    },
  },
  code: {
    HTMLAttributes: {
      class: cx("rounded-md bg-muted  px-1.5 py-1 font-mono font-medium"),
      spellcheck: "false",
    },
  },
  horizontalRule: false,
  dropcursor: {
    color: "#DBEAFE",
    width: 4,
  },
  gapcursor: false,
});

const codeBlockLowlight = CodeBlockLowlight.configure({
  // configure lowlight: common /  all / use highlightJS in case there is a need to specify certain language grammars only
  // common: covers 37 language grammars which should be good enough in most cases
  lowlight: createLowlight(common),
});

const youtube = Youtube.configure({
  HTMLAttributes: {
    class: cx("rounded-lg border border-muted"),
  },
  inline: false,
});

const twitter = Twitter.configure({
  HTMLAttributes: {
    class: cx("not-prose"),
  },
  inline: false,
});

const mathematics = Mathematics.configure({
  HTMLAttributes: {
    class: cx("text-foreground rounded p-1 hover:bg-accent cursor-pointer"),
  },
  katexOptions: {
    throwOnError: false,
  },
});

const characterCount = CharacterCount.configure();

// const markdownExtension = MarkdownExtension.configure({
//   html: true,
//   tightLists: true,
//   tightListClass: "tight",
//   bulletListMarker: "-",
//   linkify: false,
//   breaks: false,
//   transformPastedText: false,
//   transformCopiedText: false,
// });

export const defaultExtensions = [
  starterKit,
  placeholder,
  tiptapLink,
  tiptapImage,
  updatedImage,
  taskList,
  taskItem,
  horizontalRule,
  aiHighlight,
  codeBlockLowlight,
  youtube,
  twitter,
  mathematics,
  characterCount,
  TiptapUnderline,
  // markdownExtension,
  HighlightExtension,
  TextStyle,
  Color,
  CustomKeymap,
  GlobalDragHandle,
];

\`\`\`

# components/tailwind/generative/ai-completion-command.tsx

\`\`\`tsx
import { CommandGroup, CommandItem, CommandSeparator } from "../ui/command";
import { useEditor } from "novel";
import { Check, TextQuote, TrashIcon } from "lucide-react";

const AICompletionCommands = ({
  completion,
  onDiscard,
}: {
  completion: string;
  onDiscard: () => void;
}) => {
  const { editor } = useEditor();
  return (
    <>
      <CommandGroup>
        <CommandItem
          className="gap-2 px-4"
          value="replace"
          onSelect={() => {
            const selection = editor.view.state.selection;

            editor
              .chain()
              .focus()
              .insertContentAt(
                {
                  from: selection.from,
                  to: selection.to,
                },
                completion,
              )
              .run();
          }}
        >
          <Check className="h-4 w-4 text-muted-foreground" />
          Replace selection
        </CommandItem>
        <CommandItem
          className="gap-2 px-4"
          value="insert"
          onSelect={() => {
            const selection = editor.view.state.selection;
            editor
              .chain()
              .focus()
              .insertContentAt(selection.to + 1, completion)
              .run();
          }}
        >
          <TextQuote className="h-4 w-4 text-muted-foreground" />
          Insert below
        </CommandItem>
      </CommandGroup>
      <CommandSeparator />

      <CommandGroup>
        <CommandItem onSelect={onDiscard} value="thrash" className="gap-2 px-4">
          <TrashIcon className="h-4 w-4 text-muted-foreground" />
          Discard
        </CommandItem>
      </CommandGroup>
    </>
  );
};

export default AICompletionCommands;

\`\`\`

# components/tailwind/generative/ai-selector-commands.tsx

\`\`\`tsx
import { ArrowDownWideNarrow, CheckCheck, RefreshCcwDot, StepForward, WrapText } from "lucide-react";
import { getPrevText, useEditor } from "novel";
import { CommandGroup, CommandItem, CommandSeparator } from "../ui/command";

const options = [
  {
    value: "improve",
    label: "Improve writing",
    icon: RefreshCcwDot,
  },
  {
    value: "fix",
    label: "Fix grammar",
    icon: CheckCheck,
  },
  {
    value: "shorter",
    label: "Make shorter",
    icon: ArrowDownWideNarrow,
  },
  {
    value: "longer",
    label: "Make longer",
    icon: WrapText,
  },
];

interface AISelectorCommandsProps {
  onSelect: (value: string, option: string) => void;
}

const AISelectorCommands = ({ onSelect }: AISelectorCommandsProps) => {
  const { editor } = useEditor();

  return (
    <>
      <CommandGroup heading="Edit or review selection">
        {options.map((option) => (
          <CommandItem
            onSelect={(value) => {
              const slice = editor.state.selection.content();
              const text = editor.storage.markdown.serializer.serialize(slice.content);
              onSelect(text, value);
            }}
            className="flex gap-2 px-4"
            key={option.value}
            value={option.value}
          >
            <option.icon className="h-4 w-4 text-purple-500" />
            {option.label}
          </CommandItem>
        ))}
      </CommandGroup>
      <CommandSeparator />
      <CommandGroup heading="Use AI to do more">
        <CommandItem
          onSelect={() => {
            const pos = editor.state.selection.from;
            const text = getPrevText(editor, pos);
            onSelect(text, "continue");
          }}
          value="continue"
          className="gap-2 px-4"
        >
          <StepForward className="h-4 w-4 text-purple-500" />
          Continue writing
        </CommandItem>
      </CommandGroup>
    </>
  );
};

export default AISelectorCommands;

\`\`\`

# components/tailwind/generative/ai-selector.tsx

\`\`\`tsx
"use client";

import { Command, CommandInput } from "@/components/tailwind/ui/command";

import { useCompletion } from "ai/react";
import { ArrowUp } from "lucide-react";
import { useEditor } from "novel";
import { addAIHighlight } from "novel";
import { useState } from "react";
import Markdown from "react-markdown";
import { toast } from "sonner";
import { Button } from "../ui/button";
import CrazySpinner from "../ui/icons/crazy-spinner";
import Magic from "../ui/icons/magic";
import { ScrollArea } from "../ui/scroll-area";
import AICompletionCommands from "./ai-completion-command";
import AISelectorCommands from "./ai-selector-commands";
//TODO: I think it makes more sense to create a custom Tiptap extension for this functionality https://tiptap.dev/docs/editor/ai/introduction

interface AISelectorProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
}

export function AISelector({ onOpenChange }: AISelectorProps) {
  const { editor } = useEditor();
  const [inputValue, setInputValue] = useState("");

  const { completion, complete, isLoading } = useCompletion({
    // id: "novel",
    api: "/api/generate",
    onResponse: (response) => {
      if (response.status === 429) {
        toast.error("You have reached your request limit for the day.");
        return;
      }
    },
    onError: (e) => {
      toast.error(e.message);
    },
  });

  const hasCompletion = completion.length > 0;

  return (
    <Command className="w-[350px]">
      {hasCompletion && (
        <div className="flex max-h-[400px]">
          <ScrollArea>
            <div className="prose p-2 px-4 prose-sm">
              <Markdown>{completion}</Markdown>
            </div>
          </ScrollArea>
        </div>
      )}

      {isLoading && (
        <div className="flex h-12 w-full items-center px-4 text-sm font-medium text-muted-foreground text-purple-500">
          <Magic className="mr-2 h-4 w-4 shrink-0  " />
          AI is thinking
          <div className="ml-2 mt-1">
            <CrazySpinner />
          </div>
        </div>
      )}
      {!isLoading && (
        <>
          <div className="relative">
            <CommandInput
              value={inputValue}
              onValueChange={setInputValue}
              autoFocus
              placeholder={hasCompletion ? "Tell AI what to do next" : "Ask AI to edit or generate..."}
              onFocus={() => addAIHighlight(editor)}
            />
            <Button
              size="icon"
              className="absolute right-2 top-1/2 h-6 w-6 -translate-y-1/2 rounded-full bg-purple-500 hover:bg-purple-900"
              onClick={() => {
                if (completion)
                  return complete(completion, {
                    body: { option: "zap", command: inputValue },
                  }).then(() => setInputValue(""));

                const slice = editor.state.selection.content();
                const text = editor.storage.markdown.serializer.serialize(slice.content);

                complete(text, {
                  body: { option: "zap", command: inputValue },
                }).then(() => setInputValue(""));
              }}
            >
              <ArrowUp className="h-4 w-4" />
            </Button>
          </div>
          {hasCompletion ? (
            <AICompletionCommands
              onDiscard={() => {
                editor.chain().unsetHighlight().focus().run();
                onOpenChange(false);
              }}
              completion={completion}
            />
          ) : (
            <AISelectorCommands onSelect={(value, option) => complete(value, { body: { option } })} />
          )}
        </>
      )}
    </Command>
  );
}

\`\`\`

# components/tailwind/generative/generative-menu-switch.tsx

\`\`\`tsx
import { EditorBubble, removeAIHighlight, useEditor } from "novel";
import { Fragment, type ReactNode, useEffect } from "react";
import { Button } from "../ui/button";
import Magic from "../ui/icons/magic";
import { AISelector } from "./ai-selector";

interface GenerativeMenuSwitchProps {
  children: ReactNode;
  open: boolean;
  onOpenChange: (open: boolean) => void;
}
const GenerativeMenuSwitch = ({ children, open, onOpenChange }: GenerativeMenuSwitchProps) => {
  const { editor } = useEditor();

  useEffect(() => {
    if (!open) removeAIHighlight(editor);
  }, [open]);
  return (
    <EditorBubble
      tippyOptions={{
        placement: open ? "bottom-start" : "top",
        onHidden: () => {
          onOpenChange(false);
          editor.chain().unsetHighlight().run();
        },
      }}
      className="flex w-fit max-w-[90vw] overflow-hidden rounded-md border border-muted bg-background shadow-xl"
    >
      {open && <AISelector open={open} onOpenChange={onOpenChange} />}
      {!open && (
        <Fragment>
          <Button
            className="gap-1 rounded-none text-purple-500"
            variant="ghost"
            onClick={() => onOpenChange(true)}
            size="sm"
          >
            <Magic className="h-5 w-5" />
            Ask AI
          </Button>
          {children}
        </Fragment>
      )}
    </EditorBubble>
  );
};

export default GenerativeMenuSwitch;

\`\`\`

# components/tailwind/image-upload.ts

\`\`\`ts
import { createImageUpload } from "novel";
import { toast } from "sonner";

const onUpload = (file: File) => {
  const promise = fetch("/api/upload", {
    method: "POST",
    headers: {
      "content-type": file?.type || "application/octet-stream",
      "x-vercel-filename": file?.name || "image.png",
    },
    body: file,
  });

  return new Promise((resolve, reject) => {
    toast.promise(
      promise.then(async (res) => {
        // Successfully uploaded image
        if (res.status === 200) {
          const { url } = (await res.json()) as { url: string };
          // preload the image
          const image = new Image();
          image.src = url;
          image.onload = () => {
            resolve(url);
          };
          // No blob store configured
        } else if (res.status === 401) {
          resolve(file);
          throw new Error("`BLOB_READ_WRITE_TOKEN` environment variable not found, reading image locally instead.");
          // Unknown error
        } else {
          throw new Error("Error uploading image. Please try again.");
        }
      }),
      {
        loading: "Uploading image...",
        success: "Image uploaded successfully.",
        error: (e) => {
          reject(e);
          return e.message;
        },
      },
    );
  });
};

export const uploadFn = createImageUpload({
  onUpload,
  validateFn: (file) => {
    if (!file.type.includes("image/")) {
      toast.error("File type not supported.");
      return false;
    }
    if (file.size / 1024 / 1024 > 20) {
      toast.error("File size too big (max 20MB).");
      return false;
    }
    return true;
  },
});

\`\`\`

# components/tailwind/selectors/color-selector.tsx

\`\`\`tsx
import { Check, ChevronDown } from "lucide-react";
import { EditorBubbleItem, useEditor } from "novel";

import { Button } from "@/components/tailwind/ui/button";
import { Popover, PopoverContent, PopoverTrigger } from "@/components/tailwind/ui/popover";
export interface BubbleColorMenuItem {
  name: string;
  color: string;
}

const TEXT_COLORS: BubbleColorMenuItem[] = [
  {
    name: "Default",
    color: "var(--novel-black)",
  },
  {
    name: "Purple",
    color: "#9333EA",
  },
  {
    name: "Red",
    color: "#E00000",
  },
  {
    name: "Yellow",
    color: "#EAB308",
  },
  {
    name: "Blue",
    color: "#2563EB",
  },
  {
    name: "Green",
    color: "#008A00",
  },
  {
    name: "Orange",
    color: "#FFA500",
  },
  {
    name: "Pink",
    color: "#BA4081",
  },
  {
    name: "Gray",
    color: "#A8A29E",
  },
];

const HIGHLIGHT_COLORS: BubbleColorMenuItem[] = [
  {
    name: "Default",
    color: "var(--novel-highlight-default)",
  },
  {
    name: "Purple",
    color: "var(--novel-highlight-purple)",
  },
  {
    name: "Red",
    color: "var(--novel-highlight-red)",
  },
  {
    name: "Yellow",
    color: "var(--novel-highlight-yellow)",
  },
  {
    name: "Blue",
    color: "var(--novel-highlight-blue)",
  },
  {
    name: "Green",
    color: "var(--novel-highlight-green)",
  },
  {
    name: "Orange",
    color: "var(--novel-highlight-orange)",
  },
  {
    name: "Pink",
    color: "var(--novel-highlight-pink)",
  },
  {
    name: "Gray",
    color: "var(--novel-highlight-gray)",
  },
];

interface ColorSelectorProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
}

export const ColorSelector = ({ open, onOpenChange }: ColorSelectorProps) => {
  const { editor } = useEditor();

  if (!editor) return null;
  const activeColorItem = TEXT_COLORS.find(({ color }) => editor.isActive("textStyle", { color }));

  const activeHighlightItem = HIGHLIGHT_COLORS.find(({ color }) => editor.isActive("highlight", { color }));

  return (
    <Popover modal={true} open={open} onOpenChange={onOpenChange}>
      <PopoverTrigger asChild>
        <Button size="sm" className="gap-2 rounded-none" variant="ghost">
          <span
            className="rounded-sm px-1"
            style={{
              color: activeColorItem?.color,
              backgroundColor: activeHighlightItem?.color,
            }}
          >
            A
          </span>
          <ChevronDown className="h-4 w-4" />
        </Button>
      </PopoverTrigger>

      <PopoverContent
        sideOffset={5}
        className="my-1 flex max-h-80 w-48 flex-col overflow-hidden overflow-y-auto rounded border p-1 shadow-xl "
        align="start"
      >
        <div className="flex flex-col">
          <div className="my-1 px-2 text-sm font-semibold text-muted-foreground">Color</div>
          {TEXT_COLORS.map(({ name, color }) => (
            <EditorBubbleItem
              key={name}
              onSelect={() => {
                editor.commands.unsetColor();
                name !== "Default" &&
                  editor
                    .chain()
                    .focus()
                    .setColor(color || "")
                    .run();
                onOpenChange(false);
              }}
              className="flex cursor-pointer items-center justify-between px-2 py-1 text-sm hover:bg-accent"
            >
              <div className="flex items-center gap-2">
                <div className="rounded-sm border px-2 py-px font-medium" style={{ color }}>
                  A
                </div>
                <span>{name}</span>
              </div>
            </EditorBubbleItem>
          ))}
        </div>
        <div>
          <div className="my-1 px-2 text-sm font-semibold text-muted-foreground">Background</div>
          {HIGHLIGHT_COLORS.map(({ name, color }) => (
            <EditorBubbleItem
              key={name}
              onSelect={() => {
                editor.commands.unsetHighlight();
                name !== "Default" && editor.chain().focus().setHighlight({ color }).run();
                onOpenChange(false);
              }}
              className="flex cursor-pointer items-center justify-between px-2 py-1 text-sm hover:bg-accent"
            >
              <div className="flex items-center gap-2">
                <div className="rounded-sm border px-2 py-px font-medium" style={{ backgroundColor: color }}>
                  A
                </div>
                <span>{name}</span>
              </div>
              {editor.isActive("highlight", { color }) && <Check className="h-4 w-4" />}
            </EditorBubbleItem>
          ))}
        </div>
      </PopoverContent>
    </Popover>
  );
};

\`\`\`

# components/tailwind/selectors/link-selector.tsx

\`\`\`tsx
import { Button } from "@/components/tailwind/ui/button";
import { PopoverContent } from "@/components/tailwind/ui/popover";
import { cn } from "@/lib/utils";
import { Popover, PopoverTrigger } from "@radix-ui/react-popover";
import { Check, Trash } from "lucide-react";
import { useEditor } from "novel";
import { useEffect, useRef } from "react";

export function isValidUrl(url: string) {
  try {
    new URL(url);
    return true;
  } catch (_e) {
    return false;
  }
}
export function getUrlFromString(str: string) {
  if (isValidUrl(str)) return str;
  try {
    if (str.includes(".") && !str.includes(" ")) {
      return new URL(`https://${str}`).toString();
    }
  } catch (_e) {
    return null;
  }
}
interface LinkSelectorProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
}

export const LinkSelector = ({ open, onOpenChange }: LinkSelectorProps) => {
  const inputRef = useRef<HTMLInputElement>(null);
  const { editor } = useEditor();

  // Autofocus on input by default
  useEffect(() => {
    inputRef.current?.focus();
  });
  if (!editor) return null;

  return (
    <Popover modal={true} open={open} onOpenChange={onOpenChange}>
      <PopoverTrigger asChild>
        <Button size="sm" variant="ghost" className="gap-2 rounded-none border-none">
          <p className="text-base">â†—</p>
          <p
            className={cn("underline decoration-stone-400 underline-offset-4", {
              "text-blue-500": editor.isActive("link"),
            })}
          >
            Link
          </p>
        </Button>
      </PopoverTrigger>
      <PopoverContent align="start" className="w-60 p-0" sideOffset={10}>
        <form
          onSubmit={(e) => {
            const target = e.currentTarget as HTMLFormElement;
            e.preventDefault();
            const input = target[0] as HTMLInputElement;
            const url = getUrlFromString(input.value);
            if (url) {
              editor.chain().focus().setLink({ href: url }).run();
              onOpenChange(false);
            }
          }}
          className="flex  p-1 "
        >
          <input
            ref={inputRef}
            type="text"
            placeholder="Paste a link"
            className="flex-1 bg-background p-1 text-sm outline-none"
            defaultValue={editor.getAttributes("link").href || ""}
          />
          {editor.getAttributes("link").href ? (
            <Button
              size="icon"
              variant="outline"
              type="button"
              className="flex h-8 items-center rounded-sm p-1 text-red-600 transition-all hover:bg-red-100 dark:hover:bg-red-800"
              onClick={() => {
                editor.chain().focus().unsetLink().run();
                inputRef.current.value = "";
                onOpenChange(false);
              }}
            >
              <Trash className="h-4 w-4" />
            </Button>
          ) : (
            <Button size="icon" className="h-8">
              <Check className="h-4 w-4" />
            </Button>
          )}
        </form>
      </PopoverContent>
    </Popover>
  );
};

\`\`\`

# components/tailwind/selectors/math-selector.tsx

\`\`\`tsx
import { Button } from "@/components/tailwind/ui/button";
import { cn } from "@/lib/utils";
import { SigmaIcon } from "lucide-react";
import { useEditor } from "novel";

export const MathSelector = () => {
  const { editor } = useEditor();

  if (!editor) return null;

  return (
    <Button
      variant="ghost"
      size="sm"
      className="rounded-none w-12"
      onClick={(evt) => {
        if (editor.isActive("math")) {
          editor.chain().focus().unsetLatex().run();
        } else {
          const { from, to } = editor.state.selection;
          const latex = editor.state.doc.textBetween(from, to);

          if (!latex) return;

          editor.chain().focus().setLatex({ latex }).run();
        }
      }}
    >
      <SigmaIcon
        className={cn("size-4", { "text-blue-500": editor.isActive("math") })}
        strokeWidth={2.3}
      />
    </Button>
  );
};

\`\`\`

# components/tailwind/selectors/node-selector.tsx

\`\`\`tsx
import {
  Check,
  CheckSquare,
  ChevronDown,
  Code,
  Heading1,
  Heading2,
  Heading3,
  ListOrdered,
  type LucideIcon,
  TextIcon,
  TextQuote,
} from "lucide-react";
import { EditorBubbleItem, useEditor } from "novel";

import { Button } from "@/components/tailwind/ui/button";
import { PopoverContent, PopoverTrigger } from "@/components/tailwind/ui/popover";
import { Popover } from "@radix-ui/react-popover";

export type SelectorItem = {
  name: string;
  icon: LucideIcon;
  command: (editor: ReturnType<typeof useEditor>["editor"]) => void;
  isActive: (editor: ReturnType<typeof useEditor>["editor"]) => boolean;
};

const items: SelectorItem[] = [
  {
    name: "Text",
    icon: TextIcon,
    command: (editor) => editor.chain().focus().clearNodes().run(),
    // I feel like there has to be a more efficient way to do this â€“ feel free to PR if you know how!
    isActive: (editor) =>
      editor.isActive("paragraph") && !editor.isActive("bulletList") && !editor.isActive("orderedList"),
  },
  {
    name: "Heading 1",
    icon: Heading1,
    command: (editor) => editor.chain().focus().clearNodes().toggleHeading({ level: 1 }).run(),
    isActive: (editor) => editor.isActive("heading", { level: 1 }),
  },
  {
    name: "Heading 2",
    icon: Heading2,
    command: (editor) => editor.chain().focus().clearNodes().toggleHeading({ level: 2 }).run(),
    isActive: (editor) => editor.isActive("heading", { level: 2 }),
  },
  {
    name: "Heading 3",
    icon: Heading3,
    command: (editor) => editor.chain().focus().clearNodes().toggleHeading({ level: 3 }).run(),
    isActive: (editor) => editor.isActive("heading", { level: 3 }),
  },
  {
    name: "To-do List",
    icon: CheckSquare,
    command: (editor) => editor.chain().focus().clearNodes().toggleTaskList().run(),
    isActive: (editor) => editor.isActive("taskItem"),
  },
  {
    name: "Bullet List",
    icon: ListOrdered,
    command: (editor) => editor.chain().focus().clearNodes().toggleBulletList().run(),
    isActive: (editor) => editor.isActive("bulletList"),
  },
  {
    name: "Numbered List",
    icon: ListOrdered,
    command: (editor) => editor.chain().focus().clearNodes().toggleOrderedList().run(),
    isActive: (editor) => editor.isActive("orderedList"),
  },
  {
    name: "Quote",
    icon: TextQuote,
    command: (editor) => editor.chain().focus().clearNodes().toggleBlockquote().run(),
    isActive: (editor) => editor.isActive("blockquote"),
  },
  {
    name: "Code",
    icon: Code,
    command: (editor) => editor.chain().focus().clearNodes().toggleCodeBlock().run(),
    isActive: (editor) => editor.isActive("codeBlock"),
  },
];
interface NodeSelectorProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
}

export const NodeSelector = ({ open, onOpenChange }: NodeSelectorProps) => {
  const { editor } = useEditor();
  if (!editor) return null;
  const activeItem = items.filter((item) => item.isActive(editor)).pop() ?? {
    name: "Multiple",
  };

  return (
    <Popover modal={true} open={open} onOpenChange={onOpenChange}>
      <PopoverTrigger asChild className="gap-2 rounded-none border-none hover:bg-accent focus:ring-0">
        <Button size="sm" variant="ghost" className="gap-2">
          <span className="whitespace-nowrap text-sm">{activeItem.name}</span>
          <ChevronDown className="h-4 w-4" />
        </Button>
      </PopoverTrigger>
      <PopoverContent sideOffset={5} align="start" className="w-48 p-1">
        {items.map((item) => (
          <EditorBubbleItem
            key={item.name}
            onSelect={(editor) => {
              item.command(editor);
              onOpenChange(false);
            }}
            className="flex cursor-pointer items-center justify-between rounded-sm px-2 py-1 text-sm hover:bg-accent"
          >
            <div className="flex items-center space-x-2">
              <div className="rounded-sm border p-1">
                <item.icon className="h-3 w-3" />
              </div>
              <span>{item.name}</span>
            </div>
            {activeItem.name === item.name && <Check className="h-4 w-4" />}
          </EditorBubbleItem>
        ))}
      </PopoverContent>
    </Popover>
  );
};

\`\`\`

# components/tailwind/selectors/text-buttons.tsx

\`\`\`tsx
import { Button } from "@/components/tailwind/ui/button";
import { cn } from "@/lib/utils";
import { BoldIcon, CodeIcon, ItalicIcon, StrikethroughIcon, UnderlineIcon } from "lucide-react";
import { EditorBubbleItem, useEditor } from "novel";
import type { SelectorItem } from "./node-selector";

export const TextButtons = () => {
  const { editor } = useEditor();
  if (!editor) return null;
  const items: SelectorItem[] = [
    {
      name: "bold",
      isActive: (editor) => editor.isActive("bold"),
      command: (editor) => editor.chain().focus().toggleBold().run(),
      icon: BoldIcon,
    },
    {
      name: "italic",
      isActive: (editor) => editor.isActive("italic"),
      command: (editor) => editor.chain().focus().toggleItalic().run(),
      icon: ItalicIcon,
    },
    {
      name: "underline",
      isActive: (editor) => editor.isActive("underline"),
      command: (editor) => editor.chain().focus().toggleUnderline().run(),
      icon: UnderlineIcon,
    },
    {
      name: "strike",
      isActive: (editor) => editor.isActive("strike"),
      command: (editor) => editor.chain().focus().toggleStrike().run(),
      icon: StrikethroughIcon,
    },
    {
      name: "code",
      isActive: (editor) => editor.isActive("code"),
      command: (editor) => editor.chain().focus().toggleCode().run(),
      icon: CodeIcon,
    },
  ];
  return (
    <div className="flex">
      {items.map((item) => (
        <EditorBubbleItem
          key={item.name}
          onSelect={(editor) => {
            item.command(editor);
          }}
        >
          <Button size="sm" className="rounded-none" variant="ghost" type="button">
            <item.icon
              className={cn("h-4 w-4", {
                "text-blue-500": item.isActive(editor),
              })}
            />
          </Button>
        </EditorBubbleItem>
      ))}
    </div>
  );
};

\`\`\`

# components/tailwind/slash-command.tsx

\`\`\`tsx
import {
  CheckSquare,
  Code,
  Heading1,
  Heading2,
  Heading3,
  ImageIcon,
  List,
  ListOrdered,
  MessageSquarePlus,
  Text,
  TextQuote,
  Twitter,
  Youtube,
} from "lucide-react";
import { Command, createSuggestionItems, renderItems } from "novel";
import { uploadFn } from "./image-upload";

export const suggestionItems = createSuggestionItems([
  {
    title: "Send Feedback",
    description: "Let us know how we can improve.",
    icon: <MessageSquarePlus size={18} />,
    command: ({ editor, range }) => {
      editor.chain().focus().deleteRange(range).run();
      window.open("/feedback", "_blank");
    },
  },
  {
    title: "Text",
    description: "Just start typing with plain text.",
    searchTerms: ["p", "paragraph"],
    icon: <Text size={18} />,
    command: ({ editor, range }) => {
      editor.chain().focus().deleteRange(range).toggleNode("paragraph", "paragraph").run();
    },
  },
  {
    title: "To-do List",
    description: "Track tasks with a to-do list.",
    searchTerms: ["todo", "task", "list", "check", "checkbox"],
    icon: <CheckSquare size={18} />,
    command: ({ editor, range }) => {
      editor.chain().focus().deleteRange(range).toggleTaskList().run();
    },
  },
  {
    title: "Heading 1",
    description: "Big section heading.",
    searchTerms: ["title", "big", "large"],
    icon: <Heading1 size={18} />,
    command: ({ editor, range }) => {
      editor.chain().focus().deleteRange(range).setNode("heading", { level: 1 }).run();
    },
  },
  {
    title: "Heading 2",
    description: "Medium section heading.",
    searchTerms: ["subtitle", "medium"],
    icon: <Heading2 size={18} />,
    command: ({ editor, range }) => {
      editor.chain().focus().deleteRange(range).setNode("heading", { level: 2 }).run();
    },
  },
  {
    title: "Heading 3",
    description: "Small section heading.",
    searchTerms: ["subtitle", "small"],
    icon: <Heading3 size={18} />,
    command: ({ editor, range }) => {
      editor.chain().focus().deleteRange(range).setNode("heading", { level: 3 }).run();
    },
  },
  {
    title: "Bullet List",
    description: "Create a simple bullet list.",
    searchTerms: ["unordered", "point"],
    icon: <List size={18} />,
    command: ({ editor, range }) => {
      editor.chain().focus().deleteRange(range).toggleBulletList().run();
    },
  },
  {
    title: "Numbered List",
    description: "Create a list with numbering.",
    searchTerms: ["ordered"],
    icon: <ListOrdered size={18} />,
    command: ({ editor, range }) => {
      editor.chain().focus().deleteRange(range).toggleOrderedList().run();
    },
  },
  {
    title: "Quote",
    description: "Capture a quote.",
    searchTerms: ["blockquote"],
    icon: <TextQuote size={18} />,
    command: ({ editor, range }) =>
      editor.chain().focus().deleteRange(range).toggleNode("paragraph", "paragraph").toggleBlockquote().run(),
  },
  {
    title: "Code",
    description: "Capture a code snippet.",
    searchTerms: ["codeblock"],
    icon: <Code size={18} />,
    command: ({ editor, range }) => editor.chain().focus().deleteRange(range).toggleCodeBlock().run(),
  },
  {
    title: "Image",
    description: "Upload an image from your computer.",
    searchTerms: ["photo", "picture", "media"],
    icon: <ImageIcon size={18} />,
    command: ({ editor, range }) => {
      editor.chain().focus().deleteRange(range).run();
      // upload image
      const input = document.createElement("input");
      input.type = "file";
      input.accept = "image/*";
      input.onchange = async () => {
        if (input.files?.length) {
          const file = input.files[0];
          const pos = editor.view.state.selection.from;
          uploadFn(file, editor.view, pos);
        }
      };
      input.click();
    },
  },
  {
    title: "Youtube",
    description: "Embed a Youtube video.",
    searchTerms: ["video", "youtube", "embed"],
    icon: <Youtube size={18} />,
    command: ({ editor, range }) => {
      const videoLink = prompt("Please enter Youtube Video Link");
      //From https://regexr.com/3dj5t
      const ytregex = new RegExp(
        /^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|v\/)?)([\w\-]+)(\S+)?$/,
      );

      if (ytregex.test(videoLink)) {
        editor
          .chain()
          .focus()
          .deleteRange(range)
          .setYoutubeVideo({
            src: videoLink,
          })
          .run();
      } else {
        if (videoLink !== null) {
          alert("Please enter a correct Youtube Video Link");
        }
      }
    },
  },
  {
    title: "Twitter",
    description: "Embed a Tweet.",
    searchTerms: ["twitter", "embed"],
    icon: <Twitter size={18} />,
    command: ({ editor, range }) => {
      const tweetLink = prompt("Please enter Twitter Link");
      const tweetRegex = new RegExp(/^https?:\/\/(www\.)?x\.com\/([a-zA-Z0-9_]{1,15})(\/status\/(\d+))?(\/\S*)?$/);

      if (tweetRegex.test(tweetLink)) {
        editor
          .chain()
          .focus()
          .deleteRange(range)
          .setTweet({
            src: tweetLink,
          })
          .run();
      } else {
        if (tweetLink !== null) {
          alert("Please enter a correct Twitter Link");
        }
      }
    },
  },
]);

export const slashCommand = Command.configure({
  suggestion: {
    items: () => suggestionItems,
    render: renderItems,
  },
});

\`\`\`

# components/tailwind/ui/button.tsx

\`\`\`tsx
import * as React from "react";
import { Slot } from "@radix-ui/react-slot";
import { cva, type VariantProps } from "class-variance-authority";

import { cn } from "@/lib/utils";

const buttonVariants = cva(
  "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive: "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline: "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
        secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  },
);

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean;
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button";
    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;
  },
);
Button.displayName = "Button";

export { Button, buttonVariants };

\`\`\`

# components/tailwind/ui/command.tsx

\`\`\`tsx
"use client";

import type { DialogProps } from "@radix-ui/react-dialog";
import { Command as CommandPrimitive } from "cmdk";
import * as React from "react";

import { Dialog, DialogContent } from "@/components/tailwind/ui/dialog";
import Magic from "@/components/tailwind/ui/icons/magic";
import { cn } from "@/lib/utils";

const Command = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive>
>(({ className, ...props }, ref) => (
  <CommandPrimitive
    ref={ref}
    className={cn(
      "flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",
      className,
    )}
    {...props}
  />
));
Command.displayName = CommandPrimitive.displayName;

interface CommandDialogProps extends DialogProps {}

const CommandDialog = ({ children, ...props }: CommandDialogProps) => {
  return (
    <Dialog {...props}>
      <DialogContent className="overflow-hidden p-0 shadow-lg">
        <Command className="[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
          {children}
        </Command>
      </DialogContent>
    </Dialog>
  );
};

const CommandInput = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Input>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>
>(({ className, ...props }, ref) => (
  <div className="flex items-center border-b px-4" cmdk-input-wrapper="">
    <Magic className="mr-2 h-4 w-4 shrink-0 text-purple-500 " />
    <CommandPrimitive.Input
      ref={ref}
      className={cn(
        "flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",
        className,
      )}
      {...props}
    />
  </div>
));

CommandInput.displayName = CommandPrimitive.Input.displayName;

const CommandList = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.List
    ref={ref}
    className={cn("max-h-[300px] overflow-y-auto overflow-x-hidden", className)}
    {...props}
  />
));

CommandList.displayName = CommandPrimitive.List.displayName;

const CommandEmpty = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Empty>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>
>((props, ref) => <CommandPrimitive.Empty ref={ref} className="py-6 text-center text-sm" {...props} />);

CommandEmpty.displayName = CommandPrimitive.Empty.displayName;

const CommandGroup = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Group>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Group
    ref={ref}
    className={cn(
      "overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",
      className,
    )}
    {...props}
  />
));

CommandGroup.displayName = CommandPrimitive.Group.displayName;

const CommandSeparator = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Separator ref={ref} className={cn("-mx-1 h-px bg-border", className)} {...props} />
));
CommandSeparator.displayName = CommandPrimitive.Separator.displayName;

const CommandItem = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled='true']:pointer-events-none data-[disabled='true']:opacity-50",
      className,
    )}
    {...props}
  />
));

CommandItem.displayName = CommandPrimitive.Item.displayName;

const CommandShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {
  return <span className={cn("ml-auto text-xs tracking-widest text-muted-foreground", className)} {...props} />;
};
CommandShortcut.displayName = "CommandShortcut";

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
};

\`\`\`

# components/tailwind/ui/dialog.tsx

\`\`\`tsx
"use client";

import * as React from "react";
import * as DialogPrimitive from "@radix-ui/react-dialog";
import { X } from "lucide-react";

import { cn } from "@/lib/utils";

const Dialog = DialogPrimitive.Root;

const DialogTrigger = DialogPrimitive.Trigger;

const DialogPortal = DialogPrimitive.Portal;

const DialogClose = DialogPrimitive.Close;

const DialogOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className,
    )}
    {...props}
  />
));
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName;

const DialogContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className,
      )}
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
));
DialogContent.displayName = DialogPrimitive.Content.displayName;

const DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (
  <div className={cn("flex flex-col space-y-1.5 text-center sm:text-left", className)} {...props} />
);
DialogHeader.displayName = "DialogHeader";

const DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (
  <div className={cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", className)} {...props} />
);
DialogFooter.displayName = "DialogFooter";

const DialogTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold leading-none tracking-tight", className)}
    {...props}
  />
));
DialogTitle.displayName = DialogPrimitive.Title.displayName;

const DialogDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description ref={ref} className={cn("text-sm text-muted-foreground", className)} {...props} />
));
DialogDescription.displayName = DialogPrimitive.Description.displayName;

export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogClose,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
};

\`\`\`

# components/tailwind/ui/icons/crazy-spinner.tsx

\`\`\`tsx
const CrazySpinner = () => {
  return (
    <div className="flex items-center justify-center gap-0.5">
      <div className="h-1.5 w-1.5 animate-bounce rounded-full bg-purple-500 [animation-delay:-0.3s]" />
      <div className="h-1.5 w-1.5 animate-bounce rounded-full bg-purple-500 [animation-delay:-0.15s]" />
      <div className="h-1.5 w-1.5 animate-bounce rounded-full bg-purple-500" />
    </div>
  );
};

export default CrazySpinner;

\`\`\`

# components/tailwind/ui/icons/font-default.tsx

\`\`\`tsx
export default function FontDefault({ className }: { className?: string }) {
  return (
    <svg width="27" height="17" viewBox="0 0 27 17" xmlns="http://www.w3.org/2000/svg" className={className}>
      <title>Font Default Icon</title>
      <path
        d="M2.67735 16.7224H0L6.01587 0H8.92994L14.9458 16.7224H12.2685L7.54229 3.03746H7.41169L2.67735 16.7224ZM3.12629 10.1739H11.8114V12.2968H3.12629V10.1739Z"
        fill="currentColor"
      />
      <path
        d="M20.8127 17C20.0182 17 19.2999 16.853 18.6578 16.5591C18.0156 16.2597 17.5068 15.8269 17.1314 15.2608C16.7613 14.6947 16.5763 14.0006 16.5763 13.1787C16.5763 12.471 16.7123 11.8886 16.9844 11.4313C17.2565 10.9741 17.6238 10.6121 18.0864 10.3453C18.5489 10.0786 19.0659 9.8772 19.6373 9.74111C20.2087 9.60503 20.7909 9.5016 21.3841 9.43084C22.1351 9.34374 22.7445 9.27298 23.2125 9.21854C23.6805 9.15866 24.0206 9.0634 24.2329 8.93276C24.4451 8.80211 24.5512 8.58982 24.5512 8.29587V8.23871C24.5512 7.52562 24.3499 6.9731 23.9472 6.58117C23.5499 6.18924 22.9568 5.99328 22.1677 5.99328C21.346 5.99328 20.6984 6.17563 20.225 6.54035C19.757 6.89962 19.4332 7.29971 19.2536 7.74063L16.9599 7.21806C17.232 6.45597 17.6293 5.84086 18.1517 5.37272C18.6795 4.89914 19.2863 4.5562 19.972 4.3439C20.6576 4.12616 21.3787 4.01729 22.1351 4.01729C22.6357 4.01729 23.1663 4.07717 23.7268 4.19693C24.2927 4.31124 24.8206 4.52354 25.3103 4.83381C25.8055 5.14409 26.2109 5.58774 26.5266 6.16475C26.8422 6.73631 27 7.47935 27 8.39385V16.7224H24.6165V15.0077H24.5186C24.3607 15.3234 24.124 15.6337 23.8084 15.9385C23.4928 16.2434 23.0874 16.4965 22.5922 16.6979C22.097 16.8993 21.5038 17 20.8127 17ZM21.3433 15.0403C22.0181 15.0403 22.5949 14.907 23.0738 14.6403C23.5581 14.3735 23.9254 14.0251 24.1757 13.5951C24.4315 13.1596 24.5594 12.6942 24.5594 12.1988V10.5821C24.4723 10.6692 24.3036 10.7509 24.0533 10.8271C23.8084 10.8979 23.5282 10.9605 23.2125 11.0149C22.8969 11.0639 22.5894 11.1102 22.2902 11.1537C21.9909 11.1918 21.7405 11.2245 21.5392 11.2517C21.0658 11.3116 20.6331 11.4123 20.2413 11.5538C19.855 11.6953 19.5448 11.8995 19.3108 12.1662C19.0822 12.4275 18.968 12.7759 18.968 13.2113C18.968 13.8156 19.1911 14.2728 19.6373 14.5831C20.0835 14.8879 20.6522 15.0403 21.3433 15.0403Z"
        fill="currentColor"
      />
    </svg>
  );
}

\`\`\`

# components/tailwind/ui/icons/font-mono.tsx

\`\`\`tsx
export default function FontMono({ className }: { className?: string }) {
  return (
    <svg
      width="28"
      height="19"
      viewBox="0 0 28 19"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
    >
      <title>Font Mono Icon</title>
      <path
        d="M10.4513 13.9906H3.35401L3.80321 11.8861H9.94225L10.4513 13.9906ZM7.06738 5.72075L2.90481 18.6739H0L6.4984 0H7.66631L14.1647 18.6739H11.1701L7.06738 5.72075Z"
        fill="currentColor"
      />
      <path
        d="M20.6032 19C19.066 19 17.8681 18.6542 17.0096 17.9626C16.1711 17.2512 15.7519 16.3323 15.7519 15.2059C15.7519 14.455 15.9216 13.7832 16.261 13.1903C16.6203 12.5777 17.1194 12.0541 17.7583 11.6193C18.4171 11.1846 19.2057 10.8487 20.1241 10.6115C21.0424 10.3547 22.0806 10.2262 23.2385 10.2262C23.4781 10.2262 23.7276 10.2361 23.9872 10.2559C24.2667 10.2559 24.5562 10.2657 24.8556 10.2855C25.175 10.3053 25.4945 10.325 25.8139 10.3448L25.9037 12.4493C25.6242 12.4098 25.3248 12.3801 25.0053 12.3604C24.7059 12.3406 24.4064 12.3307 24.107 12.3307C23.8075 12.3307 23.528 12.3307 23.2685 12.3307C22.4898 12.3307 21.8111 12.39 21.2321 12.5086C20.6731 12.6074 20.2039 12.7655 19.8246 12.9828C19.4652 13.2002 19.1957 13.467 19.016 13.7832C18.8364 14.0993 18.7465 14.4649 18.7465 14.8799C18.7465 15.2158 18.8064 15.5122 18.9262 15.7691C19.046 16.0062 19.2057 16.194 19.4053 16.3323C19.625 16.4706 19.8745 16.5793 20.154 16.6583C20.4535 16.7176 20.7729 16.7473 21.1123 16.7473C21.7711 16.7473 22.3501 16.6386 22.8492 16.4212C23.3483 16.2038 23.7676 15.8877 24.107 15.4727C24.4663 15.038 24.7358 14.5044 24.9155 13.8721C25.0952 13.22 25.185 12.4592 25.185 11.5897C25.185 10.3843 25.0453 9.44566 24.7658 8.77379C24.5062 8.10192 24.1169 7.63755 23.5979 7.38066C23.0788 7.12376 22.4299 6.99532 21.6513 6.99532C21.0125 6.99532 20.3936 7.104 19.7947 7.32137C19.2157 7.51898 18.6467 7.89444 18.0877 8.44774L16.5005 6.66927C17.2592 5.95788 18.0877 5.4441 18.9861 5.12793C19.9045 4.81175 20.8428 4.65367 21.8011 4.65367C22.6795 4.65367 23.4881 4.76235 24.2267 4.97972C24.9854 5.17733 25.6442 5.51326 26.2032 5.98752C26.7822 6.46178 27.2214 7.104 27.5209 7.9142C27.8403 8.72439 28 9.75195 28 10.9969V18.6739H24.8856V16.9844C24.626 17.3796 24.3365 17.7155 24.0171 17.9922C23.6977 18.2491 23.3483 18.4566 22.969 18.6147C22.6096 18.753 22.2303 18.8518 21.831 18.9111C21.4317 18.9704 21.0225 19 20.6032 19Z"
        fill="currentColor"
      />
    </svg>
  );
}

\`\`\`

# components/tailwind/ui/icons/font-serif.tsx

\`\`\`tsx
export default function FontSerif({ className }: { className?: string }) {
  return (
    <svg
      width="31"
      height="18"
      viewBox="0 0 31 18"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
    >
      <title>Font Serif Icon</title>

      <path
        d="M0.108486 17.8929C0.0361621 17.8214 0 17.6875 0 17.4911C0 17.1696 0.0180811 17.0089 0.0542432 17.0089C0.198892 17.0089 0.406824 16.9732 0.67804 16.9018C0.967337 16.8304 1.23855 16.7411 1.49169 16.6339C1.7629 16.5089 1.93467 16.3839 2.007 16.2589C2.18781 15.9911 2.35958 15.6875 2.52231 15.3482C2.68504 14.9911 2.85681 14.5982 3.03762 14.1696L8.08224 2.11607C8.51619 1.02679 8.85069 0.383929 9.08574 0.1875C9.21231 0.0625 9.366 0 9.54681 0C9.67337 0 9.78186 0.0446429 9.87227 0.133929L15.5678 14.1696C15.7125 14.5089 15.8481 14.8482 15.9746 15.1875C16.1193 15.5089 16.2549 15.8214 16.3815 16.125C16.4538 16.3036 16.6165 16.4643 16.8696 16.6071C17.1228 16.7321 17.385 16.8304 17.6562 16.9018C17.9274 16.9732 18.1353 17.0089 18.28 17.0089C18.3523 17.0089 18.3885 17.1696 18.3885 17.4911C18.3885 17.6875 18.3704 17.8214 18.3342 17.8929L14.9169 17.7321L11.3911 17.8929C11.3188 17.8214 11.2826 17.6518 11.2826 17.3839C11.2826 17.1339 11.3188 17.0089 11.3911 17.0089C11.608 17.0089 11.9064 16.9554 12.2861 16.8482C12.6658 16.7411 12.8918 16.6161 12.9641 16.4732C13.0184 16.3661 13.0455 16.25 13.0455 16.125C13.0455 15.9464 13.0003 15.7054 12.9099 15.4018C12.8195 15.0982 12.6929 14.7232 12.5302 14.2768L11.5809 11.7857C11.5086 11.7143 11.4453 11.6786 11.3911 11.6786C11.1018 11.6607 10.7582 11.6518 10.3605 11.6518C9.98075 11.6339 9.54681 11.625 9.05862 11.625C8.08224 11.625 7.05162 11.6518 5.96675 11.7054C5.85827 11.7054 5.80402 11.7411 5.80402 11.8125L4.7734 14.3036C4.59259 14.75 4.45698 15.125 4.36658 15.4286C4.29425 15.7143 4.25809 15.9196 4.25809 16.0446C4.25809 16.2589 4.35754 16.4375 4.55643 16.5804C4.66492 16.6518 4.82765 16.7232 5.04462 16.7946C5.27967 16.8482 5.51473 16.9018 5.74978 16.9554C5.98484 16.9911 6.14756 17.0089 6.23797 17.0089C6.29221 17.0268 6.31933 17.1518 6.31933 17.3839C6.31933 17.5089 6.31029 17.6161 6.29221 17.7054C6.29221 17.7768 6.28317 17.8393 6.26509 17.8929C5.59609 17.8571 5.04462 17.8214 4.61067 17.7857C4.19481 17.75 3.80607 17.7321 3.44444 17.7321C3.08282 17.7321 2.64888 17.7411 2.14261 17.7589C1.63634 17.7768 0.958297 17.8214 0.108486 17.8929ZM8.57043 10.1786C9.22135 10.1786 9.96267 10.1518 10.7944 10.0982L10.8486 9.99107L8.7874 4.63393L6.56343 9.99107C6.56343 10.0625 6.58151 10.0982 6.61767 10.0982C7.25051 10.1518 7.90143 10.1786 8.57043 10.1786Z"
        fill="currentColor"
      />
      <path
        d="M23.0534 18C22.1493 18 21.408 17.7589 20.8294 17.2768C20.2689 16.7768 19.9886 16.0982 19.9886 15.2411C19.9886 14.6518 20.1785 14.1161 20.5582 13.6339C20.956 13.1518 21.5074 12.7411 22.2126 12.4018C22.4657 12.2768 22.6917 12.1786 22.8906 12.1071C23.1076 12.0179 23.3065 11.9375 23.4873 11.8661C24.1202 11.6696 24.6445 11.5089 25.0604 11.3839C25.4943 11.2589 25.8017 11.1696 25.9825 11.1161C26.1452 11.0268 26.2266 10.8839 26.2266 10.6875V9.21429C26.2266 8.58929 26.0819 8.09821 25.7927 7.74107C25.5034 7.38393 25.1146 7.20536 24.6264 7.20536C24.084 7.20536 23.6591 7.375 23.3517 7.71429C23.0443 8.03571 22.8906 8.5 22.8906 9.10714C22.8906 9.46429 22.755 9.73214 22.4838 9.91071C22.2126 10.0714 21.9052 10.1518 21.5617 10.1518C20.8927 10.1518 20.4226 9.9375 20.1514 9.50893C20.1514 9.08036 20.3141 8.66071 20.6395 8.25C20.965 7.82143 21.3899 7.4375 21.9143 7.09821C22.4567 6.75893 23.0534 6.49107 23.7043 6.29464C24.3552 6.08036 25.0061 5.97321 25.657 5.97321C26.7781 5.97321 27.6188 6.26786 28.1794 6.85714C28.7399 7.42857 29.0201 8.41964 29.0201 9.83036V15.1071C29.0201 15.8393 29.3185 16.2054 29.9151 16.2054C30.1864 16.2054 30.4937 16.0893 30.8373 15.8571C30.9458 15.875 31 15.9732 31 16.1518C31 16.4911 30.9458 16.7589 30.8373 16.9554C30.5661 17.1696 30.2044 17.3929 29.7524 17.625C29.3004 17.8571 28.8664 17.9732 28.4506 17.9732C28.0347 17.9732 27.6279 17.8214 27.2301 17.5179C26.8323 17.2143 26.5701 16.8839 26.4436 16.5268C26.2989 16.6518 26.1904 16.7411 26.1181 16.7946C26.0458 16.8482 25.9283 16.9375 25.7655 17.0625C25.3858 17.3125 24.97 17.5357 24.5179 17.7321C24.0659 17.9107 23.5777 18 23.0534 18ZM24.4366 16.2589C24.9248 16.2589 25.3406 16.1339 25.6842 15.8839C26.0458 15.6339 26.2266 15.3482 26.2266 15.0268V12.2946L24.4908 12.8839C24.0749 13.0625 23.7043 13.2768 23.3788 13.5268C23.0534 13.7768 22.8906 14.1339 22.8906 14.5982C22.8906 15.1696 23.0353 15.5893 23.3246 15.8571C23.6139 16.125 23.9845 16.2589 24.4366 16.2589Z"
        fill="currentColor"
      />
    </svg>
  );
}

\`\`\`

# components/tailwind/ui/icons/index.tsx

\`\`\`tsx
export { default as FontDefault } from "./font-default";
export { default as FontSerif } from "./font-serif";
export { default as FontMono } from "./font-mono";

\`\`\`

# components/tailwind/ui/icons/loading-circle.tsx

\`\`\`tsx
export default function LoadingCircle({ dimensions }: { dimensions?: string }) {
  return (
    <svg
      aria-hidden="true"
      className={`${dimensions || "h-4 w-4"} animate-spin fill-stone-600 text-stone-200`}
      viewBox="0 0 100 101"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
        fill="currentColor"
      />
      <path
        d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
        fill="currentFill"
      />
    </svg>
  );
}

\`\`\`

# components/tailwind/ui/icons/magic.tsx

\`\`\`tsx
export default function Magic({ className }: { className: string }) {
  return (
    <svg
      width="469"
      height="469"
      viewBox="0 0 469 469"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      shapeRendering="geometricPrecision"
      stroke="currentColor"
      strokeLinecap="round"
      strokeLinejoin="round"
      strokeWidth="1.5"
      className={className}
    >
      <title>Magic AI icon</title>

      <path
        d="M237.092 62.3004L266.754 71.4198C267.156 71.5285 267.51 71.765 267.765 72.0934C268.02 72.4218 268.161 72.8243 268.166 73.2399C268.172 73.6555 268.042 74.0616 267.796 74.3967C267.55 74.7318 267.201 74.9777 266.803 75.097L237.141 84.3145C236.84 84.4058 236.566 84.5699 236.344 84.7922C236.121 85.0146 235.957 85.2883 235.866 85.5893L226.747 115.252C226.638 115.653 226.401 116.008 226.073 116.263C225.745 116.517 225.342 116.658 224.926 116.664C224.511 116.669 224.105 116.539 223.77 116.293C223.435 116.047 223.189 115.699 223.069 115.301L213.852 85.6383C213.761 85.3374 213.597 85.0636 213.374 84.8412C213.152 84.6189 212.878 84.4548 212.577 84.3635L182.914 75.2441C182.513 75.1354 182.158 74.8989 181.904 74.5705C181.649 74.2421 181.508 73.8396 181.503 73.424C181.497 73.0084 181.627 72.6023 181.873 72.2672C182.119 71.9321 182.467 71.6863 182.865 71.5669L212.528 62.3494C212.829 62.2582 213.103 62.0941 213.325 61.8717C213.547 61.6494 213.712 61.3756 213.803 61.0747L222.922 31.4121C223.031 31.0109 223.267 30.656 223.596 30.4013C223.924 30.1465 224.327 30.0057 224.742 30.0002C225.158 29.9946 225.564 30.1247 225.899 30.3706C226.234 30.6165 226.48 30.9649 226.599 31.363L235.817 61.0257C235.908 61.3266 236.072 61.6003 236.295 61.8227C236.517 62.0451 236.791 62.2091 237.092 62.3004Z"
        fill="currentColor"
      />
      <path
        d="M155.948 155.848L202.771 168.939C203.449 169.131 204.045 169.539 204.47 170.101C204.895 170.663 205.125 171.348 205.125 172.052C205.125 172.757 204.895 173.442 204.47 174.004C204.045 174.566 203.449 174.974 202.771 175.166L155.899 188.06C155.361 188.209 154.87 188.496 154.475 188.891C154.079 189.286 153.793 189.777 153.644 190.316L140.553 237.138C140.361 237.816 139.953 238.413 139.391 238.838C138.829 239.262 138.144 239.492 137.44 239.492C136.735 239.492 136.05 239.262 135.488 238.838C134.927 238.413 134.519 237.816 134.327 237.138L121.432 190.267C121.283 189.728 120.997 189.237 120.601 188.842C120.206 188.446 119.715 188.16 119.177 188.011L72.3537 174.92C71.676 174.728 71.0795 174.32 70.6547 173.759C70.2299 173.197 70 172.512 70 171.807C70 171.103 70.2299 170.418 70.6547 169.856C71.0795 169.294 71.676 168.886 72.3537 168.694L119.226 155.799C119.764 155.65 120.255 155.364 120.65 154.969C121.046 154.573 121.332 154.082 121.481 153.544L134.572 106.721C134.764 106.043 135.172 105.447 135.734 105.022C136.295 104.597 136.981 104.367 137.685 104.367C138.389 104.367 139.075 104.597 139.637 105.022C140.198 105.447 140.606 106.043 140.798 106.721L153.693 153.593C153.842 154.131 154.128 154.622 154.524 155.018C154.919 155.413 155.41 155.699 155.948 155.848Z"
        fill="currentColor"
      />
      <path
        d="M386.827 289.992C404.33 292.149 403.84 305.828 386.876 307.299C346.623 310.829 298.869 316.271 282.199 360.005C274.844 379.192 269.942 403.2 267.49 432.029C267.427 432.846 267.211 433.626 266.856 434.319C266.501 435.012 266.015 435.602 265.431 436.05C254.988 444.041 251.212 434.186 250.183 425.606C239.2 332.353 214.588 316.909 124.668 306.122C123.892 306.031 123.151 305.767 122.504 305.35C121.857 304.933 121.322 304.375 120.942 303.72C116.399 295.679 119.324 291.038 129.718 289.796C224.688 278.47 236.062 262.83 250.183 169.331C252.177 156.355 257.259 154.083 265.431 162.516C266.51 163.593 267.202 165.099 267.392 166.782C279.257 258.564 293.328 278.617 386.827 289.992Z"
        fill="currentColor"
      />
    </svg>
  );
}

\`\`\`

# components/tailwind/ui/menu.tsx

\`\`\`tsx
"use client";

import { Check, Menu as MenuIcon, Monitor, Moon, SunDim } from "lucide-react";
import { useTheme } from "next-themes";
import { Button } from "./button";
import { Popover, PopoverContent, PopoverTrigger } from "./popover";

// TODO implement multiple fonts editor
// const fonts = [
//   {
//     font: "Default",
//     icon: <FontDefault className="h-4 w-4" />,
//   },
//   {
//     font: "Serif",
//     icon: <FontSerif className="h-4 w-4" />,
//   },
//   {
//     font: "Mono",
//     icon: <FontMono className="h-4 w-4" />,
//   },
// ];
const appearances = [
  {
    theme: "System",
    icon: <Monitor className="h-4 w-4" />,
  },
  {
    theme: "Light",
    icon: <SunDim className="h-4 w-4" />,
  },
  {
    theme: "Dark",
    icon: <Moon className="h-4 w-4" />,
  },
];
export default function Menu() {
  // const { font: currentFont, setFont } = useContext(AppContext);
  const { theme: currentTheme, setTheme } = useTheme();

  return (
    <Popover>
      <PopoverTrigger asChild>
        <Button variant="ghost" size="icon">
          <MenuIcon width={16} />
        </Button>
      </PopoverTrigger>
      <PopoverContent className="w-52 p-2" align="end">
        {/* <div className="p-2">
          <p className="p-2 text-xs font-medium text-stone-500">Font</p>
          {fonts.map(({ font, icon }) => (
            <button
              key={font}
              className="flex w-full items-center justify-between rounded px-2 py-1 text-sm text-stone-600 hover:bg-stone-100"
              onClick={() => {
                setFont(font);
              }}
            >
              <div className="flex items-center space-x-2">
                <div className="rounded-sm border border-stone-200 p-1">
                  {icon}
                </div>
                <span>{font}</span>
              </div>
              {currentFont === font && <Check className="h-4 w-4" />}
            </button>
          ))}
        </div> */}
        <p className="p-2 text-xs font-medium text-muted-foreground">Appearance</p>
        {appearances.map(({ theme, icon }) => (
          <Button
            variant="ghost"
            key={theme}
            className="flex w-full items-center justify-between rounded px-2 py-1.5 text-sm"
            onClick={() => {
              setTheme(theme.toLowerCase());
            }}
          >
            <div className="flex items-center space-x-2">
              <div className="rounded-sm border  p-1">{icon}</div>
              <span>{theme}</span>
            </div>
            {currentTheme === theme.toLowerCase() && <Check className="h-4 w-4" />}
          </Button>
        ))}
      </PopoverContent>
    </Popover>
  );
}

\`\`\`

# components/tailwind/ui/popover.tsx

\`\`\`tsx
"use client";

import * as React from "react";
import * as PopoverPrimitive from "@radix-ui/react-popover";

import { cn } from "@/lib/utils";

const Popover = PopoverPrimitive.Root;

const PopoverTrigger = PopoverPrimitive.Trigger;

const PopoverContent = React.forwardRef<
  React.ElementRef<typeof PopoverPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>
>(({ className, align = "center", sideOffset = 4, ...props }, ref) => (
  <PopoverPrimitive.Portal>
    <PopoverPrimitive.Content
      ref={ref}
      align={align}
      sideOffset={sideOffset}
      className={cn(
        "z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className,
      )}
      {...props}
    />
  </PopoverPrimitive.Portal>
));
PopoverContent.displayName = PopoverPrimitive.Content.displayName;

export { Popover, PopoverTrigger, PopoverContent };

\`\`\`

# components/tailwind/ui/scroll-area.tsx

\`\`\`tsx
"use client";

import * as React from "react";
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area";

import { cn } from "@/lib/utils";

const ScrollArea = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <ScrollAreaPrimitive.Root ref={ref} className={cn("relative overflow-hidden", className)} {...props}>
    <ScrollAreaPrimitive.Viewport className="h-full w-full rounded-[inherit]">{children}</ScrollAreaPrimitive.Viewport>
    <ScrollBar />
    <ScrollAreaPrimitive.Corner />
  </ScrollAreaPrimitive.Root>
));
ScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;

const ScrollBar = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>
>(({ className, orientation = "vertical", ...props }, ref) => (
  <ScrollAreaPrimitive.ScrollAreaScrollbar
    ref={ref}
    orientation={orientation}
    className={cn(
      "flex touch-none select-none transition-colors",
      orientation === "vertical" && "h-full w-2.5 border-l border-l-transparent p-[1px]",
      orientation === "horizontal" && "h-2.5 flex-col border-t border-t-transparent p-[1px]",
      className,
    )}
    {...props}
  >
    <ScrollAreaPrimitive.ScrollAreaThumb className="relative flex-1 rounded-full bg-border" />
  </ScrollAreaPrimitive.ScrollAreaScrollbar>
));
ScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;

export { ScrollArea, ScrollBar };

\`\`\`

# components/tailwind/ui/separator.tsx

\`\`\`tsx
"use client";

import * as React from "react";
import * as SeparatorPrimitive from "@radix-ui/react-separator";

import { cn } from "@/lib/utils";

const Separator = React.forwardRef<
  React.ElementRef<typeof SeparatorPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
>(({ className, orientation = "horizontal", decorative = true, ...props }, ref) => (
  <SeparatorPrimitive.Root
    ref={ref}
    decorative={decorative}
    orientation={orientation}
    className={cn("shrink-0 bg-border", orientation === "horizontal" ? "h-[1px] w-full" : " w-[1px]", className)}
    {...props}
  />
));
Separator.displayName = SeparatorPrimitive.Root.displayName;

export { Separator };

\`\`\`

# hooks/use-local-storage.ts

\`\`\`ts
import { useEffect, useState } from "react";

const useLocalStorage = <T>(
  key: string,
  initialValue: T,
  // eslint-disable-next-line no-unused-vars
): [T, (value: T) => void] => {
  const [storedValue, setStoredValue] = useState(initialValue);

  useEffect(() => {
    // Retrieve from localStorage
    const item = window.localStorage.getItem(key);
    if (item) {
      setStoredValue(JSON.parse(item));
    }
  }, [key]);

  const setValue = (value: T) => {
    // Save state
    setStoredValue(value);
    // Save to localStorage
    window.localStorage.setItem(key, JSON.stringify(value));
  };
  return [storedValue, setValue];
};

export default useLocalStorage;

\`\`\`

# lib/content.ts

\`\`\`ts
export const defaultEditorContent = {
  type: "doc",
  content: [
    {
      type: "heading",
      attrs: { level: 2 },
      content: [{ type: "text", text: "Introducing Novel" }],
    },
    {
      type: "paragraph",
      content: [
        {
          type: "text",
          marks: [
            {
              type: "link",
              attrs: {
                href: "https://github.com/steven-tey/novel",
                target: "_blank",
              },
            },
          ],
          text: "Novel",
        },
        {
          type: "text",
          text: " is a Notion-style WYSIWYG editor with AI-powered autocompletion. Built with ",
        },
        {
          type: "text",
          marks: [
            {
              type: "link",
              attrs: {
                href: "https://tiptap.dev/",
                target: "_blank",
              },
            },
          ],
          text: "Tiptap",
        },
        { type: "text", text: " + " },
        {
          type: "text",
          marks: [
            {
              type: "link",
              attrs: {
                href: "https://sdk.vercel.ai/docs",
                target: "_blank",
              },
            },
          ],
          text: "Vercel AI SDK",
        },
        { type: "text", text: "." },
      ],
    },
    {
      type: "heading",
      attrs: { level: 3 },
      content: [{ type: "text", text: "Installation" }],
    },
    {
      type: "codeBlock",
      attrs: { language: null },
      content: [{ type: "text", text: "npm i novel" }],
    },
    {
      type: "heading",
      attrs: { level: 3 },
      content: [{ type: "text", text: "Usage" }],
    },
    {
      type: "codeBlock",
      attrs: { language: null },
      content: [
        {
          type: "text",
          text: 'import { Editor } from "novel";\n\nexport default function App() {\n  return (\n     <Editor />\n  )\n}',
        },
      ],
    },
    {
      type: "heading",
      attrs: { level: 3 },
      content: [{ type: "text", text: "Features" }],
    },
    {
      type: "orderedList",
      attrs: { tight: true, start: 1 },
      content: [
        {
          type: "listItem",
          content: [
            {
              type: "paragraph",
              content: [{ type: "text", text: "Slash menu & bubble menu" }],
            },
          ],
        },
        {
          type: "listItem",
          content: [
            {
              type: "paragraph",
              content: [
                { type: "text", text: "AI autocomplete (type " },
                { type: "text", marks: [{ type: "code" }], text: "++" },
                {
                  type: "text",
                  text: " to activate, or select from slash menu)",
                },
              ],
            },
          ],
        },
        {
          type: "listItem",
          content: [
            {
              type: "paragraph",
              content: [
                {
                  type: "text",
                  text: "Image uploads (drag & drop / copy & paste, or select from slash menu) ",
                },
              ],
            },
          ],
        },
        {
          type: "listItem",
          content: [
            {
              type: "paragraph",
              content: [
                {
                  type: "text",
                  text: "Add tweets from the command slash menu:",
                },
              ],
            },
            {
              type: "twitter",
              attrs: {
                src: "https://x.com/elonmusk/status/1800759252224729577",
              },
            },
          ],
        },
        {
          type: "listItem",
          content: [
            {
              type: "paragraph",
              content: [
                {
                  type: "text",
                  text: "Mathematical symbols with LaTeX expression:",
                },
              ],
            },
            {
              type: "orderedList",
              attrs: {
                tight: true,
                start: 1,
              },
              content: [
                {
                  type: "listItem",
                  content: [
                    {
                      type: "paragraph",
                      content: [
                        {
                          type: "math",
                          attrs: {
                            latex: "E = mc^2",
                          },
                        },
                      ],
                    },
                  ],
                },
                {
                  type: "listItem",
                  content: [
                    {
                      type: "paragraph",
                      content: [
                        {
                          type: "math",
                          attrs: {
                            latex: "a^2 = \\sqrt{b^2 + c^2}",
                          },
                        },
                      ],
                    },
                  ],
                },
                {
                  type: "listItem",
                  content: [
                    {
                      type: "paragraph",
                      content: [
                        {
                          type: "math",
                          attrs: {
                            latex:
                              "\\hat{f} (\\xi)=\\int_{-\\infty}^{\\infty}f(x)e^{-2\\pi ix\\xi}dx",
                          },
                        },
                      ],
                    },
                  ],
                },
                {
                  type: "listItem",
                  content: [
                    {
                      type: "paragraph",
                      content: [
                        {
                          type: "math",
                          attrs: {
                            latex:
                              "A=\\begin{bmatrix}a&b\\\\c&d \\end{bmatrix}",
                          },
                        },
                      ],
                    },
                  ],
                },
                {
                  type: "listItem",
                  content: [
                    {
                      type: "paragraph",
                      content: [
                        {
                          type: "math",
                          attrs: {
                            latex: "\\sum_{i=0}^n x_i",
                          },
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        },
      ],
    },
    {
      type: "image",
      attrs: {
        src: "https://public.blob.vercel-storage.com/pJrjXbdONOnAeZAZ/banner-2wQk82qTwyVgvlhTW21GIkWgqPGD2C.png",
        alt: "banner.png",
        title: "banner.png",
        width: null,
        height: null,
      },
    },
    { type: "horizontalRule" },
    {
      type: "heading",
      attrs: { level: 3 },
      content: [{ type: "text", text: "Learn more" }],
    },
    {
      type: "taskList",
      content: [
        {
          type: "taskItem",
          attrs: { checked: false },
          content: [
            {
              type: "paragraph",
              content: [
                { type: "text", text: "Star us on " },
                {
                  type: "text",
                  marks: [
                    {
                      type: "link",
                      attrs: {
                        href: "https://github.com/steven-tey/novel",
                        target: "_blank",
                      },
                    },
                  ],
                  text: "GitHub",
                },
              ],
            },
          ],
        },
        {
          type: "taskItem",
          attrs: { checked: false },
          content: [
            {
              type: "paragraph",
              content: [
                { type: "text", text: "Install the " },
                {
                  type: "text",
                  marks: [
                    {
                      type: "link",
                      attrs: {
                        href: "https://www.npmjs.com/package/novel",
                        target: "_blank",
                      },
                    },
                  ],
                  text: "NPM package",
                },
              ],
            },
          ],
        },
        {
          type: "taskItem",
          attrs: { checked: false },
          content: [
            {
              type: "paragraph",
              content: [
                {
                  type: "text",
                  marks: [
                    {
                      type: "link",
                      attrs: {
                        href: "https://vercel.com/templates/next.js/novel",
                        target: "_blank",
                      },
                    },
                  ],
                  text: "Deploy your own",
                },
                { type: "text", text: " to Vercel" },
              ],
            },
          ],
        },
      ],
    },
  ],
};

\`\`\`

# lib/indexeddb.ts

\`\`\`ts
import type { JSONContent } from "novel";

export interface Document {
  id: string;
  title: string;
  content: JSONContent;
  lastModified: number;
}

const DB_NAME = 'NovelDB';
const DB_VERSION = 2;
const STORE_NAME = 'documents';

export const initDB = (): Promise<void> => {
  return new Promise((resolve, reject) => {
    const request = indexedDB.open(DB_NAME, DB_VERSION);

    request.onerror = (event) => {
      const error = (event.target as IDBOpenDBRequest).error;
      if (error?.name === 'VersionError') {
        // If version error occurs, delete the database and try again
        indexedDB.deleteDatabase(DB_NAME).onsuccess = () => {
          initDB().then(resolve).catch(reject);
        };
      } else {
        reject(error);
      }
    };
    
    request.onsuccess = () => resolve();

    request.onupgradeneeded = (event) => {
      const db = (event.target as IDBOpenDBRequest).result;
      if (!db.objectStoreNames.contains(STORE_NAME)) {
        const store = db.createObjectStore(STORE_NAME, { keyPath: 'id' });
        store.createIndex('lastModified', 'lastModified', { unique: false });
      }
    };
  });
};

export const saveDocument = async (document: Document): Promise<void> => {
  return new Promise((resolve, reject) => {
    const request = indexedDB.open(DB_NAME);

    request.onerror = () => reject(request.error);
    request.onsuccess = () => {
      const db = request.result;
    const tx = db.transaction(STORE_NAME, 'readwrite');
    const store = tx.objectStore(STORE_NAME);

    store.put(document);

    tx.oncomplete = () => resolve();
    tx.onerror = () => reject(tx.error);
    };
  });
};

export const getDocument = async (id: string): Promise<Document | null> => {
  return new Promise((resolve, reject) => {
    const request = indexedDB.open(DB_NAME);

    request.onerror = () => reject(request.error);
    request.onsuccess = () => {
      const db = request.result;
    const tx = db.transaction(STORE_NAME, 'readonly');
    const store = tx.objectStore(STORE_NAME);
    const getRequest = store.get(id);

    getRequest.onsuccess = () => resolve(getRequest.result || null);
    getRequest.onerror = () => reject(getRequest.error);
    };
  });
};

export const getAllDocuments = async (): Promise<Document[]> => {
  return new Promise((resolve, reject) => {
    const request = indexedDB.open(DB_NAME);

    request.onerror = () => reject(request.error);
    request.onsuccess = () => {
      const db = request.result;
    const tx = db.transaction(STORE_NAME, 'readonly');
    const store = tx.objectStore(STORE_NAME);
    const index = store.index('lastModified');
    const getRequest = index.getAll();

    getRequest.onsuccess = () => {
      const documents = getRequest.result || [];
      resolve(documents.sort((a, b) => b.lastModified - a.lastModified));
    };
    getRequest.onerror = () => reject(getRequest.error);
    };
  });
};

export const deleteDocument = async (id: string): Promise<void> => {
  return new Promise((resolve, reject) => {
    const request = indexedDB.open(DB_NAME);

    request.onerror = () => reject(request.error);
    request.onsuccess = () => {
      const db = request.result;
    const tx = db.transaction(STORE_NAME, 'readwrite');
    const store = tx.objectStore(STORE_NAME);
    const deleteRequest = store.delete(id);

    deleteRequest.onsuccess = () => resolve();
    deleteRequest.onerror = () => reject(deleteRequest.error);
};
  });
}; 

\`\`\`

# lib/utils.ts

\`\`\`ts
import { type ClassValue, clsx } from "clsx";
import { twMerge } from "tailwind-merge";

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}

\`\`\`

# next-env.d.ts

\`\`\`ts
/// <reference types="next" />
/// <reference types="next/image-types/global" />

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.

\`\`\`

# next.config.js

\`\`\`js
/** @type {import('next').NextConfig} */
const nextConfig = {
  redirects: async () => {
    return [
      {
        source: "/github",
        destination: "https://github.com/steven-tey/novel",
        permanent: true,
      },
      {
        source: "/sdk",
        destination: "https://www.npmjs.com/package/novel",
        permanent: true,
      },
      {
        source: "/npm",
        destination: "https://www.npmjs.com/package/novel",
        permanent: true,
      },
      {
        source: "/svelte",
        destination: "https://github.com/tglide/novel-svelte",
        permanent: false,
      },
      {
        source: "/vue",
        destination: "https://github.com/naveennaidu/novel-vue",
        permanent: false,
      },
      {
        source: "/vscode",
        destination:
          "https://marketplace.visualstudio.com/items?itemName=bennykok.novel-vscode",
        permanent: false,
      },
      {
        source: "/feedback",
        destination: "https://github.com/steven-tey/novel/issues",
        permanent: true,
      },
      {
        source: "/deploy",
        destination: "https://vercel.com/templates/next.js/novel",
        permanent: true,
      },
    ];
  },
  productionBrowserSourceMaps: true,
};

module.exports = nextConfig;

\`\`\`

# package.json

\`\`\`json
{
  "name": "novel-next-app",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "biome lint .",
    "format": "biome format . ",
    "typecheck": "tsc --noEmit"
  },
  "dependencies": {
    "@ai-sdk/openai": "latest",
    "@ai-sdk/provider": "latest",
    "ai": "latest",
    "@assistant-ui/react": "^0.7.87",
    "@assistant-ui/react-ui": "^0.1.7",
    "@radix-ui/react-dialog": "^1.0.5",
    "@radix-ui/react-popover": "^1.0.7",
    "@radix-ui/react-scroll-area": "^1.0.5",
    "@radix-ui/react-select": "^2.0.0",
    "@radix-ui/react-separator": "^1.0.3",
    "@radix-ui/react-slot": "^1.0.2",
    "@tailwindcss/typography": "^0.5.10",
    "@tiptap/core": "^2.11.5",
    "@tiptap/pm": "^2.11.2",
    "@tiptap/react": "^2.11.5",
    "@tiptap/starter-kit": "^2.11.5",
    "@types/diff": "^7.0.1",
    "@types/dompurify": "^3.2.0",
    "@upstash/ratelimit": "^1.0.1",
    "@vercel/analytics": "^1.2.2",
    "@vercel/blob": "^0.22.1",
    "@vercel/kv": "^1.0.1",
    "autoprefixer": "^10.4.17",
    "class-variance-authority": "^0.7.0",
    "clsx": "^2.1.0",
    "cmdk": "^1.0.4",
    "diff": "^7.0.0",
    "dompurify": "^3.2.4",
    "eventsource-parser": "^1.1.2",
    "highlight.js": "^11.9.0",
    "lowlight": "^3.1.0",
    "lucide-react": "^0.358.0",
    "next": "15.1.4",
    "next-themes": "^0.2.1",
    "novel": "^1.0.2",
    "openai": "^4.28.4",
    "react": "18.2.0",
    "react-dom": "18.2.0",
    "react-markdown": "^9.0.3",
    "remark-gfm": "^4.0.1",
    "remark-parse": "^11.0.0",
    "sonner": "^1.4.3",
    "tailwind-merge": "^2.2.1",
    "tailwindcss-animate": "^1.0.7",
    "tippy.js": "^6.3.7",
    "ts-pattern": "^5.0.8",
    "typescript": "^5.4.2",
    "unified": "^11.0.5",
    "unist-util-visit": "^5.0.0",
    "use-debounce": "^10.0.0",
    "zod": "^3.24.2"
  },
  "devDependencies": {
    "@biomejs/biome": "^1.7.2",
    "@types/node": "20.11.24",
    "@types/react": "^18.2.61",
    "@types/react-dom": "18.2.19",
    "tailwindcss": "^3.4.1"
  }
}
\`\`\`

# postcss.config.js

\`\`\`js
module.exports = {
  plugins: {
    "postcss-import": {},
    "tailwindcss/nesting": {},
    tailwindcss: {},
    autoprefixer: {},
  },
};

\`\`\`

# styles/CalSans-SemiBold.otf

This is a binary file of the type: Binary

# styles/fonts.ts

\`\`\`ts
import localFont from "next/font/local";
import { Crimson_Text, Inconsolata, Inter } from "next/font/google";

export const cal = localFont({
  src: "./CalSans-SemiBold.otf",
  variable: "--font-title",
});

export const crimsonBold = Crimson_Text({
  weight: "700",
  variable: "--font-title",
  subsets: ["latin"],
});

export const inter = Inter({
  variable: "--font-default",
  subsets: ["latin"],
});

export const inconsolataBold = Inconsolata({
  weight: "700",
  variable: "--font-title",
  subsets: ["latin"],
});

export const crimson = Crimson_Text({
  weight: "400",
  variable: "--font-default",
  subsets: ["latin"],
});

export const inconsolata = Inconsolata({
  variable: "--font-default",
  subsets: ["latin"],
});

export const titleFontMapper = {
  Default: cal.variable,
  Serif: crimsonBold.variable,
  Mono: inconsolataBold.variable,
};

export const defaultFontMapper = {
  Default: inter.variable,
  Serif: crimson.variable,
  Mono: inconsolata.variable,
};

\`\`\`

# styles/globals.css

\`\`\`css
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;

    --novel-highlight-default: #ffffff;
    --novel-highlight-purple: #f6f3f8;
    --novel-highlight-red: #fdebeb;
    --novel-highlight-yellow: #fbf4a2;
    --novel-highlight-blue: #c1ecf9;
    --novel-highlight-green: #acf79f;
    --novel-highlight-orange: #faebdd;
    --novel-highlight-pink: #faf1f5;
    --novel-highlight-gray: #f1f1ef;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;

    --novel-highlight-default: #000000;
    --novel-highlight-purple: #3f2c4b;
    --novel-highlight-red: #5c1a1a;
    --novel-highlight-yellow: #5c4b1a;
    --novel-highlight-blue: #1a3d5c;
    --novel-highlight-green: #1a5c20;
    --novel-highlight-orange: #5c3a1a;
    --novel-highlight-pink: #5c1a3a;
    --novel-highlight-gray: #3a3a3a;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}


pre {
  background: #0d0d0d;
  border-radius: 0.5rem;
  color: #fff;
  font-family: "JetBrainsMono", monospace;
  padding: 0.75rem 1rem;

  code {
    background: none;
    color: inherit;
    font-size: 0.8rem;
    padding: 0;
  }

  .hljs-comment,
  .hljs-quote {
    color: #616161;
  }

  .hljs-variable,
  .hljs-template-variable,
  .hljs-attribute,
  .hljs-tag,
  .hljs-name,
  .hljs-regexp,
  .hljs-link,
  .hljs-name,
  .hljs-selector-id,
  .hljs-selector-class {
    color: #f98181;
  }

  .hljs-number,
  .hljs-meta,
  .hljs-built_in,
  .hljs-builtin-name,
  .hljs-literal,
  .hljs-type,
  .hljs-params {
    color: #fbbc88;
  }

  .hljs-string,
  .hljs-symbol,
  .hljs-bullet {
    color: #b9f18d;
  }

  .hljs-title,
  .hljs-section {
    color: #faf594;
  }

  .hljs-keyword,
  .hljs-selector-tag {
    color: #70cff8;
  }

  .hljs-emphasis {
    font-style: italic;
  }

  .hljs-strong {
    font-weight: 700;
  }
}

\`\`\`

# styles/prosemirror.css

\`\`\`css
.ProseMirror {
  @apply p-12 px-8 sm:px-12;
}

.ProseMirror .is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  float: left;
  color: hsl(var(--muted-foreground));
  pointer-events: none;
  height: 0;
}
.ProseMirror .is-empty::before {
  content: attr(data-placeholder);
  float: left;
  color: hsl(var(--muted-foreground));
  pointer-events: none;
  height: 0;
}

/* Custom image styles */

.ProseMirror img {
  transition: filter 0.1s ease-in-out;

  &:hover {
    cursor: pointer;
    filter: brightness(90%);
  }

  &.ProseMirror-selectednode {
    outline: 3px solid #5abbf7;
    filter: brightness(90%);
  }
}

.img-placeholder {
  position: relative;

  &:before {
    content: "";
    box-sizing: border-box;
    position: absolute;
    top: 50%;
    left: 50%;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: 3px solid var(--novel-stone-200);
    border-top-color: var(--novel-stone-800);
    animation: spinning 0.6s linear infinite;
  }
}

@keyframes spinning {
  to {
    transform: rotate(360deg);
  }
}

/* Custom TODO list checkboxes â€“ shoutout to this awesome tutorial: https://moderncss.dev/pure-css-custom-checkbox-style/ */

ul[data-type="taskList"] li > label {
  margin-right: 0.2rem;
  user-select: none;
}

@media screen and (max-width: 768px) {
  ul[data-type="taskList"] li > label {
    margin-right: 0.5rem;
  }
}

ul[data-type="taskList"] li > label input[type="checkbox"] {
  -webkit-appearance: none;
  appearance: none;
  background-color: hsl(var(--background));
  margin: 0;
  cursor: pointer;
  width: 1.2em;
  height: 1.2em;
  position: relative;
  top: 5px;
  border: 2px solid hsl(var(--border));
  margin-right: 0.3rem;
  display: grid;
  place-content: center;

  &:hover {
    background-color: hsl(var(--accent));
  }

  &:active {
    background-color: hsl(var(--accent));
  }

  &::before {
    content: "";
    width: 0.65em;
    height: 0.65em;
    transform: scale(0);
    transition: 120ms transform ease-in-out;
    box-shadow: inset 1em 1em;
    transform-origin: center;
    clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
  }

  &:checked::before {
    transform: scale(1);
  }
}

ul[data-type="taskList"] li[data-checked="true"] > div > p {
  color: var(--muted-foreground);
  text-decoration: line-through;
  text-decoration-thickness: 2px;
}

/* Overwrite tippy-box original max-width */

.tippy-box {
  max-width: 400px !important;
}

.ProseMirror:not(.dragging) .ProseMirror-selectednode {
  outline: none !important;
  background-color: var(--novel-highlight-blue);
  transition: background-color 0.2s;
  box-shadow: none;
}

.drag-handle {
  position: fixed;
  opacity: 1;
  transition: opacity ease-in 0.2s;
  border-radius: 0.25rem;

  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 10' style='fill: rgba(0, 0, 0, 0.5)'%3E%3Cpath d='M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z'%3E%3C/path%3E%3C/svg%3E");
  background-size: calc(0.5em + 0.375rem) calc(0.5em + 0.375rem);
  background-repeat: no-repeat;
  background-position: center;
  width: 1.2rem;
  height: 1.5rem;
  z-index: 50;
  cursor: grab;

  &:hover {
    background-color: var(--novel-stone-100);
    transition: background-color 0.2s;
  }

  &:active {
    background-color: var(--novel-stone-200);
    transition: background-color 0.2s;
    cursor: grabbing;
  }

  &.hide {
    opacity: 0;
    pointer-events: none;
  }

  @media screen and (max-width: 600px) {
    display: none;
    pointer-events: none;
  }
}

.dark .drag-handle {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 10' style='fill: rgba(255, 255, 255, 0.5)'%3E%3Cpath d='M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z'%3E%3C/path%3E%3C/svg%3E");
}

/* Custom Youtube Video CSS */
iframe {
  border: 8px solid #ffd00027;
  border-radius: 4px;
  min-width: 200px;
  min-height: 200px;
  display: block;
  outline: 0px solid transparent;
}

div[data-youtube-video] > iframe {
  cursor: move;
  aspect-ratio: 16 / 9;
  width: 100%;
}

.ProseMirror-selectednode iframe {
  transition: outline 0.15s;
  outline: 6px solid #fbbf24;
}

@media only screen and (max-width: 480px) {
  div[data-youtube-video] > iframe {
    max-height: 50px;
  }
}

@media only screen and (max-width: 720px) {
  div[data-youtube-video] > iframe {
    max-height: 100px;
  }
}

/* CSS for bold coloring and highlighting issue*/
span[style] > strong {
  color: inherit;
}

mark[style] > strong {
  color: inherit;
}
\`\`\`

# tailwind.config.ts

\`\`\`ts
import type { Config } from "tailwindcss";

const config = {
  darkMode: ["class"],
  content: [
    "./pages/**/*.{ts,tsx}",
    "./components/**/*.{ts,tsx}",
    "./app/**/*.{ts,tsx}",
    "./src/**/*.{ts,tsx}",
    "./lib/**/*.{ts,tsx}",
  ],
  prefix: "",
  theme: {
    container: {
      center: true,
      padding: "2rem",
      screens: {
        "2xl": "1400px",
      },
    },
    extend: {
      colors: {
        border: "hsl(var(--border))",
        input: "hsl(var(--input))",
        ring: "hsl(var(--ring))",
        background: "hsl(var(--background))",
        foreground: "hsl(var(--foreground))",
        primary: {
          DEFAULT: "hsl(var(--primary))",
          foreground: "hsl(var(--primary-foreground))",
        },
        secondary: {
          DEFAULT: "hsl(var(--secondary))",
          foreground: "hsl(var(--secondary-foreground))",
        },
        destructive: {
          DEFAULT: "hsl(var(--destructive))",
          foreground: "hsl(var(--destructive-foreground))",
        },
        muted: {
          DEFAULT: "hsl(var(--muted))",
          foreground: "hsl(var(--muted-foreground))",
        },
        accent: {
          DEFAULT: "hsl(var(--accent))",
          foreground: "hsl(var(--accent-foreground))",
        },
        popover: {
          DEFAULT: "hsl(var(--popover))",
          foreground: "hsl(var(--popover-foreground))",
        },
        card: {
          DEFAULT: "hsl(var(--card))",
          foreground: "hsl(var(--card-foreground))",
        },
      },
      borderRadius: {
        lg: "var(--radius)",
        md: "calc(var(--radius) - 2px)",
        sm: "calc(var(--radius) - 4px)",
      },
      keyframes: {
        "accordion-down": {
          from: { height: "0" },
          to: { height: "var(--radix-accordion-content-height)" },
        },
        "accordion-up": {
          from: { height: "var(--radix-accordion-content-height)" },
          to: { height: "0" },
        },
      },
      animation: {
        "accordion-down": "accordion-down 0.2s ease-out",
        "accordion-up": "accordion-up 0.2s ease-out",
      },
    },
  },
  plugins: [require("tailwindcss-animate"), require("@tailwindcss/typography")],
} satisfies Config;

export default config;

\`\`\`

# tsconfig.json

\`\`\`json
{
  "$schema": "https://json.schemastore.org/tsconfig",
  "compilerOptions": {
    "target": "ESNext",
    "lib": ["DOM", "DOM.Iterable", "ESNext"],
    "module": "ESNext",
    "moduleResolution": "Bundler",
    "jsx": "preserve",
    
    // Next.js specific
    "plugins": [{ "name": "next" }],
    
    // Type checking
    "strict": true,
    "noUncheckedIndexedAccess": true,
    "forceConsistentCasingInFileNames": true,
    
    // Module features
    "allowJs": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "esModuleInterop": true,
    "verbatimModuleSyntax": true,
    
    // Emit
    "noEmit": true,
    "incremental": true,
    
    // Performance
    "skipLibCheck": true,
    
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts"
  ],
  "exclude": ["node_modules"]
}

\`\`\`

# vercel.json

\`\`\`json
{
  "rewrites": [
    {
      "source": "/docs",
      "destination": "https://novel.mintlify.dev/docs"
    },
    {
      "source": "/docs/:match*",
      "destination": "https://novel.mintlify.dev/docs/:match*"
    }
  ]
}

\`\`\`


```

# .cursor/rules/prd-ai-slides-generator.mdc

```mdc
---
description: 
globs: 
alwaysApply: false
---
# Product Requirements Document - AI Slides Generator with Copilot

## ğŸ¯ Product Vision
Build an intelligent, AI-powered presentation creation platform that transforms simple prompts into professional slide decks with an integrated AI copilot for real-time assistance and content refinement.

## ğŸ“‹ Executive Summary
**Product Name**: Cursor for Slides (PresentAI)  
**Target Users**: Content creators, educators, business professionals, marketers  
**Core Value Proposition**: Create stunning presentations in seconds with AI assistance and real-time editing support  

## ğŸ¯ Product Goals

### Primary Goals
1. **AI-First Content Generation**: Transform user prompts into comprehensive, professional presentations
2. **Intelligent Copilot Integration**: Provide contextual AI assistance for content editing and improvements
3. **Seamless User Experience**: Minimize friction from idea to finished presentation
4. **Professional Quality Output**: Generate presentation-ready content with proper formatting and design

### Success Metrics
- **Time to First Slide**: < 30 seconds from prompt to generated content
- **User Engagement**: 80%+ of users complete their presentation after starting
- **Content Quality**: 90%+ user satisfaction with AI-generated content
- **Copilot Usage**: 70%+ of users interact with AI copilot during editing

## ğŸ—ï¸ Current Implementation Status

### âœ… Completed Features

#### **Core AI Generation Pipeline**
- **Outline Generation** via [/api/generate-outline](mdc:app/api/generate-outline/route.ts)
  - Structured outline creation from user prompts
  - Smart template type selection
  - Streaming responses for real-time updates
  - Multi-language support (EN, ES, FR, DE)

- **Individual Slide Generation** via [/api/generate-slide](mdc:app/api/generate-slide/route.ts)
  - Template-specific content generation
  - Content expansion from bullet points
  - Style adaptation (Default, Modern, Minimal, Creative)

- **AI Image Generation** via [/api/generate-image](mdc:app/api/generate-image/route.ts)
  - Professional presentation images
  - 16:9 aspect ratio optimization
  - Contextual image prompts

#### **Slide Template System**
- **10 Template Types** in [components/slides/](mdc:components/slides)
  - Basic layouts: Blank Card, Title with Bullets
  - Image layouts: Image+Text, Text+Image, Title+Bullets+Image
  - Multi-column layouts: 2, 3, 4 columns with/without headings
  - Smart template selection based on content analysis

#### **Rich Text Editor**
- **Tiptap Integration** in [TiptapEditor.tsx](mdc:components/editor/TiptapEditor.tsx)
  - Bubble menu with formatting options
  - Real-time content editing
  - Image support and styling
  - Color picker and text alignment

#### **User Interface**
- **Landing Page** in [app/page.tsx](mdc:app/page.tsx) - Marketing homepage
- **Creation Workflow** in [app/create/](mdc:app/create)
  - Generate from prompt [/create/generate](mdc:app/create/generate/page.tsx)
  - Paste existing content [/create/paste](mdc:app/create/paste/page.tsx)
  - Import files/URLs [/create/import](mdc:app/create/import/page.tsx)
- **Presentation Editor** in [/docs/[id]](mdc:app/docs/[id]/page.tsx)
  - Slide-by-slide editing
  - Drag-and-drop reordering
  - Real-time content updates

#### **Data Management**
- **Client-side persistence** using localStorage
- **Document structure** with metadata and content
- **State management** with React hooks

## ğŸš€ Planned Features - AI Copilot Integration

### **Phase 1: Chat-Based Copilot**
#### **Core Chat Interface**
- **Floating Chat Widget**: Always-accessible AI assistant
- **Context-Aware Responses**: Understands current slide and presentation context
- **Natural Language Commands**: Process user requests in conversational format

#### **Content Assistance Commands**
\`\`\`
Examples:
- "Make this slide more engaging"
- "Add bullet points about market trends"
- "Rewrite this in a more professional tone"
- "Generate an image for this slide"
- "Create a conclusion slide"
\`\`\`

#### **Technical Implementation**
- **New API Route**: `/api/copilot-chat` for conversational AI
- **Context Management**: Track current slide, presentation state, and user intent
- **Streaming Responses**: Real-time chat experience
- **Action Integration**: Execute changes directly from chat commands

### **Phase 2: Advanced Copilot Features**
#### **Smart Suggestions**
- **Proactive Recommendations**: Suggest improvements based on content analysis
- **Template Optimization**: Recommend better template types for content
- **Content Gap Analysis**: Identify missing information or weak points

#### **Collaborative Editing**
- **Inline Suggestions**: Show AI recommendations directly in the editor
- **Accept/Reject Interface**: Easy approval workflow for AI suggestions
- **Version History**: Track changes made by AI copilot

#### **Advanced Content Generation**
- **Slide Continuation**: "Add 3 more slides about [topic]"
- **Content Refinement**: Iterative improvement of existing content
- **Style Consistency**: Maintain consistent tone and style across presentation

## ğŸ› ï¸ Technical Architecture

### **Current Stack** (Reference: [tech-stack.mdc](mdc:.cursor/rules/tech-stack.mdc))
- **Frontend**: Next.js 13 + React 18 + TypeScript
- **AI Integration**: OpenAI GPT-4o-mini + Replicate Flux Schnell
- **Editor**: Tiptap rich text editor
- **UI**: Tailwind CSS + shadcn/ui
- **State**: React hooks + localStorage

### **Copilot Architecture Extensions**
\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Chat Widget   â”‚â—„â”€â”€â–ºâ”‚  Copilot Engine  â”‚â—„â”€â”€â–ºâ”‚  Context Store  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Commands  â”‚    â”‚   AI Processing  â”‚    â”‚ Slide Content   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\`\`\`

## ğŸ“± User Experience Flow

### **Current Flow**
1. **Landing** â†’ Choose creation method
2. **Input** â†’ Provide prompt + settings
3. **Generation** â†’ AI creates outline â†’ slides â†’ images
4. **Editing** â†’ Manual content refinement
5. **Export** â†’ Final presentation

### **Enhanced Flow with Copilot**
1. **Landing** â†’ Choose creation method
2. **Input** â†’ Provide prompt + settings
3. **Generation** â†’ AI creates outline â†’ slides â†’ images
4. **Copilot Assistance** â†’ AI suggests improvements and responds to chat
5. **Collaborative Editing** â†’ User + AI refine content together
6. **Export** â†’ Polished, AI-optimized presentation

## ğŸ¨ Design Requirements

### **Chat Interface Design**
- **Floating Widget**: Bottom-right corner, expandable/collapsible
- **Chat History**: Persistent conversation during editing session
- **Action Buttons**: Quick actions for common requests
- **Loading States**: Clear indication when AI is processing

### **Integration Points**
- **Slide Editor**: Seamless integration with existing [TiptapEditor](mdc:components/editor/TiptapEditor.tsx)
- **Slide Navigation**: Context awareness of current slide
- **Template System**: Integration with existing [slide templates](mdc:components/slides)

## ğŸ”§ Development Priorities

### **Immediate (Phase 1)**
1. **Chat Interface Component**: Build floating chat widget
2. **Copilot API**: Create `/api/copilot-chat` endpoint
3. **Context Management**: Track presentation and slide state
4. **Basic Commands**: Implement core content editing commands

### **Short-term (Phase 2)**
1. **Advanced Suggestions**: Proactive AI recommendations
2. **Inline Editing**: Direct AI suggestions in editor
3. **Content Analysis**: Identify improvement opportunities
4. **Performance Optimization**: Efficient AI request handling

### **Long-term (Phase 3)**
1. **Multi-modal Input**: Voice commands and image analysis
2. **Collaboration Features**: Multi-user editing with AI assistance
3. **Template Learning**: AI learns from user preferences
4. **Export Enhancements**: Advanced formatting and sharing options

## ğŸ“Š Success Criteria

### **Functional Requirements**
- âœ… AI generates professional presentations from prompts
- âœ… Users can edit content with rich text editor
- ğŸ”„ AI copilot responds to natural language commands
- ğŸ”„ Copilot provides contextual suggestions and improvements
- ğŸ”„ Real-time collaboration between user and AI

### **Performance Requirements**
- **Response Time**: < 3 seconds for copilot responses
- **Generation Speed**: < 30 seconds for full presentation
- **Accuracy**: 90%+ relevant AI suggestions
- **Reliability**: 99%+ uptime for AI services

### **User Experience Requirements**
- **Intuitive Interface**: No learning curve for basic features
- **Responsive Design**: Works on desktop and tablet
- **Accessibility**: Keyboard navigation and screen reader support
- **Error Handling**: Graceful degradation when AI services are unavailable

## ğŸ”„ Current Status & Next Steps

### **âœ… Completed**
- Core AI generation pipeline
- Rich slide templates and editor
- Professional UI/UX design
- Client-side data persistence

### **ğŸ”„ In Progress**
- AI copilot integration planning
- Chat interface design
- Context management architecture

### **ğŸ“‹ Next Steps**
1. **Design copilot chat interface**
2. **Implement `/api/copilot-chat` endpoint**
3. **Build context-aware AI assistant**
4. **Integrate chat widget with existing editor**
5. **Test and iterate on user experience**

---

**This PRD serves as the roadmap for evolving the current AI slides generator into a comprehensive AI-assisted presentation creation platform with intelligent copilot capabilities.**

```

# .cursor/rules/sidebar_addition.md

```md
# Slides Sidebar Implementation Roadmap

## âœ… Phase 1: Basic Sidebar UI (COMPLETED)
- [x] Create floating left sidebar with glassmorphism design
- [x] Implement collapsible/expandable functionality
- [x] Add thumbnail view with mini slide previews
- [x] Add text view with slide titles and bullet points
- [x] Implement view toggle between thumbnail and text modes
- [x] Add slide numbering and selection highlighting
- [x] Create "New", "Template", and "AI" action buttons
- [x] Fix thumbnail sizing to match original design
- [x] Fix thumbnail aspect ratio to properly fill cards (16:9)
- [x] Center thumbnails within their containers
- [x] Create dropdown menu for "New" button with AI/Template options

## âœ… Phase 2: Slide Navigation & Selection (COMPLETED)
- [x] Implement smooth scroll to selected slide
- [x] Add current slide auto-detection based on scroll position
- [x] Implement slide focus/highlight synchronization
- [x] Add keyboard navigation (arrow keys) support

## âœ… Phase 3: Add New Slide Functionality (COMPLETED)
- [x] **Basic Add Slide**
  - [x] Create new blank slide at current position + 1
  - [x] Default to most common template type
  - [x] Auto-focus on new slide
  
- [x] **Add from Template**
  - [x] Create template selection modal/dropdown
  - [x] Show all available slide templates with previews
  - [x] Allow template selection and insertion at current position + 1
  
- [x] **Add with AI**
  - [x] Create AI prompt input dialog
  - [x] Show placeholder slide with loading state
  - [x] Call Azure OpenAI API for single slide generation
  - [x] Handle streaming response and real-time updates
  - [x] Error handling and retry functionality

## âœ… Phase 4: Slide Reordering (COMPLETED)
- [x] **Drag & Drop**
  - [x] Implement drag handles on slide thumbnails in sidebar
  - [x] Add hover-activated drag handle on main slides page
  - [x] Add visual feedback during drag operations
  - [x] Update slide order in state and localStorage
  - [x] Sync current slide index during reordering
  


## âœ… Phase 5: Slide Management (COMPLETED)
- [x] **Context Menus**
  - [x] Right-click context menu for sidebar slides
  - [x] Click context menu for main slide drag handles
  - [x] Icon-based layout for main slides, text-based for sidebar
  - [x] Keyboard shortcuts display

- [x] **Slide Operations**
  - [x] Cut slide functionality (placeholder)
  - [x] Copy slide functionality (placeholder)
  - [x] Duplicate slide with automatic naming
  - [x] Delete slide with index management
  - [x] Move slide up/down with reordering
  - [x] Hide slide functionality (placeholder)
  - [x] Export slide functionality (placeholder)

- [x] **UI Enhancements**
  - [x] Hover tooltips for all icon buttons
  - [x] Disabled states for boundary operations
  - [x] Visual feedback and state management

## ğŸ¯ Phase 6: Advanced Features
- [ ] **Slide Search/Filter**
  - [ ] Add search bar to sidebar
  - [ ] Filter slides by title/content
  - [ ] Highlight search matches
  
- [ ] **Slide Thumbnails Updates**
  - [ ] Real-time thumbnail updates when slide content changes
  - [ ] Optimize thumbnail rendering performance
  - [ ] Add loading states for thumbnail generation

## ğŸ”„ Phase 7: Integration & Polish
- [ ] **State Management**
  - [ ] Ensure localStorage persistence for all changes
  - [ ] Sync sidebar state with main editor
  - [ ] Handle concurrent editing scenarios
  
- [ ] **Performance Optimization**
  - [ ] Virtualize slide list for large presentations
  - [ ] Lazy load slide thumbnails
  - [ ] Optimize re-rendering
  
- [ ] **Accessibility**
  - [ ] Add ARIA labels and keyboard navigation
  - [ ] Screen reader support
  - [ ] High contrast mode support

## ğŸ¨ Phase 8: UI/UX Enhancements
- [ ] **Animations & Transitions**
  - [ ] Smooth slide transitions
  - [ ] Hover effects and micro-interactions
  - [ ] Loading animations for AI generation
  
- [ ] **Responsive Design**
  - [ ] Mobile-friendly sidebar (slide-over on small screens)
  - [ ] Tablet optimization
  - [ ] Different layouts for different screen sizes

## ğŸ”§ Technical Implementation Notes

### Current Architecture
- **Sidebar Component**: `components/ui/slides-sidebar.tsx`
- **Main Integration**: `app/docs/[id]/page.tsx`
- **Slide Data Interface**: `components/slides/SlideRenderer.tsx`

### Key State Management
\`\`\`typescript
const [slides, setSlides] = useState<SlideData[]>([]);
const [currentSlideIndex, setCurrentSlideIndex] = useState(0);
\`\`\`

### API Endpoints to Use
- **AI Generation**: `/api/generate-slide` (existing)
- **Image Generation**: `/api/generate-image` (existing)

### Next Steps Priority
1. âœ… Fix thumbnail sizing (DONE)
2. ğŸ¯ Implement smooth scroll to slide navigation
3. ğŸ¯ Add basic "New Slide" functionality
4. ğŸ¯ Create template selection for "Add from Template"
5. ğŸ¯ Implement AI slide generation workflow

### Design Consistency Requirements
- Maintain purple gradient theme
- Use glassmorphism effects (backdrop-blur, transparency)
- Consistent with existing UI components
- Match button styles and hover states
- Preserve accessibility standards

```

# .cursor/rules/task-list-ai-agentic-addition.md

```md
# AI Agent Enhancement: Complete Implementation Checklist

## Overview
Transform Cursor for Slides from a slide generator into a comprehensive AI copilot platform with advanced reasoning, MCP integration, and state-of-the-art prompting techniques.

---

## ğŸ¯ **APPROACH 1: Enhanced Reasoning for Existing Endpoints**

### Objective
Add intelligent reasoning capabilities to existing API endpoints while maintaining backward compatibility.

#### **Core Implementation**
- [ ] **Enhance `/api/generate-outline/route.ts`**
  - [ ] Add `reasoning` object to API responses for agentic reasonin
  - [ ] Add content strategy recommendations for agent
  - [ ] Implement visual approach suggestions
  - [ ] Maintain backward compatibility

- [ ] **Enhance `/api/generate-slide/route.ts`**
  - [ ] Add detailed reasoning for template selection
  - [ ] Add design rationale and suggestions
  - [ ] Implement quality assessment metrics


#### **Testing & Validation**
- [ ] Test with existing slide generation workflows
- [ ] Verify backward compatibility
- [ ] Validate reasoning quality and relevance
- [ ] Performance testing with reasoning overhead

---

## ğŸ¯ **APPROACH 2: Full AI Copilot with Tools**

### **Phase 1: Core Copilot Infrastructure (Week 1-2)**

#### **Chat Interface Foundation**
- [ ] **Floating Chat Widget Component**
  - [ ] Design responsive chat interface
  - [ ] Implement slide/overlay positioning
  - [ ] Add expand/collapse functionality
  - [ ] Handle mobile responsiveness

- [ ] **Message Management System**
  - [ ] Message history persistence
  - [ ] Context management across sessions
  - [ ] Streaming response handling
  - [ ] Message threading and organization

- [ ] **Tool Calling Infrastructure**
  - [ ] Zod schema definitions for all tools
  - [ ] Tool registration and discovery system
  - [ ] Error handling and fallback mechanisms
  - [ ] Tool execution logging and debugging

#### **API Routes**
- [ ] **Create `/api/copilot-chat/route.ts`**
  - [ ] Implement streaming chat responses
  - [ ] Handle tool calling and execution
  - [ ] Context-aware conversation management
  - [ ] Integration with existing slide management

- [ ] **Enhanced Context Management**
  - [ ] Current presentation state awareness
  - [ ] User preference tracking
  - [ ] Session continuity across page reloads
  - [ ] Multi-presentation context switching

#### **Basic Tool Set**
- [ ] **`updateSlideProperty`** - Universal slide property updates
  - [ ] Handle all slide template types
  - [ ] Validate property changes
  - [ ] Provide change confirmations
  
- [ ] **`addBulletToProperty`** - Bullet point management
  - [ ] Add bullets to any bullet-supporting property
  - [ ] Handle nested bullet structures
  - [ ] Smart bullet formatting
  
- [ ] **`updateSlideImage`** - Image operations
  - [ ] Image URL updates
  - [ ] Alt text management
  - [ ] Image positioning and sizing
  
- [ ] **`changeSlideTemplate`** - Template conversion
  - [ ] Content preservation during template changes
  - [ ] Smart content mapping between templates
  - [ ] Template compatibility validation
  
- [ ] **`optimizeSlideContent`** - Content optimization
  - [ ] Grammar and clarity improvements
  - [ ] Audience-appropriate language
  - [ ] Visual hierarchy optimization

#### **Phase 1 Deliverables**
- [ ] Working chat interface integrated with slides editor
- [ ] Basic slide manipulation through conversation
- [ ] Context-aware responses about current presentation state

### **Phase 2: Advanced Copilot Features (Week 3-4)**

#### **Enhanced Brainstorming**
- [ ] **Multi-Stage Brainstorming Flow**
  - [ ] **Discovery Phase** (2-3 interactions)
    - [ ] Understand presentation goals
    - [ ] Identify target audience
    - [ ] Determine constraints and requirements
    - [ ] Assess available resources
  
  - [ ] **Content Exploration Phase** (3-4 interactions)
    - [ ] Generate key message pillars
    - [ ] Identify supporting evidence
    - [ ] Suggest examples and case studies
    - [ ] Map content to audience interests
  
  - [ ] **Structure Refinement Phase** (2-3 interactions)
    - [ ] Organize ideas into logical flow
    - [ ] Design opening hooks and conclusions
    - [ ] Balance information density
    - [ ] Recommend templates and visual approaches
  
  - [ ] **Optimization Phase** (1-2 interactions)
    - [ ] Generate refined presentation prompts
    - [ ] Suggest themes, styles, and slide count
    - [ ] Provide quality assessment
    - [ ] Create implementation roadmap

- [ ] **Progress Tracking Interface**
  - [ ] Visual progress indicators for each phase
  - [ ] Idea collection and organization
  - [ ] Phase completion validation
  - [ ] Backtrack and revision capabilities

- [ ] **Idea Bank with Organization Tools**
  - [ ] Categorized idea storage
  - [ ] Tagging and filtering system
  - [ ] Idea priority ranking
  - [ ] Export and import capabilities

- [ ] **Smart Suggestion System**
  - [ ] Context-aware content suggestions
  - [ ] Template recommendations
  - [ ] Design improvement hints
  - [ ] Content gap identification

#### **Advanced Tool Set**
- [ ] **`analyzeSlide`** - Content analysis and suggestions
  - [ ] Readability assessment
  - [ ] Visual hierarchy analysis
  - [ ] Audience appropriateness evaluation
  - [ ] Improvement recommendations

- [ ] **`createSlide`** - New slide generation
  - [ ] Template-based slide creation
  - [ ] Content pre-population from context
  - [ ] Smart positioning in presentation
  - [ ] Batch slide creation capabilities

- [ ] **`duplicateSlide`** - Slide duplication
  - [ ] Exact duplication with new IDs
  - [ ] Template conversion during duplication
  - [ ] Bulk duplication operations
  - [ ] Version management

- [ ] **Multi-slide Operations Support**
  - [ ] Batch editing capabilities
  - [ ] Cross-slide consistency checks
  - [ ] Presentation-wide optimizations
  - [ ] Theme application across slides

#### **UI Enhancements**
- [ ] **Inline AI Suggestions in Editor**
  - [ ] Real-time content suggestions
  - [ ] Grammar and style improvements
  - [ ] Visual design recommendations
  - [ ] Template optimization hints

- [ ] **Accept/Reject Workflow for AI Recommendations**
  - [ ] One-click accept/reject buttons
  - [ ] Batch approval capabilities
  - [ ] Suggestion history and tracking
  - [ ] Custom feedback for learning

- [ ] **Tool Invocation UI for Interactive Tools**
  - [ ] Visual tool selector
  - [ ] Parameter input forms
  - [ ] Real-time preview of changes
  - [ ] Undo/redo for tool operations

- [ ] **Progress Indicators and Loading States**
  - [ ] Processing indicators for AI operations
  - [ ] Streaming response visualization
  - [ ] Error state handling
  - [ ] Retry mechanisms

#### **Phase 2 Deliverables**
- [ ] Complete brainstorming workflow from idea to slides
- [ ] Advanced slide editing capabilities through natural language
- [ ] Proactive AI suggestions improving user workflow

### **Phase 3: Bidirectional MCP Integration + State-of-the-Art Prompting (Week 5-8)**

#### **Enhanced Brainstorming with Live Data Integration**

##### **MCP Client Implementation (Your App Consuming Data)**
- [ ] **MCP Manager System**
  \`\`\`typescript
  // lib/mcp/mcp-manager.ts
  \`\`\`
  - [ ] Multi-server connection management
  - [ ] Tool discovery and caching
  - [ ] Error handling and reconnection logic
  - [ ] Support for stdio, SSE, and HTTP transports
  - [ ] Server health monitoring and failover

- [ ] **Pre-built MCP Server Integrations**
  - [ ] **Google Drive MCP** (documents, spreadsheets)
    - [ ] Document content extraction
    - [ ] Spreadsheet data analysis
    - [ ] Real-time collaboration data
    - [ ] File metadata and organization
  
  - [ ] **Postgres/MySQL MCP** (database queries)
    - [ ] Secure query execution
    - [ ] Data visualization preparation
    - [ ] Real-time metrics extraction
    - [ ] Performance analytics
  
  - [ ] **GitHub MCP** (repository data, issues, commits)
    - [ ] Repository statistics
    - [ ] Issue and PR analysis
    - [ ] Commit history insights
    - [ ] Team collaboration metrics
  
  - [ ] **Slack MCP** (team communications)
    - [ ] Channel activity analysis
    - [ ] Team sentiment tracking
    - [ ] Communication pattern insights
    - [ ] Meeting and decision tracking
  
  - [ ] **Filesystem MCP** (local file access)
    - [ ] File content analysis
    - [ ] Directory structure insights
    - [ ] Document processing
    - [ ] Asset management
  
  - [ ] **Smithery/mcp.so marketplace integration**
    - [ ] Server discovery and installation
    - [ ] Rating and review system
    - [ ] Automatic updates
    - [ ] Community server support

- [ ] **Enhanced Brainstorming Interface (3-Column Layout)**
  \`\`\`
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   Chat with AI      â”‚   Progress      â”‚   Quick Actions  â”‚
  â”‚   + Data Sources    â”‚   Tracker       â”‚   & Preview      â”‚
  â”‚                     â”‚                 â”‚                  â”‚
  â”‚ â€¢ Real-time data    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â€¢ Add MCP server â”‚
  â”‚ â€¢ Context aware     â”‚ â”‚ Discovery   â”‚ â”‚ â€¢ Export options â”‚
  â”‚ â€¢ Multi-modal       â”‚ â”‚ Content     â”‚ â”‚ â€¢ Theme apply    â”‚
  â”‚                     â”‚ â”‚ Structure   â”‚ â”‚ â€¢ Generate       â”‚
  â”‚                     â”‚ â”‚ Generate    â”‚ â”‚                  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚   Enhanced          â”‚   Data Sources  â”‚   Presentation   â”‚
  â”‚   Idea Bank         â”‚   Panel         â”‚   Preview        â”‚
  â”‚                     â”‚                 â”‚                  â”‚
  â”‚ â€¢ Real data tags    â”‚ â€¢ Connected     â”‚ â€¢ Live preview   â”‚
  â”‚ â€¢ Source tracking   â”‚ â€¢ Available     â”‚ â€¢ Structure view â”‚
  â”‚ â€¢ Auto-refresh      â”‚ â€¢ Add new       â”‚ â€¢ Export ready   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  \`\`\`
  
  - [ ] **Chat with AI + Data Sources Panel**
    - [ ] Real-time data integration in conversations
    - [ ] Context-aware responses using live data
    - [ ] Multi-modal interaction (text, data, images)
    - [ ] Data source status indicators
  
  - [ ] **Progress Tracker Panel**
    - [ ] Visual phase progression
    - [ ] Completed task indicators
    - [ ] Current focus highlighting
    - [ ] Phase navigation controls
  
  - [ ] **Quick Actions & Preview Panel**
    - [ ] MCP server management
    - [ ] Export options and formats
    - [ ] Theme application controls
    - [ ] Generate presentation button
  
  - [ ] **Enhanced Idea Bank Panel**
    - [ ] Data-backed idea cards
    - [ ] Source attribution and tracking
    - [ ] Real-time data refresh
    - [ ] Cross-reference capabilities
  
  - [ ] **Data Sources Panel**
    - [ ] Connected source management
    - [ ] Available source discovery
    - [ ] Connection health monitoring
    - [ ] Add new source workflows
  
  - [ ] **Presentation Preview Panel**
    - [ ] Live preview of generated slides
    - [ ] Structure visualization
    - [ ] Export format selection
    - [ ] Collaboration sharing options

##### **MCP Server Implementation (Your App Providing Services)**
- [ ] **Presentation Generation MCP Server**
  \`\`\`typescript
  // lib/mcp/presentation-server.ts
  \`\`\`
  
  **Core Tools for External MCP Clients:**
  - [ ] **`create_presentation`** - Full presentation generation
    - [ ] Topic-based generation
    - [ ] Audience-specific customization
    - [ ] Template and theme selection
    - [ ] Multi-format export options
  
  - [ ] **`generate_slide`** - Single slide creation
    - [ ] Template-specific generation
    - [ ] Content type optimization
    - [ ] Visual design integration
    - [ ] Context-aware positioning
  
  - [ ] **`brainstorm_presentation`** - Interactive brainstorming
    - [ ] Multi-phase brainstorming workflow
    - [ ] Idea organization and refinement
    - [ ] Audience analysis integration
    - [ ] Data source integration
  
  - [ ] **`apply_theme`** - Theme application
    - [ ] Consistent styling across slides
    - [ ] Brand guideline compliance
    - [ ] Custom theme creation
    - [ ] Responsive design adaptation
  
  - [ ] **`export_presentation`** - Multi-format export
    - [ ] PDF, PPTX, HTML exports
    - [ ] Custom format support
    - [ ] Batch export capabilities
    - [ ] Cloud storage integration
  
  - [ ] **`analyze_content`** - Content analysis and suggestions
    - [ ] Readability assessment
    - [ ] Audience appropriateness
    - [ ] Visual design evaluation
    - [ ] Improvement recommendations

- [ ] **Distribution & Integration**
  \`\`\`bash
  # NPM package for easy installation
  npx cursor-for-slides mcp-server
  \`\`\`
  
  **Integration Examples for Major MCP Clients:**
  - [ ] **Claude Desktop Configuration**
    - [ ] Configuration file templates
    - [ ] Step-by-step setup guide
    - [ ] Troubleshooting documentation
    - [ ] Feature showcase examples
  
  - [ ] **VS Code GitHub Copilot Integration**
    - [ ] Extension configuration
    - [ ] Workflow integration examples
    - [ ] Keyboard shortcuts setup
    - [ ] Team collaboration features
  
  - [ ] **JetBrains AI Assistant Setup**
    - [ ] Plugin configuration
    - [ ] IDE integration patterns
    - [ ] Code-to-presentation workflows
    - [ ] Documentation generation
  
  - [ ] **Cursor IDE Integration**
    - [ ] Native integration setup
    - [ ] Enhanced development workflows
    - [ ] Code explanation to slides
    - [ ] Project documentation automation
  
  - [ ] **Custom Client Examples**
    - [ ] Python client library
    - [ ] JavaScript/Node.js examples
    - [ ] REST API wrapper
    - [ ] GraphQL integration patterns

#### **State-of-the-Art Prompting Strategy Implementation**

##### **1. Hyper-Specific & Detailed Prompts (Manager Approach)**
- [ ] **Master Prompts Library**
  \`\`\`typescript
  // lib/prompts/master-prompts.ts
  \`\`\`
  - [ ] Senior Presentation Strategy Consultant persona
  - [ ] 15+ years experience simulation
  - [ ] Specialized expertise definitions
  - [ ] Multi-phase workflow guidance
  - [ ] Real-time data integration instructions

- [ ] **Dynamic Context Integration**
  - [ ] Connected data sources awareness
  - [ ] User context and history integration
  - [ ] Audience analysis incorporation
  - [ ] Business objective alignment

##### **2. Role-Based Persona Prompting**
- [ ] **Persona Library**
  \`\`\`typescript
  // lib/prompts/persona-prompts.ts
  \`\`\`
  - [ ] **Brainstorming Consultant**
    - [ ] Strategic planning expertise
    - [ ] Audience analysis specialization
    - [ ] Data storytelling mastery
    - [ ] Professional, collaborative tone
  
  - [ ] **Content Optimizer**
    - [ ] Content analysis expertise
    - [ ] Writing improvement specialization
    - [ ] Message clarity optimization
    - [ ] Analytical, precise communication
  
  - [ ] **Design Advisor**
    - [ ] Presentation design expertise
    - [ ] Visual hierarchy specialization
    - [ ] Template selection mastery
    - [ ] Creative, user-focused approach

##### **3. Structured Prompts with XML-like Tags**
- [ ] **Tool Execution Prompts**
  \`\`\`typescript
  // lib/prompts/structured-prompts.ts
  \`\`\`
  - [ ] Task definition sections
  - [ ] Available tools listing
  - [ ] Current context integration
  - [ ] Execution guidelines
  - [ ] Output format specifications
  - [ ] Quality check procedures

##### **4. Few-Shot Learning with High-Quality Examples**
- [ ] **Brainstorming Examples Library**
  \`\`\`typescript
  // lib/prompts/few-shot-examples.ts
  \`\`\`
  - [ ] Investor pitch scenarios
  - [ ] Educational presentation examples
  - [ ] Sales presentation patterns
  - [ ] Technical documentation examples
  - [ ] Team update formats

##### **5. Meta-Prompting for Continuous Improvement**
- [ ] **Prompt Engineering Expert System**
  \`\`\`typescript
  // lib/prompts/meta-prompting.ts
  \`\`\`
  - [ ] Performance metrics analysis
  - [ ] Interaction outcome evaluation
  - [ ] Prompt optimization recommendations
  - [ ] Continuous learning integration

##### **6. Dynamic Prompt Generation & Folding**
- [ ] **Dynamic Prompt Generator Class**
  \`\`\`typescript
  // lib/prompts/dynamic-generation.ts
  \`\`\`
  - [ ] Context-aware prompt assembly
  - [ ] Stage-specific guidance integration
  - [ ] User history incorporation
  - [ ] Data source context building

##### **7. Debug Info & Reasoning Traces**
- [ ] **Debug-Enhanced Prompts**
  \`\`\`typescript
  // lib/prompts/debug-prompts.ts
  \`\`\`
  - [ ] Reasoning process documentation
  - [ ] Context analysis reporting
  - [ ] Decision point tracking
  - [ ] Quality check assessments

##### **8. Evaluation Suite Implementation**
- [ ] **Comprehensive Evaluation Framework**
  \`\`\`typescript
  // lib/evaluation/prompt-evals.ts
  \`\`\`
  - [ ] Brainstorming effectiveness metrics
  - [ ] Tool execution accuracy assessment
  - [ ] Response quality evaluation
  - [ ] User satisfaction tracking
  - [ ] Continuous improvement feedback

#### **Enhanced API Routes with Advanced Prompting**
- [ ] **`/api/brainstorm-with-data`** - MCP-enhanced brainstorming
- [ ] **`/api/optimize-prompt`** - Meta-prompting for improvement
- [ ] **`/api/evaluate-interaction`** - Quality assessment
- [ ] **`/api/mcp-server`** - Your app as MCP server endpoint

#### **Integration Examples & Documentation**
- [ ] **Claude Desktop Integration Guide**
  - [ ] Step-by-step configuration
  - [ ] Feature demonstration videos
  - [ ] Common troubleshooting issues
  - [ ] Advanced usage patterns

- [ ] **VS Code GitHub Copilot Setup**
  - [ ] Extension installation guide
  - [ ] Workflow integration examples
  - [ ] Keyboard shortcuts reference
  - [ ] Team collaboration setup

- [ ] **JetBrains AI Assistant Configuration**
  - [ ] Plugin installation steps
  - [ ] IDE integration patterns
  - [ ] Development workflow examples
  - [ ] Code documentation automation

- [ ] **Custom MCP Client Examples**
  - [ ] Python client implementation
  - [ ] JavaScript/Node.js examples
  - [ ] REST API integration patterns
  - [ ] GraphQL query examples

- [ ] **Self-hosted Deployment Instructions**
  - [ ] Docker containerization
  - [ ] Kubernetes deployment
  - [ ] Environment configuration
  - [ ] Security best practices

#### **Phase 3 Deliverables**
- [ ] Complete bidirectional MCP ecosystem integration
- [ ] Live data-driven brainstorming with real business data
- [ ] Your app available as MCP server for 40+ external clients
- [ ] State-of-the-art prompting with continuous improvement
- [ ] Comprehensive evaluation and optimization framework
- [ ] Enterprise-ready with self-hosted MCP server support

---

## ğŸ“Š **Success Metrics & Validation**

### **Phase 1 Success Criteria**
- [ ] Users can modify slides through conversation
- [ ] Context-aware responses about presentation state
- [ ] Basic tool execution working reliably
- [ ] No regression in existing functionality
- [ ] Response time under 2 seconds for basic operations

### **Phase 2 Success Criteria**
- [ ] Complete brainstorming sessions from idea to slides
- [ ] Proactive AI suggestions improving user workflow
- [ ] Advanced editing through natural language
- [ ] 90% user satisfaction in brainstorming effectiveness
- [ ] 50% reduction in time from idea to final presentation

### **Phase 3 Success Criteria**
- [ ] Real data integration enhancing presentation quality
- [ ] External MCP clients successfully using your presentation tools
- [ ] Measurable improvement in prompt effectiveness through evaluation
- [ ] Enterprise deployment with custom MCP server configurations
- [ ] 25+ active MCP client integrations
- [ ] 95% uptime for MCP server services

---

## ğŸ› ï¸ **Technology Stack**

### **Core Framework**
- [ ] Next.js 13+ with App Router
- [ ] TypeScript for type safety
- [ ] Vercel AI SDK for LLM integration
- [ ] Tailwind CSS + shadcn/ui for interface

### **MCP Integration**
- [ ] `@modelcontextprotocol/sdk` for server/client implementation
- [ ] Support for stdio, SSE, and HTTP transports
- [ ] NPM package distribution for MCP server
- [ ] Docker containerization for self-hosting

### **AI & Prompting**
- [ ] OpenAI GPT-4o for reasoning and tool calling
- [ ] Dynamic prompt generation system
- [ ] Comprehensive evaluation framework
- [ ] Meta-prompting for continuous improvement
- [ ] A/B testing for prompt optimization

### **Data Integration**
- [ ] Multiple MCP server support (Google Drive, Postgres, GitHub, Slack)
- [ ] Real-time data fetching and processing
- [ ] Secure credential management for data sources
- [ ] Data caching and performance optimization

---

## ğŸš€ **Implementation Priority**

**Immediate (Week 1):** Start with Approach 1 - Enhanced Reasoning
**Short-term (Weeks 2-4):** Core Copilot Infrastructure 
**Medium-term (Weeks 5-6):** Advanced Copilot Features
**Long-term (Weeks 7-8):** Full MCP Integration + Advanced Prompting

---

*This comprehensive checklist transforms Cursor for Slides into the premier AI copilot platform with cutting-edge reasoning, bidirectional MCP integration, and state-of-the-art prompting strategies! ğŸ¯*


```

# .cursor/rules/tech-stack.mdc

```mdc
---
description: 
globs: 
alwaysApply: false
---
# Tech Stack Reference - Cursor for Slides

## Core Framework & Architecture
- **Next.js 13+** with App Router architecture
- **TypeScript** for type safety throughout the application
- **React 18** with modern hooks and concurrent features
- **Client-side rendering** with localStorage persistence (no backend database)

## Styling & UI Components
- **Tailwind CSS** for utility-first styling
- **shadcn/ui** component library for consistent UI elements
- **Radix UI** primitives for accessible components
- **Lucide React** for consistent iconography
- **CSS Variables** for theme customization
- **Glass morphism** design pattern with backdrop blur effects

## AI & Machine Learning
- **OpenAI GPT-4o-mini** for text generation and content creation
- **@ai-sdk/openai** for OpenAI integration
- **Replicate Flux Schnell** for AI image generation
- **@ai-sdk/replicate** for Replicate integration
- **Streaming responses** for real-time AI content generation

## Rich Text Editing
- **Tiptap** as the primary rich text editor
- **@tiptap/react** for React integration
- **@tiptap/starter-kit** for basic editing features
- **@tiptap/extension-*** for advanced formatting (color, alignment, images, etc.)
- **Bubble menu** for contextual formatting options

## Drag & Drop
- **@dnd-kit/core** for drag and drop functionality
- **@dnd-kit/sortable** for sortable slide reordering
- **@dnd-kit/utilities** for drag and drop utilities
- **Keyboard accessibility** support for drag operations

## Form Management
- **React Hook Form** for form state management
- **@hookform/resolvers** for form validation
- **Zod** for schema validation and type inference

## State Management & Data
- **React useState/useEffect** for local component state
- **localStorage** for document persistence
- **Custom hooks** for reusable state logic
- **Context API** for global state where needed

## Development Tools
- **ESLint** for code linting (disabled during builds)
- **PostCSS** for CSS processing
- **Autoprefixer** for CSS vendor prefixes
- **TypeScript** strict mode enabled

## Key Dependencies
\`\`\`json
{
  "@ai-sdk/openai": "^0.0.66",
  "@ai-sdk/replicate": "^0.2.8",
  "@dnd-kit/core": "^6.1.0",
  "@tiptap/react": "^2.8.0",
  "next": "13.5.1",
  "react": "18.2.0",
  "tailwindcss": "3.3.3",
  "typescript": "5.2.2",
  "zod": "^3.23.8"
}
\`\`\`

## API Routes Structure
- **`/api/generate-outline`** - Creates presentation outlines from prompts
- **`/api/generate-slide`** - Generates individual slide content
- **`/api/generate-image`** - Creates AI-generated images for slides

## File Structure Patterns
- **`app/`** - Next.js App Router pages and API routes
- **`components/`** - Reusable React components
- **`components/ui/`** - shadcn/ui component library
- **`components/slides/`** - Slide template components
- **`components/editor/`** - Rich text editor components
- **`lib/`** - Utility functions and shared logic
- **`hooks/`** - Custom React hooks

## Configuration Files
- **[next.config.js](mdc:next.config.js)** - Next.js configuration
- **[tailwind.config.ts](mdc:tailwind.config.ts)** - Tailwind CSS configuration
- **[tsconfig.json](mdc:tsconfig.json)** - TypeScript configuration
- **[components.json](mdc:components.json)** - shadcn/ui configuration

## Design System
- **Color Palette**: Blue to indigo to purple gradients
- **Typography**: Inter font family
- **Spacing**: Tailwind's spacing scale
- **Border Radius**: Consistent rounded corners
- **Shadows**: Layered shadow system for depth
- **Animations**: Smooth transitions and hover effects

```

# .cursor/rules/testing_instructions.md

```md
# Testing Instructions for Tiptap Formatting Fixes

## Templates Updated So Far
âœ… **TiptapEditor** - Fixed bubble menu alignment with `items-center`
âœ… **BlankCard** - COMPLETELY RESTRUCTURED: Unified content model (no title/content separation)
âœ… **TitleWithText** - Already had proper implementation
âœ… **TitleWithBullets** - COMPLETELY RESTRUCTURED: Unified content model with full HTML support
âœ… **TitleWithBulletsAndImage** - FULLY FIXED: Now saves/displays rich HTML content, added console logging
âœ… **Paragraph** - Fixed conclusion field, added HTML rendering, added console logging
âœ… **LLM Route** - Updated BlankCard & TitleWithBullets schemas to generate complete HTML (title + content unified)

## How to Test

### 1. Test Individual Templates
Navigate to these test pages to test each template:

**BlankCard Test:**
\`\`\`
http://localhost:3000/tests/test-blank-card
\`\`\`

**TitleWithText Test:**
\`\`\`
http://localhost:3000/tests/test-title-text  
\`\`\`

**TitleWithBullets Test:**
\`\`\`
http://localhost:3000/tests/test-title-bullets
\`\`\`

**Paragraph Test:**
\`\`\`
http://localhost:3000/tests/test-paragraph
\`\`\`

### 2. What to Test

#### A. Bubble Menu Alignment
1. Select any text in the editor
2. Check that the AI icon and separator are properly aligned with other icons
3. **Expected**: All icons should be vertically centered in the bubble menu

#### B. Text Type Conversion (Previously Broken)
1. Select some text
2. Click the text type dropdown (Type icon)
3. Convert text to **Heading 1**, **Heading 2**, or **Heading 3**
4. **Expected**: Text should convert to heading and dropdown should close

#### C. Quote/Blockquote Conversion
1. Select some text  
2. Click text type dropdown
3. Select **Quote** option
4. **Expected**: Text should convert to blockquote format

#### D. Color Changes
1. Select some text
2. Click the palette icon (color selector)
3. Choose a different text color or highlight color
4. **Expected**: Color should apply and persist

#### E. Formatting Persistence (Main Fix)
1. Apply any formatting (headings, colors, bold, italic, etc.)
2. **Check console** - you should see logs like:
   \`\`\`
   ğŸ’¾ BlankCard - Content being saved: <h1>My Heading</h1>
   \`\`\`
3. Refresh the page (Cmd/Ctrl + R)
4. **Expected**: All formatting should be preserved after reload!

### 3. Test with AI-Generated Content

#### Generate New Slides:
1. Go to `/create` 
2. Create a new presentation
3. Let it generate slides
4. **Check console** for LLM responses:
   \`\`\`
   ğŸ¤– LLM Response Data: {
     "title": "Sample Title",
     "content": "<p>This might include <strong>bold</strong> text</p>"
   }
   \`\`\`
5. Edit the generated content with bubble menu
6. **Expected**: Both AI formatting and your edits should persist

### 4. Console Monitoring

Open browser DevTools (F12) and watch for these logs:

**âœ… Good Signs:**
\`\`\`
ğŸ’¾ BlankCard - Content being saved: <h1>My Title</h1>
ğŸ¤– LLM Response Data: {"title": "...", "content": "<p>...</p>"}
\`\`\`

**âŒ Bad Signs:**
\`\`\`
ğŸ’¾ BlankCard - Content being saved: My Title  (no HTML tags)
\`\`\`

### 5. What Should Work Now

#### âœ… Working:
- Bubble menu alignment 
- Text type conversions (H1, H2, H3, Quote)
- Color changes
- Bold, italic, underline formatting
- Formatting persistence after page reload
- AI-generated content preservation

#### âš ï¸ Still Testing:
- Complex templates (multi-column, etc.) - not updated yet
- Mixed content scenarios
- Image + text templates

### 6. Reporting Results

Please test and report:

1. **Bubble Menu**: "âœ… Fixed" or "âŒ Still misaligned"
2. **Heading Conversion**: "âœ… Working" or "âŒ Still broken" 
3. **Color Changes**: "âœ… Working" or "âŒ Still broken"
4. **Persistence**: "âœ… Formatting survives reload" or "âŒ Lost on reload"
5. **Console Logs**: Share any relevant console output
6. **AI Integration**: "âœ… AI content preserved" or "âŒ AI content stripped"

### 7. Next Steps

If tests are successful, we'll update the remaining templates:
- TwoColumns, ThreeColumns, FourColumns
- ImageAndText, TextAndImage
- All Accent templates
- Column templates with headings

### Example Test Sequence

1. Visit `http://localhost:3000/tests/test-title-text`
2. Select the default paragraph text
3. Use bubble menu to convert to "Heading 1"
4. Change color to blue
5. Add some **bold** text
6. Refresh page
7. âœ… Verify: Text is still H1, blue, and bold

### What Should Happen Now:

1. **AI-Generated Content**: LLM now returns rich HTML `<ul><li><strong>formatted</strong> content</li></ul>` instead of plain text arrays
2. **User Edits**: All formatting (headings, colors, bold, italic) should persist after reload
3. **Display**: Rich HTML content renders properly with bullet points, headings, formatting
4. **BubbleMenu**: All icons should be properly aligned
5. **Console Logs**: You'll see detailed logs of rich HTML content being saved

### Expected Console Output:
\`\`\`
ğŸ’¾ TitleWithBullets - Complete content being saved: <h1>Sample Title</h1><ul class="tiptap-bullet-list"><li class="tiptap-list-item"><p><strong>Bold text</strong></p></li><li class="tiptap-list-item"><p><h2>Heading text</h2></p></li></ul>
ğŸ¤– LLM Response Data: {
  "content": "<h1>Introduction to Deep Ocean Ecosystems</h1><ul><li><p><strong>Explore the Vastness:</strong> The deep ocean covers over 60% of Earth's surface</p></li><li><p><strong>Unique Habitats:</strong> Extreme conditions create diverse environments</p></li></ul>"
}
\`\`\`

### New Benefits:
1. **No More Title/Content Separation**: Everything is unified in one content field
2. **True AI Flexibility**: LLM can decide heading levels (H1, H2, H3) and structure
3. **Simpler Templates**: One TiptapEditor for both edit and display modes, much cleaner code
4. **Native HTML Rendering**: TiptapEditor handles all HTML rendering natively (no dangerouslySetInnerHTML)
5. **Future-Proof**: Easy to add new content types since structure is AI-driven
6. **Consistent Behavior**: Same editor instance for edit and read-only modes

Let me know the results! ğŸ§ª 
```

# .cursor/rules/tiptap_migration_steps.md

```md
# Tiptap Migration Steps - COMPLETED Implementation

## âœ… SUCCESSFULLY IMPLEMENTED SOLUTION - FINAL PHASE COMPLETE!

We successfully implemented **Solution 4: AI-First HTML Standardization** with the following changes:

### What We Fixed:
1. **Runtime Error**: Fixed `InvalidCharacterError` caused by newline characters in CSS class strings
2. **Missing Typography Styles**: Added comprehensive CSS styling in `globals.css` instead of relying on `@tailwindcss/typography` plugin
3. **Content Persistence**: Unified content model eliminates HTML stripping that was causing formatting loss
4. **ğŸ¯ FINAL PHASE**: Updated all API schemas and prompts to generate unified content model - **NOW LLM DATA FILLS PROPERLY!**

### ğŸš€ FINAL PHASE COMPLETION: API Schema & Prompt Updates

**Problem Identified**: LLM-generated data wasn't filling into templates because:
- API routes were generating old format (separate `title`, `leftContent`, `rightContent`, etc.)
- Templates now expect single `content` field with complete HTML
- Data flow mismatch causing empty slides

**Solution Implemented**: âœ… **Complete API Migration**
- **Updated ALL 18 schemas** to use unified `content` field with complete HTML structure
- **Updated ALL prompt functions** to generate proper HTML with table-based layouts
- **Added AccentBackgroundSchema** that was missing
- **Ensured consistency** between LLM output and template expectations

### Implementation Details:

#### 1. Fixed TiptapEditor CSS Classes
**File**: `components/editor/TiptapEditor.tsx`
- **Problem**: Multi-line className strings with newlines caused DOM errors
- **Solution**: Converted to single-line class string
- **Before**: 
\`\`\`typescript
return `${baseClasses} prose prose-lg max-w-none 
  prose-headings:font-bold prose-h1:text-3xl...`; // âŒ Newlines cause errors
\`\`\`
- **After**:
\`\`\`typescript
return `${baseClasses} text-base md:text-lg leading-relaxed`; // âœ… Simple, works
\`\`\`

#### 2. Added Comprehensive TiptapEditor Styling
**File**: `app/globals.css`
- **Added**: Complete styling for all TiptapEditor elements:
  - **H1**: 2.25rem, font-weight 700, proper margins
  - **H2**: 1.875rem, font-weight 600, proper margins  
  - **H3**: 1.5rem, font-weight 600, proper margins
  - **Paragraphs**: Proper line-height and spacing
  - **Lists**: Enhanced with line-height for better readability
  - **Blockquotes**: Border-left styling with italic text

#### 3. Architecture: Unified Content Model (Previously Implemented)
- **Single `content` field** instead of title/content separation
- **AI generates complete HTML** structure with headings
- **TiptapEditor handles all rendering** natively
- **No HTML stripping** preserves all formatting

#### 4. ğŸ¯ FINAL PHASE: Complete API Schema Migration
**File**: `app/api/generate-slide/route.ts`

**âœ… Updated ALL 18 Schemas to Unified Content Model:**

1. **Column Layouts** - Now generate complete HTML table structures:
   \`\`\`typescript
   // Before: Separate fields
   { title: string, leftBullets: string[], rightBullets: string[] }
   
   // After: Unified HTML
   { content: string } // Contains complete HTML with table layout
   \`\`\`

2. **Image Templates** - Now generate complete HTML + image prompts:
   \`\`\`typescript
   // Before: Separate fields  
   { title: string, content: string, imagePrompt: string }
   
   // After: Unified HTML
   { content: string, imagePrompt: string } // Content includes title
   \`\`\`

3. **Accent Templates** - Now generate complete HTML structures:
   \`\`\`typescript
   // Before: Optional fields
   { title: string, content?: string, bulletPoints?: string[], imagePrompt: string }
   
   // After: Unified HTML
   { content: string, imagePrompt: string } // Complete structure
   \`\`\`

**âœ… Updated ALL Prompt Functions:**
- **Table-based layouts** for column templates with exact styling
- **Complete HTML structure** generation (h1 + content)
- **Detailed instructions** for maintaining table layout integrity
- **Consistent formatting** across all template types

### Current Working Architecture:
\`\`\`
LLM Route â†’ Complete HTML (unified content) â†’ TiptapEditor (editable/non-editable) â†’ localStorage â†’ Persistent formatting âœ…
\`\`\`

**ğŸ‰ DATA FLOW NOW WORKING PERFECTLY:**
\`\`\`
User Request â†’ API (generates complete HTML) â†’ Template (expects single content field) â†’ TiptapEditor â†’ SUCCESS! âœ…
\`\`\`

## ğŸ“‹ TEMPLATE MIGRATION CHECKLIST

### âœ… Successfully Migrated (Working):
1. **BlankCard.tsx** - âœ… Unified content model, single TiptapEditor
2. **TitleWithBullets.tsx** - âœ… Unified content model, single TiptapEditor  
3. **TitleWithBulletsAndImage.tsx** - âœ… Unified content model, single TiptapEditor
4. **Paragraph.tsx** - âœ… Complete migration to unified content model
5. **TitleWithText.tsx** - âœ… Complete migration to unified content model
6. **AccentBackground.tsx** - âœ… Migrated with gradient background styling
7. **AccentLeft.tsx** - âœ… Migrated with left accent panel layout
8. **AccentRight.tsx** - âœ… Migrated with right accent panel layout
9. **AccentTop.tsx** - âœ… Migrated with top accent panel layout
10. **Bullets.tsx** - âœ… Migrated with HTML table-based 2x2 numbered grid
11. **TwoColumns.tsx** - âœ… Migrated with HTML table-based two-column layout
12. **TwoColumnWithHeadings.tsx** - âœ… Migrated with HTML table-based styled column headings
13. **ThreeColumns.tsx** - âœ… Migrated with HTML table-based three-column layout
14. **ThreeColumnWithHeadings.tsx** - âœ… Migrated with HTML table-based three-column with styled headings
15. **FourColumns.tsx** - âœ… Migrated with HTML table-based four-column layout
16. **FourColumnsWithHeadings.tsx** - âœ… Migrated with HTML table-based four-column with styled headings
17. **ImageAndText.tsx** - âœ… Migrated with unified content model, preserving image functionality
18. **TextAndImage.tsx** - âœ… Migrated with unified content model, preserving image functionality

### ğŸ‰ MIGRATION COMPLETE - FINAL PHASE ACHIEVED!

**ğŸ¯ All API Schemas Updated:** âœ… 18/18 schemas converted to unified content model  
**ğŸ¯ All Prompts Updated:** âœ… 18/18 prompts generate complete HTML structures  
**ğŸ¯ LLM Data Fills Properly:** âœ… No more empty slides - data flows correctly!

### ğŸ¯ Migration Pattern for All Templates:

#### Step 1: Update Component Props Interface
\`\`\`typescript
// Before
interface Props {
  title: string;
  content: string; // or bulletPoints, etc.
  // ... other fields
}

// After  
interface Props {
  content: string; // Single unified content field
  // ... other fields (keep images, etc.)
}
\`\`\`

#### Step 2: Replace Template JSX
\`\`\`typescript
// Before - Multiple elements with HTML stripping
<div>
  <h1>{title.replace(/<[^>]*>/g, '')}</h1>
  <p>{content.replace(/<[^>]*>/g, '')}</p>
</div>

// After - Single TiptapEditor
<TiptapEditor
  content={content}
  onChange={(newContent) => updateSlide(slide.id, { content: newContent })}
  className="w-full"
  editable={isEditing}
/>
\`\`\`

#### Step 3: Update API Schemas âœ… **COMPLETED**
\`\`\`typescript
// Updated schemas to generate complete HTML structure
const ExampleSchema = z.object({
  content: z.string().describe("Complete HTML structure with headings, content, etc.")
  // Removed separate title, bulletPoints, etc. fields
});
\`\`\`

## ğŸš€ MIGRATION BENEFITS ACHIEVED

### Before Issues:
- âŒ HTML stripping removed all formatting
- âŒ Title/content separation added complexity  
- âŒ Formatting didn't persist after reload
- âŒ CSS Grid limitations for rich text editing
- âŒ Complex CSS targeting internal classes
- âŒ Missing typography styling
- âŒ **LLM data not filling into templates**

### After Benefits:
- âœ… **Perfect formatting persistence** - all rich text preserved
- âœ… **Simplified architecture** - single content field
- âœ… **AI-friendly** - LLM generates complete HTML structure
- âœ… **Native TiptapEditor usage** - works as designed
- âœ… **Table-based columns** - much more robust for rich text editing
- âœ… **Typography plugin integration** - professional text styling
- âœ… **100% template coverage** - all 18 templates migrated successfully
- âœ… **ğŸ‰ LLM DATA FILLS PERFECTLY** - complete data flow working!

## ğŸ¯ ADDITIONAL IMPROVEMENTS IMPLEMENTED

### Table-Based Column Layouts ğŸ—ï¸
- **Replaced CSS Grid with HTML Tables** for all column layouts (2, 3, and 4 columns)
- **TiptapEditor Native Table Support** added with Table, TableRow, TableHeader, TableCell extensions
- **Invisible Borders** using CSS to create seamless column appearance
- **Better Rich Text Editing** in column layouts - users can now edit directly within columns

### Typography Plugin Integration ğŸ“
- **Installed @tailwindcss/typography** for enhanced text styling
- **Updated TiptapEditor** to use `prose` classes with proper customization
- **Maintained Consistency** between manual CSS and prose styling
- **Better Typography** for all text elements across all templates

### Enhanced Content Architecture ğŸ”§
- **Complete HTML Structure** in defaultContent for all templates
- **Realistic Examples** with meaningful placeholder content
- **Rich Text Support** throughout - headings, lists, styled text, etc.
- **Native TiptapEditor Rendering** eliminates need for dangerouslySetInnerHTML

### ğŸ¯ FINAL PHASE: Complete API Integration âš¡
- **All 18 API Schemas Updated** to unified content model
- **All 18 Prompt Functions Updated** to generate proper HTML
- **Perfect Data Flow** from LLM â†’ Template â†’ TiptapEditor
- **No More Empty Slides** - LLM data fills correctly every time!

### Migration Benefits Achieved âœ¨
- **Perfect Formatting Persistence** âœ…
- **Table-Based Responsive Columns** âœ… 
- **Typography Plugin Integration** âœ…
- **100% Template Coverage** âœ…
- **Unified Architecture** âœ…
- **Enhanced User Experience** âœ…
- **ğŸš€ PERFECT LLM DATA INTEGRATION** âœ…

## ğŸ“Š PROGRESS TRACKING - MISSION ACCOMPLISHED!

- **Total Templates**: 18
- **Migrated**: 18 âœ…
- **API Schemas Updated**: 18 âœ…  
- **Prompt Functions Updated**: 18 âœ…
- **Remaining**: 0 ğŸ‰
- **Success Rate**: 100% (all templates + API working perfectly)
- **Progress**: 100% Complete + Final Phase Achieved! ğŸš€

---

## Technical Implementation Notes

### CSS Strategy That Works:
- **Direct CSS targeting** `.tiptap-editor` classes in `globals.css`
- **No dependency** on `@tailwindcss/typography` plugin
- **Comprehensive coverage** of all TiptapEditor elements
- **Proper inheritance** using `color: inherit` for theme compatibility

### Content Flow That Works:
\`\`\`
User/AI â†’ LLM API (unified HTML) â†’ Template (single content field) â†’ TiptapEditor (render natively) â†’ getHTML() â†’ localStorage â†’ Reload â†’ HTML Content â†’ Success! ğŸ‰
\`\`\`

### Final Data Flow Achievement:
\`\`\`
Generate Slide Request â†’ Updated API Schema â†’ Complete HTML Content â†’ Unified Template â†’ TiptapEditor â†’ Perfect Display â†’ Persistent Storage â†’ Reload Success! ğŸš€
\`\`\`

This approach aligns with TiptapEditor's intended usage and provides a much more robust foundation for the application. **The final phase ensures that LLM-generated content fills properly into all templates, completing the migration successfully!**

```

# .eslintrc.json

```json
{
  "extends": "next/core-web-vitals"
}

```

# .gitignore

```
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.js

# testing
/coverage

# next.js
/.next/
/out/

# production
/build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# local env files
.env
.env*.local

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts

```

# app/api/ai-text-completion/route.ts

```ts
import { createAzure } from '@ai-sdk/azure';
import { streamText } from 'ai';

export const dynamic = 'force-dynamic';

// Configure Azure OpenAI - using resourceName pattern that works with AI SDK
const azureOpenAI = createAzure({
  apiKey: process.env.AZURE_OPENAI_API_KEY || process.env.AZURE_API_KEY,
  apiVersion: '2025-01-01-preview',
  resourceName: process.env.AZURE_RESOURCE_NAME,
});

export async function POST(req: Request) {
  try {
    const { text, command, option } = await req.json();

    let systemPrompt = '';
    let userPrompt = '';

    switch (command) {
      case 'improve':
        systemPrompt = 'You are a professional writing assistant. Improve the given text to make it more clear, engaging, and impactful while maintaining the original meaning and tone.';
        userPrompt = `Improve this text: "${text}"`;
        break;
      
      case 'fix':
        systemPrompt = 'You are a grammar and language expert. Fix any grammar, spelling, punctuation, or style issues in the given text while maintaining the original meaning.';
        userPrompt = `Fix the grammar and language issues in this text: "${text}"`;
        break;
      
      case 'shorter':
        systemPrompt = 'You are a professional editor. Make the given text more concise and to-the-point while preserving all key information and meaning.';
        userPrompt = `Make this text shorter and more concise: "${text}"`;
        break;
      
      case 'longer':
        systemPrompt = 'You are a professional writer. Expand the given text with relevant details, examples, or explanations to make it more comprehensive and engaging.';
        userPrompt = `Expand this text with more detail and context: "${text}"`;
        break;
      
      case 'continue':
        systemPrompt = 'You are a professional writer. Continue the given text naturally, maintaining the same tone, style, and context. Write 1-3 sentences that logically follow.';
        userPrompt = `Continue writing from where this text left off: "${text}"`;
        break;
      
      case 'zap':
        systemPrompt = 'You are a helpful writing assistant. Follow the user\'s specific instructions to modify or work with the given text.';
        userPrompt = `Text: "${text}"\n\nInstructions: ${option}`;
        break;
      
      default:
        systemPrompt = 'You are a helpful writing assistant. Improve the given text based on the user\'s request.';
        userPrompt = `${command}: "${text}"`;
    }

    const result = await streamText({
      model: azureOpenAI('gpt-4o-mini'),
      system: systemPrompt,
      prompt: userPrompt,
      temperature: 0.7,
      maxTokens: 1000,
    });

    return result.toDataStreamResponse();
  } catch (error) {
    console.error('Error in AI text completion:', error);
    return new Response(
      JSON.stringify({ error: 'Failed to generate completion' }),
      { 
        status: 500,
        headers: { 'Content-Type': 'application/json' }
      }
    );
  }
} 
```

# app/api/generate-image/route.ts

```ts
import { replicate } from '@ai-sdk/replicate';
import { experimental_generateImage as generateImage } from 'ai';

export const dynamic = 'force-dynamic';

export async function POST(req: Request) {
  try {
    console.log('ğŸ¨ Image generation request received');
    
    const { prompt, templateType, theme, imageStyle } = await req.json();
    console.log('ğŸ“ Prompt:', prompt);
    console.log('ğŸ¯ Template Type:', templateType);
    console.log('ğŸ¨ Theme:', theme);
    console.log('ğŸ–Œï¸ Image Style:', imageStyle);

    if (!prompt) {
      console.log('âŒ No prompt provided');
      return Response.json({ error: 'Prompt is required' }, { status: 400 });
    }

    // Check if REPLICATE_API_TOKEN is configured
    if (!process.env.REPLICATE_API_TOKEN) {
      console.log('âŒ REPLICATE_API_TOKEN not configured');
      return Response.json(
        { error: 'REPLICATE_API_TOKEN environment variable is not configured' },
        { status: 500 }
      );
    }

    console.log('âœ… REPLICATE_API_TOKEN is configured');
    
    // Determine aspect ratio based on template type
    let aspectRatio: '16:9' | '9:16' | '1:1' | '3:2' | '2:3' = '16:9';
    
    if (templateType === 'accent-left' || templateType === 'accent-right') {
      aspectRatio = '2:3'; // Vertical aspect ratio for side images
    } else if (templateType === 'accent-top') {
      aspectRatio = '16:9'; // Wide aspect ratio for top images
    } else if (templateType === 'accent-background') {
      aspectRatio = '16:9'; // Wide aspect ratio for background images
    }
    
    console.log('ğŸ“ Using aspect ratio:', aspectRatio);

    // Generate theme-based style description
    let themeStylePrompt = '';
    if (theme) {
      const themeColorMap: Record<string, string> = {
        'gradient-sunset': 'warm sunset colors, orange pink red yellow gradients, vibrant warm tones',
        'gradient-ocean': 'ocean blue teal colors, cool blue cyan gradients, oceanic tones',
        'gradient-forest': 'forest green teal colors, natural green gradients, earthy tones',
        'gradient-fire': 'fire orange red colors, hot pink orange gradients, energetic warm tones',
        'gradient-aurora': 'aurora purple pink colors, mystical purple gradients, ethereal tones',
        'gradient-cosmic': 'cosmic deep blue purple colors, space-like dark gradients, mysterious tones',
        'gradient-tropical': 'tropical pink blue colors, vibrant tropical gradients, bright cheerful tones',
        'gradient-neon': 'neon green cyan colors, electric bright gradients, high-energy tones',
        'gradient-volcano': 'volcano red orange colors, lava-like red gradients, intense warm tones',
        'gradient-electric': 'electric purple blue colors, lightning-like gradients, dynamic tones',
        'gradient-rainbow': 'rainbow multicolor, all spectrum colors, vibrant diverse tones',
        'solid-midnight': 'dark midnight navy colors, deep blue black tones, elegant dark colors',
        'solid-snow': 'clean white light colors, minimal bright tones, pure fresh colors',
        'solid-emerald': 'emerald green colors, rich forest green tones, luxurious green colors',
        'solid-ruby': 'ruby red colors, deep crimson red tones, rich red colors',
        'solid-amber': 'amber orange colors, warm golden orange tones, rich amber colors'
      };
      
      themeStylePrompt = themeColorMap[theme] || 'modern contemporary colors';
    }

    // Build enhanced prompt with theme and style
    let enhancedPrompt = prompt;
    
    // Add theme styling if available
    if (themeStylePrompt) {
      enhancedPrompt += `, ${themeStylePrompt}`;
    }
    
    // Add custom image style if provided
    if (imageStyle && imageStyle.trim()) {
      enhancedPrompt += `, ${imageStyle.trim()}`;
    }
    
    // Add base styling
    enhancedPrompt += ', professional presentation style, clean, modern, high quality';
    
    console.log('ğŸš€ Enhanced prompt:', enhancedPrompt);

    // Generate image using Replicate Flux Schnell
    console.log('ğŸ”„ Starting image generation...');
    const { image } = await generateImage({
      model: replicate.image('black-forest-labs/flux-schnell'),
      prompt: enhancedPrompt,
      aspectRatio: aspectRatio,
    });

    console.log('âœ… Image generated successfully');
    console.log('ğŸ“Š Image details:', {
      hasBase64: !!image.base64,
      base64Length: image.base64?.length || 0,
      hasUint8Array: !!image.uint8Array,
      uint8ArrayLength: image.uint8Array?.length || 0
    });

    // Convert to data URL for easy use in img tags
    const imageUrl = `data:image/png;base64,${image.base64}`;
    console.log('ğŸ–¼ï¸ Image URL created, length:', imageUrl.length);

    const response = { 
      imageUrl,
      prompt: enhancedPrompt
    };

    console.log('âœ… Sending successful response');
    return Response.json(response);

  } catch (error) {
    console.error('âŒ Image generation failed:', error);
    console.error('Error details:', {
      message: error instanceof Error ? error.message : 'Unknown error',
      stack: error instanceof Error ? error.stack : undefined
    });
    
    return Response.json(
      { error: 'Failed to generate image', details: error instanceof Error ? error.message : 'Unknown error' },
      { status: 500 }
    );
  }
}
```

# app/api/generate-outline/route.ts

```ts
import { createGroq } from '@ai-sdk/groq';
import { generateObject } from 'ai';
import { z } from 'zod';

export const dynamic = 'force-dynamic';

// Configure Groq with Llama 4 Scout
const groq = createGroq({
  apiKey: process.env.GROQ_API_KEY,
});

const modelName = 'meta-llama/llama-4-scout-17b-16e-instruct';

const OutlineSchema = z.object({
  title: z.string().describe('A compelling, professional title for the presentation'),
  sections: z.array(
    z.object({
      title: z.string().describe('Section title that clearly describes the main topic'),
      bulletPoints: z.array(z.string()).describe('3-4 concise, actionable bullet points that support the section title'),
      templateType: z.enum([
        'blank-card',
        'bullets',
        'paragraph',
        'image-and-text',
        'text-and-image',
        'two-columns',
        'two-column-with-headings',
        'three-columns',
        'three-column-with-headings',
        'four-columns',
        'four-columns-with-headings',
        'title-with-bullets',
        'title-with-bullets-and-image',
        'title-with-text',
        'accent-left',
        'accent-right',
        'accent-top'
      ]).describe('Template type that best fits the content and purpose of this section')
    })
  ).describe('Array of presentation sections with supporting bullet points and template types')
});

// Template selection logic based on content analysis and variety
function selectTemplateType(title: string, bulletPoints: string[], index: number, totalSections: number, usedTemplates: string[] = []): string {
  const titleLower = title.toLowerCase();
  const contentText = (title + ' ' + bulletPoints.join(' ')).toLowerCase();
  
  // Available templates for variety
  const allTemplates = [
    'blank-card',
    'bullets',
    'paragraph',
    'image-and-text',
    'text-and-image',
    'two-columns',
    'two-column-with-headings',
    'three-columns',
    'three-column-with-headings',
    'four-columns',
    'four-columns-with-headings',
    'title-with-bullets',
    'title-with-bullets-and-image',
    'title-with-text',
    'accent-left',
    'accent-right',
    'accent-top'
  ];
  
  // Enhanced variety logic - prioritize unused templates first
  const templateCounts: { [key: string]: number } = {};
  usedTemplates.forEach(template => {
    templateCounts[template] = (templateCounts[template] || 0) + 1;
  });
  
  // Get unused templates first
  const unusedTemplates = allTemplates.filter(template => !templateCounts[template]);
  
  // Determine suitable templates based on content
  let suitableTemplates: string[] = [];
  
  // Image-heavy content
  if (contentText.includes('image') || contentText.includes('visual') || contentText.includes('photo') || 
      contentText.includes('picture') || contentText.includes('diagram') || contentText.includes('chart') ||
      contentText.includes('example') || contentText.includes('case study') || 
      contentText.includes('demonstration') || contentText.includes('showcase')) {
    suitableTemplates.push('image-and-text', 'text-and-image', 'title-with-bullets-and-image', 'accent-left', 'accent-right', 'accent-top');
  }
  
  // Comparison or contrasting content
  if (contentText.includes('vs') || contentText.includes('versus') || 
      contentText.includes('comparison') || contentText.includes('difference') ||
      contentText.includes('before') || contentText.includes('after') ||
      contentText.includes('pros') || contentText.includes('cons')) {
    suitableTemplates.push('two-column-with-headings', 'two-columns');
  }
  
  // Categorized or structured content
  if (contentText.includes('type') || contentText.includes('category') || 
      contentText.includes('aspect') || contentText.includes('approach') ||
      contentText.includes('step') || contentText.includes('phase') ||
      contentText.includes('component') || contentText.includes('element')) {
    if (bulletPoints.length >= 4) {
      suitableTemplates.push('four-columns-with-headings', 'four-columns');
    } else if (bulletPoints.length === 3) {
      suitableTemplates.push('three-column-with-headings', 'three-columns');
    } else if (bulletPoints.length === 2) {
      suitableTemplates.push('two-column-with-headings', 'two-columns');
    }
  }
  
  // Content that works well as numbered bullets or paragraphs
  if (contentText.includes('benefit') || contentText.includes('advantage') || 
      contentText.includes('reason') || contentText.includes('point') ||
      contentText.includes('key') || contentText.includes('important') ||
      contentText.includes('main') || contentText.includes('primary')) {
    suitableTemplates.push('bullets', 'title-with-bullets');
  }
  
  // Content that works well as short text or paragraphs
  if (contentText.includes('strategy') || contentText.includes('process') || 
      contentText.includes('methodology') || contentText.includes('framework') ||
      contentText.includes('analysis') || contentText.includes('overview') ||
      contentText.includes('summary') || contentText.includes('conclusion') ||
      contentText.includes('explanation') || contentText.includes('description') ||
      contentText.includes('background') || contentText.includes('context') ||
      contentText.includes('definition') || contentText.includes('concept')) {
    suitableTemplates.push('paragraph', 'title-with-bullets', 'title-with-text');
  }
  
  // Multi-item content based on bullet count
  if (bulletPoints.length >= 4) {
    suitableTemplates.push('four-columns', 'four-columns-with-headings', 'bullets', 'title-with-bullets');
  } else if (bulletPoints.length === 3) {
    suitableTemplates.push('three-columns', 'three-column-with-headings', 'bullets', 'title-with-bullets');
  } else if (bulletPoints.length === 2) {
    suitableTemplates.push('two-columns', 'two-column-with-headings', 'title-with-bullets');
  } else if (bulletPoints.length === 1) {
    suitableTemplates.push('paragraph', 'title-with-bullets');
  }
  
  // If no suitable templates found, use all templates
  if (suitableTemplates.length === 0) {
    suitableTemplates = [...allTemplates];
  }
  
  // Remove duplicates
  suitableTemplates = Array.from(new Set(suitableTemplates));
  
  // PRIORITY 1: Use unused templates that are suitable for content
  const unusedSuitableTemplates = suitableTemplates.filter(template => unusedTemplates.includes(template));
  if (unusedSuitableTemplates.length > 0) {
    return unusedSuitableTemplates[Math.floor(Math.random() * unusedSuitableTemplates.length)];
  }
  
  // PRIORITY 2: Use any unused template if no suitable unused ones
  if (unusedTemplates.length > 0) {
    return unusedTemplates[Math.floor(Math.random() * unusedTemplates.length)];
  }
  
  // PRIORITY 3: Apply strict variety logic for used templates
  const availableTemplates = suitableTemplates.filter(template => {
    // Don't use the same template as the previous slide
    if (index > 0 && usedTemplates[index - 1] === template) return false;
    
    // For longer presentations, avoid using the same template too frequently
    if (totalSections > 5) {
      const recentlyUsed = usedTemplates.slice(Math.max(0, index - 3), index);
      if (recentlyUsed.includes(template)) return false;
    }
    
    return true;
  });
  
  // If we filtered out all templates, use the suitable ones
  const finalTemplates = availableTemplates.length > 0 ? availableTemplates : suitableTemplates;
  
  // PRIORITY 4: Strategic selection based on position
  if (index === 0) {
    // First slide - prefer visually striking templates
    const firstSlidePreferred = finalTemplates.filter(t => 
      ['title-with-bullets-and-image', 'image-and-text', 'text-and-image', 'bullets', 'accent-left', 'accent-right', 'accent-top'].includes(t)
    );
    if (firstSlidePreferred.length > 0) {
      return firstSlidePreferred[Math.floor(Math.random() * firstSlidePreferred.length)];
    }
  }
  
  if (index === totalSections - 1) {
    // Last slide - prefer summary-friendly templates
    const lastSlidePreferred = finalTemplates.filter(t => 
      ['title-with-bullets', 'bullets', 'paragraph', 'two-columns', 'three-columns'].includes(t)
    );
    if (lastSlidePreferred.length > 0) {
      return lastSlidePreferred[Math.floor(Math.random() * lastSlidePreferred.length)];
    }
  }
  
  // PRIORITY 5: For middle slides, prefer least-used templates
  if (totalSections > 3) {
    // Sort templates by usage count (ascending)
    const sortedByUsage = finalTemplates.sort((a, b) => {
      const countA = templateCounts[a] || 0;
      const countB = templateCounts[b] || 0;
      return countA - countB;
    });
    
    // Use the least used template(s)
    const minUsage = templateCounts[sortedByUsage[0]] || 0;
    const leastUsedTemplates = sortedByUsage.filter(template => 
      (templateCounts[template] || 0) === minUsage
    );
    
    if (leastUsedTemplates.length > 0) {
      return leastUsedTemplates[Math.floor(Math.random() * leastUsedTemplates.length)];
    }
  }
  
  // Final fallback - random selection from available templates
  return finalTemplates[Math.floor(Math.random() * finalTemplates.length)];
}

export async function POST(req: Request) {
  try {
    const { prompt, cardCount, style, language } = await req.json();

    if (!prompt) {
      return Response.json({ error: 'Prompt is required' }, { status: 400 });
    }

    // Map style to writing tone
    const styleMap: Record<string, string> = {
      'default': 'professional and clear',
      'modern': 'contemporary and engaging',
      'minimal': 'concise and focused',
      'creative': 'innovative and inspiring'
    };

    // Map language to instruction
    const languageMap: Record<string, string> = {
      'en': 'English',
      'es': 'Spanish',
      'fr': 'French',
      'de': 'German'
    };

    const writingStyle = styleMap[style] || 'professional and clear';
    const targetLanguage = languageMap[language] || 'English';

    const systemPrompt = `You are an expert presentation designer and content strategist. Create a comprehensive, well-structured presentation outline that is ${writingStyle} in tone and written in ${targetLanguage}.

CRITICAL GUIDELINES FOR PRESENTATION CONTENT:
- Generate exactly ${cardCount} sections for the presentation
- Each section should have a clear, descriptive title (max 8-10 words)
- Include 3-4 bullet points per section that are SUCCINCT and presentation-ready
- Each bullet point should be 1-2 lines maximum - NOT paragraphs
- Focus on key insights that can be quickly read and understood on a slide
- Ensure logical flow and progression between sections
- Make content engaging but CONCISE for visual presentation
- Avoid long sentences or complex explanations in bullet points
- Use active voice and strong, impactful language
- Each bullet should be a complete thought but brief enough for slides
- Prioritize clarity and visual readability over detailed explanations

TEMPLATE VARIETY REQUIREMENTS:
- Maximize template diversity across all slides
- Avoid repeating the same template type when possible
- Use the full range of available templates to create visual interest
- Consider content suitability but prioritize template variety

Remember: This is for SLIDE presentations - content must be scannable and visually digestible, not essay-like.

The outline should create a compelling ${cardCount}-slide presentation with maximum visual variety.`;

    const { object } = await generateObject({
      model: groq(modelName),
      system: systemPrompt,
      prompt: `Create a presentation outline for: "${prompt}"`,
      schema: OutlineSchema,
    });

    // Add template types and IDs to sections
    const usedTemplates: string[] = [];
    const sectionsWithTemplates = object.sections.map((section, index) => {
      const templateType = section.templateType || selectTemplateType(
        section.title, 
        section.bulletPoints, 
        index, 
        object.sections.length,
        usedTemplates
      );
      
      usedTemplates.push(templateType);
      
      return {
        ...section,
        id: `section-${index + 1}`,
        templateType
      };
    });

    const finalObject = {
      ...object,
      sections: sectionsWithTemplates
    };

    console.log('Generated outline:', JSON.stringify(finalObject, null, 2));
    
    return Response.json(finalObject);

  } catch (error) {
    console.error('Error generating outline:', error);
    return Response.json(
      { error: 'Failed to generate outline' },
      { status: 500 }
    );
  }
}
```

# app/api/generate-slide/route.ts

```ts
import { createGroq } from '@ai-sdk/groq';
import { generateObject } from 'ai';
import { z } from 'zod';

export const dynamic = 'force-dynamic';

// Configure Groq with Llama 4 Scout
const groq = createGroq({
  apiKey: process.env.GROQ_API_KEY,
});

const modelName = 'meta-llama/llama-4-scout-17b-16e-instruct';

// Define schemas for different slide templates
const BlankCardSchema = z.object({
  content: z.string().describe('Complete HTML content starting with a heading (h1, h2, or h3) followed by the main content. Use appropriate formatting like <p>, <strong>, <em>, or additional headings. Structure: <h1>Title</h1><p>Content description...</p>'),
});

const ImageAndTextSchema = z.object({
  content: z.string().describe('Complete HTML content with h1 title followed by paragraphs and/or bullet points that complement the image. Structure: <h1>Title</h1><p>Description text...</p><ul><li>Key point 1</li><li>Key point 2</li></ul>'),
  imagePrompt: z.string().describe('Detailed prompt for generating an image that complements the content'),
});

const TextAndImageSchema = z.object({
  content: z.string().describe('Complete HTML content with h1 title followed by paragraphs and/or bullet points that complement the image. Structure: <h1>Title</h1><p>Description text...</p><ul><li>Key point 1</li><li>Key point 2</li></ul>'),
  imagePrompt: z.string().describe('Detailed prompt for generating an image that complements the content'),
});

const TwoColumnsSchema = z.object({
  content: z.string().describe('Complete HTML content with h1 title and table-based two-column layout. Structure: <h1>Title</h1><table style="width: 100%; border-collapse: collapse; margin-top: 2rem;"><tr><td style="width: 50%; padding: 0 1.5rem 0 0; vertical-align: top;"><h3>Left Column</h3><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 50%; padding: 0 0 0 1.5rem; vertical-align: top;"><h3>Right Column</h3><ul><li>Point 1</li><li>Point 2</li></ul></td></tr></table>'),
});

const TwoColumnWithHeadingsSchema = z.object({
  content: z.string().describe('Complete HTML content with h1 title and table-based two-column layout with styled headings. Structure: <h1>Title</h1><table style="width: 100%; border-collapse: collapse; margin-top: 2rem;"><tr><td style="width: 50%; padding: 0 1.5rem 0 0; vertical-align: top;"><h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Left Heading</h2><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 50%; padding: 0 0 0 1.5rem; vertical-align: top;"><h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Right Heading</h2><ul><li>Point 1</li><li>Point 2</li></ul></td></tr></table>'),
});

const ThreeColumnsSchema = z.object({
  content: z.string().describe('Complete HTML content with h1 title and table-based three-column layout. Structure: <h1>Title</h1><table style="width: 100%; border-collapse: collapse; margin-top: 2rem;"><tr><td style="width: 33.33%; padding: 0 1rem 0 0; vertical-align: top;"><h3>Column 1</h3><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 33.33%; padding: 0 0.5rem; vertical-align: top;"><h3>Column 2</h3><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 33.33%; padding: 0 0 0 1rem; vertical-align: top;"><h3>Column 3</h3><ul><li>Point 1</li><li>Point 2</li></ul></td></tr></table>'),
});

const ThreeColumnWithHeadingsSchema = z.object({
  content: z.string().describe('Complete HTML content with h1 title and table-based three-column layout with styled headings. Structure: <h1>Title</h1><table style="width: 100%; border-collapse: collapse; margin-top: 2rem;"><tr><td style="width: 33.33%; padding: 0 1rem 0 0; vertical-align: top;"><h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Column 1 Heading</h2><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 33.33%; padding: 0 0.5rem; vertical-align: top;"><h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Column 2 Heading</h2><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 33.33%; padding: 0 0 0 1rem; vertical-align: top;"><h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Column 3 Heading</h2><ul><li>Point 1</li><li>Point 2</li></ul></td></tr></table>'),
});

const FourColumnsSchema = z.object({
  content: z.string().describe('Complete HTML content with h1 title and table-based four-column layout. Structure: <h1>Title</h1><table style="width: 100%; border-collapse: collapse; margin-top: 2rem;"><tr><td style="width: 25%; padding: 0 0.75rem 0 0; vertical-align: top;"><h3>Column 1</h3><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 25%; padding: 0 0.375rem; vertical-align: top;"><h3>Column 2</h3><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 25%; padding: 0 0.375rem; vertical-align: top;"><h3>Column 3</h3><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 25%; padding: 0 0 0 0.75rem; vertical-align: top;"><h3>Column 4</h3><ul><li>Point 1</li><li>Point 2</li></ul></td></tr></table>'),
});

const FourColumnsWithHeadingsSchema = z.object({
  content: z.string().describe('Complete HTML content with h1 title and table-based four-column layout with styled headings. Structure: <h1>Title</h1><table style="width: 100%; border-collapse: collapse; margin-top: 2rem;"><tr><td style="width: 25%; padding: 0 0.75rem 0 0; vertical-align: top;"><h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Column 1</h2><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 25%; padding: 0 0.375rem; vertical-align: top;"><h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Column 2</h2><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 25%; padding: 0 0.375rem; vertical-align: top;"><h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Column 3</h2><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 25%; padding: 0 0 0 0.75rem; vertical-align: top;"><h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Column 4</h2><ul><li>Point 1</li><li>Point 2</li></ul></td></tr></table>'),
});

const BulletsSchema = z.object({
  content: z.string().describe('Complete HTML content with h1 title and table-based 2x2 grid layout for numbered bullet points. Structure: <h1>Title</h1><table style="width: 100%; border-collapse: collapse; margin-top: 2rem;"><tr><td style="width: 50%; padding: 0 1rem 1rem 0; vertical-align: top;"><h3><span style="display: inline-flex; align-items: center; justify-content: center; width: 2rem; height: 2rem; background: #8b5cf6; color: white; border-radius: 50%; font-weight: bold; margin-right: 0.75rem;">1</span>Point Title</h3><p>Description</p></td><td style="width: 50%; padding: 0 0 1rem 1rem; vertical-align: top;"><h3><span style="display: inline-flex; align-items: center; justify-content: center; width: 2rem; height: 2rem; background: #8b5cf6; color: white; border-radius: 50%; font-weight: bold; margin-right: 0.75rem;">2</span>Point Title</h3><p>Description</p></td></tr><tr><td style="width: 50%; padding: 1rem 1rem 0 0; vertical-align: top;"><h3><span style="display: inline-flex; align-items: center; justify-content: center; width: 2rem; height: 2rem; background: #8b5cf6; color: white; border-radius: 50%; font-weight: bold; margin-right: 0.75rem;">3</span>Point Title</h3><p>Description</p></td><td style="width: 50%; padding: 1rem 0 0 1rem; vertical-align: top;"><h3><span style="display: inline-flex; align-items: center; justify-content: center; width: 2rem; height: 2rem; background: #8b5cf6; color: white; border-radius: 50%; font-weight: bold; margin-right: 0.75rem;">4</span>Point Title</h3><p>Description</p></td></tr></table><hr style="margin: 2rem 0; border: 1px solid #e5e7eb;" /><p><strong>Conclusion:</strong> Summary content</p>'),
});

const ParagraphSchema = z.object({
  content: z.string().describe('Complete HTML content with h1 title followed by multiple sections with h2 headings and paragraphs. Structure: <h1>Title</h1><h2>Section 1</h2><p>Paragraph 1</p><p>Paragraph 2</p><h2>Section 2</h2><p>Paragraph 1</p><p>Paragraph 2</p><h2>Conclusion</h2><p>Concluding thoughts</p>'),
});

const TitleWithBulletsSchema = z.object({
  content: z.string().describe('Complete HTML content starting with a heading (h1, h2, or h3) followed by formatted bullet points using <ul> and <li> tags (3-5 points). Include formatting like <strong>, <em>, or additional heading tags if appropriate for emphasis. Structure: <h1>Title</h1><ul><li><p>Point 1</p></li>...</ul>'),
});

const TitleWithBulletsAndImageSchema = z.object({
  content: z.string().describe('Complete HTML content starting with h1 title followed by formatted bullet points using <ul> and <li> tags (3-4 points). Include formatting like <strong>, <em> for emphasis. Structure: <h1>Title</h1><ul><li>Point 1</li><li>Point 2</li></ul>'),
  imagePrompt: z.string().describe('Detailed prompt for generating an image that complements the content'),
});

const TitleWithTextSchema = z.object({
  content: z.string().describe('Complete HTML content starting with h1 title followed by paragraph content (3-5 sentences maximum). Structure: <h1>Title</h1><p>Short paragraph content...</p>'),
});

const AccentLeftSchema = z.object({
  content: z.string().describe('Complete HTML content starting with h1 title followed by paragraphs and/or bullet points. Choose the format that best fits the content. Structure: <h1>Title</h1><p>Content...</p> or <h1>Title</h1><ul><li>Point 1</li><li>Point 2</li></ul>'),
  imagePrompt: z.string().describe('Detailed prompt for generating an image that complements the content'),
});

const AccentRightSchema = z.object({
  content: z.string().describe('Complete HTML content starting with h1 title followed by paragraphs and/or bullet points. Choose the format that best fits the content. Structure: <h1>Title</h1><p>Content...</p> or <h1>Title</h1><ul><li>Point 1</li><li>Point 2</li></ul>'),
  imagePrompt: z.string().describe('Detailed prompt for generating an image that complements the content'),
});

const AccentTopSchema = z.object({
  content: z.string().describe('Complete HTML content starting with h1 title followed by paragraphs and/or bullet points. Choose the format that best fits the content. Structure: <h1>Title</h1><p>Content...</p> or <h1>Title</h1><ul><li>Point 1</li><li>Point 2</li></ul>'),
  imagePrompt: z.string().describe('Detailed prompt for generating an image that complements the content'),
});

const AccentBackgroundSchema = z.object({
  content: z.string().describe('Complete HTML content starting with h1 title followed by paragraphs and/or bullet points. Choose the format that best fits the content. Structure: <h1>Title</h1><p>Content...</p> or <h1>Title</h1><ul><li>Point 1</li><li>Point 2</li></ul>'),
  imagePrompt: z.string().describe('Detailed prompt for generating a background image that complements the content'),
});

function getSchemaForTemplate(templateType: string): z.ZodType<any> {
  switch (templateType) {
    case 'blank-card':
      return BlankCardSchema;
    case 'image-and-text':
      return ImageAndTextSchema;
    case 'text-and-image':
      return TextAndImageSchema;
    case 'two-columns':
      return TwoColumnsSchema;
    case 'two-column-with-headings':
      return TwoColumnWithHeadingsSchema;
    case 'three-columns':
      return ThreeColumnsSchema;
    case 'three-column-with-headings':
      return ThreeColumnWithHeadingsSchema;
    case 'four-columns':
      return FourColumnsSchema;
    case 'four-columns-with-headings':
      return FourColumnsWithHeadingsSchema;
    case 'title-with-bullets':
      return TitleWithBulletsSchema;
    case 'title-with-bullets-and-image':
      return TitleWithBulletsAndImageSchema;
    case 'title-with-text':
      return TitleWithTextSchema;
    case 'bullets':
      return BulletsSchema;
    case 'paragraph':
      return ParagraphSchema;
    case 'accent-left':
      return AccentLeftSchema;
    case 'accent-right':
      return AccentRightSchema;
    case 'accent-top':
      return AccentTopSchema;
    case 'accent-background':
      return AccentBackgroundSchema;
    default:
      return BlankCardSchema;
  }
}

function getPromptForTemplate(templateType: string, sectionTitle: string, bulletPoints: string[]) {
  const baseContent = `Section: "${sectionTitle}"\nKey points: ${bulletPoints.join(', ')}`;
  
  switch (templateType) {
    case 'blank-card':
      return `Create complete HTML content starting with a heading (h1, h2, or h3) for the title, followed by concise, impactful content. Choose the most appropriate format - either brief bullet points using <ul><li> or short paragraphs using <p>. Use HTML formatting like <strong> for emphasis. Keep all text scannable and presentation-ready. Structure: <h1>Your Title</h1><p>Your content...</p> or with bullets. Base it on: ${baseContent}`;
    
    case 'image-and-text':
      return `Create complete HTML content with h1 title followed by paragraphs and/or bullet points that complement the image. Structure: <h1>Title</h1><p>Description text...</p><ul><li>Key point 1</li><li>Key point 2</li></ul>. Also create a detailed, professional image prompt. Keep text scannable (max 2-3 sentences if paragraphs, 1-2 lines if bullets). Base it on: ${baseContent}`;
    
    case 'text-and-image':
      return `Create complete HTML content with h1 title followed by paragraphs and/or bullet points that complement the image. Structure: <h1>Title</h1><p>Description text...</p><ul><li>Key point 1</li><li>Key point 2</li></ul>. Also create a detailed, professional image prompt. Make bullet points substantial (1-2 lines) and keep all text scannable. Base it on: ${baseContent}`;
    
    case 'two-columns':
      return `Create complete HTML content with h1 title and table-based two-column layout. Structure: <h1>Title</h1><table style="width: 100%; border-collapse: collapse; margin-top: 2rem;"><tr><td style="width: 50%; padding: 0 1.5rem 0 0; vertical-align: top;"><h3>Left Column</h3><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 50%; padding: 0 0 0 1.5rem; vertical-align: top;"><h3>Right Column</h3><ul><li>Point 1</li><li>Point 2</li></ul></td></tr></table>. Use 2-4 points per column. Base it on: ${baseContent}`;
    
    case 'two-column-with-headings':
      return `Create complete HTML content with h1 title and table-based two-column layout with styled headings. Structure: <h1>Title</h1><table style="width: 100%; border-collapse: collapse; margin-top: 2rem;"><tr><td style="width: 50%; padding: 0 1.5rem 0 0; vertical-align: top;"><h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Left Heading</h2><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 50%; padding: 0 0 0 1.5rem; vertical-align: top;"><h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Right Heading</h2><ul><li>Point 1</li><li>Point 2</li></ul></td></tr></table>. Use clear headings (3-4 words max) and 2-4 points per column. Base it on: ${baseContent}`;
    
    case 'three-columns':
      return `Create complete HTML content with h1 title and table-based three-column layout. Structure: <h1>Title</h1><table style="width: 100%; border-collapse: collapse; margin-top: 2rem;"><tr><td style="width: 33.33%; padding: 0 1rem 0 0; vertical-align: top;"><h3>Column 1</h3><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 33.33%; padding: 0 0.5rem; vertical-align: top;"><h3>Column 2</h3><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 33.33%; padding: 0 0 0 1rem; vertical-align: top;"><h3>Column 3</h3><ul><li>Point 1</li><li>Point 2</li></ul></td></tr></table>. Use 2-3 points per column. Base it on: ${baseContent}`;
    
    case 'three-column-with-headings':
      return `Create complete HTML content with h1 title and table-based three-column layout with styled headings. Use the exact structure from the schema with purple headings and borders. Use short headings (2-3 words max) and 2-3 points per column. Base it on: ${baseContent}`;
    
    case 'four-columns':
      return `Create complete HTML content with h1 title and table-based four-column layout. Structure: <h1>Title</h1><table style="width: 100%; border-collapse: collapse; margin-top: 2rem;"><tr><td style="width: 25%; padding: 0 0.75rem 0 0; vertical-align: top;"><h3>Column 1</h3><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 25%; padding: 0 0.375rem; vertical-align: top;"><h3>Column 2</h3><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 25%; padding: 0 0.375rem; vertical-align: top;"><h3>Column 3</h3><ul><li>Point 1</li><li>Point 2</li></ul></td><td style="width: 25%; padding: 0 0 0 0.75rem; vertical-align: top;"><h3>Column 4</h3><ul><li>Point 1</li><li>Point 2</li></ul></td></tr></table>. Use 2-3 points per column. Base it on: ${baseContent}`;
    
    case 'four-columns-with-headings':
      return `Create complete HTML content with h1 title and table-based four-column layout with styled headings. Use the exact structure from the schema with purple headings and borders. Use short headings (2-3 words max) and 2-3 points per column. Base it on: ${baseContent}`;
    
    case 'bullets':
      return `Create complete HTML content with h1 title and table-based 2x2 grid layout for numbered bullet points. Use the exact structure from the schema with numbered circles and conclusion. Each bullet needs a short title (3-5 words) and brief description (1-2 lines max). Add a concise conclusion. Base it on: ${baseContent}`;
    
    case 'paragraph':
      return `Create complete HTML content with h1 title followed by multiple sections with h2 headings and paragraphs. Structure: <h1>Title</h1><h2>Section 1</h2><p>Paragraph 1</p><p>Paragraph 2</p><h2>Section 2</h2><p>Paragraph 1</p><p>Paragraph 2</p><h2>Conclusion</h2><p>Concluding thoughts</p>. Use 2-3 sections with short headings and brief paragraphs. Base it on: ${baseContent}`;
    
    case 'title-with-bullets':
      return `Create complete HTML content starting with a heading (h1, h2, or h3) for the title, followed by 3-5 formatted bullet points using <ul> and <li> tags. Each bullet should be 1-2 lines maximum - impactful and comprehensive enough to be meaningful. Use HTML formatting like <strong> for emphasis, <em> for italic, and additional heading tags if needed. Structure as: <h1>Your Title Here</h1><ul><li>First formatted point</li><li>Second point with emphasis</li>...</ul>. Choose appropriate heading level (h1 for main titles, h2 for subtitles). Base it on: ${baseContent}`;
    
    case 'title-with-bullets-and-image':
      return `Create complete HTML content starting with h1 title followed by formatted bullet points using <ul> and <li> tags (3-4 points, 1-2 lines each), and describe a relevant professional image. Use HTML formatting like <strong> for emphasis. Structure: <h1>Title</h1><ul><li>Point 1</li><li>Point 2</li></ul>. Also create a detailed image prompt. Base it on: ${baseContent}`;
    
    case 'title-with-text':
      return `Create complete HTML content starting with h1 title followed by paragraph content (3-5 sentences maximum). Structure: <h1>Title</h1><p>Short paragraph content...</p>. Use a single, well-written paragraph that captures the key message clearly and concisely. Base it on: ${baseContent}`;
    
    case 'accent-left':
    case 'accent-right':
    case 'accent-top':
    case 'accent-background':
      return `Create complete HTML content starting with h1 title followed by paragraphs and/or bullet points. Choose the format that best fits the content. Structure: <h1>Title</h1><p>Content...</p> or <h1>Title</h1><ul><li>Point 1</li><li>Point 2</li></ul>. Also create a detailed, professional image prompt that complements and enhances the content. Content should be concise and impactful (3-4 bullet points or brief paragraph). Base it on: ${baseContent}`;
    
    default:
      return `Create complete HTML content starting with a heading for the title, followed by concise, impactful content. Choose between bullet points or short paragraphs based on what's most appropriate for the content. Ensure all text can be easily read and understood on a presentation slide. Base it on: ${baseContent}`;
  }
}

export async function POST(req: Request) {
  try {
    console.log('ğŸ”„ Generate-slide API called');
    const { sectionTitle, bulletPoints, templateType, style = 'default', language = 'en', contentLength = 'medium', imageStyle = 'professional' } = await req.json();

    console.log('ğŸ“¥ Request data:', { sectionTitle, bulletPoints, templateType, style, language, contentLength, imageStyle });

    if (!sectionTitle || !bulletPoints || !templateType) {
      console.log('âŒ Missing required fields');
      return Response.json({ error: 'Missing required fields' }, { status: 400 });
    }

    // Check if GROQ_API_KEY is available
    if (!process.env.GROQ_API_KEY) {
      console.log('âŒ GROQ_API_KEY not found');
      return Response.json({ error: 'GROQ_API_KEY not configured' }, { status: 500 });
    }

    console.log('âœ… GROQ_API_KEY found');

    // Map style to writing tone
    const styleMap: Record<string, string> = {
      'default': 'professional and clear',
      'modern': 'contemporary and engaging',
      'minimal': 'concise and focused',
      'creative': 'innovative and inspiring'
    };

    // Map language to instruction
    const languageMap: Record<string, string> = {
      'en': 'English',
      'es': 'Spanish',
      'fr': 'French',
      'de': 'German'
    };

    // Map content length to specific guidelines
    const contentLengthMap: Record<string, string> = {
      'brief': 'VERY BRIEF - Bullet points: 1 line max (6-12 words). Paragraphs: 1-2 sentences max.',
      'medium': 'MODERATE - Bullet points: 1-2 lines (12-20 words). Paragraphs: 2-3 sentences max.',
      'detailed': 'COMPREHENSIVE - Bullet points: 2-3 lines (20-30 words). Paragraphs: 3-4 sentences max.'
    };

    const writingStyle = styleMap[style] || 'professional and clear';
    const targetLanguage = languageMap[language] || 'English';
    const contentGuidelines = contentLengthMap[contentLength] || contentLengthMap['medium'];

    const schema = getSchemaForTemplate(templateType);
    const prompt = getPromptForTemplate(templateType, sectionTitle, bulletPoints);

    console.log('ğŸ“‹ Schema and prompt ready, template:', templateType);

    const systemPrompt = `You are an expert presentation designer and content creator. Create compelling slide content that is ${writingStyle} in tone and written in ${targetLanguage}.

CRITICAL INSTRUCTIONS FOR PRESENTATION SLIDES:
- DO NOT use the outline bullet points directly - they are reference points only
- CREATE concise, presentation-ready content that expands meaningfully on the topic
- CHOOSE the most appropriate format: bullet points for lists/key points, paragraphs for explanations
- Keep ALL text brief and scannable - this is for VISUAL presentation slides
- Use active voice, strong verbs, and impactful language
- Make content immediately understandable when viewed on a slide
- Prioritize clarity and visual readability over comprehensive detail
- Ensure content flows logically and supports the main message
- Each piece of content should be presentation-ready and appropriately sized for slides

CONTENT LENGTH REQUIREMENTS: ${contentGuidelines}

CONTENT FORMAT FLEXIBILITY:
- Use bullet points when listing key points, features, benefits, or steps
- Use short paragraphs when explaining concepts, providing context, or telling a story
- Choose the format that best serves the content and audience understanding
- Mix formats within a slide if appropriate (e.g., intro paragraph + bullet list)

IMAGE STYLE REQUIREMENTS:
- For image prompts, be specific and professional
- Image style context: ${imageStyle}
- Include composition, mood, and visual elements that match this style
- Ensure images complement and enhance the text content

CONTENT LENGTH GUIDELINES:
- Titles: 3-8 words maximum
- Headings: 2-4 words maximum
- Content follows the ${contentLength} guidelines above

Template: ${templateType}

Remember: Transform the outline into CONCISE, visually-friendly presentation content that audiences can quickly read and understand! Choose the best format (bullets vs paragraphs) for each piece of content and make content substantial enough to be meaningful while respecting the ${contentLength} length requirements.`;

        console.log('ğŸš€ Starting generateObject call with Groq...');

    try {
      const result = await generateObject({
        model: groq(modelName),
        system: systemPrompt,
        prompt,
        schema,
        maxTokens: 1000,
        temperature: 0.7,
      });

      console.log('âœ… generateObject completed successfully');
      console.log('ğŸ“Š Usage:', result.usage);

      return Response.json({
        success: true,
        data: result.object,
        usage: result.usage,
      });

    } catch (generateError) {
      console.error('âŒ Error with generateObject:', generateError);
      console.error('Error details:', generateError instanceof Error ? generateError.message : String(generateError));
      console.error('Error stack:', generateError instanceof Error ? generateError.stack : 'No stack trace');
      return Response.json(
        { error: 'Failed to generate slide content', details: generateError instanceof Error ? generateError.message : String(generateError) },
        { status: 500 }
      );
    }

  } catch (error) {
    console.error('âŒ General error in generate-slide:', error);
    console.error('Error details:', error instanceof Error ? error.message : String(error));
    console.error('Error stack:', error instanceof Error ? error.stack : 'No stack trace');
    return Response.json(
      { error: 'Failed to generate slide', details: error instanceof Error ? error.message : String(error) },
      { status: 500 }
    );
  }
}
```

# app/create/generate/[id]/page.tsx

```tsx
'use client';

import Link from 'next/link';
import { useState, useEffect } from 'react';
import { useParams, useRouter } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Card, CardContent } from '@/components/ui/card';
import { Input } from '@/components/ui/input';
import { Textarea } from '@/components/ui/textarea';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { SlidesHeader } from '@/components/ui/slides-header';
import { 
  Home, 
  RefreshCw, 
  Loader2,
  GripVertical,
  Edit3,
  ArrowRight,
  Sparkles
} from 'lucide-react';
import {
  DndContext,
  closestCenter,
  KeyboardSensor,
  PointerSensor,
  useSensor,
  useSensors,
  DragEndEvent,
} from '@dnd-kit/core';
import {
  arrayMove,
  SortableContext,
  sortableKeyboardCoordinates,
  verticalListSortingStrategy,
} from '@dnd-kit/sortable';
import {
  useSortable,
} from '@dnd-kit/sortable';
import { CSS } from '@dnd-kit/utilities';
import { Badge } from '@/components/ui/badge';
import { themes, getThemesByCategory, Theme, defaultTheme } from '@/lib/themes';

interface OutlineSection {
  id: string;
  title: string;
  bulletPoints?: string[];
  templateType: string;
}

interface GeneratedOutline {
  title: string;
  sections: OutlineSection[];
}

interface DocumentData {
  id: string;
  prompt: string;
  cardCount: number;
  style: string;
  language: string;
  createdAt: string;
  status: string;
  outline?: GeneratedOutline;
  generatedSlides?: any[]; // Add this field to match the docs page
  contentLength?: string;
  theme?: string;
  imageStyle?: string;
}

function SortableOutlineCard({ section, index, onEdit }: { 
  section: OutlineSection; 
  index: number; 
  onEdit: (id: string, field: 'title' | 'bulletPoints', value: string | string[]) => void;
}) {
  const [isEditingTitle, setIsEditingTitle] = useState(false);
  const [isEditingBullets, setIsEditingBullets] = useState(false);
  const [editTitle, setEditTitle] = useState(section.title || '');
  const [editBullets, setEditBullets] = useState((section.bulletPoints || []).join('\n'));

  const {
    attributes,
    listeners,
    setNodeRef,
    transform,
    transition,
    isDragging,
  } = useSortable({ id: section.id });

  const style = {
    transform: CSS.Transform.toString(transform),
    transition,
    opacity: isDragging ? 0.5 : 1,
  };

  const handleTitleSave = () => {
    onEdit(section.id, 'title', editTitle);
    setIsEditingTitle(false);
  };

  const handleBulletsSave = () => {
    const bullets = editBullets.split('\n').filter(b => b.trim());
    onEdit(section.id, 'bulletPoints', bullets);
    setIsEditingBullets(false);
  };

  return (
    <div ref={setNodeRef} style={style} className="group">
      <Card className="bg-white/90 backdrop-blur-sm border border-blue-200/50 hover:border-blue-300/70 transition-all">
        <CardContent className="p-4">
          <div className="flex items-start gap-3">
            <div className="flex items-center gap-2">
              <div className="w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-medium flex-shrink-0">
                {index + 1}
              </div>
              <div 
                {...attributes} 
                {...listeners}
                className="cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-100 transition-opacity"
              >
                <GripVertical className="w-4 h-4 text-gray-400" />
              </div>
            </div>
            
            <div className="flex-1 min-w-0">
              {isEditingTitle ? (
                <div className="mb-3">
                  <Input
                    value={editTitle}
                    onChange={(e) => setEditTitle(e.target.value)}
                    onBlur={handleTitleSave}
                    onKeyDown={(e) => {
                      if (e.key === 'Enter') handleTitleSave();
                      if (e.key === 'Escape') {
                        setEditTitle(section.title);
                        setIsEditingTitle(false);
                      }
                    }}
                    className="font-medium text-gray-900 text-sm"
                    autoFocus
                  />
                </div>
              ) : (
                <div 
                  className="flex items-start justify-between mb-3 group/title cursor-pointer"
                  onClick={() => setIsEditingTitle(true)}
                >
                  <h3 className="font-medium text-gray-900 text-sm leading-tight pr-2">
                    {section.title}
                  </h3>
                  <Edit3 className="w-3 h-3 text-gray-400 opacity-0 group-hover/title:opacity-100 transition-opacity flex-shrink-0" />
                </div>
              )}

              {isEditingBullets ? (
                <Textarea
                  value={editBullets}
                  onChange={(e) => setEditBullets(e.target.value)}
                  onBlur={handleBulletsSave}
                  onKeyDown={(e) => {
                    if (e.key === 'Escape') {
                      setEditBullets((section.bulletPoints || []).join('\n'));
                      setIsEditingBullets(false);
                    }
                  }}
                  className="text-sm text-gray-600 min-h-[80px] resize-none"
                  placeholder="Enter bullet points (one per line)"
                  autoFocus
                />
              ) : (
                <div 
                  className="group/bullets cursor-pointer relative"
                  onClick={() => setIsEditingBullets(true)}
                >
                  <ul className="space-y-1">
                    {(section.bulletPoints || []).map((point, pointIndex) => (
                      <li key={pointIndex} className="text-sm text-gray-600 flex items-start">
                        <span className="w-1 h-1 bg-gray-400 rounded-full mt-2 mr-2 flex-shrink-0"></span>
                        <span className="leading-relaxed">{point}</span>
                      </li>
                    ))}
                  </ul>
                  <Edit3 className="w-3 h-3 text-gray-400 opacity-0 group-hover/bullets:opacity-100 transition-opacity absolute top-0 right-0" />
                </div>
              )}
            </div>
          </div>
        </CardContent>
      </Card>
    </div>
  );
}

export default function OutlinePage() {
  const params = useParams();
  const router = useRouter();
  const documentId = params.id as string;
  
  const [documentData, setDocumentData] = useState<DocumentData | null>(null);
  const [generatedOutline, setGeneratedOutline] = useState<GeneratedOutline | null>(null);
  const [isGenerating, setIsGenerating] = useState(false);
  const [prompt, setPrompt] = useState('');
  const [cardCount, setCardCount] = useState('8');
  const [style, setStyle] = useState('default');
  const [language, setLanguage] = useState('en');
  
  // Add new state variables for content configuration
  const [contentLength, setContentLength] = useState('medium');
  const [selectedTheme, setSelectedTheme] = useState<Theme>(defaultTheme);
  const [imageStyle, setImageStyle] = useState('');

  const sensors = useSensors(
    useSensor(PointerSensor),
    useSensor(KeyboardSensor, {
      coordinateGetter: sortableKeyboardCoordinates,
    })
  );

  // Load document data and theme from localStorage
  useEffect(() => {
    const loadDocumentData = () => {
      const stored = localStorage.getItem(`document_${documentId}`);
      if (stored) {
        const data: DocumentData = JSON.parse(stored);
        setDocumentData(data);
        setPrompt(data.prompt);
        setCardCount(data.cardCount.toString());
        setStyle(data.style);
        setLanguage(data.language);
        
        // Load new configuration values
        setContentLength(data.contentLength || 'medium');
        
        // Load theme
        if (data.theme) {
          const theme = themes.find(t => t.id === data.theme) || defaultTheme;
          setSelectedTheme(theme);
        }
        
        setImageStyle(data.imageStyle || '');
        
        if (data.outline) {
          setGeneratedOutline(data.outline);
        } else if (data.status === 'generating') {
          // Start generating if not already done
          generateOutline(data);
        }
      }
    };

    loadDocumentData();
  }, [documentId]);

  // Save document data to localStorage
  const saveDocumentData = (data: Partial<DocumentData>) => {
    if (!documentData) return;
    
    const updatedData = { ...documentData, ...data };
    setDocumentData(updatedData);
    localStorage.setItem(`document_${documentId}`, JSON.stringify(updatedData));
  };

  const generateOutline = async (docData?: DocumentData) => {
    const data = docData || documentData;
    if (!data) return;

    setIsGenerating(true);
    setGeneratedOutline(null);
    
    try {
      const response = await fetch('/api/generate-outline', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          prompt: data.prompt,
          cardCount: data.cardCount,
          style: data.style,
          language: data.language,
        }),
      });

      if (!response.ok) {
        throw new Error('Failed to generate outline');
      }

      const generatedData = await response.json();
      console.log('Received outline data:', generatedData);
      
      setGeneratedOutline(generatedData);
      
      // Save to localStorage
      saveDocumentData({
        outline: generatedData,
        status: 'completed'
      });
      
    } catch (error) {
      console.error('Error generating outline:', error);
      saveDocumentData({ status: 'error' });
    } finally {
      setIsGenerating(false);
    }
  };

  const handleRegenerateOutline = () => {
    if (documentData) {
      const updatedData = {
        ...documentData,
        prompt,
        cardCount: parseInt(cardCount),
        style,
        language,
        status: 'generating'
      };
      saveDocumentData(updatedData);
      generateOutline(updatedData);
    }
  };

  const handleDragEnd = (event: DragEndEvent) => {
    const { active, over } = event;

    if (over && active.id !== over.id && generatedOutline) {
      const oldIndex = generatedOutline.sections.findIndex(section => section.id === active.id);
      const newIndex = generatedOutline.sections.findIndex(section => section.id === over.id);

      const newOutline = {
        ...generatedOutline,
        sections: arrayMove(generatedOutline.sections, oldIndex, newIndex),
      };
      
      setGeneratedOutline(newOutline);
      saveDocumentData({ outline: newOutline });
    }
  };

  const handleEditSection = (id: string, field: 'title' | 'bulletPoints', value: string | string[]) => {
    if (!generatedOutline) return;

    const newOutline = {
      ...generatedOutline,
      sections: generatedOutline.sections.map(section =>
        section.id === id
          ? { ...section, [field]: value }
          : section
      ),
    };
    
    setGeneratedOutline(newOutline);
    saveDocumentData({ outline: newOutline });
  };

  const handleGenerateSlides = () => {
    if (generatedOutline && documentData) {
      // Save the final outline state and content configuration, clear any existing generated slides
      saveDocumentData({ 
        outline: generatedOutline,
        status: 'ready-for-slides',
        generatedSlides: undefined, // Clear existing slides to force regeneration
        contentLength,
        theme: selectedTheme.id,
        imageStyle
      });
      
      // Navigate to the presentation page
      router.push(`/docs/${documentId}`);
    }
  };

  if (!documentData) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50">
        <SlidesHeader title="Generate Outline" showHomeButton={true} />
        <div className="min-h-screen flex items-center justify-center">
          <div className="text-center">
            <Loader2 className="w-8 h-8 animate-spin mx-auto mb-4 text-gray-700" />
            <p className="text-gray-600">Loading document...</p>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50">
      <SlidesHeader title="Generate Outline" showHomeButton={true} />

      <main className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        {/* Prompt Section */}
        <div className="text-center mb-8">
          <div className="inline-block mb-6">
            <div className="text-sm text-gray-600 mb-2">Prompt</div>
            <div className="flex items-center gap-4 mb-4">
              <Select value={cardCount} onValueChange={setCardCount}>
                <SelectTrigger className="w-32 bg-white/80 backdrop-blur-sm border-gray-200">
                  <SelectValue />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="5">5 cards</SelectItem>
                  <SelectItem value="8">8 cards</SelectItem>
                  <SelectItem value="10">10 cards</SelectItem>
                  <SelectItem value="15">15 cards</SelectItem>
                </SelectContent>
              </Select>

              <Select value={style} onValueChange={setStyle}>
                <SelectTrigger className="w-32 bg-white/80 backdrop-blur-sm border-gray-200">
                  <SelectValue />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="default">Default</SelectItem>
                  <SelectItem value="modern">Modern</SelectItem>
                  <SelectItem value="minimal">Minimal</SelectItem>
                  <SelectItem value="creative">Creative</SelectItem>
                </SelectContent>
              </Select>

              <Select value={language} onValueChange={setLanguage}>
                <SelectTrigger className="w-40 bg-white/80 backdrop-blur-sm border-gray-200">
                  <SelectValue />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="en">English (US)</SelectItem>
                  <SelectItem value="es">Spanish</SelectItem>
                  <SelectItem value="fr">French</SelectItem>
                  <SelectItem value="de">German</SelectItem>
                </SelectContent>
              </Select>
            </div>
          </div>

          <Card className="bg-white/80 backdrop-blur-sm border-gray-200 mb-6">
            <CardContent className="p-6">
              <div className="flex items-center justify-between">
                <Input
                  placeholder="Describe what you'd like to make"
                  value={prompt}
                  onChange={(e) => setPrompt(e.target.value)}
                  className="text-lg bg-transparent border-none text-gray-700 placeholder:text-gray-400 flex-1"
                  onKeyDown={(e) => {
                    if (e.key === 'Enter' && !isGenerating) {
                      handleRegenerateOutline();
                    }
                  }}
                />
                <Button
                  onClick={handleRegenerateOutline}
                  disabled={isGenerating}
                  variant="ghost"
                  size="sm"
                >
                  {isGenerating ? (
                    <Loader2 className="w-4 h-4 animate-spin" />
                  ) : (
                    <RefreshCw className="w-4 h-4" />
                  )}
                </Button>
              </div>
            </CardContent>
          </Card>
        </div>

        {/* Outline Section */}
        {(generatedOutline || isGenerating) && (
          <div className="mb-8">
            <h2 className="text-lg font-semibold text-gray-900 mb-6 text-center">Outline</h2>
            
            {generatedOutline && !isGenerating ? (
              <DndContext
                sensors={sensors}
                collisionDetection={closestCenter}
                onDragEnd={handleDragEnd}
              >
                <SortableContext
                  items={generatedOutline.sections.map(s => s.id)}
                  strategy={verticalListSortingStrategy}
                >
                  <div className="space-y-4 max-w-3xl mx-auto">
                    {generatedOutline.sections
                      .filter(section => section && section.title) // Only render sections with titles
                      .map((section, index) => (
                        <SortableOutlineCard
                          key={section.id}
                          section={section}
                          index={index}
                          onEdit={handleEditSection}
                        />
                      ))}
                  </div>
                </SortableContext>
              </DndContext>
            ) : (
              // Show streaming progress
              <div className="space-y-4 max-w-3xl mx-auto">
                {generatedOutline?.sections?.filter(section => section && section.title).map((section, index) => (
                  <Card key={section.id || index} className="bg-white/90 backdrop-blur-sm border border-blue-200/50 animate-pulse">
                    <CardContent className="p-4">
                      <div className="flex items-start gap-3">
                        <div className="w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-medium flex-shrink-0">
                          {index + 1}
                        </div>
                        <div className="flex-1 min-w-0">
                          <h3 className="font-medium text-gray-900 text-sm leading-tight mb-3">
                            {section.title || 'Generating...'}
                          </h3>
                          <ul className="space-y-1">
                            {(section.bulletPoints && section.bulletPoints.length > 0) ? 
                              section.bulletPoints.map((point, pointIndex) => (
                                <li key={pointIndex} className="text-sm text-gray-600 flex items-start">
                                  <span className="w-1 h-1 bg-gray-400 rounded-full mt-2 mr-2 flex-shrink-0"></span>
                                  <span className="leading-relaxed">{point}</span>
                                </li>
                              )) : (
                                <li className="text-sm text-gray-400 flex items-start">
                                  <span className="w-1 h-1 bg-gray-300 rounded-full mt-2 mr-2 flex-shrink-0"></span>
                                  <span className="leading-relaxed">Generating bullet points...</span>
                                </li>
                              )
                            }
                          </ul>
                        </div>
                      </div>
                    </CardContent>
                  </Card>
                )) || (
                  // Show loading state when no sections yet
                  <div className="text-center py-12">
                    <Loader2 className="w-8 h-8 animate-spin mx-auto mb-4 text-blue-500" />
                    <p className="text-gray-600">Generating your outline...</p>
                  </div>
                )}
              </div>
            )}
          </div>
        )}

        {/* Generate Slides Button */}
        {generatedOutline && !isGenerating && (
          <>
            {/* Content Configuration Card */}
            <div className="mb-8">
              <h2 className="text-lg font-semibold text-gray-900 mb-6 text-center">Customize your Slide</h2>
              
              <Card className="bg-white/80 backdrop-blur-sm border-gray-200 max-w-3xl mx-auto">
                <CardContent className="p-6">
                  <div className="space-y-6">
                    {/* Content Length */}
                    <div>
                      <label className="text-sm font-medium text-gray-900 mb-3 block">
                        Amount of text per card
                      </label>
                      <div className="flex gap-2">
                        <Button
                          variant={contentLength === 'brief' ? 'default' : 'outline'}
                          size="sm"
                          onClick={() => setContentLength('brief')}
                          className="flex-1"
                        >
                          â‰¡ Brief
                        </Button>
                        <Button
                          variant={contentLength === 'medium' ? 'default' : 'outline'}
                          size="sm"
                          onClick={() => setContentLength('medium')}
                          className="flex-1"
                        >
                          â‰¡ Medium
                        </Button>
                        <Button
                          variant={contentLength === 'detailed' ? 'default' : 'outline'}
                          size="sm"
                          onClick={() => setContentLength('detailed')}
                          className="flex-1"
                        >
                          â‰¡ Detailed
                        </Button>
                      </div>
                    </div>

                    {/* Theme Selection */}
                    <div>
                      <label className="text-sm font-medium text-gray-900 mb-3 block">
                        Theme
                      </label>
                      <div className="grid grid-cols-3 gap-3">
                        {getThemesByCategory('gradient').slice(0, 6).map((theme) => (
                          <div
                            key={theme.id}
                            className={`
                              group relative cursor-pointer rounded-lg overflow-hidden border-2 transition-all duration-200
                              ${selectedTheme.id === theme.id 
                                ? 'border-blue-500 ring-2 ring-blue-500/20 scale-105' 
                                : 'border-gray-200 hover:border-gray-300 hover:scale-105'
                              }
                            `}
                            onClick={() => setSelectedTheme(theme)}
                          >
                            <div 
                              className="aspect-video w-full relative"
                              style={{ 
                                background: theme.background.includes('gradient') || theme.background.includes('radial') || theme.background.includes('repeating')
                                  ? theme.background 
                                  : theme.background,
                                backgroundSize: theme.category === 'pattern' ? '20px 20px' : 'cover'
                              }}
                            >
                              <div className="absolute inset-0 bg-black/10 group-hover:bg-black/5 transition-colors" />
                              
                              {/* Preview content */}
                              <div className="absolute inset-2 flex flex-col justify-center items-center text-center">
                                <div className="w-8 h-8 rounded bg-white/20 backdrop-blur-sm mb-1 flex items-center justify-center">
                                  <div className="w-4 h-4 rounded bg-white/40" />
                                </div>
                                <div className="w-12 h-1 bg-white/30 rounded mb-1" />
                                <div className="w-8 h-1 bg-white/20 rounded" />
                              </div>
                              
                              {/* Selection indicator */}
                              {selectedTheme.id === theme.id && (
                                <div className="absolute top-2 right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center">
                                  <div className="w-2 h-2 bg-white rounded-full" />
                                </div>
                              )}
                            </div>
                            
                            <div className="p-2 bg-white">
                              <p className="text-xs font-medium text-gray-900 truncate">
                                {theme.name}
                              </p>
                            </div>
                          </div>
                        ))}
                      </div>
                    </div>

                    {/* Image Style */}
                    <div>
                      <label className="text-sm font-medium text-gray-900 mb-3 block">
                        Image style
                      </label>
                      <Textarea
                        value={imageStyle}
                        onChange={(e) => setImageStyle(e.target.value)}
                        placeholder=""
                        className="min-h-[80px] resize-none bg-white border-gray-200 text-gray-400"
                      />
                      <p className="text-xs text-gray-500 mt-2">Optional: describe the colors, style, or mood to use</p>
                    </div>
                  </div>
                </CardContent>
              </Card>
            </div>

            {/* Generate Slides Button */}
            <div className="text-center">
              <Button 
                onClick={handleGenerateSlides}
                className="bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-full"
              >
                <Sparkles className="w-5 h-5 mr-2" />
                Generate Slides
              </Button>
            </div>
          </>
        )}
      </main>
    </div>
  );
}
```

# app/create/generate/page.tsx

```tsx
'use client';

import Link from 'next/link';
import { useState } from 'react';
import { useRouter } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Card, CardContent } from '@/components/ui/card';
import { Input } from '@/components/ui/input';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { 
  Sparkles, 
  Home, 
  Plus, 
  Shuffle, 
  FileText, 
  GraduationCap, 
  Waves, 
  MessageSquare, 
  FlaskRound as Flask, 
  DollarSign, 
  RefreshCw, 
  Loader2
} from 'lucide-react';

export default function GeneratePage() {
  const router = useRouter();
  const [selectedType, setSelectedType] = useState('presentation');
  const [prompt, setPrompt] = useState('');
  const [cardCount, setCardCount] = useState('8');
  const [style, setStyle] = useState('default');
  const [language, setLanguage] = useState('en');
  const [isGenerating, setIsGenerating] = useState(false);

  const examplePrompts = [
    {
      icon: FileText,
      title: "Developing and delivering workshops or training programs on specific topics or skills",
      category: "Training"
    },
    {
      icon: GraduationCap,
      title: "Student learning assessments",
      category: "Education"
    },
    {
      icon: Waves,
      title: "Monsters of the deep oceans",
      category: "Science"
    },
    {
      icon: MessageSquare,
      title: "The best and worst slang gen Z",
      category: "Culture"
    },
    {
      icon: Flask,
      title: "Research proposal",
      category: "Academic"
    },
    {
      icon: DollarSign,
      title: "Sales proposal for professional web services",
      category: "Business"
    }
  ];

  const generateDocumentId = () => {
    return 'doc_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
  };

  const handleGenerateOutline = async () => {
    if (!prompt.trim()) return;

    setIsGenerating(true);
    
    try {
      // Generate a unique document ID
      const documentId = generateDocumentId();
      
      // Store the initial document data in localStorage
      const documentData = {
        id: documentId,
        prompt: prompt.trim(),
        cardCount: parseInt(cardCount),
        style,
        language,
        createdAt: new Date().toISOString(),
        status: 'generating'
      };
      
      localStorage.setItem(`document_${documentId}`, JSON.stringify(documentData));
      
      // Navigate to the outline page
      router.push(`/create/generate/${documentId}`);
      
    } catch (error) {
      console.error('Error starting outline generation:', error);
      setIsGenerating(false);
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50">
      {/* Header */}
      <header className="border-b border-white/20 backdrop-blur-sm bg-white/10">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex items-center py-4">
            <Link href="/create" className="flex items-center text-gray-600 hover:text-gray-900 transition-colors">
              <Home className="w-5 h-5 mr-2" />
              Create
            </Link>
          </div>
        </div>
      </header>

      <main className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        {/* Title */}
        <div className="text-center mb-12">
          <h1 className="text-4xl font-bold text-gray-900 mb-4">Generate</h1>
          <p className="text-xl text-gray-600">
            What would you like to create today?
          </p>
        </div>

        {/* Content Type Selection */}
        <div className="flex justify-center mb-8">
          <div className="flex bg-white/60 backdrop-blur-sm rounded-lg p-2 border border-white/20">
            <button
              onClick={() => setSelectedType('presentation')}
              className={`flex items-center px-4 py-2 rounded-md transition-all ${
                selectedType === 'presentation'
                  ? 'bg-blue-500 text-white shadow-md'
                  : 'text-gray-600 hover:text-gray-900'
              }`}
            >
              <FileText className="w-4 h-4 mr-2" />
              Presentation
            </button>
          </div>
        </div>

        {/* Options Row */}
        <div className="flex justify-center gap-4 mb-8">
          <Select value={cardCount} onValueChange={setCardCount}>
            <SelectTrigger className="w-32 bg-white/60 backdrop-blur-sm border-white/20">
              <SelectValue />
            </SelectTrigger>
            <SelectContent>
              <SelectItem value="3">3 cards</SelectItem>
              <SelectItem value="5">5 cards</SelectItem>
              <SelectItem value="8">8 cards</SelectItem>
              <SelectItem value="10">10 cards</SelectItem>
              <SelectItem value="15">15 cards</SelectItem>
            </SelectContent>
          </Select>

          <Select value={style} onValueChange={setStyle}>
            <SelectTrigger className="w-32 bg-white/60 backdrop-blur-sm border-white/20">
              <SelectValue />
            </SelectTrigger>
            <SelectContent>
              <SelectItem value="default">Default</SelectItem>
              <SelectItem value="modern">Modern</SelectItem>
              <SelectItem value="minimal">Minimal</SelectItem>
              <SelectItem value="creative">Creative</SelectItem>
            </SelectContent>
          </Select>

          <Select value={language} onValueChange={setLanguage}>
            <SelectTrigger className="w-40 bg-white/60 backdrop-blur-sm border-white/20">
              <SelectValue />
            </SelectTrigger>
            <SelectContent>
              <SelectItem value="en">English (US)</SelectItem>
              <SelectItem value="es">Spanish</SelectItem>
              <SelectItem value="fr">French</SelectItem>
              <SelectItem value="de">German</SelectItem>
            </SelectContent>
          </Select>
        </div>

        {/* Prompt Input */}
        <div className="mb-8">
          <Card className="bg-white/60 backdrop-blur-sm border-white/20">
            <CardContent className="p-6">
              <div className="flex items-center justify-between">
                <Input
                  placeholder="Describe what you'd like to make"
                  value={prompt}
                  onChange={(e) => setPrompt(e.target.value)}
                  className="text-lg bg-transparent border-none text-gray-700 placeholder:text-gray-400 flex-1"
                  onKeyDown={(e) => {
                    if (e.key === 'Enter' && !isGenerating) {
                      handleGenerateOutline();
                    }
                  }}
                />
                <RefreshCw className="w-5 h-5 text-gray-400" />
              </div>
            </CardContent>
          </Card>
        </div>

        {/* Generate Button */}
        <div className="text-center mb-8">
          <Button 
            onClick={handleGenerateOutline}
            disabled={!prompt.trim() || isGenerating}
            size="lg" 
            className="bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-full"
          >
            {isGenerating ? (
              <>
                <Loader2 className="w-5 h-5 mr-2 animate-spin" />
                Generating Outline...
              </>
            ) : (
              <>
                <Sparkles className="w-5 h-5 mr-2" />
                Generate Outline
              </>
            )}
          </Button>
        </div>

        {/* Example Prompts */}
        <div className="mb-8">
          <div className="flex items-center justify-center mb-6">
            <div className="flex-1 h-px bg-gray-300"></div>
            <span className="px-4 text-gray-500 font-medium">Example prompts</span>
            <div className="flex-1 h-px bg-gray-300"></div>
          </div>

          <div className="grid md:grid-cols-2 gap-4 mb-6">
            {examplePrompts.map((example, index) => (
              <Card 
                key={index} 
                className="bg-white/60 backdrop-blur-sm border-white/20 cursor-pointer hover:shadow-md transition-all group"
                onClick={() => setPrompt(example.title)}
              >
                <CardContent className="p-4">
                  <div className="flex items-start">
                    <div className="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                      <example.icon className="w-4 h-4 text-blue-600" />
                    </div>
                    <div className="flex-1">
                      <p className="text-sm text-gray-700 group-hover:text-gray-900 transition-colors">
                        {example.title}
                      </p>
                    </div>
                    <Plus className="w-4 h-4 text-gray-400 group-hover:text-gray-600 transition-colors" />
                  </div>
                </CardContent>
              </Card>
            ))}
          </div>

          {/* Shuffle Button */}
          <div className="text-center">
            <Button variant="outline" className="bg-white/60 backdrop-blur-sm border-white/20">
              <Shuffle className="w-4 h-4 mr-2" />
              Shuffle
            </Button>
          </div>
        </div>
      </main>
    </div>
  );
}
```

# app/create/import/page.tsx

```tsx
'use client';

import Link from 'next/link';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { 
  FolderOpen,
  Home,
  ArrowRight,
  Upload,
  Search,
  Plus,
  Clock,
  CheckCircle,
  FileText,
  Globe
} from 'lucide-react';

export default function ImportPage() {
  const recentPrompts = [
    {
      title: "Student learning assessments",
      type: "Generate",
      time: "2 hours ago",
      status: "DRAFT"
    },
    {
      title: "Persuasive presentation", 
      type: "Generate",
      time: "12 days ago",
      status: null
    },
    {
      title: "Resume for an influencer",
      type: "Generate", 
      time: "12 days ago",
      status: null
    }
  ];

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50">
      {/* Header */}
      <header className="border-b border-white/20 backdrop-blur-sm bg-white/10">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex items-center py-4">
            <Link href="/create" className="flex items-center text-gray-600 hover:text-gray-900 transition-colors">
              <Home className="w-5 h-5 mr-2" />
              Create
            </Link>
          </div>
        </div>
      </header>

      <main className="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        {/* Title */}
        <div className="text-center mb-12">
          <div className="flex items-center justify-center mb-4">
            <div className="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center mr-3">
              <ArrowRight className="w-5 h-5 text-white" />
            </div>
            <h1 className="text-4xl font-bold text-gray-900">Import with AI</h1>
          </div>
          <p className="text-xl text-gray-600">
            Select the file you'd like to transform
          </p>
        </div>

        {/* Import Options */}
        <div className="grid md:grid-cols-3 gap-6 mb-12">
          {/* Upload a file */}
          <Card className="group cursor-pointer hover:shadow-xl transition-all duration-300 hover:-translate-y-1 bg-white/80 backdrop-blur-sm border-0">
            <CardHeader className="pb-4">
              <div className="w-full h-40 bg-gradient-to-br from-purple-400 to-purple-600 rounded-lg flex items-center justify-center mb-4 relative overflow-hidden">
                <div className="absolute inset-0 bg-gradient-to-br from-purple-500/20 to-pink-500/20"></div>
                <FolderOpen className="w-12 h-12 text-white relative z-10" />
              </div>
              <CardTitle className="text-xl font-semibold">Upload a file</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="space-y-2 mb-4">
                <div className="flex items-center text-sm text-green-600">
                  <CheckCircle className="w-4 h-4 mr-2" />
                  Powerpoint PPTX
                </div>
                <div className="flex items-center text-sm text-green-600">
                  <CheckCircle className="w-4 h-4 mr-2" />
                  Word docs
                </div>
                <div className="flex items-center text-sm text-green-600">
                  <CheckCircle className="w-4 h-4 mr-2" />
                  PDFs
                </div>
              </div>
              <div className="flex justify-center">
                <Upload className="w-5 h-5 text-gray-400" />
              </div>
            </CardContent>
          </Card>

          {/* Import from Drive */}
          <Card className="group cursor-pointer hover:shadow-xl transition-all duration-300 hover:-translate-y-1 bg-white/80 backdrop-blur-sm border-0">
            <CardHeader className="pb-4">
              <div className="w-full h-40 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg flex items-center justify-center mb-4 relative overflow-hidden">
                <div className="absolute inset-0 bg-gradient-to-br from-blue-500/20 to-cyan-500/20"></div>
                <div className="w-16 h-16 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center relative z-10">
                  <div className="w-8 h-8 bg-blue-500 rounded transform rotate-45"></div>
                </div>
              </div>
              <CardTitle className="text-xl font-semibold">Import from Drive</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="space-y-2 mb-4">
                <div className="flex items-center text-sm text-green-600">
                  <CheckCircle className="w-4 h-4 mr-2" />
                  Google Slides
                </div>
                <div className="flex items-center text-sm text-green-600">
                  <CheckCircle className="w-4 h-4 mr-2" />
                  Google Docs
                </div>
              </div>
              <div className="flex justify-center">
                <Search className="w-5 h-5 text-gray-400" />
              </div>
            </CardContent>
          </Card>

          {/* Import from URL */}
          <Card className="group cursor-pointer hover:shadow-xl transition-all duration-300 hover:-translate-y-1 bg-white/80 backdrop-blur-sm border-0">
            <CardHeader className="pb-4">
              <div className="w-full h-40 bg-gradient-to-br from-green-400 to-green-600 rounded-lg flex items-center justify-center mb-4 relative overflow-hidden">
                <div className="absolute inset-0 bg-gradient-to-br from-green-500/20 to-teal-500/20"></div>
                <Globe className="w-12 h-12 text-white relative z-10" />
              </div>
              <CardTitle className="text-xl font-semibold">Import from URL</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="space-y-2 mb-4">
                <div className="flex items-center text-sm text-green-600">
                  <CheckCircle className="w-4 h-4 mr-2" />
                  Webpages
                </div>
                <div className="flex items-center text-sm text-green-600">
                  <CheckCircle className="w-4 h-4 mr-2" />
                  Blog posts or articles
                </div>
                <div className="flex items-center text-sm text-green-600">
                  <CheckCircle className="w-4 h-4 mr-2" />
                  Notion docs (public only)
                </div>
              </div>
              <div className="flex justify-center">
                <Plus className="w-5 h-5 text-gray-400" />
              </div>
            </CardContent>
          </Card>
        </div>

        {/* Alternative Option */}
        <div className="text-center mb-16">
          <p className="text-gray-600">
            If your file isn't supported, you can also{' '}
            <Link href="/create/paste" className="text-blue-600 hover:text-blue-700 underline">
              paste in text
            </Link>
          </p>
        </div>

        {/* Recent Prompts */}
        <div className="max-w-2xl mx-auto">
          <h2 className="text-2xl font-semibold text-gray-900 mb-6 text-center">
            Your recent prompts
          </h2>
          
          <div className="space-y-3">
            {recentPrompts.map((prompt, index) => (
              <Card key={index} className="group cursor-pointer hover:shadow-md transition-all duration-200 bg-white/60 backdrop-blur-sm border-0">
                <CardContent className="flex items-center justify-between p-4">
                  <div className="flex-1">
                    <div className="flex items-center mb-1">
                      <h3 className="font-medium text-gray-900 mr-2">{prompt.title}</h3>
                      {prompt.status && (
                        <Badge variant="secondary" className="bg-green-100 text-green-800 text-xs">
                          {prompt.status}
                        </Badge>
                      )}
                    </div>
                    <div className="flex items-center text-sm text-gray-500">
                      <span className="mr-3">{prompt.type}</span>
                      <Clock className="w-3 h-3 mr-1" />
                      <span>{prompt.time}</span>
                    </div>
                  </div>
                  <ArrowRight className="w-5 h-5 text-gray-400 group-hover:text-gray-600 transition-colors" />
                </CardContent>
              </Card>
            ))}
          </div>
        </div>
      </main>
    </div>
  );
}
```

# app/create/page.tsx

```tsx
'use client';

import Link from 'next/link';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { SlidesHeader } from '@/components/ui/slides-header';
import { 
  FileText, 
  Sparkles, 
  Upload, 
  Home,
  ArrowRight,
  Clock
} from 'lucide-react';

export default function CreatePage() {
  const recentPrompts = [
    {
      title: "Persuasive presentation",
      type: "Generate",
      time: "12 days ago"
    },
    {
      title: "Resume for an influencer",
      type: "Generate", 
      time: "12 days ago"
    },
    {
      title: "Introduction",
      type: "Paste text",
      time: "3 months ago"
    }
  ];

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50">
      <SlidesHeader title="Create with AI" showHomeButton={true} />

      <main className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        {/* Main Title */}
        <div className="text-center mb-12">
          <h1 className="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
            Create with AI
          </h1>
          <p className="text-xl text-gray-600">
            How would you like to get started?
          </p>
        </div>

        {/* Creation Options */}
        <div className="grid md:grid-cols-3 gap-6 mb-16">
          {/* Paste in text */}
          <Link href="/create/paste">
            <Card className="group cursor-pointer hover:shadow-xl transition-all duration-300 hover:-translate-y-1 bg-white/80 backdrop-blur-sm border-0">
              <CardHeader className="pb-4">
                <div className="w-full h-40 bg-gradient-to-br from-gray-900 via-purple-900 to-pink-900 rounded-lg flex items-center justify-center mb-4 relative overflow-hidden">
                  <div className="absolute inset-0 bg-gradient-to-br from-purple-500/20 to-pink-500/20"></div>
                  <span className="text-4xl font-bold text-white relative z-10">Aa</span>
                </div>
                <CardTitle className="text-xl font-semibold">Paste in text</CardTitle>
              </CardHeader>
              <CardContent>
                <CardDescription className="text-gray-600">
                  Create from notes, an outline, or existing content
                </CardDescription>
              </CardContent>
            </Card>
          </Link>

          {/* Generate */}
          <Link href="/create/generate">
            <Card className="group cursor-pointer hover:shadow-xl transition-all duration-300 hover:-translate-y-1 bg-white/80 backdrop-blur-sm border-0 relative">
              <Badge className="absolute -top-2 left-4 bg-blue-100 text-blue-800 hover:bg-blue-100">
                âš¡ POPULAR
              </Badge>
              <CardHeader className="pb-4">
                <div className="w-full h-40 bg-gradient-to-br from-blue-500 via-purple-500 to-orange-500 rounded-lg flex items-center justify-center mb-4 relative overflow-hidden">
                  <div className="absolute inset-0 bg-gradient-to-br from-yellow-400/20 to-orange-400/20"></div>
                  <Sparkles className="w-12 h-12 text-white relative z-10" />
                </div>
                <CardTitle className="text-xl font-semibold">Generate</CardTitle>
              </CardHeader>
              <CardContent>
                <CardDescription className="text-gray-600">
                  Create from a one-line prompt in a few seconds
                </CardDescription>
              </CardContent>
            </Card>
          </Link>

          {/* Import file or URL */}
          <Link href="/create/import">
            <Card className="group cursor-pointer hover:shadow-xl transition-all duration-300 hover:-translate-y-1 bg-white/80 backdrop-blur-sm border-0">
              <CardHeader className="pb-4">
                <div className="w-full h-40 bg-gradient-to-br from-blue-600 via-green-500 to-orange-400 rounded-lg flex items-center justify-center mb-4 relative overflow-hidden">
                  <div className="absolute inset-0 bg-white/10 backdrop-blur-sm rounded-lg"></div>
                  <div className="bg-white rounded-lg p-3 relative z-10">
                    <Upload className="w-6 h-6 text-blue-600" />
                  </div>
                </div>
                <CardTitle className="text-xl font-semibold">Import file or URL</CardTitle>
              </CardHeader>
              <CardContent>
                <CardDescription className="text-gray-600">
                  Enhance existing docs, presentations, or webpages
                </CardDescription>
              </CardContent>
            </Card>
          </Link>
        </div>

        {/* Recent Prompts */}
        <div className="max-w-2xl mx-auto">
          <h2 className="text-2xl font-semibold text-gray-900 mb-6 text-center">
            Your recent prompts
          </h2>
          
          <div className="space-y-3">
            {recentPrompts.map((prompt, index) => (
              <Card key={index} className="group cursor-pointer hover:shadow-md transition-all duration-200 bg-white/60 backdrop-blur-sm border-0">
                <CardContent className="flex items-center justify-between p-4">
                  <div className="flex-1">
                    <h3 className="font-medium text-gray-900 mb-1">{prompt.title}</h3>
                    <div className="flex items-center text-sm text-gray-500">
                      <span className="mr-3">{prompt.type}</span>
                      <Clock className="w-3 h-3 mr-1" />
                      <span>{prompt.time}</span>
                    </div>
                  </div>
                  <ArrowRight className="w-5 h-5 text-gray-400 group-hover:text-gray-600 transition-colors" />
                </CardContent>
              </Card>
            ))}
          </div>
        </div>
      </main>
    </div>
  );
}
```

# app/create/paste/page.tsx

```tsx
'use client';

import Link from 'next/link';
import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { Card, CardContent } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Textarea } from '@/components/ui/textarea';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { 
  FileText, 
  Globe, 
  File, 
  Share2,
  Home,
  ArrowRight,
  List,
  FileCheck,
  Copy
} from 'lucide-react';

export default function PastePage() {
  const [selectedType, setSelectedType] = useState('presentation');
  const [content, setContent] = useState('');

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50">
      {/* Header */}
      <header className="border-b border-white/20 backdrop-blur-sm bg-white/10">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex items-center py-4">
            <Link href="/create" className="flex items-center text-gray-600 hover:text-gray-900 transition-colors">
              <Home className="w-5 h-5 mr-2" />
              Create
            </Link>
          </div>
        </div>
      </header>

      <main className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        {/* Title */}
        <div className="text-center mb-12">
          <div className="flex items-center justify-center mb-4">
            <FileText className="w-8 h-8 text-blue-500 mr-3" />
            <h1 className="text-4xl font-bold text-gray-900">Paste in text</h1>
          </div>
          <p className="text-xl text-gray-600">
            What would you like to create?
          </p>
        </div>

        {/* Content Type Selection */}
        <div className="flex justify-center mb-8">
          <div className="flex bg-white/60 backdrop-blur-sm rounded-lg p-2 border border-white/20">
            <button
              onClick={() => setSelectedType('presentation')}
              className={`flex items-center px-4 py-2 rounded-md transition-all ${
                selectedType === 'presentation'
                  ? 'bg-blue-500 text-white shadow-md'
                  : 'text-gray-600 hover:text-gray-900'
              }`}
            >
              <FileText className="w-4 h-4 mr-2" />
              Presentation
            </button>
            <button
              onClick={() => setSelectedType('webpage')}
              className={`flex items-center px-4 py-2 rounded-md transition-all ${
                selectedType === 'webpage'
                  ? 'bg-blue-500 text-white shadow-md'
                  : 'text-gray-600 hover:text-gray-900'
              }`}
            >
              <Globe className="w-4 h-4 mr-2" />
              Webpage
            </button>
            <button
              onClick={() => setSelectedType('document')}
              className={`flex items-center px-4 py-2 rounded-md transition-all ${
                selectedType === 'document'
                  ? 'bg-blue-500 text-white shadow-md'
                  : 'text-gray-600 hover:text-gray-900'
              }`}
            >
              <File className="w-4 h-4 mr-2" />
              Document
            </button>
            <button
              onClick={() => setSelectedType('social')}
              className={`flex items-center px-4 py-2 rounded-md transition-all ${
                selectedType === 'social'
                  ? 'bg-blue-500 text-white shadow-md'
                  : 'text-gray-600 hover:text-gray-900'
              }`}
            >
              <Share2 className="w-4 h-4 mr-2" />
              Social
            </button>
          </div>
        </div>

        {/* Template Selection */}
        <div className="flex justify-center mb-8">
          <Select defaultValue="default">
            <SelectTrigger className="w-48 bg-white/60 backdrop-blur-sm border-white/20">
              <SelectValue />
            </SelectTrigger>
            <SelectContent>
              <SelectItem value="default">Default</SelectItem>
              <SelectItem value="modern">Modern</SelectItem>
              <SelectItem value="minimal">Minimal</SelectItem>
              <SelectItem value="creative">Creative</SelectItem>
            </SelectContent>
          </Select>
        </div>

        <div className="grid lg:grid-cols-3 gap-8">
          {/* Main Content Area */}
          <div className="lg:col-span-2">
            <div className="mb-6">
              <p className="text-gray-700 text-center mb-4">
                Paste in the notes, outline or text content you'd like to use
              </p>
              
              <Card className="bg-white/60 backdrop-blur-sm border-white/20">
                <CardContent className="p-6">
                  <Textarea
                    placeholder="Type or paste in content here"
                    value={content}
                    onChange={(e) => setContent(e.target.value)}
                    className="min-h-[300px] bg-transparent border-none resize-none text-gray-700 placeholder:text-gray-400"
                  />
                </CardContent>
              </Card>
            </div>

            {/* Action Options */}
            <div className="mb-8">
              <h3 className="text-lg font-semibold text-gray-900 mb-4 text-center">
                What do you want to do with this content?
              </h3>
              
              <div className="space-y-3">
                <Card className="bg-white/60 backdrop-blur-sm border-white/20 cursor-pointer hover:shadow-md transition-all">
                  <CardContent className="flex items-center p-4">
                    <List className="w-5 h-5 text-blue-500 mr-4" />
                    <div className="flex-1">
                      <h4 className="font-medium text-gray-900">Generate from notes or an outline</h4>
                      <p className="text-sm text-gray-600">Turn rough ideas, bullet points, or outlines into beautiful content</p>
                    </div>
                  </CardContent>
                </Card>

                <Card className="bg-white/60 backdrop-blur-sm border-white/20 cursor-pointer hover:shadow-md transition-all">
                  <CardContent className="flex items-center p-4">
                    <FileCheck className="w-5 h-5 text-green-500 mr-4" />
                    <div className="flex-1">
                      <h4 className="font-medium text-gray-900">Summarize long text or document</h4>
                      <p className="text-sm text-gray-600">Great for condensing detailed content into something more presentable</p>
                    </div>
                  </CardContent>
                </Card>

                <Card className="bg-white/60 backdrop-blur-sm border-white/20 cursor-pointer hover:shadow-md transition-all">
                  <CardContent className="flex items-center p-4">
                    <Copy className="w-5 h-5 text-purple-500 mr-4" />
                    <div className="flex-1">
                      <h4 className="font-medium text-gray-900">Preserve this exact text</h4>
                      <p className="text-sm text-gray-600">Create using your text, exactly as you've written it</p>
                    </div>
                  </CardContent>
                </Card>
              </div>
            </div>

            {/* Continue Button */}
            <div className="text-center">
              <Button size="lg" className="bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-full">
                Continue to prompt editor
                <ArrowRight className="w-5 h-5 ml-2" />
              </Button>
            </div>
          </div>

          {/* Sidebar */}
          <div className="lg:col-span-1">
            <Card className="bg-white/60 backdrop-blur-sm border-white/20">
              <CardContent className="p-6">
                <div className="flex items-center mb-4">
                  <div className="w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                    <span className="text-blue-600 text-sm">ğŸ’¡</span>
                  </div>
                  <h3 className="font-semibold text-gray-900">Optional: card-by-card control</h3>
                </div>
                
                <p className="text-sm text-gray-600 mb-4">
                  Know what you want on each card? Add three dashes ---- between each section.
                </p>
                
                <div className="bg-gray-50 rounded-lg p-4">
                  <p className="text-sm font-medium text-gray-700 mb-2">Example:</p>
                  <div className="text-xs text-gray-600 space-y-2">
                    <div>
                      <p className="font-medium">Intro to our new strategy</p>
                      <ul className="list-disc list-inside ml-2 space-y-1">
                        <li>Key point 1</li>
                        <li>Key point 2</li>
                        <li>Key point 3</li>
                      </ul>
                    </div>
                    
                    <div className="border-t pt-2">
                      <p className="font-medium">Key metrics from Q1</p>
                      <ul className="list-disc list-inside ml-2 space-y-1">
                        <li>Key point 1</li>
                        <li>Key point 2</li>
                        <li>Key point 3</li>
                      </ul>
                    </div>
                    
                    <div className="border-t pt-2">
                      <p className="font-medium">Next steps + ownership</p>
                      <ul className="list-disc list-inside ml-2 space-y-1">
                        <li>Key point 1</li>
                        <li>...</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>
          </div>
        </div>
      </main>
    </div>
  );
}
```

# app/docs/[id]/page.tsx

```tsx
'use client';

import { useState, useEffect } from 'react';
import { useParams } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { useTheme } from '@/contexts/ThemeContext';
import { SlideRenderer, SlideData } from '@/components/slides/SlideRenderer';
import { ThemedLayout } from '@/components/ui/themed-layout';
import { SlidesHeader } from '@/components/ui/slides-header';
import { SlidesSidebar } from '@/components/ui/slides-sidebar';
import { TemplateSelectionModal } from '@/components/ui/template-selection-modal';
import { AIGenerationModal } from '@/components/ui/ai-generation-modal';
import { InterSlideAddButtons } from '@/components/ui/inter-slide-add-buttons';
import { SlideDragHandle } from '@/components/ui/slide-drag-handle';
import { DndContext, closestCenter, KeyboardSensor, PointerSensor, useSensor, useSensors } from '@dnd-kit/core';
import { arrayMove, SortableContext, sortableKeyboardCoordinates, verticalListSortingStrategy } from '@dnd-kit/sortable';
import { 
  ChevronLeft, 
  ChevronRight, 
  Play, 
  Pause, 
  RotateCcw,
  Download,
  Share2,
  Loader2
} from 'lucide-react';

interface OutlineSection {
  id: string;
  title: string;
  bulletPoints: string[];
  templateType: string;
}

interface GeneratedOutline {
  title: string;
  sections: OutlineSection[];
}

interface DocumentData {
  id: string;
  prompt: string;
  cardCount: number;
  style: string;
  language: string;
  createdAt: string;
  status: string;
  outline?: GeneratedOutline;
  generatedSlides?: SlideData[];
  contentLength?: string;
  theme?: string;
  imageStyle?: string;
}

export default function PresentationPage() {
  const params = useParams();
  const documentId = params.id as string;
  const { setTheme, getThemeForDocument } = useTheme();
  
  const [documentData, setDocumentData] = useState<DocumentData | null>(null);
  const [slides, setSlides] = useState<SlideData[]>([]);
  const [isGenerating, setIsGenerating] = useState(false);
  const [generatingSlideIndex, setGeneratingSlideIndex] = useState(-1);
  const [isPlaying, setIsPlaying] = useState(false);
  const [generatingImages, setGeneratingImages] = useState(new Set<number>());
  const [generatingSlides, setGeneratingSlides] = useState(new Set<number>());
  const [currentSlideIndex, setCurrentSlideIndex] = useState(0);
  const [isAutoScrolling, setIsAutoScrolling] = useState(false); // Prevent conflicts during programmatic scroll
  
  // Phase 3: Modal states for slide addition
  const [showTemplateModal, setShowTemplateModal] = useState(false);
  const [showAIModal, setShowAIModal] = useState(false);
  const [isGeneratingNewSlide, setIsGeneratingNewSlide] = useState(false);
  const [insertAtIndex, setInsertAtIndex] = useState<number | null>(null); // For inter-slide insertion

  // Phase 4: Drag and drop sensors
  const sensors = useSensors(
    useSensor(PointerSensor, {
      activationConstraint: {
        distance: 8, // Require 8px movement before starting drag
      },
    }),
    useSensor(KeyboardSensor, {
      coordinateGetter: sortableKeyboardCoordinates,
    })
  );

  // Load document data and theme from localStorage
  useEffect(() => {
    const loadDocumentData = () => {
      const stored = localStorage.getItem(`document_${documentId}`);
      if (stored) {
        const data: DocumentData = JSON.parse(stored);
        setDocumentData(data);
        
        // Load theme for this document
        const documentTheme = getThemeForDocument(documentId);
        setTheme(documentTheme, documentId);
        
        // First, try to load existing generated slides
        if (data.generatedSlides && data.generatedSlides.length > 0) {
          console.log('âœ… Loading existing generated slides from localStorage');
          setSlides(data.generatedSlides);
        } else if (data.outline) {
          // Only generate slides if none exist
          console.log('ğŸ”„ No existing slides found, initializing new slides');
          initializeSlides(data.outline, data.cardCount);
        }
      }
    };

    loadDocumentData();
  }, [documentId, setTheme, getThemeForDocument]);

  // Save slides to localStorage whenever they change
  useEffect(() => {
    if (documentData && slides.length > 0) {
      const updatedData: DocumentData = {
        ...documentData,
        generatedSlides: slides
      };
      localStorage.setItem(`document_${documentId}`, JSON.stringify(updatedData));
    }
  }, [slides, documentData, documentId]);

  // Phase 2: Auto-detect current slide based on scroll position
  useEffect(() => {
    if (slides.length === 0 || isAutoScrolling) return;

    const observer = new IntersectionObserver(
      (entries) => {
        // Find the slide that's most visible in the viewport
        let mostVisibleSlide = null;
        let maxVisibility = 0;

        entries.forEach((entry) => {
          if (entry.isIntersecting && entry.intersectionRatio > maxVisibility) {
            maxVisibility = entry.intersectionRatio;
            mostVisibleSlide = entry.target;
          }
        });

        if (mostVisibleSlide) {
          const slideIndex = parseInt(
            (mostVisibleSlide as HTMLElement).getAttribute('data-slide-index') || '0'
          );
          if (slideIndex !== currentSlideIndex) {
            setCurrentSlideIndex(slideIndex);
          }
        }
      },
      {
        root: null, // Use viewport as root
        rootMargin: '-20% 0px -20% 0px', // Only consider slides in middle 60% of viewport
        threshold: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0] // Multiple thresholds for better detection
      }
    );

    // Observe all slide elements
    const slideElements = document.querySelectorAll('[data-slide-index]');
    slideElements.forEach((element) => observer.observe(element));

    return () => {
      observer.disconnect();
    };
  }, [slides.length, currentSlideIndex, isAutoScrolling]);

  // Phase 2: Keyboard navigation support
  useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      // Only handle arrow keys when not in an input field
      if (
        event.target instanceof HTMLInputElement ||
        event.target instanceof HTMLTextAreaElement ||
        (event.target as HTMLElement)?.contentEditable === 'true'
      ) {
        return;
      }

      switch (event.key) {
        case 'ArrowUp':
        case 'ArrowLeft':
          event.preventDefault();
          if (currentSlideIndex > 0) {
            handleSlideSelect(currentSlideIndex - 1);
          }
          break;
        case 'ArrowDown':
        case 'ArrowRight':
          event.preventDefault();
          if (currentSlideIndex < slides.length - 1) {
            handleSlideSelect(currentSlideIndex + 1);
          }
          break;
        case 'Home':
          event.preventDefault();
          handleSlideSelect(0);
          break;
        case 'End':
          event.preventDefault();
          handleSlideSelect(slides.length - 1);
          break;
      }
    };

    document.addEventListener('keydown', handleKeyDown);
    return () => {
      document.removeEventListener('keydown', handleKeyDown);
    };
  }, [currentSlideIndex, slides.length]);

  // Initialize slides from outline - only create the requested number of slides
  const initializeSlides = (outline: GeneratedOutline, requestedCount: number) => {
    console.log('âœ… Initializing slides for the first time');
    
    // Only create slides from sections, no automatic title slide
    // Take only the requested number of sections
    const sectionsToUse = outline.sections.slice(0, requestedCount);
    
    const sectionSlides: SlideData[] = sectionsToUse.map((section, index) => ({
      id: section.id,
      templateType: section.templateType,
      title: section.title,
      bulletPoints: section.bulletPoints,
      isGenerating: true
    }));

    setSlides(sectionSlides);
    
    // Start generating slides
    generateAllSlides(sectionsToUse, sectionSlides);
  };

  // Generate all slides sequentially
  const generateAllSlides = async (sections: OutlineSection[], initialSlides: SlideData[]) => {
    setIsGenerating(true);
    
    for (let i = 0; i < initialSlides.length; i++) {
      const section = sections[i];
      setGeneratingSlideIndex(i);
      
      try {
        await generateSlide(section, i);
      } catch (error) {
        // Continue with next slide even if one fails
      }
    }
    
    setIsGenerating(false);
    setGeneratingSlideIndex(-1);
  };

  // Generate individual slide
  const generateSlide = async (section: OutlineSection, slideIndex: number) => {
    // Prevent duplicate slide generation
    if (generatingSlides.has(slideIndex)) {
      console.log('ğŸš« Already generating slide:', slideIndex, 'skipping duplicate');
      return;
    }

    console.log('ğŸ¯ Starting slide generation for:', slideIndex);
    setGeneratingSlides(prev => new Set(prev).add(slideIndex));

    try {
      const response = await fetch('/api/generate-slide', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          sectionTitle: section.title,
          bulletPoints: section.bulletPoints,
          templateType: section.templateType,
          style: documentData?.style || 'default',
          language: documentData?.language || 'en',
          contentLength: documentData?.contentLength || 'medium',
          imageStyle: documentData?.imageStyle || 'professional',
        }),
      });

      if (!response.ok) {
        throw new Error('Failed to generate slide');
      }

      // Parse JSON response instead of streaming
      const result = await response.json();
      
      console.log('ğŸ¤– LLM Response Data:', JSON.stringify(result, null, 2));
      
      if (!result.success || !result.data) {
        throw new Error('Invalid response format');
      }

      const slideData = result.data;
      
      // Update slide with generated content
      setSlides(prevSlides => {
        const newSlides = [...prevSlides];
        const currentSlide = newSlides[slideIndex];
        
        newSlides[slideIndex] = { 
          ...currentSlide, 
          ...slideData,
          isGenerating: false
        };
        return newSlides;
      });

      // Generate image if needed
      if (slideData.imagePrompt && !slideData.imageUrl) {
        console.log('ğŸ¯ Generation complete, generating image for slide:', slideIndex);
        generateSlideImage(slideData.imagePrompt, slideIndex);
      }

      // Remove from generating slides set
      setGeneratingSlides(prev => {
        const newSet = new Set(prev);
        newSet.delete(slideIndex);
        return newSet;
      });
          } catch (error) {
        console.error('âŒ Slide generation failed for slide:', slideIndex, error);
        
        // Remove from generating slides set
        setGeneratingSlides(prev => {
          const newSet = new Set(prev);
          newSet.delete(slideIndex);
          return newSet;
        });
        
        // Mark slide as failed
        setSlides(prevSlides => 
          prevSlides.map((slide, index) => 
            index === slideIndex 
              ? { 
                  ...slide, 
                  isGenerating: false,
                  title: section.title,
                  bulletPoints: section.bulletPoints
                }
              : slide
          )
        );
      }
  };

  // Generate image for slide
  const generateSlideImage = async (imagePrompt: string, slideIndex: number) => {
    try {
      console.log('ğŸ¨ Attempting image generation for slide:', slideIndex, 'with prompt:', imagePrompt);
      
      // Check if already generating this slide's image
      if (generatingImages.has(slideIndex)) {
        console.log('ğŸš« Already generating image for slide:', slideIndex);
        return;
      }

      // Check if slide already has an image
      const currentSlide = slides[slideIndex];
      if (currentSlide?.imageUrl) {
        console.log('ğŸš« Slide already has image:', slideIndex);
        return;
      }

      console.log('âœ… Proceeding with image generation for slide:', slideIndex);
      
      // Add to generating set
      setGeneratingImages(prev => new Set(prev).add(slideIndex));
      
      // Mark slide as generating image to prevent duplicate calls
      setSlides(prevSlides => 
        prevSlides.map((slide, index) => 
          index === slideIndex 
            ? { ...slide, isGeneratingImage: true }
            : slide
        )
      );

      const response = await fetch('/api/generate-image', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ 
          prompt: imagePrompt,
          theme: documentData?.theme,
          imageStyle: documentData?.imageStyle
        }),
      });

      if (!response.ok) {
        throw new Error('Failed to generate image');
      }

      const { imageUrl } = await response.json();
      
      console.log('âœ… Image generated successfully for slide:', slideIndex);
      
      // Remove from generating set
      setGeneratingImages(prev => {
        const newSet = new Set(prev);
        newSet.delete(slideIndex);
        return newSet;
      });
      
      // Update slide with generated image
      setSlides(prevSlides => 
        prevSlides.map((slide, index) => 
          index === slideIndex 
            ? { ...slide, imageUrl, isGeneratingImage: false }
            : slide
        )
      );
    } catch (error) {
      console.error('âŒ Image generation failed for slide:', slideIndex, error);
      
      // Remove from generating set
      setGeneratingImages(prev => {
        const newSet = new Set(prev);
        newSet.delete(slideIndex);
        return newSet;
      });
      
      // Mark as failed
      setSlides(prevSlides => 
        prevSlides.map((slide, index) => 
          index === slideIndex 
            ? { ...slide, isGeneratingImage: false }
            : slide
        )
      );
    }
  };

  // Update slide content
  const updateSlideContent = (slideIndex: number, updates: Partial<SlideData>) => {
    setSlides(prevSlides => 
      prevSlides.map((slide, index) => 
        index === slideIndex 
          ? { ...slide, ...updates }
          : slide
      )
    );
  };

  // Sidebar handlers - Phase 2: Navigation & Selection
  const handleSlideSelect = (index: number) => {
    setCurrentSlideIndex(index);
    setIsAutoScrolling(true);
    
    // Smooth scroll to selected slide
    const slideElement = document.querySelector(`[data-slide-index="${index}"]`);
    if (slideElement) {
      slideElement.scrollIntoView({ 
        behavior: 'smooth', 
        block: 'center',
        inline: 'nearest'
      });
      
      // Re-enable auto-detection after scroll completes
      setTimeout(() => {
        setIsAutoScrolling(false);
      }, 1000); // Allow time for smooth scroll to complete
    } else {
      setIsAutoScrolling(false);
    }
  };

  // Phase 3: Slide addition functions
  const addNewSlide = (templateType: string, slideData: Partial<SlideData> = {}, insertIndex?: number) => {
    const newSlide: SlideData = {
      id: `slide-${Date.now()}`,
      templateType,
      title: slideData.title || 'New Slide',
      content: slideData.content || '',
      bulletPoints: slideData.bulletPoints || [],
      isGenerating: false,
      ...slideData
    };

    // Use provided insertIndex or default to after current slide
    const targetIndex = insertIndex !== undefined ? insertIndex : currentSlideIndex + 1;
    const newSlides = [...slides];
    newSlides.splice(targetIndex, 0, newSlide);
    
    setSlides(newSlides);
    setCurrentSlideIndex(targetIndex);
    
    // Reset insert position
    setInsertAtIndex(null);
    
    // Scroll to new slide after a brief delay
    setTimeout(() => {
      handleSlideSelect(targetIndex);
    }, 100);
  };

  const handleAddSlide = () => {
    // Add a basic blank slide
    addNewSlide('blank-card');
  };

  const handleAddFromTemplate = () => {
    setShowTemplateModal(true);
  };

  const handleAddWithAI = () => {
    setShowAIModal(true);
  };

  const handleTemplateSelect = (templateType: string) => {
    addNewSlide(templateType, {}, insertAtIndex || undefined);
  };

  // Inter-slide add handlers
  const handleInterSlideAdd = (insertIndex: number) => {
    setInsertAtIndex(insertIndex);
    addNewSlide('blank-card', {}, insertIndex);
  };

  const handleInterSlideAddFromTemplate = (insertIndex: number) => {
    setInsertAtIndex(insertIndex);
    setShowTemplateModal(true);
  };

  const handleInterSlideAddWithAI = (insertIndex: number) => {
    setInsertAtIndex(insertIndex);
    setShowAIModal(true);
  };

  // Phase 4: Slide reordering function
  const handleDragEnd = (event: any) => {
    const { active, over } = event;

    if (active.id !== over?.id) {
      const oldIndex = slides.findIndex(slide => slide.id === active.id);
      const newIndex = slides.findIndex(slide => slide.id === over.id);
      
      const reorderedSlides = arrayMove(slides, oldIndex, newIndex);
      setSlides(reorderedSlides);
      
      // Update current slide index if needed
      if (oldIndex === currentSlideIndex) {
        setCurrentSlideIndex(newIndex);
      } else if (oldIndex < currentSlideIndex && newIndex >= currentSlideIndex) {
        setCurrentSlideIndex(currentSlideIndex - 1);
      } else if (oldIndex > currentSlideIndex && newIndex <= currentSlideIndex) {
        setCurrentSlideIndex(currentSlideIndex + 1);
      }
    }
  };

  // Sidebar reorder handler
  const handleSidebarReorder = (oldIndex: number, newIndex: number) => {
    const reorderedSlides = arrayMove(slides, oldIndex, newIndex);
    setSlides(reorderedSlides);
    
    // Update current slide index if needed
    if (oldIndex === currentSlideIndex) {
      setCurrentSlideIndex(newIndex);
    } else if (oldIndex < currentSlideIndex && newIndex >= currentSlideIndex) {
      setCurrentSlideIndex(currentSlideIndex - 1);
    } else if (oldIndex > currentSlideIndex && newIndex <= currentSlideIndex) {
      setCurrentSlideIndex(currentSlideIndex + 1);
    }
  };

  // Phase 5: Slide management functions

  const handleDuplicateSlide = (index: number) => {
    const slideToClone = slides[index];
    const duplicatedSlide: SlideData = {
      ...slideToClone,
      id: `slide-${Date.now()}`,
      title: `${slideToClone.title} (Copy)`
    };
    
    const newSlides = [...slides];
    newSlides.splice(index + 1, 0, duplicatedSlide);
    setSlides(newSlides);
    
    // Update current slide index if needed
    if (index < currentSlideIndex) {
      setCurrentSlideIndex(currentSlideIndex + 1);
    }
  };

  const handleDeleteSlide = (index: number) => {
    if (slides.length <= 1) return; // Don't delete the last slide
    
    const newSlides = slides.filter((_, i) => i !== index);
    setSlides(newSlides);
    
    // Update current slide index
    if (index < currentSlideIndex) {
      setCurrentSlideIndex(currentSlideIndex - 1);
    } else if (index === currentSlideIndex) {
      // If deleting current slide, move to previous or stay at 0
      setCurrentSlideIndex(Math.max(0, currentSlideIndex - 1));
    }
  };

  const handleMoveSlideUp = (index: number) => {
    if (index === 0) return; // Can't move first slide up
    
    const reorderedSlides = arrayMove(slides, index, index - 1);
    setSlides(reorderedSlides);
    
    // Update current slide index if needed
    if (index === currentSlideIndex) {
      setCurrentSlideIndex(index - 1);
    } else if (index - 1 === currentSlideIndex) {
      setCurrentSlideIndex(currentSlideIndex + 1);
    }
  };

  const handleMoveSlideDown = (index: number) => {
    if (index === slides.length - 1) return; // Can't move last slide down
    
    const reorderedSlides = arrayMove(slides, index, index + 1);
    setSlides(reorderedSlides);
    
    // Update current slide index if needed
    if (index === currentSlideIndex) {
      setCurrentSlideIndex(index + 1);
    } else if (index + 1 === currentSlideIndex) {
      setCurrentSlideIndex(currentSlideIndex - 1);
    }
  };

  const handleHideSlide = (index: number) => {
    // TODO: Implement hide functionality
    console.log('Hide slide:', index);
  };

  const handleExportSlide = (index: number) => {
    // TODO: Implement export functionality
    console.log('Export slide:', index);
  };

  const handleAIGenerate = async (prompt: string, templateType: string) => {
    setIsGeneratingNewSlide(true);
    
    try {
      // Create placeholder slide
      const placeholderSlide: SlideData = {
        id: `slide-${Date.now()}`,
        templateType: templateType === 'magic' ? 'title-with-bullets' : templateType,
        title: 'Generating...',
        content: prompt,
        bulletPoints: [],
        isGenerating: true
      };

      const targetIndex = insertAtIndex !== null ? insertAtIndex : currentSlideIndex + 1;
      const newSlides = [...slides];
      newSlides.splice(targetIndex, 0, placeholderSlide);
      
      setSlides(newSlides);
      setCurrentSlideIndex(targetIndex);

      // Generate slide content using existing API
      const response = await fetch('/api/generate-slide', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          sectionTitle: prompt,
          bulletPoints: [],
          templateType: templateType === 'magic' ? 'title-with-bullets' : templateType,
          style: documentData?.style || 'default',
          language: documentData?.language || 'en',
          contentLength: documentData?.contentLength || 'medium',
          imageStyle: documentData?.imageStyle || 'professional',
        }),
      });

      if (!response.ok) {
        throw new Error('Failed to generate slide');
      }

      // Parse JSON response instead of streaming
      const result = await response.json();
      
      if (!result.success || !result.data) {
        throw new Error('Invalid response format');
      }

      const slideData = result.data;
      
      // Update slide with generated content
      setSlides(prevSlides => 
        prevSlides.map((slide, index) => 
          index === targetIndex 
            ? { 
                ...slide, 
                ...slideData,
                isGenerating: false
              }
            : slide
        )
      );

      // Generate image if needed
      if (slideData.imagePrompt && !slideData.imageUrl) {
        generateSlideImage(slideData.imagePrompt, targetIndex);
      }

      setShowAIModal(false);
      
      // Scroll to new slide
      setTimeout(() => {
        handleSlideSelect(targetIndex);
      }, 100);
      
      // Reset insert position
      setInsertAtIndex(null);
      
    } catch (error) {
      console.error('Failed to generate slide:', error);
      // Remove failed slide
      setSlides(prevSlides => prevSlides.filter((_, index) => index !== currentSlideIndex + 1));
    } finally {
      setIsGeneratingNewSlide(false);
    }
  };

  if (!documentData || slides.length === 0) {
    return (
      <ThemedLayout>
        <div className="min-h-screen flex items-center justify-center">
          <div className="text-center">
            <Loader2 className="w-8 h-8 animate-spin mx-auto mb-4 text-white" />
            <p className="text-white/80">Loading presentation...</p>
          </div>
        </div>
      </ThemedLayout>
    );
  }

  return (
    <ThemedLayout>
      {/* Slides Sidebar */}
      <SlidesSidebar
        slides={slides}
        currentSlideIndex={currentSlideIndex}
        onSlideSelect={handleSlideSelect}
        onAddSlide={handleAddSlide}
        onAddFromTemplate={handleAddFromTemplate}
        onAddWithAI={handleAddWithAI}
        onReorderSlides={handleSidebarReorder}
        onDuplicateSlide={handleDuplicateSlide}
        onDeleteSlide={handleDeleteSlide}
        onMoveSlideUp={handleMoveSlideUp}
        onMoveSlideDown={handleMoveSlideDown}
        onHideSlide={handleHideSlide}
        onExportSlide={handleExportSlide}
      />

      <SlidesHeader 
        title={documentData.outline?.title || 'Presentation'}
        additionalButtons={
          <>
            {isGenerating && (
              <div className="flex items-center text-blue-600 text-sm mr-4">
                <Loader2 className="w-4 h-4 animate-spin mr-2" />
                Generating slides... ({generatingSlideIndex + 1}/{slides.length})
              </div>
            )}
            <Button
              variant="ghost"
              size="sm"
              onClick={() => setIsPlaying(!isPlaying)}
              className="text-gray-600 hover:text-gray-900"
            >
              {isPlaying ? <Pause className="w-4 h-4" /> : <Play className="w-4 h-4" />}
            </Button>
            <Button
              variant="ghost"
              size="sm"
              className="text-gray-600 hover:text-gray-900"
            >
              <Download className="w-4 h-4" />
            </Button>
            <Button
              variant="ghost"
              size="sm"
              className="text-gray-600 hover:text-gray-900"
            >
              <Share2 className="w-4 h-4" />
            </Button>
          </>
        }
      />

      {/* Main Content - Vertical Slide Layout */}
      <main className="max-w-4xl mx-auto px-6 py-8">
        <DndContext
          sensors={sensors}
          collisionDetection={closestCenter}
          onDragEnd={handleDragEnd}
        >
          <div className="space-y-0">
            {/* Add button before first slide */}
            <InterSlideAddButtons
              onAddSlide={() => handleInterSlideAdd(0)}
              onAddFromTemplate={() => handleInterSlideAddFromTemplate(0)}
              onAddWithAI={() => handleInterSlideAddWithAI(0)}
              insertIndex={0}
            />
            
            <SortableContext
              items={slides.map(slide => slide.id)}
              strategy={verticalListSortingStrategy}
            >
              {slides.map((slide, index) => (
                <div key={slide.id}>
                  {/* Slide Container with Drag Handle */}
                  <SlideDragHandle 
                    slideId={slide.id}
                    slideIndex={index}
                    totalSlides={slides.length}
                    onDuplicate={handleDuplicateSlide}
                    onDelete={handleDeleteSlide}
                    onMoveUp={handleMoveSlideUp}
                    onMoveDown={handleMoveSlideDown}
                    onHide={handleHideSlide}
                    onExport={handleExportSlide}
                  >
                    <div 
                      className="relative mb-8"
                      data-slide-index={index} // For scroll targeting
                    >
                      {/* Slide Number */}
                      <div className="absolute -left-12 top-4 text-sm text-white/60 font-medium">
                        {index + 1}
                      </div>
                      
                      {/* Slide Content */}
                      <div className="relative">
                        <SlideRenderer 
                          slide={slide} 
                          onUpdate={(updates) => updateSlideContent(index, updates)}
                          isEditable={!slide.isGenerating}
                        />
                        
                        {/* Generation Status Overlay */}
                        {slide.isGenerating && (
                          <div className="absolute inset-0 bg-white/80 backdrop-blur-sm rounded-lg flex items-center justify-center">
                            <div className="text-center">
                              <Loader2 className="w-8 h-8 animate-spin mx-auto mb-4 text-blue-500" />
                              <p className="text-gray-600">Generating slide content...</p>
                            </div>
                          </div>
                        )}
                      </div>
                    </div>
                  </SlideDragHandle>
                  
                  {/* Add button after each slide */}
                  <InterSlideAddButtons
                    onAddSlide={() => handleInterSlideAdd(index + 1)}
                    onAddFromTemplate={() => handleInterSlideAddFromTemplate(index + 1)}
                    onAddWithAI={() => handleInterSlideAddWithAI(index + 1)}
                    insertIndex={index + 1}
                  />
                </div>
              ))}
            </SortableContext>
          </div>
        </DndContext>
      </main>

      {/* Phase 3: Modals for slide addition */}
      <TemplateSelectionModal
        isOpen={showTemplateModal}
        onClose={() => setShowTemplateModal(false)}
        onSelectTemplate={handleTemplateSelect}
      />

      <AIGenerationModal
        isOpen={showAIModal}
        onClose={() => setShowAIModal(false)}
        onGenerate={handleAIGenerate}
        isGenerating={isGeneratingNewSlide}
      />

    </ThemedLayout>
  );
}
```

# app/globals.css

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

/* TiptapEditor Styles */

/* Headings */
.tiptap-editor h1,
.tiptap-editor .ProseMirror h1 {
  font-size: 2.25rem !important;
  line-height: 2.5rem !important;
  font-weight: 700 !important;
  margin: 1.5rem 0 1rem 0 !important;
  color: inherit !important;
}

.tiptap-editor h2,
.tiptap-editor .ProseMirror h2 {
  font-size: 1.875rem !important;
  line-height: 2.25rem !important;
  font-weight: 600 !important;
  margin: 1.25rem 0 0.75rem 0 !important;
  color: inherit !important;
}

.tiptap-editor h3,
.tiptap-editor .ProseMirror h3 {
  font-size: 1.5rem !important;
  line-height: 2rem !important;
  font-weight: 600 !important;
  margin: 1rem 0 0.5rem 0 !important;
  color: inherit !important;
}

/* Paragraphs */
.tiptap-editor p,
.tiptap-editor .ProseMirror p {
  margin: 0.75rem 0 !important;
  line-height: 1.625 !important;
  color: inherit !important;
}

/* Lists */
.tiptap-editor ul,
.tiptap-editor .ProseMirror ul {
  list-style-type: disc !important;
  list-style-position: inside !important;
  margin: 0.5rem 0 !important;
  padding-left: 1rem !important;
}

.tiptap-editor ol,
.tiptap-editor .ProseMirror ol {
  list-style-type: decimal !important;
  list-style-position: inside !important;
  margin: 0.5rem 0 !important;
  padding-left: 1rem !important;
}

.tiptap-editor li,
.tiptap-editor .ProseMirror li {
  margin: 0.25rem 0 !important;
  padding-left: 0.5rem !important;
  display: list-item !important;
  line-height: 1.625 !important;
}

.tiptap-editor ul li::marker,
.tiptap-editor .ProseMirror ul li::marker {
  color: currentColor !important;
}

.tiptap-editor ol li::marker,
.tiptap-editor .ProseMirror ol li::marker {
  color: currentColor !important;
}

/* Blockquotes */
.tiptap-editor blockquote,
.tiptap-editor .ProseMirror blockquote {
  border-left: 4px solid #e5e7eb !important;
  padding-left: 1rem !important;
  margin: 1rem 0 !important;
  font-style: italic !important;
  color: #6b7280 !important;
}

/* Tables */
.tiptap-table {
  width: 100% !important;
  border-collapse: collapse !important;
  margin: 1rem 0 !important;
}

.tiptap-table-row {
  
}

.tiptap-table-header,
.tiptap-table-cell {
  border: none !important;
  padding: 0.75rem !important;
  vertical-align: top !important;
  text-align: left !important;
}

.tiptap-table-header {
  font-weight: 600 !important;
  background-color: transparent !important;
}

.tiptap-table-cell {
  background-color: transparent !important;
}

/* Hide table borders for seamless column layout */
.tiptap-editor .ProseMirror table,
.tiptap-editor .ProseMirror table tr,
.tiptap-editor .ProseMirror table td,
.tiptap-editor .ProseMirror table th {
  border: none !important;
  background: transparent !important;
}

/* Ensure ProseMirror doesn't override list styles */
.ProseMirror ul,
.ProseMirror ol {
  list-style: revert !important;
}

.ProseMirror li {
  display: list-item !important;
}

/* Specific classes for Tiptap lists */
.tiptap-bullet-list {
  list-style-type: disc !important;
  list-style-position: inside !important;
  margin: 0.5rem 0 !important;
  padding-left: 1rem !important;
}

.tiptap-ordered-list {
  list-style-type: decimal !important;
  list-style-position: inside !important;
  margin: 0.5rem 0 !important;
  padding-left: 1rem !important;
}

.tiptap-list-item {
  display: list-item !important;
  margin: 0.25rem 0 !important;
  padding-left: 0.5rem !important;
}
:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 0, 0, 0;
  }
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
  }
  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

```

# app/layout.tsx

```tsx
import './globals.css';
import type { Metadata } from 'next';
import { Inter } from 'next/font/google';
import { ThemeProvider } from '@/contexts/ThemeContext';

const inter = Inter({ subsets: ['latin'] });

export const metadata: Metadata = {
  title: 'PresentAI - AI-Powered Presentation Builder',
  description: 'Create stunning presentations with AI in seconds',
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <ThemeProvider>
          {children}
        </ThemeProvider>
      </body>
    </html>
  );
}

```

# app/page.tsx

```tsx
'use client';

import Link from 'next/link';
import { Button } from '@/components/ui/button';
import { LandingHeader } from '@/components/ui/landing-header';
import { ArrowRight, Sparkles, Presentation, Zap } from 'lucide-react';

export default function Home() {
  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50">
      <LandingHeader />

      {/* Hero Section */}
      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16">
        <div className="text-center">
          <div className="inline-flex items-center px-4 py-2 rounded-full bg-indigo-100 text-indigo-800 text-sm font-medium mb-8">
            <Sparkles className="w-4 h-4 mr-2" />
            AI-Powered Presentation Builder
          </div>
          
          <h1 className="text-4xl md:text-6xl font-bold text-gray-900 mb-6">
            <span className="bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">
              Cursor for Presentations
            </span>
          </h1>
          
          <p className="text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto">
            Create stunning presentations in seconds with the power of AI. 
            From simple prompts to professional slides - your ideas, amplified.
          </p>
          
          <div className="flex flex-col sm:flex-row gap-4 justify-center items-center mb-16">
            <Link href="/create">
              <Button size="lg" className="bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 text-lg">
                Start Creating
                <ArrowRight className="w-5 h-5 ml-2" />
              </Button>
            </Link>
            <Button variant="outline" size="lg" className="px-8 py-4 text-lg">
              Watch Demo
            </Button>
          </div>

          {/* Feature Cards */}
          <div className="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
            <div className="bg-white/60 backdrop-blur-sm rounded-2xl p-8 border border-white/20 hover:shadow-lg transition-all duration-300">
              <div className="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mb-4">
                <Zap className="w-6 h-6 text-white" />
              </div>
              <h3 className="text-xl font-semibold text-gray-900 mb-3">Lightning Fast</h3>
              <p className="text-gray-600">Generate professional presentations in seconds, not hours. AI does the heavy lifting.</p>
            </div>

            <div className="bg-white/60 backdrop-blur-sm rounded-2xl p-8 border border-white/20 hover:shadow-lg transition-all duration-300">
              <div className="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mb-4">
                <Sparkles className="w-6 h-6 text-white" />
              </div>
              <h3 className="text-xl font-semibold text-gray-900 mb-3">AI-Powered</h3>
              <p className="text-gray-600">Advanced AI understands your content and creates beautiful, coherent presentations.</p>
            </div>

            <div className="bg-white/60 backdrop-blur-sm rounded-2xl p-8 border border-white/20 hover:shadow-lg transition-all duration-300">
              <div className="w-12 h-12 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-lg flex items-center justify-center mb-4">
                <Presentation className="w-6 h-6 text-white" />
              </div>
              <h3 className="text-xl font-semibold text-gray-900 mb-3">Professional Quality</h3>
              <p className="text-gray-600">Export-ready presentations with professional layouts, themes, and animations.</p>
            </div>
          </div>
        </div>
      </main>
    </div>
  );
}
```

# app/tests/test-accent/page.tsx

```tsx
'use client';

import { useState } from 'react';
import { AccentLeft } from '@/components/slides/basic/AccentLeft';
import { AccentRight } from '@/components/slides/basic/AccentRight';
import { AccentTop } from '@/components/slides/basic/AccentTop';
import { AccentBackground } from '@/components/slides/basic/AccentBackground';
import { useTheme } from '@/contexts/ThemeContext';
import { ThemedLayout } from '@/components/ui/themed-layout';

type AccentTemplate = 'accent-left' | 'accent-right' | 'accent-top' | 'accent-background';

export default function TestAccentPage() {
  const { currentTheme } = useTheme();
  const [selectedTemplate, setSelectedTemplate] = useState<AccentTemplate>('accent-left');

  const templates = [
    {
      id: 'accent-left' as AccentTemplate,
      name: 'Accent Left',
      description: 'Image on left (full cover), content on right',
      component: AccentLeft,
      inAI: true,
    },
    {
      id: 'accent-right' as AccentTemplate,
      name: 'Accent Right', 
      description: 'Content on left, image on right (full cover)',
      component: AccentRight,
      inAI: true,
    },
    {
      id: 'accent-top' as AccentTemplate,
      name: 'Accent Top',
      description: 'Image on top (full cover), content below',
      component: AccentTop,
      inAI: true,
    },
    {
      id: 'accent-background' as AccentTemplate,
      name: 'Accent Background',
      description: 'Image as background with content overlay',
      component: AccentBackground,
      inAI: false,
    },
  ];

  const sampleData = {
    id: 'test-accent',
    templateType: selectedTemplate,
    content: `<h1>AI-Powered Development Revolution</h1>
<p>Transform your development workflow with cutting-edge AI tools that streamline coding, enhance productivity, and unlock new possibilities for innovation.</p>
<ul>
  <li>Accelerate development with intelligent code generation</li>
  <li>Enhance code quality through AI-powered reviews</li>
  <li>Streamline debugging with smart error detection</li>
  <li>Automate testing and deployment processes</li>
</ul>`,
    imageUrl: 'https://images.pexels.com/photos/1181673/pexels-photo-1181673.jpeg?auto=compress&cs=tinysrgb&w=800',
    imagePrompt: 'Modern developer workspace with multiple monitors showing code, AI interface, and futuristic technology elements',
    isEditable: true,
    theme: 'light' as const
  };

  const SelectedComponent = templates.find(t => t.id === selectedTemplate)?.component || AccentLeft;

  return (
    <ThemedLayout>
      <div className="min-h-screen p-8">
        <div className="max-w-7xl mx-auto">
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900 mb-4">
              Test: Accent Slide Templates
            </h1>
            <p className="text-gray-600 mb-6">
              Testing all accent slide templates with image layouts and different content arrangements.
            </p>

            {/* Template Selector */}
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
              {templates.map((template) => (
                <button
                  key={template.id}
                  onClick={() => setSelectedTemplate(template.id)}
                  className={`p-4 rounded-lg border-2 text-left transition-all ${
                    selectedTemplate === template.id
                      ? 'border-blue-500 bg-blue-50 shadow-md'
                      : 'border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm'
                  }`}
                >
                  <div className="flex items-start justify-between mb-2">
                    <h3 className="font-semibold text-gray-900">{template.name}</h3>
                    <div className="flex gap-1">
                      {template.inAI && (
                        <span className="px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full">
                          AI
                        </span>
                      )}
                    </div>
                  </div>
                  <p className="text-sm text-gray-600">{template.description}</p>
                </button>
              ))}
            </div>
          </div>

          {/* Slide Preview */}
          <div className="bg-white rounded-lg shadow-lg p-8 min-h-[600px] mb-8">
            <SelectedComponent {...sampleData} />
          </div>

          {/* Template Information */}
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div className="p-6 bg-gray-50 rounded-lg">
              <h3 className="font-semibold mb-4 text-gray-900">Template Details</h3>
              <div className="space-y-3 text-sm">
                <div className="flex justify-between">
                  <span className="font-medium text-gray-700">Template ID:</span>
                  <span className="text-gray-600">{selectedTemplate}</span>
                </div>
                <div className="flex justify-between">
                  <span className="font-medium text-gray-700">AI Integration:</span>
                  <span className={`px-2 py-1 rounded-full text-xs ${
                    templates.find(t => t.id === selectedTemplate)?.inAI 
                      ? 'bg-green-100 text-green-800' 
                      : 'bg-gray-100 text-gray-600'
                  }`}>
                    {templates.find(t => t.id === selectedTemplate)?.inAI ? 'Enabled' : 'Manual Only'}
                  </span>
                </div>
                <div className="flex justify-between">
                  <span className="font-medium text-gray-700">Image Handling:</span>
                  <span className="text-gray-600">
                    {selectedTemplate === 'accent-background' ? 'Background Cover' : 'Object Cover'}
                  </span>
                </div>
                <div className="flex justify-between">
                  <span className="font-medium text-gray-700">Content Support:</span>
                  <span className="text-gray-600">Text & Bullets</span>
                </div>
              </div>
            </div>

            <div className="p-6 bg-gray-50 rounded-lg">
              <h3 className="font-semibold mb-4 text-gray-900">Usage Guidelines</h3>
              <ul className="space-y-2 text-sm text-gray-600">
                <li className="flex items-start">
                  <span className="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                  <span>Accent templates emphasize visual content with prominent image placement</span>
                </li>
                <li className="flex items-start">
                  <span className="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                  <span>AI-enabled templates automatically generate appropriate images</span>
                </li>
                <li className="flex items-start">
                  <span className="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                  <span>Content adapts between bullet points and paragraphs based on context</span>
                </li>
                <li className="flex items-start">
                  <span className="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                  <span>Different aspect ratios optimize images for each layout type</span>
                </li>
              </ul>
            </div>
          </div>

          {/* Sample Content Variations */}
          <div className="mt-8 p-6 bg-blue-50 rounded-lg">
            <h3 className="font-semibold mb-4 text-gray-900">Sample Content</h3>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6 text-sm">
              <div>
                <h4 className="font-medium text-gray-700 mb-2">Image Prompt:</h4>
                <p className="text-gray-600 italic">"{sampleData.imagePrompt}"</p>
              </div>
              <div>
                <h4 className="font-medium text-gray-700 mb-2">Image URL:</h4>
                <p className="text-gray-600 italic text-xs break-all">{sampleData.imageUrl}</p>
              </div>
              <div className="md:col-span-2">
                <h4 className="font-medium text-gray-700 mb-2">Unified Content (HTML):</h4>
                <div className="text-gray-600 italic text-xs p-3 bg-gray-100 rounded border overflow-auto max-h-32">
                  <pre>{sampleData.content}</pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ThemedLayout>
  );
} 
```

# app/tests/test-blank-card/page.tsx

```tsx
'use client';

import { BlankCard } from '@/components/slides/BlankCard';

export default function TestBlankCardPage() {
  const lightSlideData = {
    id: 'test-blank-card-light',
    templateType: 'blank-card',
    title: 'Untitled card',
    content: 'Start typing...'
  };

  const darkSlideData = {
    id: 'test-blank-card-dark',
    templateType: 'blank-card',
    title: 'Untitled card',
    content: 'Start typing...'
  };

  return (
    <div className="min-h-screen bg-gray-50 p-8">
      <div className="max-w-6xl mx-auto space-y-12">
        <h1 className="text-3xl font-bold text-gray-900 mb-8">Blank Card Template Test</h1>
        
        {/* Light Theme */}
        <div>
          <h2 className="text-2xl font-semibold text-gray-800 mb-4">Light Theme</h2>
          <div className="bg-white rounded-lg shadow-lg p-4">
            <BlankCard 
              {...lightSlideData}
              theme="light"
              isEditable={true}
              onUpdate={(updates) => console.log('Light Updates:', updates)}
            />
          </div>
        </div>

        {/* Dark Theme */}
        <div>
          <h2 className="text-2xl font-semibold text-gray-800 mb-4">Dark Theme</h2>
          <div className="bg-gray-800 rounded-lg shadow-lg p-4">
            <BlankCard 
              {...darkSlideData}
              theme="dark"
              isEditable={true}
              onUpdate={(updates) => console.log('Dark Updates:', updates)}
            />
          </div>
        </div>

        {/* Empty State Examples */}
        <div>
          <h2 className="text-2xl font-semibold text-gray-800 mb-4">Empty States</h2>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div className="bg-white rounded-lg shadow-lg p-4">
              <BlankCard 
                id="empty-light"
                templateType="blank-card"
                theme="light"
                isEditable={false}
              />
            </div>
            <div className="bg-gray-800 rounded-lg shadow-lg p-4">
              <BlankCard 
                id="empty-dark"
                templateType="blank-card"
                theme="dark"
                isEditable={false}
              />
            </div>
          </div>
        </div>
      </div>
    </div>
  );
} 
```

# app/tests/test-bullets/page.tsx

```tsx
'use client';

import { useState } from 'react';
import { SlideRenderer, SlideData } from '@/components/slides/SlideRenderer';

export default function TestBulletsPage() {
  const [slide, setSlide] = useState<SlideData>({
    id: 'test-bullets-1',
    templateType: 'bullets',
    title: 'Developing AI Skills: Learning Paths and Resources - GenAI Focus',
    bullets: [
      {
        title: 'Hands-On Experimentation',
        description: "Don't just read about GenAI - dive in and experiment with the technology yourself. Build prototypes, test different models, and learn through hands-on practice."
      },
      {
        title: 'Participate in Challenges',
        description: 'Join AI hackathons, coding competitions, or online challenges to put your skills to the test and learn from other participants.'
      },
      {
        title: 'Contribute to Open-Source',
        description: 'Get involved in open-source GenAI projects, where you can learn from experienced developers and gain practical experience.'
      },
      {
        title: 'Continuous Iteration',
        description: 'Adopt a mindset of continuous learning and iteration. Regularly experiment with new GenAI techniques, tools, and applications to expand your capabilities.'
      }
    ],
    conclusion: 'Developing AI skills is an ongoing journey. Beyond formal courses and tutorials, immersing yourself in the vibrant AI community, obtaining certifications, and maintaining a continuous learning mindset will help you stay ahead of the curve and position yourself as a sought-after AI professional.'
  });

  const handleSlideUpdate = (updates: Partial<SlideData>) => {
    setSlide(prev => ({ ...prev, ...updates }));
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-8">
      <div className="max-w-4xl mx-auto">
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-4">Bullets Template Test</h1>
          <p className="text-gray-600">Testing the new Bullets template with 2x2 grid layout. Click any text to edit with TiptapEditor!</p>
        </div>
        
        <SlideRenderer 
          slide={slide}
          isEditable={true}
          onUpdate={handleSlideUpdate}
        />
        
        <div className="mt-8 text-center">
          <p className="text-sm text-gray-500">
            âœ… 2x2 Grid Layout | âœ… Editable with TiptapEditor | âœ… Numbered Bullets | âœ… Rich Text Formatting
          </p>
        </div>
      </div>
    </div>
  );
} 
```

# app/tests/test-four-columns-headings/page.tsx

```tsx
'use client';

import { FourColumnsWithHeadings } from '@/components/slides/basic/FourColumnsWithHeadings';

export default function TestFourColumnsHeadingsPage() {
  const slideData = {
    id: 'test-four-columns-headings',
    templateType: 'four-columns-with-headings',
    title: 'Project Management Framework',
    column1Heading: 'Planning',
    column1Bullets: [
      'Define objectives',
      'Resource allocation',
      'Timeline creation'
    ],
    column2Heading: 'Execution',
    column2Bullets: [
      'Task management',
      'Team coordination',
      'Progress tracking'
    ],
    column3Heading: 'Monitoring',
    column3Bullets: [
      'Performance metrics',
      'Risk assessment',
      'Quality control'
    ],
    column4Heading: 'Closing',
    column4Bullets: [
      'Final deliverables',
      'Lessons learned',
      'Project evaluation'
    ]
  };

  return (
    <div className="min-h-screen bg-gray-50 p-8">
      <div className="max-w-7xl mx-auto">
        <h1 className="text-3xl font-bold text-gray-900 mb-8">Four Column With Headings Template Test</h1>
        <div className="bg-white rounded-lg shadow-lg p-4">
          <FourColumnsWithHeadings 
            {...slideData}
            isEditable={true}
            onUpdate={(updates) => console.log('Updates:', updates)}
          />
        </div>
      </div>
    </div>
  );
} 
```

# app/tests/test-four-columns/page.tsx

```tsx
'use client';

import { FourColumns } from '@/components/slides/basic/FourColumns';

export default function TestFourColumnsPage() {
  const lightSlideData = {
    id: 'test-four-columns-light',
    templateType: 'four-columns',
    title: 'Project Management Framework',
    column1Bullets: [
      'Planning Phase',
      'Define objectives',
      'Resource allocation',
      'Timeline creation'
    ],
    column2Bullets: [
      'Execution Phase',
      'Task management',
      'Team coordination',
      'Progress tracking'
    ],
    column3Bullets: [
      'Monitoring Phase',
      'Performance metrics',
      'Risk assessment',
      'Quality control'
    ],
    column4Bullets: [
      'Closing Phase',
      'Final deliverables',
      'Lessons learned',
      'Project evaluation'
    ]
  };

  const darkSlideData = {
    ...lightSlideData,
    id: 'test-four-columns-dark'
  };

  return (
    <div className="min-h-screen bg-gray-50 p-8">
      <div className="max-w-7xl mx-auto space-y-12">
        <h1 className="text-3xl font-bold text-gray-900 mb-8">Four Columns Template Test</h1>
        
        {/* Light Theme */}
        <div>
          <h2 className="text-2xl font-semibold text-gray-800 mb-4">Light Theme</h2>
          <div className="bg-white rounded-lg shadow-lg p-4">
            <FourColumns 
              {...lightSlideData}
              theme="light"
              isEditable={true}
              onUpdate={(updates) => console.log('Light Updates:', updates)}
            />
          </div>
        </div>

        {/* Dark Theme */}
        <div>
          <h2 className="text-2xl font-semibold text-gray-800 mb-4">Dark Theme</h2>
          <div className="bg-gray-800 rounded-lg shadow-lg p-4">
            <FourColumns 
              {...darkSlideData}
              theme="dark"
              isEditable={true}
              onUpdate={(updates) => console.log('Dark Updates:', updates)}
            />
          </div>
        </div>
      </div>
    </div>
  );
} 
```

# app/tests/test-image-text/page.tsx

```tsx
'use client';

import { useState } from 'react';
import { SlideRenderer, SlideData } from '@/components/slides/SlideRenderer';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';

export default function TestImageTextPage() {
  const [imagePrompt, setImagePrompt] = useState('Space debris and satellites floating in orbit around Earth with a purple cosmic background');
  const [isGeneratingImage, setIsGeneratingImage] = useState(false);
  const [slide, setSlide] = useState<SlideData>({
    id: 'test-image-text-1',
    templateType: 'image-and-text',
    title: 'The Growing Challenge of Space Debris',
    content: 'Space debris, also known as orbital debris, refers to man-made objects in orbit around Earth that no longer serve a useful function. This includes defunct satellites, spent rocket stages, and fragments from collisions or explosions. The increasing amount of debris poses a significant threat to active satellites and future space missions, necessitating urgent solutions for tracking, removal, and prevention.',
    imageUrl: 'https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?w=800&h=600&fit=crop&auto=format',
    imagePrompt: 'Space debris and satellites floating in orbit around Earth with a purple cosmic background',
    isGenerating: false
  });

  const handleSlideUpdate = (updates: Partial<SlideData>) => {
    setSlide(prev => ({ ...prev, ...updates }));
    console.log('Slide updated:', updates);
  };

  const generateImage = async () => {
    if (!imagePrompt.trim()) {
      alert('Please enter an image prompt');
      return;
    }

    console.log('ğŸ¨ Starting image generation with prompt:', imagePrompt);
    setIsGeneratingImage(true);
    setSlide(prev => ({ ...prev, isGenerating: true, imagePrompt }));

    try {
      const response = await fetch('/api/generate-image', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ prompt: imagePrompt }),
      });

      console.log('ğŸ“¡ API Response status:', response.status);
      const data = await response.json();
      console.log('ğŸ“¦ API Response data:', data);

      if (!response.ok) {
        throw new Error(data.error || 'Failed to generate image');
      }

      if (data.imageUrl) {
        console.log('âœ… Image generated successfully, updating slide data');
        setSlide(prev => ({ 
          ...prev, 
          imageUrl: data.imageUrl, 
          imagePrompt: data.prompt,
          isGenerating: false 
        }));
      } else {
        throw new Error('No image URL received from API');
      }
    } catch (error) {
      console.error('âŒ Image generation error:', error);
      alert(`Failed to generate image: ${error instanceof Error ? error.message : 'Unknown error'}`);
      setSlide(prev => ({ ...prev, isGenerating: false }));
    } finally {
      setIsGeneratingImage(false);
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-8">
      <div className="max-w-6xl mx-auto">
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-4">Image and Text Template Test</h1>
          <p className="text-gray-600 mb-6">Testing the updated Image and Text template with image on left and content on right. Click any text to edit with TiptapEditor!</p>
          
          {/* Image Generation Controls */}
          <div className="p-4 rounded-lg border bg-white border-gray-200 mb-6">
            <Label htmlFor="image-text-prompt" className="text-sm font-medium text-gray-900">
              Generate New Image
            </Label>
            <div className="flex gap-2 mt-2">
              <Input
                id="image-text-prompt"
                value={imagePrompt}
                onChange={(e) => setImagePrompt(e.target.value)}
                placeholder="Enter image prompt..."
                className="flex-1"
              />
              <Button 
                onClick={generateImage}
                disabled={isGeneratingImage || !imagePrompt.trim()}
                className="min-w-[120px]"
              >
                {isGeneratingImage ? 'Generating...' : 'Generate'}
              </Button>
            </div>
            <p className="text-xs mt-2 text-gray-500">
              This will generate a new image using AI and replace the current image.
            </p>
          </div>
        </div>
        
        <SlideRenderer 
          slide={slide}
          isEditable={true}
          onUpdate={handleSlideUpdate}
        />
        
        <div className="mt-8 text-center">
          <p className="text-sm text-gray-500">
            âœ… Image Left, Text Right | âœ… Editable with TiptapEditor | âœ… Large Title | âœ… Rich Text Formatting
          </p>
        </div>
      </div>
    </div>
  );
} 
```

# app/tests/test-llm-generation/page.tsx

```tsx
'use client';

import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { Card } from '@/components/ui/card';
import { SlideRenderer } from '@/components/slides/SlideRenderer';
import { ThemedLayout } from '@/components/ui/themed-layout';
import { Loader2, RefreshCw } from 'lucide-react';

interface GeneratedSlide {
  id: string;
  templateType: string;
  content?: string;
  imageUrl?: string;
  imagePrompt?: string;
  isGenerating?: boolean;
  isGeneratingImage?: boolean;
}

const TEMPLATE_TYPES = [
  { id: 'blank-card', name: 'Blank Card', hasImage: false },
  { id: 'title-with-bullets', name: 'Title with Bullets', hasImage: false },
  { id: 'title-with-text', name: 'Title with Text', hasImage: false },
  { id: 'paragraph', name: 'Paragraph', hasImage: false },
  { id: 'bullets', name: 'Bullets (2x2 Grid)', hasImage: false },
  { id: 'two-columns', name: 'Two Columns', hasImage: false },
  { id: 'two-column-with-headings', name: 'Two Columns with Headings', hasImage: false },
  { id: 'three-columns', name: 'Three Columns', hasImage: false },
  { id: 'three-column-with-headings', name: 'Three Columns with Headings', hasImage: false },
  { id: 'four-columns', name: 'Four Columns', hasImage: false },
  { id: 'four-columns-with-headings', name: 'Four Columns with Headings', hasImage: false },
  { id: 'image-and-text', name: 'Image and Text', hasImage: true },
  { id: 'text-and-image', name: 'Text and Image', hasImage: true },
  { id: 'title-with-bullets-and-image', name: 'Title with Bullets and Image', hasImage: true },
  { id: 'accent-left', name: 'Accent Left', hasImage: true },
  { id: 'accent-right', name: 'Accent Right', hasImage: true },
  { id: 'accent-top', name: 'Accent Top', hasImage: true },
  { id: 'accent-background', name: 'Accent Background', hasImage: true },
];

const TEST_TOPICS = [
  {
    title: 'Artificial Intelligence Revolution',
    points: ['Machine learning breakthroughs', 'Automation impact', 'Ethical considerations', 'Future applications']
  },
  {
    title: 'Sustainable Energy Solutions',
    points: ['Solar power advancement', 'Wind energy efficiency', 'Battery technology', 'Grid modernization']
  },
  {
    title: 'Space Exploration Milestones',
    points: ['Mars missions', 'Commercial spaceflight', 'Satellite technology', 'Deep space research']
  },
  {
    title: 'Digital Transformation',
    points: ['Cloud computing', 'Remote work evolution', 'Cybersecurity challenges', 'Data analytics']
  },
  {
    title: 'Climate Change Solutions',
    points: ['Carbon reduction strategies', 'Renewable energy adoption', 'Environmental policies', 'Green technologies']
  }
];

export default function TestLLMGenerationPage() {
  const [slides, setSlides] = useState<GeneratedSlide[]>([]);
  const [generatingSlides, setGeneratingSlides] = useState<Set<string>>(new Set());
  const [selectedTopic, setSelectedTopic] = useState(TEST_TOPICS[0]);
  const [isGeneratingAll, setIsGeneratingAll] = useState(false);

  const generateSlide = async (templateType: string, topicOverride?: typeof TEST_TOPICS[0]) => {
    const topic = topicOverride || selectedTopic;
    const slideId = `${templateType}-${Date.now()}`;
    
    // Add slide with generating state
    const newSlide: GeneratedSlide = {
      id: slideId,
      templateType,
      isGenerating: true,
    };
    
    setSlides(prev => [...prev.filter(s => s.templateType !== templateType), newSlide]);
    setGeneratingSlides(prev => new Set([...Array.from(prev), templateType]));

    try {
      // Generate slide content
      const slideResponse = await fetch('/api/generate-slide', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          sectionTitle: topic.title,
          bulletPoints: topic.points,
          templateType,
          style: 'modern',
          language: 'en'
        }),
      });

      if (!slideResponse.ok) {
        throw new Error('Failed to generate slide');
      }

      const reader = slideResponse.body?.getReader();
      if (!reader) throw new Error('No reader available');

      let slideData: any = {};
      
      while (true) {
        const { done, value } = await reader.read();
        if (done) break;

        const chunk = new TextDecoder().decode(value);
        const lines = chunk.split('\n');
        
        for (const line of lines) {
          if (line.startsWith('data: ')) {
            try {
              const data = JSON.parse(line.slice(6));
              slideData = { ...slideData, ...data };
            } catch (e) {
              // Ignore parsing errors for partial data
            }
          }
        }
      }

      // Update slide with content
      const hasImage = TEMPLATE_TYPES.find(t => t.id === templateType)?.hasImage;
      const updatedSlide: GeneratedSlide = {
        ...newSlide,
        ...slideData,
        isGenerating: false,
        isGeneratingImage: hasImage && slideData.imagePrompt ? true : false,
      };

      setSlides(prev => prev.map(s => s.id === slideId ? updatedSlide : s));

      // Generate image if needed
      if (hasImage && slideData.imagePrompt) {
        try {
          const imageResponse = await fetch('/api/generate-image', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              prompt: slideData.imagePrompt,
              templateType,
            }),
          });

          if (imageResponse.ok) {
            const imageData = await imageResponse.json();
            setSlides(prev => prev.map(s => 
              s.id === slideId 
                ? { ...s, imageUrl: imageData.imageUrl, isGeneratingImage: false }
                : s
            ));
          } else {
            setSlides(prev => prev.map(s => 
              s.id === slideId ? { ...s, isGeneratingImage: false } : s
            ));
          }
        } catch (error) {
          console.error('Image generation failed:', error);
          setSlides(prev => prev.map(s => 
            s.id === slideId ? { ...s, isGeneratingImage: false } : s
          ));
        }
      }

    } catch (error) {
      console.error('Slide generation failed:', error);
      setSlides(prev => prev.map(s => 
        s.id === slideId 
          ? { ...s, isGenerating: false, content: '<h1>Generation Failed</h1><p>Error generating slide content.</p>' }
          : s
      ));
    } finally {
      setGeneratingSlides(prev => {
        const newSet = new Set(prev);
        newSet.delete(templateType);
        return newSet;
      });
    }
  };

  const generateAllSlides = async () => {
    setIsGeneratingAll(true);
    setSlides([]);
    
    // Generate slides sequentially to avoid overwhelming the API
    for (let i = 0; i < TEMPLATE_TYPES.length; i++) {
      const template = TEMPLATE_TYPES[i];
      const topic = TEST_TOPICS[i % TEST_TOPICS.length]; // Cycle through topics
      await generateSlide(template.id, topic);
      
      // Small delay between generations
      if (i < TEMPLATE_TYPES.length - 1) {
        await new Promise(resolve => setTimeout(resolve, 1000));
      }
    }
    
    setIsGeneratingAll(false);
  };

  const clearSlides = () => {
    setSlides([]);
  };

  return (
    <ThemedLayout>
      <div className="min-h-screen p-8">
        <div className="max-w-7xl mx-auto">
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900 mb-4">
              Test: LLM Slide Generation
            </h1>
            <p className="text-gray-600 mb-6">
              Test all slide templates with AI-generated content and images. This helps verify the complete LLM integration pipeline.
            </p>

            {/* Topic Selector */}
            <div className="mb-6">
              <h3 className="text-lg font-semibold mb-3">Select Test Topic:</h3>
              <div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-3">
                {TEST_TOPICS.map((topic, index) => (
                  <button
                    key={index}
                    onClick={() => setSelectedTopic(topic)}
                    className={`p-3 rounded-lg border text-left transition-all text-sm ${
                      selectedTopic === topic
                        ? 'border-blue-500 bg-blue-50 shadow-md'
                        : 'border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm'
                    }`}
                  >
                    <div className="font-medium text-gray-900 mb-1">{topic.title}</div>
                    <div className="text-xs text-gray-500">
                      {topic.points.length} key points
                    </div>
                  </button>
                ))}
              </div>
            </div>

            {/* Controls */}
            <div className="flex flex-wrap gap-4 mb-8">
              <Button
                onClick={generateAllSlides}
                disabled={isGeneratingAll}
                size="lg"
                className="flex items-center gap-2"
              >
                {isGeneratingAll ? (
                  <Loader2 className="w-4 h-4 animate-spin" />
                ) : (
                  <RefreshCw className="w-4 h-4" />
                )}
                Generate All Templates ({TEMPLATE_TYPES.length})
              </Button>
              
              <Button
                onClick={clearSlides}
                variant="outline"
                size="lg"
                disabled={isGeneratingAll}
              >
                Clear All Slides
              </Button>
            </div>

            {/* Progress */}
            {(isGeneratingAll || generatingSlides.size > 0) && (
              <div className="mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200">
                <div className="flex items-center gap-2 mb-2">
                  <Loader2 className="w-4 h-4 animate-spin text-blue-600" />
                  <span className="font-medium text-blue-900">
                    {isGeneratingAll ? 'Generating all slides...' : 'Generating slides...'}
                  </span>
                </div>
                <div className="text-sm text-blue-700">
                  Generated: {slides.filter(s => !s.isGenerating).length} / {TEMPLATE_TYPES.length} templates
                </div>
                {generatingSlides.size > 0 && (
                  <div className="text-xs text-blue-600 mt-1">
                    Currently generating: {Array.from(generatingSlides).join(', ')}
                  </div>
                )}
              </div>
            )}
          </div>

          {/* Template Grid */}
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
            {TEMPLATE_TYPES.map((template) => {
              const slide = slides.find(s => s.templateType === template.id);
              const isGenerating = generatingSlides.has(template.id);

              return (
                <Card key={template.id} className="p-6">
                  <div className="flex items-center justify-between mb-4">
                    <div>
                      <h3 className="font-semibold text-gray-900">{template.name}</h3>
                      <div className="flex items-center gap-2 mt-1">
                        <span className="text-xs text-gray-500">Template: {template.id}</span>
                        {template.hasImage && (
                          <span className="px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full">
                            Image
                          </span>
                        )}
                      </div>
                    </div>
                    <Button
                      onClick={() => generateSlide(template.id)}
                      disabled={isGenerating || isGeneratingAll}
                      size="sm"
                      variant="outline"
                    >
                      {isGenerating ? (
                        <Loader2 className="w-3 h-3 animate-spin" />
                      ) : (
                        'Generate'
                      )}
                    </Button>
                  </div>

                  <div className="bg-gray-50 rounded-lg min-h-[300px] flex items-center justify-center">
                    {slide ? (
                      <div className="w-full h-full">
                        <SlideRenderer
                          slide={slide}
                          isEditable={false}
                        />
                      </div>
                    ) : (
                      <div className="text-center text-gray-500">
                        <div className="w-16 h-16 bg-gray-200 rounded-lg mx-auto mb-3 flex items-center justify-center">
                          <span className="text-2xl opacity-60">ğŸ“„</span>
                        </div>
                        <p className="text-sm">Click Generate to create slide</p>
                      </div>
                    )}
                  </div>
                </Card>
              );
            })}
          </div>

          {/* Stats */}
          {slides.length > 0 && (
            <div className="mt-8 p-6 bg-gray-50 rounded-lg">
              <h3 className="font-semibold mb-4 text-gray-900">Generation Statistics</h3>
              <div className="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                <div>
                  <span className="font-medium text-gray-700">Total Generated:</span>
                  <span className="ml-2 text-gray-600">{slides.length}</span>
                </div>
                <div>
                  <span className="font-medium text-gray-700">With Images:</span>
                  <span className="ml-2 text-gray-600">
                    {slides.filter(s => s.imageUrl).length}
                  </span>
                </div>
                <div>
                  <span className="font-medium text-gray-700">Currently Generating:</span>
                  <span className="ml-2 text-gray-600">{generatingSlides.size}</span>
                </div>
                <div>
                  <span className="font-medium text-gray-700">Success Rate:</span>
                  <span className="ml-2 text-gray-600">
                    {slides.length > 0 ? Math.round((slides.filter(s => s.content && !s.content.includes('Generation Failed')).length / slides.length) * 100) : 0}%
                  </span>
                </div>
              </div>
            </div>
          )}
        </div>
      </div>
    </ThemedLayout>
  );
} 
```

# app/tests/test-paragraph/page.tsx

```tsx
'use client';

import { useState } from 'react';
import { SlideRenderer, SlideData } from '@/components/slides/SlideRenderer';

export default function TestParagraphPage() {
  const [slide, setSlide] = useState<SlideData>({
    id: 'test-paragraph-1',
    templateType: 'paragraph',
    title: 'Monetization Strategies for Your Web Development Skills',
    sections: [
      {
        heading: 'Freelance Projects',
        paragraphs: [
          'Start with small gigs on platforms like Upwork or Fiverr.',
          'Build reputation through consistent quality delivery.'
        ]
      },
      {
        heading: 'Template Sales',
        paragraphs: [
          'Create reusable website templates with AI assistance.',
          'Sell them on marketplaces like ThemeForest.'
        ]
      },
      {
        heading: 'Knowledge Sharing',
        paragraphs: [
          'Document your AI development journey.',
          'Monetize through tutorials, courses, or affiliate links.'
        ]
      }
    ],
    conclusion: 'Your portfolio site becomes your most powerful sales tool. Track metrics to understand what attracts potential clients.'
  });

  const handleSlideUpdate = (updates: Partial<SlideData>) => {
    setSlide(prev => ({ ...prev, ...updates }));
    console.log('Slide updated:', updates);
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-8">
      <div className="max-w-4xl mx-auto">
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-4">Paragraph Template Test</h1>
          <p className="text-gray-600">Testing the new Paragraph template with sections, headings, and body text. Click any text to edit with TiptapEditor!</p>
        </div>
        
        <SlideRenderer 
          slide={slide}
          isEditable={true}
          onUpdate={handleSlideUpdate}
        />
        
        <div className="mt-8 text-center">
          <p className="text-sm text-gray-500">
            âœ… Section-Based Layout | âœ… Editable with TiptapEditor | âœ… Multiple Paragraphs | âœ… Rich Text Formatting
          </p>
        </div>
      </div>
    </div>
  );
} 
```

# app/tests/test-text-image/page.tsx

```tsx
'use client';

import { useState } from 'react';
import { SlideRenderer, SlideData } from '@/components/slides/SlideRenderer';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';

export default function TestTextImagePage() {
  const [imagePrompt, setImagePrompt] = useState('Renewable energy wind turbines and solar panels with AI technology visualization in a green landscape');
  const [isGeneratingImage, setIsGeneratingImage] = useState(false);
  const [slide, setSlide] = useState<SlideData>({
    id: 'test-text-image-1',
    templateType: 'text-and-image',
    title: 'AI-Powered Climate Solutions',
    content: 'Artificial intelligence is revolutionizing how we approach climate change challenges. From optimizing renewable energy systems to predicting weather patterns and analyzing environmental data, AI technologies are providing unprecedented insights and solutions. Machine learning algorithms can process vast amounts of climate data to identify trends, optimize resource allocation, and develop more effective strategies for carbon reduction and environmental conservation.',
    imageUrl: 'https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?w=800&h=600&fit=crop&auto=format',
    imagePrompt: 'Renewable energy wind turbines and solar panels with AI technology visualization in a green landscape',
    isGenerating: false
  });

  const handleSlideUpdate = (updates: Partial<SlideData>) => {
    setSlide(prev => ({ ...prev, ...updates }));
    console.log('Slide updated:', updates);
  };

  const generateImage = async () => {
    if (!imagePrompt.trim()) {
      alert('Please enter an image prompt');
      return;
    }

    console.log('ğŸ¨ Starting image generation with prompt:', imagePrompt);
    setIsGeneratingImage(true);
    setSlide(prev => ({ ...prev, isGenerating: true, imagePrompt }));

    try {
      const response = await fetch('/api/generate-image', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ prompt: imagePrompt }),
      });

      console.log('ğŸ“¡ API Response status:', response.status);
      const data = await response.json();
      console.log('ğŸ“¦ API Response data:', data);

      if (!response.ok) {
        throw new Error(data.error || 'Failed to generate image');
      }

      if (data.imageUrl) {
        console.log('âœ… Image generated successfully, updating slide data');
        setSlide(prev => ({ 
          ...prev, 
          imageUrl: data.imageUrl, 
          imagePrompt: data.prompt,
          isGenerating: false 
        }));
      } else {
        throw new Error('No image URL received from API');
      }
    } catch (error) {
      console.error('âŒ Image generation error:', error);
      alert(`Failed to generate image: ${error instanceof Error ? error.message : 'Unknown error'}`);
      setSlide(prev => ({ ...prev, isGenerating: false }));
    } finally {
      setIsGeneratingImage(false);
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-8">
      <div className="max-w-6xl mx-auto">
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-4">Text and Image Template Test</h1>
          <p className="text-gray-600 mb-6">Testing the updated Text and Image template with text on left and image on right. Click any text to edit with TiptapEditor!</p>
          
          {/* Image Generation Controls */}
          <div className="p-4 rounded-lg border bg-white border-gray-200 mb-6">
            <Label htmlFor="text-image-prompt" className="text-sm font-medium text-gray-900">
              Generate New Image
            </Label>
            <div className="flex gap-2 mt-2">
              <Input
                id="text-image-prompt"
                value={imagePrompt}
                onChange={(e) => setImagePrompt(e.target.value)}
                placeholder="Enter image prompt..."
                className="flex-1"
              />
              <Button 
                onClick={generateImage}
                disabled={isGeneratingImage || !imagePrompt.trim()}
                className="min-w-[120px]"
              >
                {isGeneratingImage ? 'Generating...' : 'Generate'}
              </Button>
            </div>
            <p className="text-xs mt-2 text-gray-500">
              This will generate a new image using AI and replace the current image.
            </p>
          </div>
        </div>
        
        <SlideRenderer 
          slide={slide}
          isEditable={true}
          onUpdate={handleSlideUpdate}
        />
        
        <div className="mt-8 text-center">
          <p className="text-sm text-gray-500">
            âœ… Text Left, Image Right | âœ… Editable with TiptapEditor | âœ… Large Title | âœ… Rich Text Formatting
          </p>
        </div>
      </div>
    </div>
  );
} 
```

# app/tests/test-three-columns-headings/page.tsx

```tsx
'use client';

import { ThreeColumnWithHeadings } from '@/components/slides/basic/ThreeColumnWithHeadings';

export default function TestThreeColumnsHeadingsPage() {
  const slideData = {
    id: 'test-three-columns-headings',
    templateType: 'three-column-with-headings',
    title: 'Digital Transformation Strategy',
    leftHeading: 'Technology',
    leftBullets: [
      'Cloud infrastructure migration',
      'AI and machine learning integration',
      'Mobile-first development',
      'API-driven architecture'
    ],
    centerHeading: 'Process',
    centerBullets: [
      'Agile methodology adoption',
      'DevOps implementation',
      'Continuous integration/deployment',
      'Data-driven decision making'
    ],
    rightHeading: 'People',
    rightBullets: [
      'Digital skills training',
      'Change management',
      'Cross-functional teams',
      'Innovation culture'
    ]
  };

  return (
    <div className="min-h-screen bg-gray-50 p-8">
      <div className="max-w-6xl mx-auto">
        <h1 className="text-3xl font-bold text-gray-900 mb-8">Three Column With Headings Template Test</h1>
        <div className="bg-white rounded-lg shadow-lg p-4">
          <ThreeColumnWithHeadings 
            {...slideData}
            isEditable={true}
            onUpdate={(updates) => console.log('Updates:', updates)}
          />
        </div>
      </div>
    </div>
  );
} 
```

# app/tests/test-three-columns/page.tsx

```tsx
'use client';

import { ThreeColumns } from '@/components/slides/basic/ThreeColumns';

export default function TestThreeColumnsPage() {
  const lightSlideData = {
    id: 'test-three-columns-light',
    templateType: 'three-columns',
    title: 'Digital Transformation Strategy',
    leftBullets: [
      'Technology Infrastructure',
      'Cloud migration strategies',
      'API-first architecture',
      'Mobile-responsive design',
      'Data analytics platforms'
    ],
    centerBullets: [
      'Process Optimization',
      'Agile methodology',
      'DevOps practices',
      'Continuous integration',
      'Quality assurance'
    ],
    rightBullets: [
      'People & Culture',
      'Digital skills training',
      'Change management',
      'Cross-functional teams',
      'Innovation mindset'
    ]
  };

  const darkSlideData = {
    ...lightSlideData,
    id: 'test-three-columns-dark'
  };

  return (
    <div className="min-h-screen bg-gray-50 p-8">
      <div className="max-w-6xl mx-auto space-y-12">
        <h1 className="text-3xl font-bold text-gray-900 mb-8">Three Columns Template Test</h1>
        
        {/* Light Theme */}
        <div>
          <h2 className="text-2xl font-semibold text-gray-800 mb-4">Light Theme</h2>
          <div className="bg-white rounded-lg shadow-lg p-4">
            <ThreeColumns 
              {...lightSlideData}
              theme="light"
              isEditable={true}
              onUpdate={(updates) => console.log('Light Updates:', updates)}
            />
          </div>
        </div>

        {/* Dark Theme */}
        <div>
          <h2 className="text-2xl font-semibold text-gray-800 mb-4">Dark Theme</h2>
          <div className="bg-gray-800 rounded-lg shadow-lg p-4">
            <ThreeColumns 
              {...darkSlideData}
              theme="dark"
              isEditable={true}
              onUpdate={(updates) => console.log('Dark Updates:', updates)}
            />
          </div>
        </div>
      </div>
    </div>
  );
} 
```

# app/tests/test-title-bullets-fixed/page.tsx

```tsx
'use client';

import { TitleWithBullets } from '@/components/slides/basic/TitleWithBullets';
import { useTheme } from '@/contexts/ThemeContext';
import { ThemedLayout } from '@/components/ui/themed-layout';

export default function TestTitleBulletsFixedPage() {
  const { currentTheme } = useTheme();

  const sampleData = {
    id: 'test-title-bullets-fixed',
    templateType: 'title-with-bullets',
    title: 'Key Benefits of Cloud Computing',
    bulletPoints: [
      'Scalability - Easily scale resources up or down based on demand',
      'Cost Efficiency - Pay only for what you use, reducing infrastructure costs',
      'Accessibility - Access your data and applications from anywhere with internet',
      'Reliability - Built-in redundancy and backup systems ensure high availability',
      'Security - Enterprise-grade security measures and compliance standards'
    ],
    isEditable: true
  };

  return (
    <ThemedLayout>
      <div className="min-h-screen p-8">
        <div className="max-w-4xl mx-auto">
          <div className="mb-8">
            <h1 className="text-2xl font-bold text-gray-900 mb-2">
              Test: Title with Bullets Template (Fixed)
            </h1>
            <p className="text-gray-600">
              Testing the TitleWithBullets component to verify proper rendering
            </p>
          </div>

          <div className="bg-white rounded-lg shadow-lg p-8 min-h-[600px]">
            <TitleWithBullets {...sampleData} />
          </div>

          <div className="mt-8 p-4 bg-gray-100 rounded-lg">
            <h3 className="font-semibold mb-2">Template Info:</h3>
            <ul className="text-sm text-gray-600 space-y-1">
              <li>â€¢ Template Type: title-with-bullets</li>
              <li>â€¢ Features: Title + Simple bullet points with custom bullet styling</li>
              <li>â€¢ Use Case: Key points, features, benefits, or action items</li>
              <li>â€¢ Content: Array of string bullet points</li>
              <li>â€¢ Styling: Custom bullet dots with proper spacing</li>
            </ul>
          </div>

          <div className="mt-4 p-4 bg-blue-50 rounded-lg">
            <h3 className="font-semibold mb-2 text-blue-800">Difference from Bullets Template:</h3>
            <ul className="text-sm text-blue-700 space-y-1">
              <li>â€¢ TitleWithBullets: Simple bullet points (strings)</li>
              <li>â€¢ Bullets: Numbered bullets with titles and descriptions</li>
              <li>â€¢ TitleWithBullets: Uses custom bullet dots</li>
              <li>â€¢ Bullets: Uses numbered circles in a 2x2 grid</li>
            </ul>
          </div>
        </div>
      </div>
    </ThemedLayout>
  );
} 
```

# app/tests/test-title-bullets-image/page.tsx

```tsx
'use client';

import { useState } from 'react';
import { TitleWithBulletsAndImage } from '@/components/slides/basic/TitleWithBulletsAndImage';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';

export default function TestTitleBulletsImagePage() {
  const [theme, setTheme] = useState<'light' | 'dark'>('light');
  const [imagePrompt, setImagePrompt] = useState('Modern electric car charging at a futuristic charging station');
  const [isGeneratingImage, setIsGeneratingImage] = useState(false);
  const [slideData, setSlideData] = useState({
    id: 'test-slide',
    templateType: 'titleWithBulletsAndImage' as const,
    title: 'Future of Clean Transportation',
    bulletPoints: [
      'Electric vehicles reduce emissions by 60-70%',
      'Autonomous driving improves safety and efficiency',
      'Shared mobility reduces urban congestion',
      'Smart charging infrastructure enables grid stability'
    ],
    imageUrl: 'https://images.unsplash.com/photo-1593941707882-a5bac6861d75?w=400&h=600&fit=crop',
    imagePrompt: 'Modern electric car charging at a futuristic charging station',
    isGenerating: false
  });

  const handleUpdate = (updates: any) => {
    setSlideData(prev => ({ ...prev, ...updates }));
  };

  const generateImage = async () => {
    if (!imagePrompt.trim()) {
      alert('Please enter an image prompt');
      return;
    }

    console.log('ğŸ¨ Starting image generation with prompt:', imagePrompt);
    setIsGeneratingImage(true);
    setSlideData(prev => ({ ...prev, isGenerating: true, imagePrompt }));

    try {
      const response = await fetch('/api/generate-image', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ prompt: imagePrompt }),
      });

      console.log('ğŸ“¡ API Response status:', response.status);
      const data = await response.json();
      console.log('ğŸ“¦ API Response data:', data);

      if (!response.ok) {
        throw new Error(data.error || 'Failed to generate image');
      }

      if (data.imageUrl) {
        console.log('âœ… Image generated successfully, updating slide data');
        setSlideData(prev => ({ 
          ...prev, 
          imageUrl: data.imageUrl, 
          imagePrompt: data.prompt,
          isGenerating: false 
        }));
      } else {
        throw new Error('No image URL received from API');
      }
    } catch (error) {
      console.error('âŒ Image generation error:', error);
      alert(`Failed to generate image: ${error instanceof Error ? error.message : 'Unknown error'}`);
      setSlideData(prev => ({ ...prev, isGenerating: false }));
    } finally {
      setIsGeneratingImage(false);
    }
  };

  return (
    <div className={`min-h-screen transition-colors duration-300 ${
      theme === 'dark' ? 'bg-gray-800' : 'bg-gray-50'
    }`}>
      <div className="container mx-auto p-8">
        <div className="mb-8">
          <div className="flex items-center justify-between mb-6">
            <h1 className={`text-2xl font-bold ${
              theme === 'dark' ? 'text-white' : 'text-gray-900'
            }`}>
              TitleWithBulletsAndImage Template Test
            </h1>
            <Button
              onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}
              variant="outline"
              className={theme === 'dark' ? 'border-gray-600 text-white hover:bg-gray-700' : ''}
            >
              Switch to {theme === 'light' ? 'Dark' : 'Light'} Theme
            </Button>
          </div>

          {/* Image Generation Controls */}
          <div className={`p-4 rounded-lg border ${
            theme === 'dark' 
              ? 'bg-gray-800 border-gray-600' 
              : 'bg-white border-gray-200'
          }`}>
            <Label htmlFor="image-prompt" className={`text-sm font-medium ${
              theme === 'dark' ? 'text-white' : 'text-gray-900'
            }`}>
              Generate New Image
            </Label>
            <div className="flex gap-2 mt-2">
              <Input
                id="image-prompt"
                value={imagePrompt}
                onChange={(e) => setImagePrompt(e.target.value)}
                placeholder="Enter image prompt..."
                className={`flex-1 ${
                  theme === 'dark' 
                    ? 'bg-gray-700 border-gray-600 text-white placeholder:text-gray-400' 
                    : ''
                }`}
              />
              <Button 
                onClick={generateImage}
                disabled={isGeneratingImage || !imagePrompt.trim()}
                className="min-w-[120px]"
              >
                {isGeneratingImage ? 'Generating...' : 'Generate'}
              </Button>
            </div>
            <p className={`text-xs mt-2 ${
              theme === 'dark' ? 'text-gray-400' : 'text-gray-500'
            }`}>
              This will generate a new image using AI and replace the current image in all examples below.
            </p>
          </div>
        </div>

        <div className="grid gap-8">
          {/* Read-only Version */}
          <div>
            <h2 className={`text-lg font-semibold mb-4 ${
              theme === 'dark' ? 'text-white' : 'text-gray-900'
            }`}>
              Read-only Version
            </h2>
            <TitleWithBulletsAndImage
              {...slideData}
              theme={theme}
              isEditable={false}
            />
          </div>

          {/* Editable Version */}
          <div>
            <h2 className={`text-lg font-semibold mb-4 ${
              theme === 'dark' ? 'text-white' : 'text-gray-900'
            }`}>
              Editable Version
            </h2>
            <TitleWithBulletsAndImage
              {...slideData}
              theme={theme}
              isEditable={true}
              onUpdate={handleUpdate}
            />
          </div>

          {/* Loading State */}
          <div>
            <h2 className={`text-lg font-semibold mb-4 ${
              theme === 'dark' ? 'text-white' : 'text-gray-900'
            }`}>
              Loading State
            </h2>
            <TitleWithBulletsAndImage
              {...slideData}
              theme={theme}
              isGenerating={true}
            />
          </div>

          {/* Without Image (Error State) */}
          <div>
            <h2 className={`text-lg font-semibold mb-4 ${
              theme === 'dark' ? 'text-white' : 'text-gray-900'
            }`}>
              Image Error State
            </h2>
            <TitleWithBulletsAndImage
              {...slideData}
              imageUrl="invalid-url"
              theme={theme}
              isEditable={false}
            />
          </div>
        </div>
      </div>
    </div>
  );
} 
```

# app/tests/test-title-bullets/page.tsx

```tsx
'use client';

import { useState } from 'react';
import { TitleWithBullets } from '@/components/slides/basic/TitleWithBullets';
import { Button } from '@/components/ui/button';

export default function TestTitleBulletsPage() {
  const [theme, setTheme] = useState<'light' | 'dark'>('light');
  const [isEditable, setIsEditable] = useState(true);
  const [slideData, setSlideData] = useState({
    id: 'test-slide',
    templateType: 'titleWithBullets' as const,
    title: 'Key Benefits of Renewable Energy',
    bulletPoints: [
      'Significantly reduces carbon emissions and environmental impact',
      'Creates long-term energy independence and security',
      'Generates sustainable economic growth and job opportunities',
      'Provides stable energy costs over time'
    ]
  });

  const handleUpdate = (updates: any) => {
    setSlideData(prev => ({ ...prev, ...updates }));
  };

  return (
    <div className={`min-h-screen p-8 ${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-50'}`}>
      <div className="max-w-4xl mx-auto space-y-6">
        {/* Controls */}
        <div className="flex items-center justify-between">
          <h1 className={`text-2xl font-bold ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>
            Title with Bullets Test
          </h1>
          <div className="flex items-center space-x-4">
            <Button
              onClick={() => setIsEditable(!isEditable)}
              variant={isEditable ? 'default' : 'outline'}
            >
              {isEditable ? 'View Mode' : 'Edit Mode'}
            </Button>
            <Button
              onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}
              variant="outline"
            >
              {theme === 'light' ? 'ğŸŒ™ Dark' : 'â˜€ï¸ Light'}
            </Button>
          </div>
        </div>

        {/* Debug Info */}
        <div className={`p-4 rounded-lg border ${theme === 'dark' ? 'bg-gray-800 border-gray-700 text-white' : 'bg-white border-gray-200'}`}>
          <h2 className="font-semibold mb-2">Debug Info:</h2>
          <p><strong>Editable:</strong> {isEditable ? 'Yes' : 'No'}</p>
          <p><strong>Theme:</strong> {theme}</p>
          <p><strong>Bullet Points Count:</strong> {slideData.bulletPoints.length}</p>
          <p><strong>Bullet Points:</strong></p>
          <ul className="list-disc list-inside ml-4 mt-2">
            {slideData.bulletPoints.map((point, index) => (
              <li key={index} className="text-sm">{point}</li>
            ))}
          </ul>
        </div>

        {/* Slide Component */}
        <TitleWithBullets
          {...slideData}
          onUpdate={handleUpdate}
          isEditable={isEditable}
          theme={theme}
        />
      </div>
    </div>
  );
} 
```

# app/tests/test-title-text/page.tsx

```tsx
'use client';

import { TitleWithText } from '@/components/slides/basic/TitleWithText';
import { useTheme } from '@/contexts/ThemeContext';
import { ThemedLayout } from '@/components/ui/themed-layout';

export default function TestTitleTextPage() {
  const { currentTheme } = useTheme();

  const sampleData = {
    id: 'test-title-text',
    templateType: 'title-with-text',
    title: 'Understanding Machine Learning',
    content: `Machine learning is a subset of artificial intelligence that enables computers to learn and make decisions without being explicitly programmed for every task. This revolutionary technology has transformed numerous industries by allowing systems to recognize patterns in data and make predictions on new information. Today, machine learning powers everything from recommendation systems to autonomous vehicles, making it one of the most impactful technologies of our time.`,
    isEditable: true
  };

  return (
    <ThemedLayout>
      <div className="min-h-screen p-8">
        <div className="max-w-4xl mx-auto">
          <div className="mb-8">
            <h1 className="text-2xl font-bold text-gray-900 mb-2">
              Test: Title with Text Template
            </h1>
            <p className="text-gray-600">
              Testing the TitleWithText component with sample content
            </p>
          </div>

          <div className="bg-white rounded-lg shadow-lg p-8 min-h-[600px]">
            <TitleWithText {...sampleData} />
          </div>

          <div className="mt-8 p-4 bg-gray-100 rounded-lg">
            <h3 className="font-semibold mb-2">Template Info:</h3>
            <ul className="text-sm text-gray-600 space-y-1">
              <li>â€¢ Template Type: title-with-text</li>
              <li>â€¢ Features: Title + Short paragraph (3-5 sentences)</li>
              <li>â€¢ Use Case: Brief explanations, summaries, concepts, definitions</li>
              <li>â€¢ Content: Single focused paragraph with key information</li>
            </ul>
          </div>
        </div>
      </div>
    </ThemedLayout>
  );
} 
```

# app/tests/test-two-columns-headings/page.tsx

```tsx
'use client';

import { TwoColumnWithHeadings } from '@/components/slides/basic/TwoColumnWithHeadings';

export default function TestTwoColumnsHeadingsPage() {
  const slideData = {
    id: 'test-two-columns-headings',
    templateType: 'two-column-with-headings',
    title: 'The Growing Challenge of Space Debris',
    leftHeading: 'Understanding the Threat',
    leftBullets: [
      'Space debris, also known as orbital debris, refers to non-functional man-made objects orbiting Earth.',
      'This includes defunct satellites, spent rocket stages, and fragments from past collisions or explosions.',
      'The increasing volume of this debris poses significant risks:',
      'Threatens active satellites and operational spacecraft.',
      'Endangers future space missions and human spaceflight.',
      'Increases the risk of the "Kessler Syndrome," a cascading series of collisions creating even more debris.'
    ],
    rightHeading: 'Seeking Solutions',
    rightBullets: [
      'Addressing space debris requires a two-pronged approach: prevention and removal.',
      'Current and proposed solutions include:',
      'Prevention: Designing new satellites for controlled re-entry or de-orbiting at the end of their operational life, minimizing debris generation during launches, and avoiding in-orbit explosions.',
      'Active Removal: Developing technologies to track, capture, and safely de-orbit larger pieces of debris. Research is ongoing into methods like nets, harpoons, and even laser-based systems.',
      'International Cooperation: Collaborative efforts among space agencies and private companies are crucial for establishing global guidelines and implementing effective mitigation strategies.'
    ]
  };

  return (
    <div className="min-h-screen bg-gray-50 p-8">
      <div className="max-w-6xl mx-auto">
        <h1 className="text-3xl font-bold text-gray-900 mb-8">Two Column With Headings Template Test</h1>
        <div className="bg-white rounded-lg shadow-lg p-4">
          <TwoColumnWithHeadings 
            {...slideData}
            isEditable={true}
            onUpdate={(updates) => console.log('Updates:', updates)}
          />
        </div>
      </div>
    </div>
  );
} 
```

# app/tests/test-two-columns/page.tsx

```tsx
'use client';

import { TwoColumns } from '@/components/slides/basic/TwoColumns';

export default function TestTwoColumnsPage() {
  const lightSlideData = {
    id: 'test-two-columns-light',
    templateType: 'two-columns',
    title: 'The High Cost of Space Exploration',
    leftBullets: [
      'Space exploration is an inherently expensive endeavor, driven by the extreme technical challenges and the precision required for operating in the harsh vacuum of space. The primary cost drivers include:',
      'Research & Development: Designing and testing cutting-edge technologies, from propulsion systems to life support.',
      'Manufacturing: Constructing highly complex spacecraft, rockets, and ground infrastructure with stringent quality control.',
      'Launch Operations: The immense fuel, personnel, and infrastructure costs associated with launching payloads into orbit.',
      'Mission Operations: Ongoing costs for tracking, communication, data analysis, and anomaly resolution throughout a mission\'s lifespan.'
    ],
    rightBullets: [
      'Despite the high costs, the benefits of space exploration often outweigh the investment, leading to scientific breakthroughs, technological advancements, and economic growth. Efforts to make space exploration more sustainable and affordable include:',
      'Reusability: Developing reusable rocket components to significantly reduce launch costs, as pioneered by private companies.',
      'Standardization: Creating standardized components and interfaces to streamline design and manufacturing processes.',
      'International Collaboration: Sharing costs and resources through partnerships between nations and space agencies.',
      'Commercialization: Encouraging private sector investment and competition to drive down costs and foster innovation in space activities.'
    ]
  };

  const darkSlideData = {
    ...lightSlideData,
    id: 'test-two-columns-dark'
  };

  return (
    <div className="min-h-screen bg-gray-50 p-8">
      <div className="max-w-6xl mx-auto space-y-12">
        <h1 className="text-3xl font-bold text-gray-900 mb-8">Two Columns Template Test</h1>
        
        {/* Light Theme */}
        <div>
          <h2 className="text-2xl font-semibold text-gray-800 mb-4">Light Theme</h2>
          <div className="bg-white rounded-lg shadow-lg p-4">
            <TwoColumns 
              {...lightSlideData}
              theme="light"
              isEditable={true}
              onUpdate={(updates) => console.log('Light Updates:', updates)}
            />
          </div>
        </div>

        {/* Dark Theme */}
        <div>
          <h2 className="text-2xl font-semibold text-gray-800 mb-4">Dark Theme</h2>
          <div className="bg-gray-800 rounded-lg shadow-lg p-4">
            <TwoColumns 
              {...darkSlideData}
              theme="dark"
              isEditable={true}
              onUpdate={(updates) => console.log('Dark Updates:', updates)}
            />
          </div>
        </div>
      </div>
    </div>
  );
} 
```

# AZURE_SETUP.md

```md
# Azure OpenAI Setup Guide

This guide will help you configure your Azure OpenAI environment variables correctly for your slides application.

## Required Environment Variables

Add these variables to your `.env.local` file in the root of your project:

\`\`\`bash
# Azure OpenAI Configuration
AZURE_OPENAI_API_KEY=your_azure_openai_api_key_here
AZURE_OPENAI_ENDPOINT=https://your-resource-name.openai.azure.com/

# Alternative variable names (the app checks both)
AZURE_API_KEY=your_azure_openai_api_key_here

# Note: The app now uses API version 2025-01-01-preview
\`\`\`

## How to Get Your Azure OpenAI Credentials

1. **Go to the Azure Portal**: Navigate to [portal.azure.com](https://portal.azure.com)

2. **Find your Azure OpenAI resource**: Look for your Azure OpenAI service in your resource group

3. **Get your API Key**:
   - In your Azure OpenAI resource, go to **"Keys and Endpoints"** in the left sidebar
   - Copy either **KEY 1** or **KEY 2**
   - Use this as your `AZURE_OPENAI_API_KEY`

4. **Get your Endpoint**:
   - In the same **"Keys and Endpoints"** section, copy the **Endpoint** URL
   - It should look like: `https://your-resource-name.openai.azure.com/`
   - Use this as your `AZURE_OPENAI_ENDPOINT`

5. **Ensure you have a GPT-4o-mini deployment**:
   - Go to **"Model deployments"** in your Azure OpenAI resource
   - Make sure you have deployed the `gpt-4o-mini` model
   - Note the deployment name (it can be different from the model name)

## Model Deployment Name

The application uses `gpt-4o-mini` as the model name. If your deployment has a different name, you'll need to update the model references in:

- `app/api/generate-outline/route.ts`
- `app/api/ai-text-completion/route.ts`
- `app/api/generate-slide/route.ts`

Replace `azureOpenAI('gpt-4o-mini')` with `azureOpenAI('your-deployment-name')`.

## Example .env.local file

\`\`\`bash
# Azure OpenAI Configuration
AZURE_OPENAI_API_KEY=1234567890abcdef1234567890abcdef
AZURE_OPENAI_ENDPOINT=https://mycompany-openai.openai.azure.com/

# Optional: If using different deployment names
# Update the code to use these deployment names instead of 'gpt-4o-mini'
\`\`\`

## Testing Your Configuration

To test if your configuration is working:

1. Start your development server: `npm run dev`
2. Navigate to the create page in your app
3. Try generating an outline
4. Check the console for any errors related to Azure OpenAI

## Troubleshooting

### Common Error: "Azure OpenAI API key is missing"
- Make sure your `.env.local` file is in the root directory of your project
- Restart your development server after adding environment variables
- Check that your variable names match exactly (case-sensitive)

### Common Error: "Resource not found" (404)
- Verify your endpoint URL is correct
- Make sure you have the correct API version (`2024-10-01-preview`)
- Ensure your deployment name matches what you're using in the code

### Common Error: "Invalid API key" (401)
- Double-check your API key from the Azure portal
- Make sure you're using the correct key (not a different Azure service key)
- Verify the key hasn't expired or been regenerated

## Security Note

Never commit your `.env.local` file to version control. The `.env.local` file should be in your `.gitignore` file to prevent accidentally sharing your API keys. 
```

# components.json

```json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  }
}

```

# components/editor/ai/ai-completion-commands.tsx

```tsx
import { Check, TextQuote, TrashIcon } from "lucide-react";
import { Button } from "@/components/ui/button";

interface AICompletionCommandsProps {
  completion: string;
  onReplace: () => void;
  onInsert: () => void;
  onDiscard: () => void;
}

export function AICompletionCommands({ 
  completion, 
  onReplace, 
  onInsert, 
  onDiscard 
}: AICompletionCommandsProps) {
  if (!completion.trim()) return null;

  return (
    <div className="space-y-1">
      {/* Action buttons */}
      <div className="space-y-1">
        <Button
          variant="ghost"
          className="w-full justify-start gap-3 h-auto py-2 px-3 text-left"
          onClick={onReplace}
        >
          <Check className="h-4 w-4 text-green-500 flex-shrink-0" />
          <div className="flex flex-col items-start">
            <span className="text-sm font-medium">Replace selection</span>
            <span className="text-xs text-muted-foreground">Replace with AI suggestion</span>
          </div>
        </Button>
        
        <Button
          variant="ghost"
          className="w-full justify-start gap-3 h-auto py-2 px-3 text-left"
          onClick={onInsert}
        >
          <TextQuote className="h-4 w-4 text-blue-500 flex-shrink-0" />
          <div className="flex flex-col items-start">
            <span className="text-sm font-medium">Insert below</span>
            <span className="text-xs text-muted-foreground">Add after current selection</span>
          </div>
        </Button>
      </div>

      {/* Separator */}
      <div className="h-px bg-border my-2" />

      {/* Discard option */}
      <Button
        variant="ghost"
        className="w-full justify-start gap-3 h-auto py-2 px-3 text-left text-red-600 hover:text-red-700 hover:bg-red-50"
        onClick={onDiscard}
      >
        <TrashIcon className="h-4 w-4 flex-shrink-0" />
        <div className="flex flex-col items-start">
          <span className="text-sm font-medium">Discard</span>
          <span className="text-xs text-muted-foreground">Remove AI suggestion</span>
        </div>
      </Button>
    </div>
  );
} 
```

# components/editor/ai/ai-debounce.tsx

```tsx
"use client";

import { useCallback, useRef } from 'react';

export function useDebounce<T extends (...args: any[]) => any>(
  callback: T,
  delay: number
): T {
  const debounceRef = useRef<NodeJS.Timeout>();

  const debouncedCallback = useCallback((...args: Parameters<T>) => {
    if (debounceRef.current) {
      clearTimeout(debounceRef.current);
    }
    
    debounceRef.current = setTimeout(() => {
      callback(...args);
    }, delay);
  }, [callback, delay]) as T;

  return debouncedCallback;
} 
```

# components/editor/ai/ai-selector-commands.tsx

```tsx
import { ArrowDownWideNarrow, CheckCheck, RefreshCcwDot, StepForward, WrapText } from "lucide-react";
import { Button } from "@/components/ui/button";

const options = [
  {
    value: "improve",
    label: "Improve writing",
    icon: RefreshCcwDot,
    description: "Enhance clarity and impact"
  },
  {
    value: "fix",
    label: "Fix grammar",
    icon: CheckCheck,
    description: "Correct grammar and spelling"
  },
  {
    value: "shorter",
    label: "Make shorter",
    icon: ArrowDownWideNarrow,
    description: "Condense while keeping key points"
  },
  {
    value: "longer",
    label: "Make longer",
    icon: WrapText,
    description: "Expand with more detail"
  },
];

interface AISelectorCommandsProps {
  selectedText: string;
  onSelect: (text: string, command: string) => void;
}

export function AISelectorCommands({ selectedText, onSelect }: AISelectorCommandsProps) {
  const hasSelectedText = selectedText.trim().length > 0;

  return (
    <div className="space-y-1">
      {/* Edit or review selection section */}
      {hasSelectedText && (
        <div className="space-y-1">
          <div className="px-2 py-1.5 text-xs font-medium text-muted-foreground">
            Edit or review selection
          </div>
          {options.map((option) => (
            <Button
              key={option.value}
              variant="ghost"
              className="w-full justify-start gap-3 h-auto py-2 px-3 text-left"
              onClick={() => onSelect(selectedText, option.value)}
            >
              <option.icon className="h-4 w-4 text-purple-500 flex-shrink-0" />
              <div className="flex flex-col items-start">
                <span className="text-sm font-medium">{option.label}</span>
                <span className="text-xs text-muted-foreground">{option.description}</span>
              </div>
            </Button>
          ))}
        </div>
      )}

      {/* Separator */}
      {hasSelectedText && (
        <div className="h-px bg-border my-2" />
      )}

      {/* Use AI to do more section */}
      <div className="space-y-1">
        <div className="px-2 py-1.5 text-xs font-medium text-muted-foreground">
          Use AI to do more
        </div>
        <Button
          variant="ghost"
          className="w-full justify-start gap-3 h-auto py-2 px-3 text-left"
          onClick={() => onSelect(selectedText, "continue")}
        >
          <StepForward className="h-4 w-4 text-purple-500 flex-shrink-0" />
          <div className="flex flex-col items-start">
            <span className="text-sm font-medium">Continue writing</span>
            <span className="text-xs text-muted-foreground">
              {hasSelectedText ? "Continue from selection" : "Continue writing"}
            </span>
          </div>
        </Button>
      </div>
    </div>
  );
} 
```

# components/editor/ai/ai-selector.tsx

```tsx
"use client";

import { useState } from "react";
import { useCompletion } from "ai/react";
import { ArrowUp, Loader2 } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { ScrollArea } from "@/components/ui/scroll-area";
import { toast } from "sonner";
import { AISelectorCommands } from "./ai-selector-commands";
import { AICompletionCommands } from "./ai-completion-commands";
import { MagicIcon } from "./magic-icon";

interface AISelectorProps {
  selectedText: string;
  onReplace: (content: string) => void;
  onInsert: (content: string) => void;
  onClose: () => void;
}

export function AISelector({ 
  selectedText, 
  onReplace, 
  onInsert, 
  onClose 
}: AISelectorProps) {
  const [inputValue, setInputValue] = useState("");
  const [showCommands, setShowCommands] = useState(true);

  const { completion, complete, isLoading, setCompletion } = useCompletion({
    api: '/api/ai-text-completion',
    onResponse: (response) => {
      if (response.status === 429) {
        toast.error("You have reached your request limit for the day.");
        return;
      }
      if (!response.ok) {
        toast.error("Failed to generate AI completion. Please try again.");
        return;
      }
      setShowCommands(false);
    },
    onError: (error) => {
      console.error('AI completion error:', error);
      toast.error("Failed to generate AI completion. Please try again.");
    },
    onFinish: () => {
      setInputValue("");
    }
  });

  const hasCompletion = completion.length > 0;

  const handleCommandSelect = async (text: string, command: string) => {
    setShowCommands(false);
    try {
      await complete("", {
        body: { 
          text: text || selectedText, 
          command,
          option: command 
        }
      });
    } catch (error) {
      console.error('Error executing command:', error);
      toast.error("Failed to execute AI command. Please try again.");
      setShowCommands(true);
    }
  };

  const handleCustomCommand = async () => {
    if (!inputValue.trim()) return;
    
    setShowCommands(false);
    try {
      await complete("", {
        body: { 
          text: selectedText, 
          command: "zap",
          option: inputValue.trim()
        }
      });
    } catch (error) {
      console.error('Error executing custom command:', error);
      toast.error("Failed to execute AI command. Please try again.");
      setShowCommands(true);
    }
  };

  const handleReplace = () => {
    onReplace(completion);
    handleDiscard();
  };

  const handleInsert = () => {
    onInsert(completion);
    handleDiscard();
  };

  const handleDiscard = () => {
    setCompletion("");
    setInputValue("");
    setShowCommands(true);
    onClose();
  };

  const handleKeyDown = (e: React.KeyboardEvent) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      handleCustomCommand();
    }
    if (e.key === 'Escape') {
      handleDiscard();
    }
  };

  return (
    <div className="w-[380px] bg-background border rounded-lg shadow-xl z-[160] relative">
      {/* AI Response */}
      {hasCompletion && (
        <div className="max-h-[200px] border-b overflow-hidden">
          <ScrollArea className="h-full max-h-[200px]">
            <div className="p-4 prose prose-sm max-w-none dark:prose-invert">
              <div className="whitespace-pre-wrap text-sm leading-relaxed break-words">
                {completion}
              </div>
            </div>
          </ScrollArea>
        </div>
      )}

      {/* Loading State */}
      {isLoading && (
        <div className="flex items-center gap-2 p-4 text-sm font-medium text-purple-600 border-b">
          <MagicIcon className="h-4 w-4" />
          <span>AI is thinking</span>
          <Loader2 className="h-4 w-4 animate-spin ml-auto" />
        </div>
      )}

      {/* Commands or Completion Actions */}
      <div className="p-3 max-h-[300px] overflow-y-auto">
        {showCommands && !isLoading ? (
          <AISelectorCommands
            selectedText={selectedText}
            onSelect={handleCommandSelect}
          />
        ) : hasCompletion ? (
          <AICompletionCommands
            completion={completion}
            onReplace={handleReplace}
            onInsert={handleInsert}
            onDiscard={handleDiscard}
          />
        ) : null}
      </div>

      {/* Custom Command Input */}
      {!hasCompletion && (
        <div className="p-3 border-t">
          <div className="relative">
            <Input
              value={inputValue}
              onChange={(e) => setInputValue(e.target.value)}
              onKeyDown={handleKeyDown}
              placeholder={hasCompletion ? "Tell AI what to do next" : "Ask AI to edit or generate..."}
              className="pr-10"
              disabled={isLoading}
            />
            <Button
              size="icon"
              variant="ghost"
              className="absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 bg-purple-100 hover:bg-purple-200 text-purple-600"
              onClick={handleCustomCommand}
              disabled={!inputValue.trim() || isLoading}
            >
              <ArrowUp className="h-4 w-4" />
            </Button>
          </div>
        </div>
      )}
    </div>
  );
} 
```

# components/editor/ai/generative-menu-switch.tsx

```tsx
"use client";

import { ReactNode, Fragment } from "react";
import { Button } from "@/components/ui/button";
import { MagicIcon } from "./magic-icon";
import { AISelector } from "./ai-selector";

interface GenerativeMenuSwitchProps {
  children: ReactNode;
  open: boolean;
  onOpenChange: (open: boolean) => void;
  selectedText: string;
  onReplace: (content: string) => void;
  onInsert: (content: string) => void;
}

export function GenerativeMenuSwitch({ 
  children, 
  open, 
  onOpenChange, 
  selectedText,
  onReplace,
  onInsert
}: GenerativeMenuSwitchProps) {
  return (
    <>
      {open && (
        <AISelector
          selectedText={selectedText}
          onReplace={onReplace}
          onInsert={onInsert}
          onClose={() => onOpenChange(false)}
        />
      )}
      {!open && (
        <Fragment>
          <Button
            variant="ghost"
            size="sm"
            className="rounded-none text-purple-500 hover:text-purple-600 hover:bg-purple-50 h-8 w-8 p-0 flex items-center justify-center"
            onClick={() => onOpenChange(true)}
          >
            <MagicIcon className="h-4 w-4" />
          </Button>
          <div className="w-px h-6 bg-gray-300 mx-1" />
          {children}
        </Fragment>
      )}
    </>
  );
} 
```

# components/editor/ai/keyboard-shortcuts.tsx

```tsx
"use client";

import { useEffect } from 'react';

interface UseAIKeyboardShortcutsProps {
  onToggleAI: () => void;
  isAIOpen: boolean;
  onCloseAI: () => void;
}

export function useAIKeyboardShortcuts({ 
  onToggleAI, 
  isAIOpen, 
  onCloseAI 
}: UseAIKeyboardShortcutsProps) {
  useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      // Cmd/Ctrl + K to toggle AI
      if ((event.metaKey || event.ctrlKey) && event.key === 'k') {
        event.preventDefault();
        onToggleAI();
      }
      
      // Escape key to close AI when open
      if (event.key === 'Escape' && isAIOpen) {
        event.preventDefault();
        onCloseAI();
      }
    };

    document.addEventListener('keydown', handleKeyDown);
    
    return () => {
      document.removeEventListener('keydown', handleKeyDown);
    };
  }, [onToggleAI, isAIOpen, onCloseAI]);
} 
```

# components/editor/ai/magic-icon.tsx

```tsx
import React from "react";

interface MagicIconProps {
  className?: string;
}

export function MagicIcon({ className = "h-4 w-4" }: MagicIconProps) {
  return (
    <svg
      className={className}
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
    >
      <path d="M15 4V2" />
      <path d="M15 16v-2" />
      <path d="M8 9h2" />
      <path d="M20 9h2" />
      <path d="M17.8 11.8 19 13" />
      <path d="M15 9h0" />
      <path d="M17.8 6.2 19 5" />
      <path d="m3 21 9-9" />
      <path d="M12.2 6.2 11 5" />
    </svg>
  );
} 
```

# components/editor/formatting/additional-formatting.tsx

```tsx
"use client";

import { Strikethrough, Underline, Code } from "lucide-react";
import { Button } from "@/components/ui/button";

interface AdditionalFormattingProps {
  editor: any;
}

export function AdditionalFormatting({ editor }: AdditionalFormattingProps) {
  if (!editor) return null;

  const formatButtons = [
    {
      name: "strikethrough",
      icon: Strikethrough,
      isActive: () => editor.isActive("strike"),
      command: () => editor.chain().focus().toggleStrike().run()
    },
    {
      name: "underline", 
      icon: Underline,
      isActive: () => editor.isActive("underline"),
      command: () => editor.chain().focus().toggleUnderline().run()
    },
    {
      name: "code",
      icon: Code,
      isActive: () => editor.isActive("code"),
      command: () => editor.chain().focus().toggleCode().run()
    }
  ];

  return (
    <div className="flex items-center">
      {formatButtons.map((button) => (
        <Button
          key={button.name}
          variant="ghost"
          size="sm"
          onClick={button.command}
          className={`h-8 w-8 p-0 ${
            button.isActive() ? 'bg-gray-100 text-blue-500' : ''
          }`}
        >
          <button.icon className="h-4 w-4" />
        </Button>
      ))}
    </div>
  );
} 
```

# components/editor/formatting/enhanced-color-selector.tsx

```tsx
"use client";

import { ChevronDown, Palette } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Popover, PopoverContent, PopoverTrigger } from "@/components/ui/popover";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";

interface ColorSelectorProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  editor: any;
}

const TEXT_COLORS = [
  { name: "Default", color: "#000000" },
  { name: "Gray", color: "#6B7280" },
  { name: "Red", color: "#EF4444" },
  { name: "Orange", color: "#F97316" },
  { name: "Yellow", color: "#EAB308" },
  { name: "Green", color: "#22C55E" },
  { name: "Blue", color: "#3B82F6" },
  { name: "Purple", color: "#8B5CF6" },
  { name: "Pink", color: "#EC4899" }
];

const HIGHLIGHT_COLORS = [
  { name: "Default", color: "transparent" },
  { name: "Gray", color: "#F3F4F6" },
  { name: "Red", color: "#FEE2E2" },
  { name: "Orange", color: "#FED7AA" },
  { name: "Yellow", color: "#FEF3C7" },
  { name: "Green", color: "#D1FAE5" },
  { name: "Blue", color: "#DBEAFE" },
  { name: "Purple", color: "#E9D5FF" },
  { name: "Pink", color: "#FCE7F3" }
];

export function EnhancedColorSelector({ open, onOpenChange, editor }: ColorSelectorProps) {
  if (!editor) return null;

  const currentTextColor = editor.getAttributes('textStyle')?.color || '#000000';
  
  return (
    <Popover open={open} onOpenChange={onOpenChange}>
      <PopoverTrigger asChild>
        <Button 
          variant="ghost" 
          size="sm" 
          className="gap-1 rounded-none border-none hover:bg-accent h-8 px-2"
        >
          <Palette className="h-4 w-4" />
          <ChevronDown className="h-3 w-3" />
        </Button>
      </PopoverTrigger>
      <PopoverContent 
        sideOffset={5} 
        align="start" 
        className="w-64 p-3 z-[170]"
      >
        <Tabs defaultValue="text" className="w-full">
          <TabsList className="grid w-full grid-cols-2">
            <TabsTrigger value="text">Text</TabsTrigger>
            <TabsTrigger value="highlight">Highlight</TabsTrigger>
          </TabsList>
          
          <TabsContent value="text" className="mt-3">
            <div className="grid grid-cols-3 gap-2">
              {TEXT_COLORS.map((color) => (
                <button
                  key={color.name}
                  className="flex flex-col items-center p-2 rounded hover:bg-gray-50 transition-colors"
                  onClick={() => {
                    if (color.color === '#000000') {
                      editor.chain().focus().unsetColor().run();
                    } else {
                      editor.chain().focus().setColor(color.color).run();
                    }
                    onOpenChange(false);
                  }}
                >
                  <div 
                    className="w-6 h-6 rounded border-2 border-gray-200 mb-1"
                    style={{ backgroundColor: color.color === '#000000' ? '#000' : color.color }}
                  />
                  <span className="text-xs text-gray-600">{color.name}</span>
                </button>
              ))}
            </div>
          </TabsContent>
          
          <TabsContent value="highlight" className="mt-3">
            <div className="grid grid-cols-3 gap-2">
              {HIGHLIGHT_COLORS.map((color) => (
                <button
                  key={color.name}
                  className="flex flex-col items-center p-2 rounded hover:bg-gray-50 transition-colors"
                  onClick={() => {
                    if (color.color === 'transparent') {
                      editor.chain().focus().unsetHighlight().run();
                    } else {
                      editor.chain().focus().setHighlight({ color: color.color }).run();
                    }
                    onOpenChange(false);
                  }}
                >
                  <div 
                    className="w-6 h-6 rounded border-2 border-gray-200 mb-1"
                    style={{ 
                      backgroundColor: color.color,
                      border: color.color === 'transparent' ? '2px dashed #ccc' : '2px solid #ddd'
                    }}
                  />
                  <span className="text-xs text-gray-600">{color.name}</span>
                </button>
              ))}
            </div>
          </TabsContent>
        </Tabs>
      </PopoverContent>
    </Popover>
  );
} 
```

# components/editor/formatting/text-type-selector.tsx

```tsx
"use client";

import {
  Check,
  ChevronDown,
  Heading1,
  Heading2,
  Heading3,
  Type,
  List,
  ListOrdered,
  Quote
} from "lucide-react";
import { Button } from "@/components/ui/button";
import { Popover, PopoverContent, PopoverTrigger } from "@/components/ui/popover";

export interface TextTypeItem {
  name: string;
  icon: React.ComponentType<{ className?: string }>;
  command: () => void;
  isActive: () => boolean;
}

interface TextTypeSelectorProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  editor: any;
}

export function TextTypeSelector({ open, onOpenChange, editor }: TextTypeSelectorProps) {
  if (!editor) return null;

  const items: TextTypeItem[] = [
    {
      name: "Text",
      icon: Type,
      command: () => editor.chain().focus().clearNodes().run(),
      isActive: () =>
        editor.isActive("paragraph") && 
        !editor.isActive("bulletList") && 
        !editor.isActive("orderedList") &&
        !editor.isActive("heading")
    },
    {
      name: "Heading 1",
      icon: Heading1,
      command: () => editor.chain().focus().clearNodes().toggleHeading({ level: 1 }).run(),
      isActive: () => editor.isActive("heading", { level: 1 })
    },
    {
      name: "Heading 2",
      icon: Heading2,
      command: () => editor.chain().focus().clearNodes().toggleHeading({ level: 2 }).run(),
      isActive: () => editor.isActive("heading", { level: 2 })
    },
    {
      name: "Heading 3",
      icon: Heading3,
      command: () => editor.chain().focus().clearNodes().toggleHeading({ level: 3 }).run(),
      isActive: () => editor.isActive("heading", { level: 3 })
    },
    {
      name: "Bullet List",
      icon: List,
      command: () => editor.chain().focus().clearNodes().toggleBulletList().run(),
      isActive: () => editor.isActive("bulletList")
    },
    {
      name: "Numbered List",
      icon: ListOrdered,
      command: () => editor.chain().focus().clearNodes().toggleOrderedList().run(),
      isActive: () => editor.isActive("orderedList")
    },
    {
      name: "Quote",
      icon: Quote,
      command: () => editor.chain().focus().clearNodes().toggleBlockquote().run(),
      isActive: () => editor.isActive("blockquote")
    }
  ];

  const activeItem = items.find(item => item.isActive()) ?? items[0];

  return (
    <Popover open={open} onOpenChange={onOpenChange}>
      <PopoverTrigger asChild>
        <Button 
          variant="ghost" 
          size="sm" 
          className="gap-1 rounded-none border-none hover:bg-accent h-8 px-2"
        >
          <activeItem.icon className="h-4 w-4" />
          <ChevronDown className="h-3 w-3" />
        </Button>
      </PopoverTrigger>
      <PopoverContent 
        sideOffset={5} 
        align="start" 
        className="w-48 p-1 z-[170]"
      >
        {items.map((item) => (
          <button
            key={item.name}
            className="flex cursor-pointer items-center justify-between rounded-sm px-2 py-1 text-sm hover:bg-accent w-full text-left"
            onClick={() => {
              item.command();
              onOpenChange(false);
            }}
          >
            <div className="flex items-center space-x-2">
              <div className="rounded-sm border p-1">
                <item.icon className="h-3 w-3" />
              </div>
              <span>{item.name}</span>
            </div>
            {activeItem.name === item.name && <Check className="h-4 w-4" />}
          </button>
        ))}
      </PopoverContent>
    </Popover>
  );
} 
```

# components/editor/TiptapEditor.tsx

```tsx
'use client';

import { useEditor, EditorContent, BubbleMenu } from '@tiptap/react';
import StarterKit from '@tiptap/starter-kit';
import Underline from '@tiptap/extension-underline';
import TextAlign from '@tiptap/extension-text-align';
import TextStyle from '@tiptap/extension-text-style';
import Color from '@tiptap/extension-color';
import Image from '@tiptap/extension-image';
import Placeholder from '@tiptap/extension-placeholder';
import Highlight from '@tiptap/extension-highlight';
import Blockquote from '@tiptap/extension-blockquote';
import Table from '@tiptap/extension-table';
import TableRow from '@tiptap/extension-table-row';
import TableHeader from '@tiptap/extension-table-header';
import TableCell from '@tiptap/extension-table-cell';
import { Button } from '@/components/ui/button';
import { 
  Bold, 
  Italic, 
  Underline as UnderlineIcon, 
  AlignLeft, 
  AlignCenter, 
  AlignRight,
  Palette,
  Type,
  List,
  ListOrdered
} from 'lucide-react';
import { useState, useEffect, useRef } from 'react';
import { parseMarkdownToHtml, hasMarkdownFormatting } from '@/lib/utils';
import { GenerativeMenuSwitch } from './ai/generative-menu-switch';
import { useAIKeyboardShortcuts } from './ai/keyboard-shortcuts';
import { TextTypeSelector } from './formatting/text-type-selector';
import { AdditionalFormatting } from './formatting/additional-formatting';
import { EnhancedColorSelector } from './formatting/enhanced-color-selector';

interface TiptapEditorProps {
  content: string;
  onChange: (content: string) => void;
  placeholder?: string;
  className?: string;
  variant?: 'title' | 'subtitle' | 'body' | 'default';
  editable?: boolean;
}

function getEditorClasses(variant: string): string {
  const baseClasses = 'tiptap-editor focus:outline-none min-h-[60px] p-3';
  
  switch (variant) {
    case 'title':
      return `${baseClasses} text-3xl md:text-4xl font-bold leading-tight`;
    case 'subtitle':
      return `${baseClasses} text-xl md:text-2xl font-semibold leading-tight`;
    case 'body':
      return `${baseClasses} text-base md:text-lg leading-relaxed`;
    default:
      // Enhanced prose styling for slide content using typography plugin
      return `${baseClasses} prose prose-lg max-w-none prose-headings:font-bold prose-h1:text-3xl prose-h1:md:text-4xl prose-h1:mb-6 prose-h2:text-2xl prose-h2:md:text-3xl prose-h2:mb-4 prose-h3:text-xl prose-h3:md:text-2xl prose-h3:mb-3 prose-p:text-base prose-p:md:text-lg prose-p:leading-relaxed prose-ul:space-y-3 prose-li:text-base prose-li:md:text-lg`;
  }
}

export function TiptapEditor({ content, onChange, placeholder, className, variant = 'default', editable = true }: TiptapEditorProps) {
  const [showColorPicker, setShowColorPicker] = useState(false);
  const [showAI, setShowAI] = useState(false);
  const [showTextType, setShowTextType] = useState(false);
  const [showEnhancedColor, setShowEnhancedColor] = useState(false);
  const isUserTypingRef = useRef(false);
  const lastContentRef = useRef(content);

  // Add keyboard shortcuts
  useAIKeyboardShortcuts({
    onToggleAI: () => setShowAI(!showAI),
    isAIOpen: showAI,
    onCloseAI: () => setShowAI(false)
  });

  // Reset all dropdowns when AI is open or when selection changes
  useEffect(() => {
    if (showAI) {
      setShowColorPicker(false);
      setShowTextType(false);
      setShowEnhancedColor(false);
    }
  }, [showAI]);

  // Close dropdowns when new text is selected
  const resetDropdowns = () => {
    setShowColorPicker(false);
    setShowTextType(false);
    setShowEnhancedColor(false);
    setShowAI(false);
  };

  const editor = useEditor({
    extensions: [
      StarterKit.configure({
        heading: {
          levels: [1, 2, 3],
        },
        bulletList: {
          HTMLAttributes: {
            class: 'tiptap-bullet-list',
          },
        },
        orderedList: {
          HTMLAttributes: {
            class: 'tiptap-ordered-list',
          },
        },
        listItem: {
          HTMLAttributes: {
            class: 'tiptap-list-item',
          },
        },
      }),
      Underline,
      TextAlign.configure({
        types: ['heading', 'paragraph'],
      }),
      TextStyle,
      Color,
      Highlight.configure({
        multicolor: true,
      }),
      Blockquote,
      Image.configure({
        HTMLAttributes: {
          class: 'max-w-full h-auto rounded-lg',
        },
      }),
      Table.configure({
        resizable: true,
        HTMLAttributes: {
          class: 'tiptap-table border-collapse w-full',
        },
      }),
      TableRow.configure({
        HTMLAttributes: {
          class: 'tiptap-table-row',
        },
      }),
      TableHeader.configure({
        HTMLAttributes: {
          class: 'tiptap-table-header',
        },
      }),
      TableCell.configure({
        HTMLAttributes: {
          class: 'tiptap-table-cell',
        },
      }),
      Placeholder.configure({
        placeholder: placeholder || 'Start typing...',
      }),
    ],
    content,
    editable,
    onUpdate: ({ editor }) => {
      if (!editable) return;
      isUserTypingRef.current = true;
      const newContent = editor.getHTML();
      lastContentRef.current = newContent;
      onChange(newContent);
      
      // Reset the flag after a short delay
      setTimeout(() => {
        isUserTypingRef.current = false;
      }, 100);
    },
    editorProps: {
      attributes: {
        class: getEditorClasses(variant),
      },
    },
  });

  // Update editor content when prop changes, but preserve cursor position
  useEffect(() => {
    if (editor && content !== lastContentRef.current && !isUserTypingRef.current) {
      // Save current selection/cursor position
      const { from, to } = editor.state.selection;
      const wasEditorFocused = editor.isFocused;
      
      // Check if content contains markdown and parse it
      const processedContent = hasMarkdownFormatting(content) 
        ? parseMarkdownToHtml(content) 
        : content;
      
      // Update content without triggering onChange
      editor.commands.setContent(processedContent, false);
      
      // Restore cursor position if editor was focused and position is valid
      if (wasEditorFocused) {
        const docSize = editor.state.doc.content.size;
        const safeFrom = Math.min(from, docSize);
        const safeTo = Math.min(to, docSize);
        
        // Use setTimeout to ensure the content update is complete
        setTimeout(() => {
          try {
            editor.commands.setTextSelection({ from: safeFrom, to: safeTo });
            editor.commands.focus();
          } catch (error) {
            // If position restoration fails, just focus at the end
            editor.commands.focus('end');
          }
        }, 0);
      }
      
      lastContentRef.current = content;
    }
  }, [content, editor]);

  if (!editor) {
    return (
      <div className="min-h-[60px] p-3 border border-gray-200 rounded-lg bg-gray-50 animate-pulse">
        <div className="h-4 bg-gray-200 rounded w-3/4"></div>
      </div>
    );
  }

  const colors = [
    '#000000', '#374151', '#6B7280', '#9CA3AF',
    '#EF4444', '#F97316', '#EAB308', '#22C55E',
    '#3B82F6', '#8B5CF6', '#EC4899', '#F43F5E'
  ];

  // Get selected text for AI features
  const getSelectedText = () => {
    if (!editor) return '';
    const { from, to } = editor.state.selection;
    return editor.state.doc.textBetween(from, to, ' ');
  };

  // Handle AI content replacement
  const handleAIReplace = (aiContent: string) => {
    if (!editor) return;
    const { from, to } = editor.state.selection;
    editor.chain().focus().insertContentAt({ from, to }, aiContent).run();
  };

  // Handle AI content insertion
  const handleAIInsert = (aiContent: string) => {
    if (!editor) return;
    const { to } = editor.state.selection;
    editor.chain().focus().insertContentAt(to + 1, aiContent).run();
  };

  return (
    <div className={`relative ${className}`}>
      {/* Enhanced Bubble Menu with AI - only show when editable */}
      {editable && <BubbleMenu
        editor={editor}
        tippyOptions={{ 
          duration: 100,
          placement: showAI ? "bottom-start" : "top",
          onHidden: () => {
            setShowAI(false);
            setShowColorPicker(false);
            setShowTextType(false);
            setShowEnhancedColor(false);
          },
        }}
        className="flex items-center w-fit max-w-[90vw] overflow-hidden rounded-md border border-gray-200 bg-white shadow-xl z-[150]"
      >
        <GenerativeMenuSwitch
          open={showAI}
          onOpenChange={setShowAI}
          selectedText={getSelectedText()}
          onReplace={handleAIReplace}
          onInsert={handleAIInsert}
        >
          {/* Enhanced formatting tools */}
          <div className="flex items-center space-x-1 p-2">
            {/* Text Type Selector */}
            <TextTypeSelector
              open={showTextType}
              onOpenChange={(open) => {
                setShowTextType(open);
                if (open) {
                  setShowColorPicker(false);
                  setShowEnhancedColor(false);
                }
              }}
              editor={editor}
            />

            <div className="w-px h-6 bg-gray-300 mx-1" />

            {/* Basic formatting */}
            <Button
              variant="ghost"
              size="sm"
              onClick={() => editor.chain().focus().toggleBold().run()}
              className={`h-8 w-8 p-0 ${editor.isActive('bold') ? 'bg-gray-100' : ''}`}
            >
              <Bold className="h-4 w-4" />
            </Button>
            
            <Button
              variant="ghost"
              size="sm"
              onClick={() => editor.chain().focus().toggleItalic().run()}
              className={`h-8 w-8 p-0 ${editor.isActive('italic') ? 'bg-gray-100' : ''}`}
            >
              <Italic className="h-4 w-4" />
            </Button>

            {/* Additional formatting options */}
            <AdditionalFormatting editor={editor} />

            <div className="w-px h-6 bg-gray-300 mx-1" />

            {/* Enhanced Color Selector */}
            <EnhancedColorSelector
              open={showEnhancedColor}
              onOpenChange={(open) => {
                setShowEnhancedColor(open);
                if (open) {
                  setShowColorPicker(false);
                  setShowTextType(false);
                }
              }}
              editor={editor}
            />

            <div className="w-px h-6 bg-gray-300 mx-1" />

            <Button
              variant="ghost"
              size="sm"
              onClick={() => editor.chain().focus().setTextAlign('left').run()}
              className={`h-8 w-8 p-0 ${editor.isActive({ textAlign: 'left' }) ? 'bg-gray-100' : ''}`}
            >
              <AlignLeft className="h-4 w-4" />
            </Button>
            
            <Button
              variant="ghost"
              size="sm"
              onClick={() => editor.chain().focus().setTextAlign('center').run()}
              className={`h-8 w-8 p-0 ${editor.isActive({ textAlign: 'center' }) ? 'bg-gray-100' : ''}`}
            >
              <AlignCenter className="h-4 w-4" />
            </Button>
            
            <Button
              variant="ghost"
              size="sm"
              onClick={() => editor.chain().focus().setTextAlign('right').run()}
              className={`h-8 w-8 p-0 ${editor.isActive({ textAlign: 'right' }) ? 'bg-gray-100' : ''}`}
            >
              <AlignRight className="h-4 w-4" />
            </Button>

            <div className="w-px h-6 bg-gray-300 mx-1" />

            <Button
              variant="ghost"
              size="sm"
              onClick={() => editor.chain().focus().toggleBulletList().run()}
              className={`h-8 w-8 p-0 ${editor.isActive('bulletList') ? 'bg-gray-100' : ''}`}
            >
              <List className="h-4 w-4" />
            </Button>
            
            <Button
              variant="ghost"
              size="sm"
              onClick={() => editor.chain().focus().toggleOrderedList().run()}
              className={`h-8 w-8 p-0 ${editor.isActive('orderedList') ? 'bg-gray-100' : ''}`}
            >
              <ListOrdered className="h-4 w-4" />
            </Button>


          </div>
        </GenerativeMenuSwitch>
      </BubbleMenu>}

      {/* Editor Content */}
      <EditorContent 
        editor={editor} 
        className="min-h-[60px] cursor-text"
      />
    </div>
  );
}
```

# components/slides/basic/AccentBackground.tsx

```tsx
'use client';

import { useState } from 'react';
import { Loader2 } from 'lucide-react';
import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface AccentBackgroundProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  accentColor?: string;
}

export function AccentBackground({ 
  content,
  imageUrl,
  imagePrompt,
  isGenerating,
  isGeneratingImage,
  onUpdate, 
  isEditable = false,
  accentColor = '#8b5cf6'
}: AccentBackgroundProps) {

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ AccentBackground - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  const defaultContent = `<h1 style="color: white; text-align: center;">Eye-Catching Title</h1>
<p style="color: white; text-align: center; font-size: 1.25rem; margin-top: 2rem;">Supporting subtitle or key message that complements the main title and provides additional context for your presentation.</p>`;

  const displayContent = content || defaultContent;

  // Create background style based on image availability
  const backgroundStyle = imageUrl
    ? {
        backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(${imageUrl})`,
        backgroundSize: 'cover',
        backgroundPosition: 'center',
        backgroundRepeat: 'no-repeat'
      }
    : {
        background: `linear-gradient(135deg, ${accentColor}, ${accentColor}dd)`
      };

  if (isGenerating || isGeneratingImage) {
    return (
      <div 
        className="w-full h-full flex items-center justify-center p-8"
        style={{ background: `linear-gradient(135deg, ${accentColor}, ${accentColor}dd)` }}
      >
        <div className="text-center space-y-4">
          <div className="w-16 h-16 bg-white/20 rounded-xl mx-auto flex items-center justify-center shadow-sm">
            <Loader2 className="w-8 h-8 animate-spin text-white" />
          </div>
          <div className="space-y-2">
            <p className="text-sm text-white font-medium">
              {isGenerating ? 'Generating slide...' : 'Generating background image...'}
            </p>
            {imagePrompt && (
              <p className="text-xs text-white/80 max-w-xs px-4 leading-relaxed">"{imagePrompt}"</p>
            )}
          </div>
        </div>
      </div>
    );
  }

  return (
    <div 
      className="w-full h-full flex items-center justify-center p-8"
      style={backgroundStyle}
    >
      <div className="w-full max-w-4xl">
        <TiptapEditor
          content={displayContent}
          onChange={handleContentChange}
          placeholder="Enter slide content..."
          className="w-full [&_.ProseMirror]:text-white [&_.ProseMirror_h1]:text-white [&_.ProseMirror_h2]:text-white [&_.ProseMirror_h3]:text-white [&_.ProseMirror_p]:text-white"
          editable={isEditable}
        />
      </div>
    </div>
  );
} 
```

# components/slides/basic/AccentLeft.tsx

```tsx
'use client';

import { useState } from 'react';
import { Loader2 } from 'lucide-react';
import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface AccentLeftProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  accentColor?: string;
}

export function AccentLeft({ 
  content,
  imageUrl,
  imagePrompt,
  isGenerating,
  isGeneratingImage,
  onUpdate, 
  isEditable = false,
  accentColor = '#8b5cf6'
}: AccentLeftProps) {
  const [imageLoading, setImageLoading] = useState(false);
  const [imageError, setImageError] = useState(false);

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ AccentLeft - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  const defaultContent = `<h1>Compelling Title</h1>
<p>This content area provides space for detailed information, bullet points, or any other content you want to highlight alongside the colorful accent panel.</p>
<ul>
  <li>First key point or benefit</li>
  <li>Second important detail</li>
  <li>Third supporting argument</li>
</ul>`;

  const displayContent = content || defaultContent;

  return (
    <SlideWrapper>
      <div className="flex-1 flex">
        {/* Left Image Panel */}
        <div className="w-1/2 h-full min-h-[400px] relative">
          {isGenerating || isGeneratingImage || imageLoading ? (
            <div className="w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-100 to-slate-200 rounded-lg">
              <div className="text-center space-y-4">
                <div className="w-16 h-16 bg-white/80 rounded-xl mx-auto flex items-center justify-center shadow-sm">
                  <Loader2 className="w-8 h-8 animate-spin text-slate-400" />
                </div>
                <div className="space-y-2">
                  <p className="text-sm text-slate-600 font-medium">
                    {isGenerating ? 'Generating slide...' : isGeneratingImage ? 'Generating image...' : 'Loading image...'}
                  </p>
                  {imagePrompt && (
                    <p className="text-xs text-slate-500 max-w-xs px-4 leading-relaxed">"{imagePrompt}"</p>
                  )}
                </div>
              </div>
            </div>
          ) : imageError || !imageUrl ? (
            <div className="w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-200 via-slate-100 to-white rounded-lg border border-slate-200">
              <div className="text-center space-y-3">
                <div className="w-20 h-20 bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl mx-auto flex items-center justify-center shadow-sm border border-slate-200">
                  <span className="text-3xl opacity-60">ğŸ–¼ï¸</span>
                </div>
                <div className="space-y-1">
                  <p className="text-sm text-slate-600 font-medium">Image placeholder</p>
                  <p className="text-xs text-slate-500">Visual content will appear here</p>
                </div>
              </div>
            </div>
          ) : (
            <img
              src={imageUrl}
              alt={imagePrompt || 'Slide image'}
              className="w-full h-full object-cover rounded-lg"
              onLoad={() => setImageLoading(false)}
              onError={() => {
                setImageError(true);
                setImageLoading(false);
              }}
            />
          )}
        </div>

        {/* Right Content Area */}
        <div className="w-1/2 p-8 flex items-center">
          {isGenerating ? (
            <div className="animate-pulse space-y-6 w-full">
              <div className="h-12 bg-gray-200 rounded w-3/4"></div>
              <div className="space-y-3">
                <div className="h-4 bg-gray-200 rounded w-full"></div>
                <div className="h-4 bg-gray-200 rounded w-5/6"></div>
                <div className="h-4 bg-gray-200 rounded w-4/5"></div>
              </div>
              <div className="space-y-2">
                {[1, 2, 3].map((i) => (
                  <div key={i} className="flex items-center space-x-3">
                    <div className="w-2 h-2 bg-gray-200 rounded-full"></div>
                    <div className="h-4 bg-gray-200 rounded w-3/4"></div>
                  </div>
                ))}
              </div>
            </div>
          ) : (
            <TiptapEditor
              content={displayContent}
              onChange={handleContentChange}
              placeholder="Enter slide content..."
              className="w-full"
              editable={isEditable}
            />
          )}
        </div>
      </div>
    </SlideWrapper>
  );
} 
```

# components/slides/basic/AccentRight.tsx

```tsx
'use client';

import { useState } from 'react';
import { Loader2 } from 'lucide-react';
import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface AccentRightProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  accentColor?: string;
}

export function AccentRight({ 
  content,
  imageUrl,
  imagePrompt,
  isGenerating,
  isGeneratingImage,
  onUpdate, 
  isEditable = false,
  accentColor = '#8b5cf6'
}: AccentRightProps) {
  const [imageLoading, setImageLoading] = useState(false);
  const [imageError, setImageError] = useState(false);

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ AccentRight - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  const defaultContent = `<h1>Compelling Title</h1>
<p>This content area provides space for detailed information, bullet points, or any other content you want to highlight alongside the colorful accent panel.</p>
<ul>
  <li>First key point or benefit</li>
  <li>Second important detail</li>
  <li>Third supporting argument</li>
</ul>`;

  const displayContent = content || defaultContent;

  return (
    <SlideWrapper>
      <div className="flex-1 flex">
        {/* Left Content Area */}
        <div className="w-1/2 p-8 flex items-center">
          {isGenerating ? (
            <div className="animate-pulse space-y-6 w-full">
              <div className="h-12 bg-gray-200 rounded w-3/4"></div>
              <div className="space-y-3">
                <div className="h-4 bg-gray-200 rounded w-full"></div>
                <div className="h-4 bg-gray-200 rounded w-5/6"></div>
                <div className="h-4 bg-gray-200 rounded w-4/5"></div>
              </div>
              <div className="space-y-2">
                {[1, 2, 3].map((i) => (
                  <div key={i} className="flex items-center space-x-3">
                    <div className="w-2 h-2 bg-gray-200 rounded-full"></div>
                    <div className="h-4 bg-gray-200 rounded w-3/4"></div>
                  </div>
                ))}
              </div>
            </div>
          ) : (
            <TiptapEditor
              content={displayContent}
              onChange={handleContentChange}
              placeholder="Enter slide content..."
              className="w-full"
              editable={isEditable}
            />
          )}
        </div>

        {/* Right Image Panel */}
        <div className="w-1/2 h-full min-h-[400px] relative">
          {isGenerating || isGeneratingImage || imageLoading ? (
            <div className="w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-100 to-slate-200 rounded-lg">
              <div className="text-center space-y-4">
                <div className="w-16 h-16 bg-white/80 rounded-xl mx-auto flex items-center justify-center shadow-sm">
                  <Loader2 className="w-8 h-8 animate-spin text-slate-400" />
                </div>
                <div className="space-y-2">
                  <p className="text-sm text-slate-600 font-medium">
                    {isGenerating ? 'Generating slide...' : isGeneratingImage ? 'Generating image...' : 'Loading image...'}
                  </p>
                  {imagePrompt && (
                    <p className="text-xs text-slate-500 max-w-xs px-4 leading-relaxed">"{imagePrompt}"</p>
                  )}
                </div>
              </div>
            </div>
          ) : imageError || !imageUrl ? (
            <div className="w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-200 via-slate-100 to-white rounded-lg border border-slate-200">
              <div className="text-center space-y-3">
                <div className="w-20 h-20 bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl mx-auto flex items-center justify-center shadow-sm border border-slate-200">
                  <span className="text-3xl opacity-60">ğŸ–¼ï¸</span>
                </div>
                <div className="space-y-1">
                  <p className="text-sm text-slate-600 font-medium">Image placeholder</p>
                  <p className="text-xs text-slate-500">Visual content will appear here</p>
                </div>
              </div>
            </div>
          ) : (
            <img
              src={imageUrl}
              alt={imagePrompt || 'Slide image'}
              className="w-full h-full object-cover rounded-lg"
              onLoad={() => setImageLoading(false)}
              onError={() => {
                setImageError(true);
                setImageLoading(false);
              }}
            />
          )}
        </div>
      </div>
    </SlideWrapper>
  );
} 
```

# components/slides/basic/AccentTop.tsx

```tsx
'use client';

import { useState } from 'react';
import { Loader2 } from 'lucide-react';
import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface AccentTopProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  accentColor?: string;
}

export function AccentTop({ 
  content,
  imageUrl,
  imagePrompt,
  isGenerating,
  isGeneratingImage,
  onUpdate, 
  isEditable = false,
  accentColor = '#8b5cf6'
}: AccentTopProps) {
  const [imageLoading, setImageLoading] = useState(false);
  const [imageError, setImageError] = useState(false);

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ AccentTop - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  const defaultContent = `<h1>Main Slide Title</h1>
<p>This content area provides space for detailed information, bullet points, or any other content you want to highlight below the colorful accent header.</p>
<ul>
  <li>First key point or benefit</li>
  <li>Second important detail</li>
  <li>Third supporting argument</li>
</ul>`;

  const displayContent = content || defaultContent;

  return (
    <SlideWrapper>
      <div className="flex-1 flex flex-col">
        {/* Top Image Panel */}
        <div className="h-64 mb-8 relative">
          {isGenerating || isGeneratingImage || imageLoading ? (
            <div className="w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-100 to-slate-200 rounded-lg">
              <div className="text-center space-y-4">
                <div className="w-16 h-16 bg-white/80 rounded-xl mx-auto flex items-center justify-center shadow-sm">
                  <Loader2 className="w-8 h-8 animate-spin text-slate-400" />
                </div>
                <div className="space-y-2">
                  <p className="text-sm text-slate-600 font-medium">
                    {isGenerating ? 'Generating slide...' : isGeneratingImage ? 'Generating image...' : 'Loading image...'}
                  </p>
                  {imagePrompt && (
                    <p className="text-xs text-slate-500 max-w-xs px-4 leading-relaxed">"{imagePrompt}"</p>
                  )}
                </div>
              </div>
            </div>
          ) : imageError || !imageUrl ? (
            <div className="w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-200 via-slate-100 to-white rounded-lg border border-slate-200">
              <div className="text-center space-y-3">
                <div className="w-20 h-20 bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl mx-auto flex items-center justify-center shadow-sm border border-slate-200">
                  <span className="text-3xl opacity-60">ğŸ–¼ï¸</span>
                </div>
                <div className="space-y-1">
                  <p className="text-sm text-slate-600 font-medium">Image placeholder</p>
                  <p className="text-xs text-slate-500">Visual content will appear here</p>
                </div>
              </div>
            </div>
          ) : (
            <img
              src={imageUrl}
              alt={imagePrompt || 'Slide image'}
              className="w-full h-full object-cover rounded-lg"
              onLoad={() => setImageLoading(false)}
              onError={() => {
                setImageError(true);
                setImageLoading(false);
              }}
            />
          )}
        </div>

        {/* Content Area */}
        <div className="flex-1 p-8">
          {isGenerating ? (
            <div className="animate-pulse space-y-6">
              <div className="h-12 bg-gray-200 rounded w-3/4"></div>
              <div className="space-y-3">
                <div className="h-4 bg-gray-200 rounded w-full"></div>
                <div className="h-4 bg-gray-200 rounded w-5/6"></div>
                <div className="h-4 bg-gray-200 rounded w-4/5"></div>
              </div>
              <div className="space-y-2">
                {[1, 2, 3].map((i) => (
                  <div key={i} className="flex items-center space-x-3">
                    <div className="w-2 h-2 bg-gray-200 rounded-full"></div>
                    <div className="h-4 bg-gray-200 rounded w-3/4"></div>
                  </div>
                ))}
              </div>
            </div>
          ) : (
            <TiptapEditor
              content={displayContent}
              onChange={handleContentChange}
              placeholder="Enter slide content..."
              className="w-full"
              editable={isEditable}
            />
          )}
        </div>
      </div>
    </SlideWrapper>
  );
} 
```

# components/slides/basic/Bullets.tsx

```tsx
'use client';

import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface BulletsProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
}

export function Bullets({ 
  content,
  isGenerating, 
  onUpdate, 
  isEditable = false 
}: BulletsProps) {

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ Bullets - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  // Default content with title and 2x2 grid of numbered bullets  
  const defaultContent = `<h1>Key Points Overview</h1>

<table style="width: 100%; border-collapse: collapse; margin-top: 2rem;">
  <tr>
    <td style="width: 50%; padding: 0 1rem 1rem 0; vertical-align: top;">
      <h3><span style="display: inline-flex; align-items: center; justify-content: center; width: 2rem; height: 2rem; background: #8b5cf6; color: white; border-radius: 50%; font-weight: bold; margin-right: 0.75rem;">1</span>First Point</h3>
      <p>Description for the first point goes here with detailed explanation.</p>
    </td>
    <td style="width: 50%; padding: 0 0 1rem 1rem; vertical-align: top;">
      <h3><span style="display: inline-flex; align-items: center; justify-content: center; width: 2rem; height: 2rem; background: #8b5cf6; color: white; border-radius: 50%; font-weight: bold; margin-right: 0.75rem;">2</span>Second Point</h3>
      <p>Description for the second point goes here with detailed explanation.</p>
    </td>
  </tr>
  <tr>
    <td style="width: 50%; padding: 1rem 1rem 0 0; vertical-align: top;">
      <h3><span style="display: inline-flex; align-items: center; justify-content: center; width: 2rem; height: 2rem; background: #8b5cf6; color: white; border-radius: 50%; font-weight: bold; margin-right: 0.75rem;">3</span>Third Point</h3>
      <p>Description for the third point goes here with detailed explanation.</p>
    </td>
    <td style="width: 50%; padding: 1rem 0 0 1rem; vertical-align: top;">
      <h3><span style="display: inline-flex; align-items: center; justify-content: center; width: 2rem; height: 2rem; background: #8b5cf6; color: white; border-radius: 50%; font-weight: bold; margin-right: 0.75rem;">4</span>Fourth Point</h3>
      <p>Description for the fourth point goes here with detailed explanation.</p>
    </td>
  </tr>
</table>

<hr style="margin: 2rem 0; border: 1px solid #e5e7eb;" />
<p><strong>Conclusion:</strong> Concluding thoughts and summary of the key points discussed above.</p>`;

  const displayContent = content || defaultContent;

  return (
    <SlideWrapper>
      <div className="flex-1">
        {isGenerating ? (
          <div className="animate-pulse space-y-8">
            <div className="h-12 bg-gray-200 rounded w-2/3"></div>
            <div className="grid grid-cols-2 gap-6">
              {[1, 2, 3, 4].map((i) => (
                <div key={i} className="space-y-3">
                  <div className="flex items-center space-x-3">
                    <div className="w-8 h-8 bg-gray-200 rounded-full flex-shrink-0"></div>
                    <div className="h-6 bg-gray-200 rounded w-3/4"></div>
                  </div>
                  <div className="space-y-2">
                    <div className="h-4 bg-gray-200 rounded w-full"></div>
                    <div className="h-4 bg-gray-200 rounded w-5/6"></div>
                    <div className="h-4 bg-gray-200 rounded w-4/5"></div>
                  </div>
                </div>
              ))}
            </div>
            <div className="border-t border-gray-200 pt-6">
              <div className="h-4 bg-gray-200 rounded w-full mb-2"></div>
              <div className="h-4 bg-gray-200 rounded w-3/4"></div>
            </div>
          </div>
        ) : (
          <TiptapEditor
            content={displayContent}
            onChange={handleContentChange}
            placeholder="Enter slide content with numbered bullet points..."
            className="w-full"
            editable={isEditable}
          />
        )}
      </div>
    </SlideWrapper>
  );
} 
```

# components/slides/basic/FourColumns.tsx

```tsx
'use client';

import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface FourColumnsProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  theme?: 'light' | 'dark';
}

export function FourColumns({ 
  content,
  isGenerating, 
  onUpdate, 
  isEditable = false,
  theme = 'light'
}: FourColumnsProps) {

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ FourColumns - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  const defaultContent = `<h1>Four-Phase Framework</h1>

<table style="width: 100%; border-collapse: collapse; margin-top: 2rem;">
  <tr>
    <td style="width: 25%; padding: 0 0.75rem 0 0; vertical-align: top;">
      <h3>Planning</h3>
      <ul>
        <li>Define objectives</li>
        <li>Resource allocation</li>
        <li>Timeline creation</li>
        <li>Risk assessment</li>
      </ul>
    </td>
    <td style="width: 25%; padding: 0 0.375rem; vertical-align: top;">
      <h3>Execution</h3>
      <ul>
        <li>Task management</li>
        <li>Team coordination</li>
        <li>Progress tracking</li>
        <li>Quality control</li>
      </ul>
    </td>
    <td style="width: 25%; padding: 0 0.375rem; vertical-align: top;">
      <h3>Monitoring</h3>
      <ul>
        <li>Performance metrics</li>
        <li>Risk monitoring</li>
        <li>Status reporting</li>
        <li>Issue resolution</li>
      </ul>
    </td>
    <td style="width: 25%; padding: 0 0 0 0.75rem; vertical-align: top;">
      <h3>Closing</h3>
      <ul>
        <li>Final deliverables</li>
        <li>Lessons learned</li>
        <li>Project evaluation</li>
        <li>Documentation</li>
      </ul>
    </td>
  </tr>
</table>`;

  const displayContent = content || defaultContent;
  const isDark = theme === 'dark';

  return (
    <SlideWrapper>
      <div className="flex-1">
        {isGenerating ? (
          <div className="animate-pulse space-y-8">
            <div className={`h-12 rounded w-2/3 mx-auto ${
              isDark ? 'bg-gray-700' : 'bg-gray-200'
            }`}></div>
            <div className="grid grid-cols-4 gap-4">
              {[1, 2, 3, 4].map((col) => (
                <div key={col} className="space-y-3">
                  <div className={`h-5 rounded w-3/4 ${
                    isDark ? 'bg-gray-700' : 'bg-gray-200'
                  }`}></div>
                  <div className="space-y-2">
                    {[1, 2, 3, 4].map((i) => (
                      <div key={i} className="flex items-center space-x-2">
                        <div className={`w-1.5 h-1.5 rounded-full ${
                          isDark ? 'bg-gray-600' : 'bg-gray-200'
                        }`}></div>
                        <div className={`h-3 rounded flex-1 ${
                          isDark ? 'bg-gray-700' : 'bg-gray-200'
                        }`}></div>
                      </div>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          </div>
        ) : (
          <TiptapEditor
            content={displayContent}
            onChange={handleContentChange}
            placeholder="Enter slide content with four columns..."
            className={`w-full ${
              isDark ? '[&_.ProseMirror]:text-gray-300 [&_.ProseMirror_h1]:text-white [&_.ProseMirror_h2]:text-white [&_.ProseMirror_h3]:text-white' : ''
            }`}
            editable={isEditable}
          />
        )}
      </div>
    </SlideWrapper>
  );
}
```

# components/slides/basic/FourColumnsWithHeadings.tsx

```tsx
'use client';

import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface FourColumnsWithHeadingsProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  theme?: 'light' | 'dark';
}

export function FourColumnsWithHeadings({ 
  content,
  isGenerating, 
  onUpdate, 
  isEditable = false,
  theme = 'light'
}: FourColumnsWithHeadingsProps) {

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ FourColumnsWithHeadings - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  const defaultContent = `<h1>Four-Pillar Strategy</h1>

<table style="width: 100%; border-collapse: collapse; margin-top: 2rem;">
  <tr>
    <td style="width: 25%; padding: 0 0.75rem 0 0; vertical-align: top;">
      <h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Strategy</h2>
      <ul>
        <li>Vision & objectives</li>
        <li>Market analysis</li>
        <li>Competitive advantage</li>
        <li>Strategic planning</li>
      </ul>
    </td>
    <td style="width: 25%; padding: 0 0.375rem; vertical-align: top;">
      <h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Operations</h2>
      <ul>
        <li>Process optimization</li>
        <li>Resource management</li>
        <li>Quality control</li>
        <li>Efficiency metrics</li>
      </ul>
    </td>
    <td style="width: 25%; padding: 0 0.375rem; vertical-align: top;">
      <h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Technology</h2>
      <ul>
        <li>Digital transformation</li>
        <li>System integration</li>
        <li>Innovation pipeline</li>
        <li>Tech infrastructure</li>
      </ul>
    </td>
    <td style="width: 25%; padding: 0 0 0 0.75rem; vertical-align: top;">
      <h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Culture</h2>
      <ul>
        <li>Team development</li>
        <li>Leadership growth</li>
        <li>Change management</li>
        <li>Value alignment</li>
      </ul>
    </td>
  </tr>
</table>`;

  const displayContent = content || defaultContent;
  const isDark = theme === 'dark';

  return (
    <SlideWrapper>
      <div className="flex-1">
        {isGenerating ? (
          <div className="animate-pulse space-y-8">
            <div className={`h-12 rounded w-2/3 mx-auto ${
              isDark ? 'bg-gray-700' : 'bg-gray-200'
            }`}></div>
            <div className="grid grid-cols-4 gap-4">
              {[1, 2, 3, 4].map((col) => (
                <div key={col} className="space-y-3">
                  <div className={`h-5 rounded w-full ${
                    isDark ? 'bg-gray-700' : 'bg-gray-200'
                  }`}></div>
                  <div className="space-y-2">
                    {[1, 2, 3, 4].map((i) => (
                      <div key={i} className="flex items-center space-x-2">
                        <div className={`w-1.5 h-1.5 rounded-full ${
                          isDark ? 'bg-gray-600' : 'bg-gray-200'
                        }`}></div>
                        <div className={`h-3 rounded flex-1 ${
                          isDark ? 'bg-gray-700' : 'bg-gray-200'
                        }`}></div>
                      </div>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          </div>
        ) : (
          <TiptapEditor
            content={displayContent}
            onChange={handleContentChange}
            placeholder="Enter slide content with four columns and headings..."
            className={`w-full ${
              isDark ? '[&_.ProseMirror]:text-gray-300 [&_.ProseMirror_h1]:text-white [&_.ProseMirror_h2]:text-white [&_.ProseMirror_h3]:text-white' : ''
            }`}
            editable={isEditable}
          />
        )}
      </div>
    </SlideWrapper>
  );
} 
```

# components/slides/basic/ImageAndText.tsx

```tsx
'use client';

import { useState } from 'react';
import { Loader2 } from 'lucide-react';
import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface ImageAndTextProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
}

export function ImageAndText({ 
  content,
  imageUrl, 
  imagePrompt, 
  isGenerating, 
  isGeneratingImage,
  onUpdate, 
  isEditable = false 
}: ImageAndTextProps) {
  const [imageLoading, setImageLoading] = useState(false);
  const [imageError, setImageError] = useState(false);

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ ImageAndText - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  const defaultContent = `<p>This slide combines visual and textual content to create a compelling presentation. The image on the left provides visual context while this text area offers detailed explanation and supporting information.</p>

<p>Use this layout when you want to:</p>
<ul>
  <li>Showcase a product or concept visually</li>
  <li>Explain a process or workflow</li>
  <li>Provide context for visual data</li>
  <li>Create engaging narrative content</li>
</ul>

<p>The visual-text combination helps reinforce your message and makes it more memorable for your audience.</p>`;

  const displayContent = content || defaultContent;

  return (
    <SlideWrapper layout="horizontal">
      {/* Image Section */}
      <div className="w-1/2 h-full min-h-[400px] relative rounded-lg overflow-hidden flex items-center justify-center">
        {isGenerating || isGeneratingImage || imageLoading ? (
          <div className="w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-100 to-slate-200 rounded-lg">
            <div className="text-center space-y-4">
              <div className="w-16 h-16 bg-white/80 rounded-xl mx-auto flex items-center justify-center shadow-sm">
                <Loader2 className="w-8 h-8 animate-spin text-slate-400" />
              </div>
              <div className="space-y-2">
                <p className="text-sm text-slate-600 font-medium">
                  {isGenerating ? 'Generating slide...' : isGeneratingImage ? 'Generating image...' : 'Loading image...'}
                </p>
                {imagePrompt && (
                  <p className="text-xs text-slate-500 max-w-xs px-4 leading-relaxed">"{imagePrompt}"</p>
                )}
              </div>
            </div>
          </div>
        ) : imageError || !imageUrl ? (
          <div className="w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-200 via-slate-100 to-white rounded-lg border border-slate-200">
            <div className="text-center space-y-3">
              <div className="w-20 h-20 bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl mx-auto flex items-center justify-center shadow-sm border border-slate-200">
                <span className="text-3xl opacity-60">ğŸ–¼ï¸</span>
              </div>
              <div className="space-y-1">
                <p className="text-sm text-slate-600 font-medium">Image placeholder</p>
                <p className="text-xs text-slate-500">Visual content will appear here</p>
              </div>
            </div>
          </div>
        ) : (
          <div className="w-full h-full bg-slate-900 flex items-center justify-center rounded-lg overflow-hidden">
            <img
              src={imageUrl}
              alt={imagePrompt || 'Slide image'}
              className="max-w-full max-h-full object-contain rounded-lg"
              onLoad={() => setImageLoading(false)}
              onError={() => {
                setImageError(true);
                setImageLoading(false);
              }}
            />
          </div>
        )}
      </div>

      {/* Text Section */}
      <div className="w-1/2 h-full min-h-[400px] flex flex-col justify-center">
        {isGenerating ? (
          <div className="animate-pulse space-y-6">
            <div className="h-12 bg-gray-200 rounded w-full"></div>
            <div className="space-y-3">
              <div className="h-4 bg-gray-200 rounded w-full"></div>
              <div className="h-4 bg-gray-200 rounded w-full"></div>
              <div className="h-4 bg-gray-200 rounded w-5/6"></div>
              <div className="h-4 bg-gray-200 rounded w-full"></div>
              <div className="h-4 bg-gray-200 rounded w-4/5"></div>
            </div>
          </div>
        ) : (
          <TiptapEditor
            content={displayContent}
            onChange={handleContentChange}
            placeholder="Enter slide content with headings, paragraphs, and lists..."
            className="w-full"
            editable={isEditable}
          />
        )}
      </div>
    </SlideWrapper>
  );
}
```

# components/slides/basic/Paragraph.tsx

```tsx
'use client';

import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface ParagraphProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
}

export function Paragraph({ 
  content,
  isGenerating, 
  onUpdate, 
  isEditable = false 
}: ParagraphProps) {

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ Paragraph - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  // Default content with multiple sections
  const defaultContent = `<h1>Detailed Analysis</h1>

<h2>Section Heading</h2>
<p>First paragraph of content goes here with detailed information about the topic.</p>
<p>Second paragraph with additional details and supporting information.</p>

<h2>Another Section</h2>
<p>More content in this section with relevant details.</p>
<p>Additional paragraph with more comprehensive information.</p>

<h2>Conclusion</h2>
<p>Concluding thoughts and final insights about the topic discussed above.</p>`;

  const displayContent = content || defaultContent;

  return (
    <SlideWrapper>
      <div className="flex-1">
        {isGenerating ? (
          <div className="animate-pulse space-y-6">
            <div className="h-12 bg-gray-200 rounded w-2/3"></div>
            {[1, 2, 3].map((i) => (
              <div key={i} className="space-y-3">
                <div className="h-6 bg-gray-200 rounded w-1/3"></div>
                <div className="space-y-2">
                  <div className="h-4 bg-gray-200 rounded w-full"></div>
                  <div className="h-4 bg-gray-200 rounded w-5/6"></div>
                </div>
                <div className="space-y-2">
                  <div className="h-4 bg-gray-200 rounded w-full"></div>
                  <div className="h-4 bg-gray-200 rounded w-4/5"></div>
                </div>
              </div>
            ))}
          </div>
        ) : (
          <TiptapEditor
            content={displayContent}
            onChange={handleContentChange}
            placeholder="Enter slide content with headings and paragraphs..."
            className="w-full"
            editable={isEditable}
          />
        )}
      </div>
    </SlideWrapper>
  );
} 
```

# components/slides/basic/TextAndImage.tsx

```tsx
'use client';

import { useState } from 'react';
import { Loader2 } from 'lucide-react';
import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface TextAndImageProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
}

export function TextAndImage({ 
  content,
  imageUrl, 
  imagePrompt, 
  isGenerating, 
  isGeneratingImage,
  onUpdate, 
  isEditable = false 
}: TextAndImageProps) {
  const [imageLoading, setImageLoading] = useState(false);
  const [imageError, setImageError] = useState(false);

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ TextAndImage - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  const defaultContent = `<p>This layout prioritizes text content while providing visual support through the image on the right. It's perfect for detailed explanations, storytelling, or when the text is the primary message.</p>

<h2>Key Benefits</h2>
<ul>
  <li>Text-first approach for detailed content</li>
  <li>Visual support enhances understanding</li>
  <li>Ideal for explanatory content</li>
  <li>Maintains reader focus on text</li>
</ul>

<p>The complementary image helps illustrate your points without overwhelming the textual content, creating a balanced and professional presentation.</p>`;

  const displayContent = content || defaultContent;

  return (
    <SlideWrapper layout="horizontal">
      {/* Text Section */}
      <div className="w-1/2 h-full min-h-[400px] flex flex-col justify-center">
        {isGenerating ? (
          <div className="animate-pulse space-y-6">
            <div className="h-12 bg-gray-200 rounded w-full"></div>
            <div className="space-y-3">
              <div className="h-4 bg-gray-200 rounded w-full"></div>
              <div className="h-4 bg-gray-200 rounded w-full"></div>
              <div className="h-4 bg-gray-200 rounded w-5/6"></div>
              <div className="h-4 bg-gray-200 rounded w-full"></div>
              <div className="h-4 bg-gray-200 rounded w-4/5"></div>
            </div>
          </div>
        ) : (
          <TiptapEditor
            content={displayContent}
            onChange={handleContentChange}
            placeholder="Enter slide content with headings, paragraphs, and lists..."
            className="w-full"
            editable={isEditable}
          />
        )}
      </div>

      {/* Image Section */}
      <div className="w-1/2 h-full min-h-[400px] relative rounded-lg overflow-hidden flex items-center justify-center">
        {isGenerating || isGeneratingImage || imageLoading ? (
          <div className="w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-100 to-slate-200 rounded-lg">
            <div className="text-center space-y-4">
              <div className="w-16 h-16 bg-white/80 rounded-xl mx-auto flex items-center justify-center shadow-sm">
                <Loader2 className="w-8 h-8 animate-spin text-slate-400" />
              </div>
              <div className="space-y-2">
                <p className="text-sm text-slate-600 font-medium">
                  {isGenerating ? 'Generating slide...' : isGeneratingImage ? 'Generating image...' : 'Loading image...'}
                </p>
                {imagePrompt && (
                  <p className="text-xs text-slate-500 max-w-xs px-4 leading-relaxed">"{imagePrompt}"</p>
                )}
              </div>
            </div>
          </div>
        ) : imageError || !imageUrl ? (
          <div className="w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-200 via-slate-100 to-white rounded-lg border border-slate-200">
            <div className="text-center space-y-3">
              <div className="w-20 h-20 bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl mx-auto flex items-center justify-center shadow-sm border border-slate-200">
                <span className="text-3xl opacity-60">ğŸ–¼ï¸</span>
              </div>
              <div className="space-y-1">
                <p className="text-sm text-slate-600 font-medium">Image placeholder</p>
                <p className="text-xs text-slate-500">Visual content will appear here</p>
              </div>
            </div>
          </div>
        ) : (
          <div className="w-full h-full bg-slate-900 flex items-center justify-center rounded-lg overflow-hidden">
            <img
              src={imageUrl}
              alt={imagePrompt || 'Slide image'}
              className="max-w-full max-h-full object-contain rounded-lg"
              onLoad={() => setImageLoading(false)}
              onError={() => {
                setImageError(true);
                setImageLoading(false);
              }}
            />
          </div>
        )}
      </div>
    </SlideWrapper>
  );
}
```

# components/slides/basic/ThreeColumns.tsx

```tsx
'use client';

import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface ThreeColumnsProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  theme?: 'light' | 'dark';
}

export function ThreeColumns({ 
  content,
  isGenerating, 
  onUpdate, 
  isEditable = false,
  theme = 'light'
}: ThreeColumnsProps) {

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ ThreeColumns - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  const defaultContent = `<h1>Three-Column Analysis</h1>

<table style="width: 100%; border-collapse: collapse; margin-top: 2rem;">
  <tr>
    <td style="width: 33.33%; padding: 0 1rem 0 0; vertical-align: top;">
      <h3>Technology</h3>
      <ul>
        <li>Infrastructure modernization</li>
        <li>Cloud-first approach</li>
        <li>API-driven architecture</li>
        <li>Security & compliance</li>
      </ul>
    </td>
    <td style="width: 33.33%; padding: 0 0.5rem; vertical-align: top;">
      <h3>Process</h3>
      <ul>
        <li>Agile methodologies</li>
        <li>Continuous integration</li>
        <li>Quality assurance</li>
        <li>Performance monitoring</li>
      </ul>
    </td>
    <td style="width: 33.33%; padding: 0 0 0 1rem; vertical-align: top;">
      <h3>People</h3>
      <ul>
        <li>Skills development</li>
        <li>Cultural transformation</li>
        <li>Leadership alignment</li>
        <li>Change management</li>
      </ul>
    </td>
  </tr>
</table>`;

  const displayContent = content || defaultContent;
  const isDark = theme === 'dark';

  return (
    <SlideWrapper>
      <div className="flex-1">
        {isGenerating ? (
          <div className="animate-pulse space-y-8">
            <div className={`h-12 rounded w-2/3 mx-auto ${
              isDark ? 'bg-gray-700' : 'bg-gray-200'
            }`}></div>
            <div className="grid grid-cols-3 gap-6">
              {[1, 2, 3].map((col) => (
                <div key={col} className="space-y-4">
                  <div className={`h-6 rounded w-3/4 ${
                    isDark ? 'bg-gray-700' : 'bg-gray-200'
                  }`}></div>
                  <div className="space-y-2">
                    {[1, 2, 3, 4].map((i) => (
                      <div key={i} className="flex items-center space-x-3">
                        <div className={`w-2 h-2 rounded-full ${
                          isDark ? 'bg-gray-600' : 'bg-gray-200'
                        }`}></div>
                        <div className={`h-4 rounded flex-1 ${
                          isDark ? 'bg-gray-700' : 'bg-gray-200'
                        }`}></div>
                      </div>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          </div>
        ) : (
          <TiptapEditor
            content={displayContent}
            onChange={handleContentChange}
            placeholder="Enter slide content with three columns..."
            className={`w-full ${
              isDark ? '[&_.ProseMirror]:text-gray-300 [&_.ProseMirror_h1]:text-white [&_.ProseMirror_h2]:text-white [&_.ProseMirror_h3]:text-white' : ''
            }`}
            editable={isEditable}
          />
        )}
      </div>
    </SlideWrapper>
  );
}
```

# components/slides/basic/ThreeColumnWithHeadings.tsx

```tsx
'use client';

import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface ThreeColumnWithHeadingsProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  theme?: 'light' | 'dark';
}

export function ThreeColumnWithHeadings({ 
  content,
  isGenerating, 
  onUpdate, 
  isEditable = false,
  theme = 'light'
}: ThreeColumnWithHeadingsProps) {

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ ThreeColumnWithHeadings - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  const defaultContent = `<h1>Three-Section Comparison</h1>

<table style="width: 100%; border-collapse: collapse; margin-top: 2rem;">
  <tr>
    <td style="width: 33.33%; padding: 0 1rem 0 0; vertical-align: top;">
      <h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Left Section Heading</h2>
      <ul>
        <li>First key point for left section</li>
        <li>Supporting detail or example</li>
        <li>Additional information</li>
        <li>Concluding thought</li>
      </ul>
    </td>
    <td style="width: 33.33%; padding: 0 0.5rem; vertical-align: top;">
      <h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Center Section Heading</h2>
      <ul>
        <li>Central theme or main concept</li>
        <li>Key supporting evidence</li>
        <li>Important considerations</li>
        <li>Summary point</li>
      </ul>
    </td>
    <td style="width: 33.33%; padding: 0 0 0 1rem; vertical-align: top;">
      <h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Right Section Heading</h2>
      <ul>
        <li>Right section main point</li>
        <li>Relevant supporting data</li>
        <li>Additional context</li>
        <li>Final observation</li>
      </ul>
    </td>
  </tr>
</table>`;

  const displayContent = content || defaultContent;
  const isDark = theme === 'dark';

  return (
    <SlideWrapper>
      <div className="flex-1">
        {isGenerating ? (
          <div className="animate-pulse space-y-8">
            <div className={`h-12 rounded w-2/3 mx-auto ${
              isDark ? 'bg-gray-700' : 'bg-gray-200'
            }`}></div>
            <div className="grid grid-cols-3 gap-6">
              {[1, 2, 3].map((col) => (
                <div key={col} className="space-y-4">
                  <div className={`h-6 rounded w-full ${
                    isDark ? 'bg-gray-700' : 'bg-gray-200'
                  }`}></div>
                  <div className="space-y-2">
                    {[1, 2, 3, 4].map((i) => (
                      <div key={i} className="flex items-center space-x-3">
                        <div className={`w-2 h-2 rounded-full ${
                          isDark ? 'bg-gray-600' : 'bg-gray-200'
                        }`}></div>
                        <div className={`h-4 rounded flex-1 ${
                          isDark ? 'bg-gray-700' : 'bg-gray-200'
                        }`}></div>
                      </div>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          </div>
        ) : (
          <TiptapEditor
            content={displayContent}
            onChange={handleContentChange}
            placeholder="Enter slide content with three columns and headings..."
            className={`w-full ${
              isDark ? '[&_.ProseMirror]:text-gray-300 [&_.ProseMirror_h1]:text-white [&_.ProseMirror_h2]:text-white [&_.ProseMirror_h3]:text-white' : ''
            }`}
            editable={isEditable}
          />
        )}
      </div>
    </SlideWrapper>
  );
}
```

# components/slides/basic/TitleWithBullets.tsx

```tsx
'use client';

import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface TitleWithBulletsProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  theme?: 'light' | 'dark';
}

export function TitleWithBullets({ 
  title, 
  bulletPoints = [], 
  content,
  isGenerating, 
  onUpdate, 
  isEditable = false,
  theme = 'light'
}: TitleWithBulletsProps) {

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ TitleWithBullets - Complete content being saved:', newContent);
      // UNIFIED: Save complete HTML content (title + body)
      onUpdate({ content: newContent });
    }
  };

  // Default content if none provided (with legacy support)
  const getDefaultContent = () => {
    if (content && content.includes('<')) {
      return content;
    }
    
    // Legacy fallback: combine title and bulletPoints into HTML
    const displayTitle = title || 'Slide Title';
    const displayBulletPoints = bulletPoints.length > 0 ? bulletPoints : [
      'First key point about your topic',
      'Second important consideration or detail', 
      'Third supporting argument or example',
      'Fourth conclusion or call to action'
    ];
    
    return `<h1>${displayTitle}</h1><ul>${displayBulletPoints.map(point => `<li><p>${point}</p></li>`).join('')}</ul>`;
  };

  const isDark = theme === 'dark';

  return (
    <SlideWrapper>
      {/* Unified Content */}
      <div className="w-full h-full flex flex-col">
        {isGenerating ? (
          <div className="animate-pulse space-y-6">
            {/* Title placeholder */}
            <div className={`h-12 rounded w-full ${
              isDark ? 'bg-gray-700' : 'bg-gray-200'
            }`}></div>
            {/* Bullet points placeholder */}
            {[1, 2, 3, 4].map((i) => (
              <div key={i} className="flex items-start space-x-4">
                <div className={`w-2 h-2 rounded-full mt-3 flex-shrink-0 ${
                  isDark ? 'bg-gray-600' : 'bg-gray-200'
                }`}></div>
                <div className="flex-1 space-y-2">
                  <div className={`h-5 rounded w-full ${
                    isDark ? 'bg-gray-700' : 'bg-gray-200'
                  }`}></div>
                  <div className={`h-5 rounded w-4/5 ${
                    isDark ? 'bg-gray-700' : 'bg-gray-200'
                  }`}></div>
                </div>
              </div>
            ))}
          </div>
        ) : (
                      <TiptapEditor
              content={getDefaultContent()}
              onChange={handleContentChange}
              placeholder="# Enter slide title

â€¢ Add your bullet points here..."
              variant="default"
              editable={isEditable}
              className={`w-full ${isDark ? 'text-white' : 'text-gray-900'}`}
            />
        )}
      </div>
    </SlideWrapper>
  );
}
```

# components/slides/basic/TitleWithBulletsAndImage.tsx

```tsx
'use client';

import { useState } from 'react';
import { Loader2 } from 'lucide-react';
import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface TitleWithBulletsAndImageProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  theme?: 'light' | 'dark';
}

export function TitleWithBulletsAndImage({ 
  title, 
  bulletPoints = [], 
  content,
  imageUrl, 
  imagePrompt, 
  isGenerating, 
  isGeneratingImage,
  onUpdate, 
  isEditable = false,
  theme = 'light'
}: TitleWithBulletsAndImageProps) {
  const [imageLoading, setImageLoading] = useState(false);
  const [imageError, setImageError] = useState(false);

  const handleTitleChange = (newTitle: string) => {
    if (onUpdate) {
      onUpdate({ title: newTitle.replace(/<[^>]*>/g, '') });
    }
  };

  const handleBulletPointsChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ TitleWithBulletsAndImage - Content being saved:', newContent);
      // FIXED: Save rich HTML content instead of converting to plain text
      onUpdate({ content: newContent });
    }
  };

  // Default bullet points if none provided
  const defaultBulletPoints = [
    'Key benefit or feature of your solution',
    'Important detail or supporting evidence',
    'Additional value proposition or example',
    'Call to action or next steps'
  ];

  const displayBulletPoints = bulletPoints.length > 0 ? bulletPoints : defaultBulletPoints;
  
  // Helper function to render HTML content or fallback to bullet points
  const renderContent = () => {
    // If we have rich HTML content, use that
    if (content && content.includes('<')) {
      return <div dangerouslySetInnerHTML={{ __html: content }} className={`prose prose-sm max-w-none ${
        isDark ? 'prose-invert' : ''
      } [&_ul]:space-y-3 [&_li]:flex [&_li]:items-start [&_li]:space-x-3 [&_ul]:list-none [&_li]:before:content-[''] [&_li]:before:w-2 [&_li]:before:h-2 [&_li]:before:rounded-full [&_li]:before:mt-2 [&_li]:before:flex-shrink-0 ${
        isDark ? '[&_li]:before:bg-purple-400 [&_p]:text-gray-300 [&_h1]:text-white [&_h2]:text-white [&_h3]:text-white' : '[&_li]:before:bg-purple-500 [&_p]:text-gray-700 [&_h1]:text-gray-900 [&_h2]:text-gray-900 [&_h3]:text-gray-900'
      }`} />;
    }
    
    // Fallback to legacy bullet points display
    return (
      <ul className="space-y-3 list-none">
        {displayBulletPoints.map((point, index) => (
          <li key={index} className="flex items-start space-x-3">
            <div className={`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${
              isDark ? 'bg-purple-400' : 'bg-purple-500'
            }`}></div>
            <p className={`text-sm md:text-base leading-relaxed ${
              isDark ? 'text-gray-300' : 'text-gray-700'
            }`}>
              {point}
            </p>
          </li>
        ))}
      </ul>
    );
  };

  const isDark = theme === 'dark';

  return (
    <SlideWrapper layout="horizontal">
      {/* Content Section */}
      <div className="w-2/3 h-full min-h-[500px] flex flex-col justify-center p-8">
        {/* Title */}
        {(title || isEditable) && (
          <div className="mb-6">
            {isGenerating ? (
              <div className={`h-10 rounded w-3/4 animate-pulse ${
                isDark ? 'bg-gray-700' : 'bg-gray-200'
              }`}></div>
            ) : isEditable ? (
              <TiptapEditor
                content={title || 'Slide Title'}
                onChange={handleTitleChange}
                placeholder="Enter slide title..."
                variant="subtitle"
                className={`text-left ${isDark ? '[&_.ProseMirror]:text-white' : ''}`}
              />
            ) : (
              <h1 className={`text-xl md:text-2xl font-bold leading-tight ${
                isDark ? 'text-white' : 'text-gray-900'
              }`}>
                {title}
              </h1>
            )}
          </div>
        )}

        {/* Bullet Points */}
        <div className="flex-1">
          {isGenerating ? (
            <div className="animate-pulse space-y-3">
              {[1, 2, 3, 4].map((i) => (
                <div key={i} className="flex items-start space-x-3">
                  <div className={`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${
                    isDark ? 'bg-gray-600' : 'bg-gray-200'
                  }`}></div>
                  <div className="flex-1 space-y-1">
                    <div className={`h-4 rounded w-full ${
                      isDark ? 'bg-gray-700' : 'bg-gray-200'
                    }`}></div>
                    <div className={`h-4 rounded w-3/4 ${
                      isDark ? 'bg-gray-700' : 'bg-gray-200'
                    }`}></div>
                  </div>
                </div>
              ))}
            </div>
          ) : isEditable ? (
            <TiptapEditor
              content={content || `<ul>${displayBulletPoints.map(point => `<li>${point}</li>`).join('')}</ul>`}
              onChange={handleBulletPointsChange}
              placeholder="â€¢ Add your bullet points here..."
              variant="body"
              className={`[&_.ProseMirror_ul]:space-y-3 [&_.ProseMirror_li]:flex [&_.ProseMirror_li]:items-start [&_.ProseMirror_li]:space-x-3 ${
                isDark ? '[&_.ProseMirror]:text-gray-300' : ''
              }`}
            />
          ) : (
            renderContent()
          )}
        </div>
      </div>

      {/* Image Section */}
      <div className="w-1/3 h-full min-h-[500px] flex items-center justify-center p-8">
        <div className="w-full h-80 relative rounded-xl overflow-hidden">
          {isGenerating || isGeneratingImage || imageLoading ? (
            <div className={`w-full h-full flex items-center justify-center rounded-xl ${
              isDark 
                ? 'bg-gradient-to-br from-slate-800 to-slate-700' 
                : 'bg-gradient-to-br from-slate-100 to-slate-200'
            }`}>
              <div className="text-center space-y-4">
                <div className={`w-16 h-16 rounded-xl mx-auto flex items-center justify-center shadow-sm ${
                  isDark ? 'bg-slate-600/50' : 'bg-white/80'
                }`}>
                  <Loader2 className={`w-8 h-8 animate-spin ${
                    isDark ? 'text-slate-300' : 'text-slate-400'
                  }`} />
                </div>
                <div className="space-y-2">
                  <p className={`text-sm font-medium ${
                    isDark ? 'text-slate-300' : 'text-slate-600'
                  }`}>
                    {isGenerating ? 'Generating slide...' : isGeneratingImage ? 'Generating image...' : 'Loading image...'}
                  </p>
                  {imagePrompt && (
                    <p className={`text-xs max-w-xs px-4 leading-relaxed ${
                      isDark ? 'text-slate-400' : 'text-slate-500'
                    }`}>"{imagePrompt}"</p>
                  )}
                </div>
              </div>
            </div>
          ) : imageError ? (
            <div className={`w-full h-full flex items-center justify-center rounded-xl ${
              isDark 
                ? 'bg-gradient-to-br from-slate-800 via-slate-700 to-slate-600 border border-slate-600' 
                : 'bg-gradient-to-br from-slate-200 via-slate-100 to-white border border-slate-200'
            }`}>
              <div className="text-center space-y-3">
                <div className={`w-20 h-20 rounded-xl mx-auto flex items-center justify-center shadow-sm ${
                  isDark 
                    ? 'bg-gradient-to-br from-slate-700 to-slate-600 border border-slate-500' 
                    : 'bg-gradient-to-br from-slate-100 to-slate-200 border border-slate-200'
                }`}>
                  <span className="text-3xl opacity-60">ğŸ–¼ï¸</span>
                </div>
                <div className="space-y-1">
                  <p className={`text-sm font-medium ${
                    isDark ? 'text-slate-300' : 'text-slate-600'
                  }`}>Image placeholder</p>
                  <p className={`text-xs ${
                    isDark ? 'text-slate-400' : 'text-slate-500'
                  }`}>Visual content will appear here</p>
                </div>
              </div>
            </div>
          ) : (
            <div className={`w-full h-full flex items-center justify-center rounded-xl overflow-hidden ${
              isDark ? 'bg-slate-800' : 'bg-slate-900'
            }`}>
              <img
                src={imageUrl}
                alt={imagePrompt || 'Slide image'}
                className="w-full h-full object-cover rounded-xl"
                onLoad={() => setImageLoading(false)}
                onError={() => {
                  setImageError(true);
                  setImageLoading(false);
                }}
              />
            </div>
          )}
        </div>
      </div>
    </SlideWrapper>
  );
}
```

# components/slides/basic/TitleWithText.tsx

```tsx
'use client';

import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface TitleWithTextProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  theme?: 'light' | 'dark';
}

export function TitleWithText({ 
  title, 
  content,
  isGenerating, 
  onUpdate, 
  isEditable = false,
  theme = 'light'
}: TitleWithTextProps) {

  const handleTitleChange = (newTitle: string) => {
    if (onUpdate) {
      onUpdate({ title: newTitle.replace(/<[^>]*>/g, '') });
    }
  };

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ“ TitleWithText - Content changed:', newContent);
      onUpdate({ content: newContent });
    }
  };

  const defaultContent = `<h1>Slide Title</h1>
<p>This is a concise paragraph that provides key information about your topic. Keep it brief and focused on the main message you want to convey to your audience.</p>`;

  const displayContent = content || defaultContent;
  const isDark = theme === 'dark';

  return (
    <SlideWrapper>
      <div className="flex-1 flex flex-col justify-start">
        {isGenerating ? (
          <div className="animate-pulse space-y-4">
            <div className={`h-12 rounded w-2/3 ${
              isDark ? 'bg-gray-700' : 'bg-gray-200'
            }`}></div>
            {[1, 2, 3, 4, 5].map((i) => (
              <div key={i} className={`h-5 rounded w-${i === 5 ? '3/4' : 'full'} ${
                isDark ? 'bg-gray-700' : 'bg-gray-200'
              }`}></div>
            ))}
          </div>
        ) : (
          <TiptapEditor
            content={displayContent}
            onChange={handleContentChange}
            placeholder="Enter slide title and content..."
            className={`w-full ${
              isDark ? '[&_.ProseMirror]:text-gray-300 [&_.ProseMirror_h1]:text-white [&_.ProseMirror_h2]:text-white [&_.ProseMirror_h3]:text-white' : ''
            }`}
            editable={isEditable}
          />
        )}
      </div>
    </SlideWrapper>
  );
} 
```

# components/slides/basic/TwoColumns.tsx

```tsx
'use client';

import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface TwoColumnsProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  theme?: 'light' | 'dark';
}

export function TwoColumns({ 
  content,
  isGenerating, 
  onUpdate, 
  isEditable = false,
  theme = 'light'
}: TwoColumnsProps) {

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ TwoColumns - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  const defaultContent = `<h1>Two-Column Layout</h1>

<table style="width: 100%; border-collapse: collapse; margin-top: 2rem;">
  <tr>
    <td style="width: 50%; padding: 0 1.5rem 0 0; vertical-align: top;">
      <h3>Left Column</h3>
      <ul>
        <li>First point in left column</li>
        <li>Second important detail</li>
        <li>Third supporting argument</li>
        <li>Fourth key consideration</li>
      </ul>
    </td>
    <td style="width: 50%; padding: 0 0 0 1.5rem; vertical-align: top;">
      <h3>Right Column</h3>
      <ul>
        <li>First point in right column</li>
        <li>Second important detail</li>
        <li>Third supporting argument</li>
        <li>Fourth key consideration</li>
      </ul>
    </td>
  </tr>
</table>`;

  const displayContent = content || defaultContent;
  const isDark = theme === 'dark';

  return (
    <SlideWrapper>
      <div className="flex-1">
        {isGenerating ? (
          <div className="animate-pulse space-y-8">
            <div className={`h-12 rounded w-2/3 mx-auto ${
              isDark ? 'bg-gray-700' : 'bg-gray-200'
            }`}></div>
            <div className="grid grid-cols-2 gap-12">
              <div className="space-y-4">
                <div className={`h-6 rounded w-1/2 ${
                  isDark ? 'bg-gray-700' : 'bg-gray-200'
                }`}></div>
                <div className="space-y-2">
                  {[1, 2, 3, 4].map((i) => (
                    <div key={i} className="flex items-center space-x-3">
                      <div className={`w-2 h-2 rounded-full ${
                        isDark ? 'bg-gray-600' : 'bg-gray-200'
                      }`}></div>
                      <div className={`h-4 rounded flex-1 ${
                        isDark ? 'bg-gray-700' : 'bg-gray-200'
                      }`}></div>
                    </div>
                  ))}
                </div>
              </div>
              <div className="space-y-4">
                <div className={`h-6 rounded w-1/2 ${
                  isDark ? 'bg-gray-700' : 'bg-gray-200'
                }`}></div>
                <div className="space-y-2">
                  {[1, 2, 3, 4].map((i) => (
                    <div key={i} className="flex items-center space-x-3">
                      <div className={`w-2 h-2 rounded-full ${
                        isDark ? 'bg-gray-600' : 'bg-gray-200'
                      }`}></div>
                      <div className={`h-4 rounded flex-1 ${
                        isDark ? 'bg-gray-700' : 'bg-gray-200'
                      }`}></div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </div>
        ) : (
          <TiptapEditor
            content={displayContent}
            onChange={handleContentChange}
            placeholder="Enter slide content with two columns..."
            className={`w-full ${
              isDark ? '[&_.ProseMirror]:text-gray-300 [&_.ProseMirror_h1]:text-white [&_.ProseMirror_h2]:text-white [&_.ProseMirror_h3]:text-white' : ''
            }`}
            editable={isEditable}
          />
        )}
      </div>
    </SlideWrapper>
  );
}
```

# components/slides/basic/TwoColumnWithHeadings.tsx

```tsx
'use client';

import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from '../SlideRenderer';
import { SlideWrapper } from '../SlideWrapper';

interface TwoColumnWithHeadingsProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  theme?: 'light' | 'dark';
}

export function TwoColumnWithHeadings({ 
  content,
  isGenerating, 
  onUpdate, 
  isEditable = false,
  theme = 'light'
}: TwoColumnWithHeadingsProps) {

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ TwoColumnWithHeadings - Content being saved:', newContent);
      onUpdate({ content: newContent });
    }
  };

  const defaultContent = `<h1>Comparison or Two-Part Topic</h1>

<table style="width: 100%; border-collapse: collapse; margin-top: 2rem;">
  <tr>
    <td style="width: 50%; padding: 0 1.5rem 0 0; vertical-align: top;">
      <h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Left Section Heading</h2>
      <ul>
        <li>First point in left section</li>
        <li>Second important detail</li>
        <li>Third supporting argument</li>
        <li>Fourth key consideration</li>
      </ul>
    </td>
    <td style="width: 50%; padding: 0 0 0 1.5rem; vertical-align: top;">
      <h2 style="color: #8b5cf6; border-bottom: 2px solid #8b5cf6; padding-bottom: 0.5rem; margin-bottom: 1rem;">Right Section Heading</h2>
      <ul>
        <li>First point in right section</li>
        <li>Second important detail</li>
        <li>Third supporting argument</li>
        <li>Fourth key consideration</li>
      </ul>
    </td>
  </tr>
</table>`;

  const displayContent = content || defaultContent;
  const isDark = theme === 'dark';

  return (
    <SlideWrapper>
      <div className="flex-1">
        {isGenerating ? (
          <div className="animate-pulse space-y-8">
            <div className={`h-12 rounded w-2/3 mx-auto ${
              isDark ? 'bg-gray-700' : 'bg-gray-200'
            }`}></div>
            <div className="grid grid-cols-2 gap-12">
              <div className="space-y-4">
                <div className={`h-8 rounded w-3/4 ${
                  isDark ? 'bg-gray-700' : 'bg-gray-200'
                }`}></div>
                <div className="space-y-2">
                  {[1, 2, 3, 4].map((i) => (
                    <div key={i} className="flex items-center space-x-3">
                      <div className={`w-2 h-2 rounded-full ${
                        isDark ? 'bg-gray-600' : 'bg-gray-200'
                      }`}></div>
                      <div className={`h-4 rounded flex-1 ${
                        isDark ? 'bg-gray-700' : 'bg-gray-200'
                      }`}></div>
                    </div>
                  ))}
                </div>
              </div>
              <div className="space-y-4">
                <div className={`h-8 rounded w-3/4 ${
                  isDark ? 'bg-gray-700' : 'bg-gray-200'
                }`}></div>
                <div className="space-y-2">
                  {[1, 2, 3, 4].map((i) => (
                    <div key={i} className="flex items-center space-x-3">
                      <div className={`w-2 h-2 rounded-full ${
                        isDark ? 'bg-gray-600' : 'bg-gray-200'
                      }`}></div>
                      <div className={`h-4 rounded flex-1 ${
                        isDark ? 'bg-gray-700' : 'bg-gray-200'
                      }`}></div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </div>
        ) : (
          <TiptapEditor
            content={displayContent}
            onChange={handleContentChange}
            placeholder="Enter slide content with two columns and headings..."
            className={`w-full ${
              isDark ? '[&_.ProseMirror]:text-gray-300 [&_.ProseMirror_h1]:text-white [&_.ProseMirror_h2]:text-white [&_.ProseMirror_h3]:text-white' : ''
            }`}
            editable={isEditable}
          />
        )}
      </div>
    </SlideWrapper>
  );
}
```

# components/slides/BlankCard.tsx

```tsx
'use client';

import { TiptapEditor } from '@/components/editor/TiptapEditor';
import { SlideData } from './SlideRenderer';
import { SlideWrapper } from './SlideWrapper';

interface BlankCardProps extends SlideData {
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
  theme?: 'light' | 'dark';
}

export function BlankCard({ 
  title, 
  content, 
  isGenerating, 
  onUpdate, 
  isEditable = false,
  theme = 'light'
}: BlankCardProps) {

  const handleContentChange = (newContent: string) => {
    if (onUpdate) {
      console.log('ğŸ’¾ BlankCard - Complete content being saved:', newContent);
      // UNIFIED: Save complete HTML content (title + body)
      onUpdate({ content: newContent });
    }
  };

  const isDark = theme === 'dark';

  // Default content if none provided (with legacy support)
  const getDefaultContent = () => {
    if (content && content.includes('<')) {
      return content;
    }
    
    // Legacy fallback: combine title and content into HTML
    const displayTitle = title || 'Slide Title';
    const displayContent = content || 'Add your content here...';
    
    return `<h1>${displayTitle}</h1><p>${displayContent}</p>`;
  };
  
  return (
    <SlideWrapper className="items-center justify-center">
      {isGenerating ? (
        <div className="animate-pulse space-y-6 w-full max-w-4xl">
          <div className={`h-12 rounded w-3/4 mx-auto ${
            isDark ? 'bg-gray-700' : 'bg-gray-200'
          }`}></div>
          <div className={`h-6 rounded w-1/2 mx-auto ${
            isDark ? 'bg-gray-700' : 'bg-gray-200'
          }`}></div>
        </div>
              ) : (
          <div className="text-center w-full max-w-4xl">
            <TiptapEditor
              content={getDefaultContent()}
              onChange={handleContentChange}
              placeholder="# Enter slide title

Add your content here..."
              variant="default"
              editable={isEditable}
              className={`w-full text-center ${isDark ? 'text-white' : 'text-gray-900'}`}
            />
          </div>
      )}
    </SlideWrapper>
  );
}
```

# components/slides/SlideRenderer.tsx

```tsx
'use client';

import { BlankCard } from './BlankCard';
import { ImageAndText } from './basic/ImageAndText';
import { TextAndImage } from './basic/TextAndImage';
import { TwoColumns } from './basic/TwoColumns';
import { TwoColumnWithHeadings } from './basic/TwoColumnWithHeadings';
import { ThreeColumns } from './basic/ThreeColumns';
import { ThreeColumnWithHeadings } from './basic/ThreeColumnWithHeadings';
import { FourColumns } from './basic/FourColumns';
import { FourColumnsWithHeadings } from './basic/FourColumnsWithHeadings';
import { TitleWithBullets } from './basic/TitleWithBullets';
import { TitleWithBulletsAndImage } from './basic/TitleWithBulletsAndImage';
import { TitleWithText } from './basic/TitleWithText';
import { Bullets } from './basic/Bullets';
import { Paragraph } from './basic/Paragraph';
import { AccentLeft } from './basic/AccentLeft';
import { AccentRight } from './basic/AccentRight';
import { AccentTop } from './basic/AccentTop';
import { AccentBackground } from './basic/AccentBackground';

export interface SlideData {
  id: string;
  templateType: string;
  title?: string;
  content?: string;
  bulletPoints?: string[];
  leftContent?: string;
  rightContent?: string;
  centerContent?: string;
  leftHeading?: string;
  rightHeading?: string;
  centerHeading?: string;
  column1Content?: string;
  column2Content?: string;
  column3Content?: string;
  column4Content?: string;
  imageUrl?: string;
  imagePrompt?: string;
  isGenerating?: boolean;
  isGeneratingImage?: boolean;
  // New properties for Bullets template
  bullets?: Array<{
    title: string;
    description: string;
  }>;
  conclusion?: string;
  // New properties for Paragraph template
  sections?: Array<{
    heading: string;
    paragraphs: string[];
  }>;
  // New properties for column templates with bullets
  leftBullets?: string[];
  rightBullets?: string[];
  centerBullets?: string[];
  column1Bullets?: string[];
  column2Bullets?: string[];
  column3Bullets?: string[];
  column4Bullets?: string[];
  // Column headings for multi-column templates
  column1Heading?: string;
  column2Heading?: string;
  column3Heading?: string;
  column4Heading?: string;
}

interface SlideRendererProps {
  slide: SlideData;
  onUpdate?: (updates: Partial<SlideData>) => void;
  isEditable?: boolean;
}

export function SlideRenderer({ slide, onUpdate, isEditable = false }: SlideRendererProps) {
  const { templateType } = slide;

  const commonProps = {
    ...slide,
    onUpdate,
    isEditable,
  };

  switch (templateType) {
    case 'blank-card':
      return <BlankCard {...commonProps} />;
    
    case 'image-and-text':
      return <ImageAndText {...commonProps} />;
    
    case 'text-and-image':
      return <TextAndImage {...commonProps} />;
    
    case 'two-columns':
      return <TwoColumns {...commonProps} />;
    
    case 'two-column-with-headings':
      return <TwoColumnWithHeadings {...commonProps} />;
    
    case 'three-columns':
      return <ThreeColumns {...commonProps} />;
    
    case 'three-column-with-headings':
      return <ThreeColumnWithHeadings {...commonProps} />;
    
    case 'four-columns':
      return <FourColumns {...commonProps} />;
    
    case 'four-columns-with-headings':
      return <FourColumnsWithHeadings {...commonProps} />;
    
    case 'title-with-bullets':
      return <TitleWithBullets {...commonProps} />;
    
    case 'title-with-bullets-and-image':
      return <TitleWithBulletsAndImage {...commonProps} />;
    
    case 'title-with-text':
      return <TitleWithText {...commonProps} />;
    
    case 'bullets':
      return <Bullets {...commonProps} />;
    
    case 'paragraph':
      return <Paragraph {...commonProps} />;
    
    case 'accent-left':
      return <AccentLeft {...commonProps} />;
    
    case 'accent-right':
      return <AccentRight {...commonProps} />;
    
    case 'accent-top':
      return <AccentTop {...commonProps} />;
    
    case 'accent-background':
      return <AccentBackground {...commonProps} />;
    
    default:
      return <BlankCard {...commonProps} />;
  }
}
```

# components/slides/SlideWrapper.tsx

```tsx
'use client';

import React, { ReactNode } from 'react';
import { useTheme } from '@/contexts/ThemeContext';

interface SlideWrapperProps {
  children: ReactNode;
  className?: string;
  layout?: 'default' | 'horizontal' | 'vertical';
  minHeight?: string;
}

export function SlideWrapper({ 
  children, 
  className = '', 
  layout = 'default',
  minHeight = 'min-h-[500px]'
}: SlideWrapperProps) {
  const { currentTheme } = useTheme();
  
  // Determine if we should use dark styling based on theme
  const isDarkTheme = currentTheme.category === 'solid' && 
    (currentTheme.id.includes('midnight') || currentTheme.id.includes('ruby') || currentTheme.id.includes('emerald'));
  
  // Base styling that applies to all slides
  const baseClasses = `
    w-full ${minHeight} rounded-lg shadow-2xl border transition-all duration-300 hover:shadow-3xl
    backdrop-blur-md hover:backdrop-blur-lg
    ${isDarkTheme 
      ? 'bg-black/15 border-white/30 shadow-black/25 hover:bg-black/20' 
      : 'bg-white/60 border-white/50 shadow-black/15 hover:bg-white/70'
    }
  `.trim();
  
  // Layout-specific classes
  const layoutClasses = {
    default: 'flex flex-col p-8',
    horizontal: 'flex p-8 gap-8',
    vertical: 'flex flex-col p-8'
  };
  
  const finalClasses = `${baseClasses} ${layoutClasses[layout]} ${className}`;
  
  return (
    <div className={finalClasses}>
      {children}
    </div>
  );
} 
```

# components/ui/accordion.tsx

```tsx
'use client';

import * as React from 'react';
import * as AccordionPrimitive from '@radix-ui/react-accordion';
import { ChevronDown } from 'lucide-react';

import { cn } from '@/lib/utils';

const Accordion = AccordionPrimitive.Root;

const AccordionItem = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>
>(({ className, ...props }, ref) => (
  <AccordionPrimitive.Item
    ref={ref}
    className={cn('border-b', className)}
    {...props}
  />
));
AccordionItem.displayName = 'AccordionItem';

const AccordionTrigger = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Header className="flex">
    <AccordionPrimitive.Trigger
      ref={ref}
      className={cn(
        'flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180',
        className
      )}
      {...props}
    >
      {children}
      <ChevronDown className="h-4 w-4 shrink-0 transition-transform duration-200" />
    </AccordionPrimitive.Trigger>
  </AccordionPrimitive.Header>
));
AccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName;

const AccordionContent = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Content
    ref={ref}
    className="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"
    {...props}
  >
    <div className={cn('pb-4 pt-0', className)}>{children}</div>
  </AccordionPrimitive.Content>
));

AccordionContent.displayName = AccordionPrimitive.Content.displayName;

export { Accordion, AccordionItem, AccordionTrigger, AccordionContent };

```

# components/ui/ai-generation-modal.tsx

```tsx
'use client';

import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { X, Loader2, Sparkles } from 'lucide-react';

interface AIGenerationModalProps {
  isOpen: boolean;
  onClose: () => void;
  onGenerate: (prompt: string, templateType: string) => void;
  isGenerating?: boolean;
}

const templates = [
  { id: 'magic', name: 'Magic', icon: 'âœ¨' },
  { id: 'title-with-bullets', name: 'Title + Bullets', icon: 'ğŸ“' },
  { id: 'two-columns', name: 'Two Columns', icon: 'ğŸ“Š' },
  { id: 'image-and-text', name: 'Image + Text', icon: 'ğŸ–¼ï¸' },
  { id: 'bullets', name: 'Bullets', icon: 'â€¢ â€¢ â€¢' },
  { id: 'three-columns', name: 'Three Columns', icon: '|||' }
];

export function AIGenerationModal({ isOpen, onClose, onGenerate, isGenerating = false }: AIGenerationModalProps) {
  const [prompt, setPrompt] = useState('');
  const [selectedTemplate, setSelectedTemplate] = useState('magic');

  if (!isOpen) return null;

  const handleGenerate = () => {
    if (prompt.trim()) {
      onGenerate(prompt.trim(), selectedTemplate);
    }
  };

  const handleClose = () => {
    if (!isGenerating) {
      setPrompt('');
      setSelectedTemplate('magic');
      onClose();
    }
  };

  return (
    <div className="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
      <div className="bg-white/15 backdrop-blur-md border border-white/20 rounded-xl shadow-2xl max-w-2xl w-full overflow-hidden">
        {/* Header */}
        <div className="p-6 border-b border-white/20">
          <div className="flex items-center justify-between">
            <div className="flex items-center gap-3">
              <div className="w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center">
                <Sparkles className="w-4 h-4 text-blue-400" />
              </div>
              <div>
                <h2 className="text-xl font-semibold text-white">Generate card</h2>
                <div className="flex items-center gap-2 mt-1">
                  <span className="text-sm text-white/70">ğŸ’° 290 credits</span>
                  <span className="text-sm text-white/70">ğŸŒ English (US)</span>
                </div>
              </div>
            </div>
            {!isGenerating && (
              <Button
                variant="ghost"
                size="sm"
                onClick={handleClose}
                className="text-white/70 hover:text-white hover:bg-white/10"
              >
                <X className="w-4 h-4" />
              </Button>
            )}
          </div>
        </div>

        {/* Content */}
        <div className="p-6 space-y-6">
          {/* Prompt Input */}
          <div>
            <div className="relative">
              <input
                type="text"
                value={prompt}
                onChange={(e) => setPrompt(e.target.value)}
                placeholder="Enter your topic or idea..."
                disabled={isGenerating}
                className="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 disabled:opacity-50"
                onKeyDown={(e) => {
                  if (e.key === 'Enter' && !isGenerating) {
                    handleGenerate();
                  }
                }}
              />
              <div className="absolute right-3 top-1/2 transform -translate-y-1/2 text-white/40 text-sm">
                5 âš¡
              </div>
            </div>
          </div>

          {/* Template Selection */}
          <div>
            <h3 className="text-sm font-medium text-white mb-3">Choose a template</h3>
            <div className="grid grid-cols-3 gap-3">
              {templates.map((template) => (
                <button
                  key={template.id}
                  onClick={() => !isGenerating && setSelectedTemplate(template.id)}
                  disabled={isGenerating}
                  className={`p-4 rounded-lg border transition-all duration-200 text-left disabled:opacity-50 ${
                    selectedTemplate === template.id
                      ? 'border-blue-500/50 bg-blue-500/10'
                      : 'border-white/20 hover:border-white/40 hover:bg-white/10'
                  }`}
                >
                  {/* Template Preview */}
                  <div className={`w-full h-16 rounded-md mb-3 flex items-center justify-center text-2xl ${
                    selectedTemplate === template.id ? 'bg-blue-500/20' : 'bg-white/10'
                  }`}>
                    {template.icon}
                  </div>
                  
                  {/* Template Name */}
                  <div className="text-xs font-medium text-white">
                    {template.name}
                  </div>
                </button>
              ))}
            </div>
          </div>

          {/* Generate Button */}
          <Button
            onClick={handleGenerate}
            disabled={!prompt.trim() || isGenerating}
            className="w-full bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed py-3"
          >
            {isGenerating ? (
              <>
                <Loader2 className="w-4 h-4 mr-2 animate-spin" />
                Generating slide...
              </>
            ) : (
              <>
                <Sparkles className="w-4 h-4 mr-2" />
                Generate slide
              </>
            )}
          </Button>
        </div>
      </div>
    </div>
  );
} 
```

# components/ui/alert-dialog.tsx

```tsx
'use client';

import * as React from 'react';
import * as AlertDialogPrimitive from '@radix-ui/react-alert-dialog';

import { cn } from '@/lib/utils';
import { buttonVariants } from '@/components/ui/button';

const AlertDialog = AlertDialogPrimitive.Root;

const AlertDialogTrigger = AlertDialogPrimitive.Trigger;

const AlertDialogPortal = AlertDialogPrimitive.Portal;

const AlertDialogOverlay = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Overlay
    className={cn(
      'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',
      className
    )}
    {...props}
    ref={ref}
  />
));
AlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName;

const AlertDialogContent = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>
>(({ className, ...props }, ref) => (
  <AlertDialogPortal>
    <AlertDialogOverlay />
    <AlertDialogPrimitive.Content
      ref={ref}
      className={cn(
        'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',
        className
      )}
      {...props}
    />
  </AlertDialogPortal>
));
AlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName;

const AlertDialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      'flex flex-col space-y-2 text-center sm:text-left',
      className
    )}
    {...props}
  />
);
AlertDialogHeader.displayName = 'AlertDialogHeader';

const AlertDialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',
      className
    )}
    {...props}
  />
);
AlertDialogFooter.displayName = 'AlertDialogFooter';

const AlertDialogTitle = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Title
    ref={ref}
    className={cn('text-lg font-semibold', className)}
    {...props}
  />
));
AlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName;

const AlertDialogDescription = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Description
    ref={ref}
    className={cn('text-sm text-muted-foreground', className)}
    {...props}
  />
));
AlertDialogDescription.displayName =
  AlertDialogPrimitive.Description.displayName;

const AlertDialogAction = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Action>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Action
    ref={ref}
    className={cn(buttonVariants(), className)}
    {...props}
  />
));
AlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName;

const AlertDialogCancel = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Cancel
    ref={ref}
    className={cn(
      buttonVariants({ variant: 'outline' }),
      'mt-2 sm:mt-0',
      className
    )}
    {...props}
  />
));
AlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName;

export {
  AlertDialog,
  AlertDialogPortal,
  AlertDialogOverlay,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogFooter,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogAction,
  AlertDialogCancel,
};

```

# components/ui/alert.tsx

```tsx
import * as React from 'react';
import { cva, type VariantProps } from 'class-variance-authority';

import { cn } from '@/lib/utils';

const alertVariants = cva(
  'relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground',
  {
    variants: {
      variant: {
        default: 'bg-background text-foreground',
        destructive:
          'border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive',
      },
    },
    defaultVariants: {
      variant: 'default',
    },
  }
);

const Alert = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>
>(({ className, variant, ...props }, ref) => (
  <div
    ref={ref}
    role="alert"
    className={cn(alertVariants({ variant }), className)}
    {...props}
  />
));
Alert.displayName = 'Alert';

const AlertTitle = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLHeadingElement>
>(({ className, ...props }, ref) => (
  <h5
    ref={ref}
    className={cn('mb-1 font-medium leading-none tracking-tight', className)}
    {...props}
  />
));
AlertTitle.displayName = 'AlertTitle';

const AlertDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn('text-sm [&_p]:leading-relaxed', className)}
    {...props}
  />
));
AlertDescription.displayName = 'AlertDescription';

export { Alert, AlertTitle, AlertDescription };

```

# components/ui/aspect-ratio.tsx

```tsx
'use client';

import * as AspectRatioPrimitive from '@radix-ui/react-aspect-ratio';

const AspectRatio = AspectRatioPrimitive.Root;

export { AspectRatio };

```

# components/ui/avatar.tsx

```tsx
'use client';

import * as React from 'react';
import * as AvatarPrimitive from '@radix-ui/react-avatar';

import { cn } from '@/lib/utils';

const Avatar = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Root
    ref={ref}
    className={cn(
      'relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full',
      className
    )}
    {...props}
  />
));
Avatar.displayName = AvatarPrimitive.Root.displayName;

const AvatarImage = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Image>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Image
    ref={ref}
    className={cn('aspect-square h-full w-full', className)}
    {...props}
  />
));
AvatarImage.displayName = AvatarPrimitive.Image.displayName;

const AvatarFallback = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Fallback>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Fallback
    ref={ref}
    className={cn(
      'flex h-full w-full items-center justify-center rounded-full bg-muted',
      className
    )}
    {...props}
  />
));
AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;

export { Avatar, AvatarImage, AvatarFallback };

```

# components/ui/badge.tsx

```tsx
import * as React from 'react';
import { cva, type VariantProps } from 'class-variance-authority';

import { cn } from '@/lib/utils';

const badgeVariants = cva(
  'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',
  {
    variants: {
      variant: {
        default:
          'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',
        secondary:
          'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',
        destructive:
          'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',
        outline: 'text-foreground',
      },
    },
    defaultVariants: {
      variant: 'default',
    },
  }
);

export interface BadgeProps
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof badgeVariants> {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return (
    <div className={cn(badgeVariants({ variant }), className)} {...props} />
  );
}

export { Badge, badgeVariants };

```

# components/ui/breadcrumb.tsx

```tsx
import * as React from 'react';
import { Slot } from '@radix-ui/react-slot';
import { ChevronRight, MoreHorizontal } from 'lucide-react';

import { cn } from '@/lib/utils';

const Breadcrumb = React.forwardRef<
  HTMLElement,
  React.ComponentPropsWithoutRef<'nav'> & {
    separator?: React.ReactNode;
  }
>(({ ...props }, ref) => <nav ref={ref} aria-label="breadcrumb" {...props} />);
Breadcrumb.displayName = 'Breadcrumb';

const BreadcrumbList = React.forwardRef<
  HTMLOListElement,
  React.ComponentPropsWithoutRef<'ol'>
>(({ className, ...props }, ref) => (
  <ol
    ref={ref}
    className={cn(
      'flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5',
      className
    )}
    {...props}
  />
));
BreadcrumbList.displayName = 'BreadcrumbList';

const BreadcrumbItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentPropsWithoutRef<'li'>
>(({ className, ...props }, ref) => (
  <li
    ref={ref}
    className={cn('inline-flex items-center gap-1.5', className)}
    {...props}
  />
));
BreadcrumbItem.displayName = 'BreadcrumbItem';

const BreadcrumbLink = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentPropsWithoutRef<'a'> & {
    asChild?: boolean;
  }
>(({ asChild, className, ...props }, ref) => {
  const Comp = asChild ? Slot : 'a';

  return (
    <Comp
      ref={ref}
      className={cn('transition-colors hover:text-foreground', className)}
      {...props}
    />
  );
});
BreadcrumbLink.displayName = 'BreadcrumbLink';

const BreadcrumbPage = React.forwardRef<
  HTMLSpanElement,
  React.ComponentPropsWithoutRef<'span'>
>(({ className, ...props }, ref) => (
  <span
    ref={ref}
    role="link"
    aria-disabled="true"
    aria-current="page"
    className={cn('font-normal text-foreground', className)}
    {...props}
  />
));
BreadcrumbPage.displayName = 'BreadcrumbPage';

const BreadcrumbSeparator = ({
  children,
  className,
  ...props
}: React.ComponentProps<'li'>) => (
  <li
    role="presentation"
    aria-hidden="true"
    className={cn('[&>svg]:size-3.5', className)}
    {...props}
  >
    {children ?? <ChevronRight />}
  </li>
);
BreadcrumbSeparator.displayName = 'BreadcrumbSeparator';

const BreadcrumbEllipsis = ({
  className,
  ...props
}: React.ComponentProps<'span'>) => (
  <span
    role="presentation"
    aria-hidden="true"
    className={cn('flex h-9 w-9 items-center justify-center', className)}
    {...props}
  >
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More</span>
  </span>
);
BreadcrumbEllipsis.displayName = 'BreadcrumbElipssis';

export {
  Breadcrumb,
  BreadcrumbList,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbPage,
  BreadcrumbSeparator,
  BreadcrumbEllipsis,
};

```

# components/ui/button.tsx

```tsx
import * as React from 'react';
import { Slot } from '@radix-ui/react-slot';
import { cva, type VariantProps } from 'class-variance-authority';

import { cn } from '@/lib/utils';

const buttonVariants = cva(
  'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',
  {
    variants: {
      variant: {
        default: 'bg-primary text-primary-foreground hover:bg-primary/90',
        destructive:
          'bg-destructive text-destructive-foreground hover:bg-destructive/90',
        outline:
          'border border-input bg-background hover:bg-accent hover:text-accent-foreground',
        secondary:
          'bg-secondary text-secondary-foreground hover:bg-secondary/80',
        ghost: 'hover:bg-accent hover:text-accent-foreground',
        link: 'text-primary underline-offset-4 hover:underline',
      },
      size: {
        default: 'h-10 px-4 py-2',
        sm: 'h-9 rounded-md px-3',
        lg: 'h-11 rounded-md px-8',
        icon: 'h-10 w-10',
      },
    },
    defaultVariants: {
      variant: 'default',
      size: 'default',
    },
  }
);

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean;
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : 'button';
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    );
  }
);
Button.displayName = 'Button';

export { Button, buttonVariants };

```

# components/ui/calendar.tsx

```tsx
'use client';

import * as React from 'react';
import { ChevronLeft, ChevronRight } from 'lucide-react';
import { DayPicker } from 'react-day-picker';

import { cn } from '@/lib/utils';
import { buttonVariants } from '@/components/ui/button';

export type CalendarProps = React.ComponentProps<typeof DayPicker>;

function Calendar({
  className,
  classNames,
  showOutsideDays = true,
  ...props
}: CalendarProps) {
  return (
    <DayPicker
      showOutsideDays={showOutsideDays}
      className={cn('p-3', className)}
      classNames={{
        months: 'flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0',
        month: 'space-y-4',
        caption: 'flex justify-center pt-1 relative items-center',
        caption_label: 'text-sm font-medium',
        nav: 'space-x-1 flex items-center',
        nav_button: cn(
          buttonVariants({ variant: 'outline' }),
          'h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100'
        ),
        nav_button_previous: 'absolute left-1',
        nav_button_next: 'absolute right-1',
        table: 'w-full border-collapse space-y-1',
        head_row: 'flex',
        head_cell:
          'text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]',
        row: 'flex w-full mt-2',
        cell: 'h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20',
        day: cn(
          buttonVariants({ variant: 'ghost' }),
          'h-9 w-9 p-0 font-normal aria-selected:opacity-100'
        ),
        day_range_end: 'day-range-end',
        day_selected:
          'bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground',
        day_today: 'bg-accent text-accent-foreground',
        day_outside:
          'day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30',
        day_disabled: 'text-muted-foreground opacity-50',
        day_range_middle:
          'aria-selected:bg-accent aria-selected:text-accent-foreground',
        day_hidden: 'invisible',
        ...classNames,
      }}
      components={{
        IconLeft: ({ ...props }) => <ChevronLeft className="h-4 w-4" />,
        IconRight: ({ ...props }) => <ChevronRight className="h-4 w-4" />,
      }}
      {...props}
    />
  );
}
Calendar.displayName = 'Calendar';

export { Calendar };

```

# components/ui/card.tsx

```tsx
import * as React from 'react';

import { cn } from '@/lib/utils';

const Card = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      'rounded-lg border bg-card text-card-foreground shadow-sm',
      className
    )}
    {...props}
  />
));
Card.displayName = 'Card';

const CardHeader = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn('flex flex-col space-y-1.5 p-6', className)}
    {...props}
  />
));
CardHeader.displayName = 'CardHeader';

const CardTitle = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLHeadingElement>
>(({ className, ...props }, ref) => (
  <h3
    ref={ref}
    className={cn(
      'text-2xl font-semibold leading-none tracking-tight',
      className
    )}
    {...props}
  />
));
CardTitle.displayName = 'CardTitle';

const CardDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => (
  <p
    ref={ref}
    className={cn('text-sm text-muted-foreground', className)}
    {...props}
  />
));
CardDescription.displayName = 'CardDescription';

const CardContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />
));
CardContent.displayName = 'CardContent';

const CardFooter = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn('flex items-center p-6 pt-0', className)}
    {...props}
  />
));
CardFooter.displayName = 'CardFooter';

export {
  Card,
  CardHeader,
  CardFooter,
  CardTitle,
  CardDescription,
  CardContent,
};

```

# components/ui/carousel.tsx

```tsx
'use client';

import * as React from 'react';
import useEmblaCarousel, {
  type UseEmblaCarouselType,
} from 'embla-carousel-react';
import { ArrowLeft, ArrowRight } from 'lucide-react';

import { cn } from '@/lib/utils';
import { Button } from '@/components/ui/button';

type CarouselApi = UseEmblaCarouselType[1];
type UseCarouselParameters = Parameters<typeof useEmblaCarousel>;
type CarouselOptions = UseCarouselParameters[0];
type CarouselPlugin = UseCarouselParameters[1];

type CarouselProps = {
  opts?: CarouselOptions;
  plugins?: CarouselPlugin;
  orientation?: 'horizontal' | 'vertical';
  setApi?: (api: CarouselApi) => void;
};

type CarouselContextProps = {
  carouselRef: ReturnType<typeof useEmblaCarousel>[0];
  api: ReturnType<typeof useEmblaCarousel>[1];
  scrollPrev: () => void;
  scrollNext: () => void;
  canScrollPrev: boolean;
  canScrollNext: boolean;
} & CarouselProps;

const CarouselContext = React.createContext<CarouselContextProps | null>(null);

function useCarousel() {
  const context = React.useContext(CarouselContext);

  if (!context) {
    throw new Error('useCarousel must be used within a <Carousel />');
  }

  return context;
}

const Carousel = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & CarouselProps
>(
  (
    {
      orientation = 'horizontal',
      opts,
      setApi,
      plugins,
      className,
      children,
      ...props
    },
    ref
  ) => {
    const [carouselRef, api] = useEmblaCarousel(
      {
        ...opts,
        axis: orientation === 'horizontal' ? 'x' : 'y',
      },
      plugins
    );
    const [canScrollPrev, setCanScrollPrev] = React.useState(false);
    const [canScrollNext, setCanScrollNext] = React.useState(false);

    const onSelect = React.useCallback((api: CarouselApi) => {
      if (!api) {
        return;
      }

      setCanScrollPrev(api.canScrollPrev());
      setCanScrollNext(api.canScrollNext());
    }, []);

    const scrollPrev = React.useCallback(() => {
      api?.scrollPrev();
    }, [api]);

    const scrollNext = React.useCallback(() => {
      api?.scrollNext();
    }, [api]);

    const handleKeyDown = React.useCallback(
      (event: React.KeyboardEvent<HTMLDivElement>) => {
        if (event.key === 'ArrowLeft') {
          event.preventDefault();
          scrollPrev();
        } else if (event.key === 'ArrowRight') {
          event.preventDefault();
          scrollNext();
        }
      },
      [scrollPrev, scrollNext]
    );

    React.useEffect(() => {
      if (!api || !setApi) {
        return;
      }

      setApi(api);
    }, [api, setApi]);

    React.useEffect(() => {
      if (!api) {
        return;
      }

      onSelect(api);
      api.on('reInit', onSelect);
      api.on('select', onSelect);

      return () => {
        api?.off('select', onSelect);
      };
    }, [api, onSelect]);

    return (
      <CarouselContext.Provider
        value={{
          carouselRef,
          api: api,
          opts,
          orientation:
            orientation || (opts?.axis === 'y' ? 'vertical' : 'horizontal'),
          scrollPrev,
          scrollNext,
          canScrollPrev,
          canScrollNext,
        }}
      >
        <div
          ref={ref}
          onKeyDownCapture={handleKeyDown}
          className={cn('relative', className)}
          role="region"
          aria-roledescription="carousel"
          {...props}
        >
          {children}
        </div>
      </CarouselContext.Provider>
    );
  }
);
Carousel.displayName = 'Carousel';

const CarouselContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const { carouselRef, orientation } = useCarousel();

  return (
    <div ref={carouselRef} className="overflow-hidden">
      <div
        ref={ref}
        className={cn(
          'flex',
          orientation === 'horizontal' ? '-ml-4' : '-mt-4 flex-col',
          className
        )}
        {...props}
      />
    </div>
  );
});
CarouselContent.displayName = 'CarouselContent';

const CarouselItem = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const { orientation } = useCarousel();

  return (
    <div
      ref={ref}
      role="group"
      aria-roledescription="slide"
      className={cn(
        'min-w-0 shrink-0 grow-0 basis-full',
        orientation === 'horizontal' ? 'pl-4' : 'pt-4',
        className
      )}
      {...props}
    />
  );
});
CarouselItem.displayName = 'CarouselItem';

const CarouselPrevious = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<typeof Button>
>(({ className, variant = 'outline', size = 'icon', ...props }, ref) => {
  const { orientation, scrollPrev, canScrollPrev } = useCarousel();

  return (
    <Button
      ref={ref}
      variant={variant}
      size={size}
      className={cn(
        'absolute  h-8 w-8 rounded-full',
        orientation === 'horizontal'
          ? '-left-12 top-1/2 -translate-y-1/2'
          : '-top-12 left-1/2 -translate-x-1/2 rotate-90',
        className
      )}
      disabled={!canScrollPrev}
      onClick={scrollPrev}
      {...props}
    >
      <ArrowLeft className="h-4 w-4" />
      <span className="sr-only">Previous slide</span>
    </Button>
  );
});
CarouselPrevious.displayName = 'CarouselPrevious';

const CarouselNext = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<typeof Button>
>(({ className, variant = 'outline', size = 'icon', ...props }, ref) => {
  const { orientation, scrollNext, canScrollNext } = useCarousel();

  return (
    <Button
      ref={ref}
      variant={variant}
      size={size}
      className={cn(
        'absolute h-8 w-8 rounded-full',
        orientation === 'horizontal'
          ? '-right-12 top-1/2 -translate-y-1/2'
          : '-bottom-12 left-1/2 -translate-x-1/2 rotate-90',
        className
      )}
      disabled={!canScrollNext}
      onClick={scrollNext}
      {...props}
    >
      <ArrowRight className="h-4 w-4" />
      <span className="sr-only">Next slide</span>
    </Button>
  );
});
CarouselNext.displayName = 'CarouselNext';

export {
  type CarouselApi,
  Carousel,
  CarouselContent,
  CarouselItem,
  CarouselPrevious,
  CarouselNext,
};

```

# components/ui/chart.tsx

```tsx
'use client';

import * as React from 'react';
import * as RechartsPrimitive from 'recharts';

import { cn } from '@/lib/utils';

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: '', dark: '.dark' } as const;

export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode;
    icon?: React.ComponentType;
  } & (
    | { color?: string; theme?: never }
    | { color?: never; theme: Record<keyof typeof THEMES, string> }
  );
};

type ChartContextProps = {
  config: ChartConfig;
};

const ChartContext = React.createContext<ChartContextProps | null>(null);

function useChart() {
  const context = React.useContext(ChartContext);

  if (!context) {
    throw new Error('useChart must be used within a <ChartContainer />');
  }

  return context;
}

const ChartContainer = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<'div'> & {
    config: ChartConfig;
    children: React.ComponentProps<
      typeof RechartsPrimitive.ResponsiveContainer
    >['children'];
  }
>(({ id, className, children, config, ...props }, ref) => {
  const uniqueId = React.useId();
  const chartId = `chart-${id || uniqueId.replace(/:/g, '')}`;

  return (
    <ChartContext.Provider value={{ config }}>
      <div
        data-chart={chartId}
        ref={ref}
        className={cn(
          "flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",
          className
        )}
        {...props}
      >
        <ChartStyle id={chartId} config={config} />
        <RechartsPrimitive.ResponsiveContainer>
          {children}
        </RechartsPrimitive.ResponsiveContainer>
      </div>
    </ChartContext.Provider>
  );
});
ChartContainer.displayName = 'Chart';

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
  const colorConfig = Object.entries(config).filter(
    ([_, config]) => config.theme || config.color
  );

  if (!colorConfig.length) {
    return null;
  }

  return (
    <style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) => {
    const color =
      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
      itemConfig.color;
    return color ? `  --color-${key}: ${color};` : null;
  })
  .join('\n')}
}
`
          )
          .join('\n'),
      }}
    />
  );
};

const ChartTooltip = RechartsPrimitive.Tooltip;

const ChartTooltipContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
    React.ComponentProps<'div'> & {
      hideLabel?: boolean;
      hideIndicator?: boolean;
      indicator?: 'line' | 'dot' | 'dashed';
      nameKey?: string;
      labelKey?: string;
    }
>(
  (
    {
      active,
      payload,
      className,
      indicator = 'dot',
      hideLabel = false,
      hideIndicator = false,
      label,
      labelFormatter,
      labelClassName,
      formatter,
      color,
      nameKey,
      labelKey,
    },
    ref
  ) => {
    const { config } = useChart();

    const tooltipLabel = React.useMemo(() => {
      if (hideLabel || !payload?.length) {
        return null;
      }

      const [item] = payload;
      const key = `${labelKey || item.dataKey || item.name || 'value'}`;
      const itemConfig = getPayloadConfigFromPayload(config, item, key);
      const value =
        !labelKey && typeof label === 'string'
          ? config[label as keyof typeof config]?.label || label
          : itemConfig?.label;

      if (labelFormatter) {
        return (
          <div className={cn('font-medium', labelClassName)}>
            {labelFormatter(value, payload)}
          </div>
        );
      }

      if (!value) {
        return null;
      }

      return <div className={cn('font-medium', labelClassName)}>{value}</div>;
    }, [
      label,
      labelFormatter,
      payload,
      hideLabel,
      labelClassName,
      config,
      labelKey,
    ]);

    if (!active || !payload?.length) {
      return null;
    }

    const nestLabel = payload.length === 1 && indicator !== 'dot';

    return (
      <div
        ref={ref}
        className={cn(
          'grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl',
          className
        )}
      >
        {!nestLabel ? tooltipLabel : null}
        <div className="grid gap-1.5">
          {payload.map((item, index) => {
            const key = `${nameKey || item.name || item.dataKey || 'value'}`;
            const itemConfig = getPayloadConfigFromPayload(config, item, key);
            const indicatorColor = color || item.payload.fill || item.color;

            return (
              <div
                key={item.dataKey}
                className={cn(
                  'flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground',
                  indicator === 'dot' && 'items-center'
                )}
              >
                {formatter && item?.value !== undefined && item.name ? (
                  formatter(item.value, item.name, item, index, item.payload)
                ) : (
                  <>
                    {itemConfig?.icon ? (
                      <itemConfig.icon />
                    ) : (
                      !hideIndicator && (
                        <div
                          className={cn(
                            'shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]',
                            {
                              'h-2.5 w-2.5': indicator === 'dot',
                              'w-1': indicator === 'line',
                              'w-0 border-[1.5px] border-dashed bg-transparent':
                                indicator === 'dashed',
                              'my-0.5': nestLabel && indicator === 'dashed',
                            }
                          )}
                          style={
                            {
                              '--color-bg': indicatorColor,
                              '--color-border': indicatorColor,
                            } as React.CSSProperties
                          }
                        />
                      )
                    )}
                    <div
                      className={cn(
                        'flex flex-1 justify-between leading-none',
                        nestLabel ? 'items-end' : 'items-center'
                      )}
                    >
                      <div className="grid gap-1.5">
                        {nestLabel ? tooltipLabel : null}
                        <span className="text-muted-foreground">
                          {itemConfig?.label || item.name}
                        </span>
                      </div>
                      {item.value && (
                        <span className="font-mono font-medium tabular-nums text-foreground">
                          {item.value.toLocaleString()}
                        </span>
                      )}
                    </div>
                  </>
                )}
              </div>
            );
          })}
        </div>
      </div>
    );
  }
);
ChartTooltipContent.displayName = 'ChartTooltip';

const ChartLegend = RechartsPrimitive.Legend;

const ChartLegendContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<'div'> &
    Pick<RechartsPrimitive.LegendProps, 'payload' | 'verticalAlign'> & {
      hideIcon?: boolean;
      nameKey?: string;
    }
>(
  (
    { className, hideIcon = false, payload, verticalAlign = 'bottom', nameKey },
    ref
  ) => {
    const { config } = useChart();

    if (!payload?.length) {
      return null;
    }

    return (
      <div
        ref={ref}
        className={cn(
          'flex items-center justify-center gap-4',
          verticalAlign === 'top' ? 'pb-3' : 'pt-3',
          className
        )}
      >
        {payload.map((item) => {
          const key = `${nameKey || item.dataKey || 'value'}`;
          const itemConfig = getPayloadConfigFromPayload(config, item, key);

          return (
            <div
              key={item.value}
              className={cn(
                'flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground'
              )}
            >
              {itemConfig?.icon && !hideIcon ? (
                <itemConfig.icon />
              ) : (
                <div
                  className="h-2 w-2 shrink-0 rounded-[2px]"
                  style={{
                    backgroundColor: item.color,
                  }}
                />
              )}
              {itemConfig?.label}
            </div>
          );
        })}
      </div>
    );
  }
);
ChartLegendContent.displayName = 'ChartLegend';

// Helper to extract item config from a payload.
function getPayloadConfigFromPayload(
  config: ChartConfig,
  payload: unknown,
  key: string
) {
  if (typeof payload !== 'object' || payload === null) {
    return undefined;
  }

  const payloadPayload =
    'payload' in payload &&
    typeof payload.payload === 'object' &&
    payload.payload !== null
      ? payload.payload
      : undefined;

  let configLabelKey: string = key;

  if (
    key in payload &&
    typeof payload[key as keyof typeof payload] === 'string'
  ) {
    configLabelKey = payload[key as keyof typeof payload] as string;
  } else if (
    payloadPayload &&
    key in payloadPayload &&
    typeof payloadPayload[key as keyof typeof payloadPayload] === 'string'
  ) {
    configLabelKey = payloadPayload[
      key as keyof typeof payloadPayload
    ] as string;
  }

  return configLabelKey in config
    ? config[configLabelKey]
    : config[key as keyof typeof config];
}

export {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
  ChartLegend,
  ChartLegendContent,
  ChartStyle,
};

```

# components/ui/checkbox.tsx

```tsx
'use client';

import * as React from 'react';
import * as CheckboxPrimitive from '@radix-ui/react-checkbox';
import { Check } from 'lucide-react';

import { cn } from '@/lib/utils';

const Checkbox = React.forwardRef<
  React.ElementRef<typeof CheckboxPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>
>(({ className, ...props }, ref) => (
  <CheckboxPrimitive.Root
    ref={ref}
    className={cn(
      'peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground',
      className
    )}
    {...props}
  >
    <CheckboxPrimitive.Indicator
      className={cn('flex items-center justify-center text-current')}
    >
      <Check className="h-4 w-4" />
    </CheckboxPrimitive.Indicator>
  </CheckboxPrimitive.Root>
));
Checkbox.displayName = CheckboxPrimitive.Root.displayName;

export { Checkbox };

```

# components/ui/collapsible.tsx

```tsx
'use client';

import * as CollapsiblePrimitive from '@radix-ui/react-collapsible';

const Collapsible = CollapsiblePrimitive.Root;

const CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger;

const CollapsibleContent = CollapsiblePrimitive.CollapsibleContent;

export { Collapsible, CollapsibleTrigger, CollapsibleContent };

```

# components/ui/command.tsx

```tsx
'use client';

import * as React from 'react';
import { type DialogProps } from '@radix-ui/react-dialog';
import { Command as CommandPrimitive } from 'cmdk';
import { Search } from 'lucide-react';

import { cn } from '@/lib/utils';
import { Dialog, DialogContent } from '@/components/ui/dialog';

const Command = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive>
>(({ className, ...props }, ref) => (
  <CommandPrimitive
    ref={ref}
    className={cn(
      'flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground',
      className
    )}
    {...props}
  />
));
Command.displayName = CommandPrimitive.displayName;

interface CommandDialogProps extends DialogProps {}

const CommandDialog = ({ children, ...props }: CommandDialogProps) => {
  return (
    <Dialog {...props}>
      <DialogContent className="overflow-hidden p-0 shadow-lg">
        <Command className="[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
          {children}
        </Command>
      </DialogContent>
    </Dialog>
  );
};

const CommandInput = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Input>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>
>(({ className, ...props }, ref) => (
  <div className="flex items-center border-b px-3" cmdk-input-wrapper="">
    <Search className="mr-2 h-4 w-4 shrink-0 opacity-50" />
    <CommandPrimitive.Input
      ref={ref}
      className={cn(
        'flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50',
        className
      )}
      {...props}
    />
  </div>
));

CommandInput.displayName = CommandPrimitive.Input.displayName;

const CommandList = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.List
    ref={ref}
    className={cn('max-h-[300px] overflow-y-auto overflow-x-hidden', className)}
    {...props}
  />
));

CommandList.displayName = CommandPrimitive.List.displayName;

const CommandEmpty = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Empty>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>
>((props, ref) => (
  <CommandPrimitive.Empty
    ref={ref}
    className="py-6 text-center text-sm"
    {...props}
  />
));

CommandEmpty.displayName = CommandPrimitive.Empty.displayName;

const CommandGroup = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Group>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Group
    ref={ref}
    className={cn(
      'overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground',
      className
    )}
    {...props}
  />
));

CommandGroup.displayName = CommandPrimitive.Group.displayName;

const CommandSeparator = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Separator
    ref={ref}
    className={cn('-mx-1 h-px bg-border', className)}
    {...props}
  />
));
CommandSeparator.displayName = CommandPrimitive.Separator.displayName;

const CommandItem = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",
      className
    )}
    {...props}
  />
));

CommandItem.displayName = CommandPrimitive.Item.displayName;

const CommandShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        'ml-auto text-xs tracking-widest text-muted-foreground',
        className
      )}
      {...props}
    />
  );
};
CommandShortcut.displayName = 'CommandShortcut';

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
};

```

# components/ui/context-menu.tsx

```tsx
'use client';

import * as React from 'react';
import * as ContextMenuPrimitive from '@radix-ui/react-context-menu';
import { Check, ChevronRight, Circle } from 'lucide-react';

import { cn } from '@/lib/utils';

const ContextMenu = ContextMenuPrimitive.Root;

const ContextMenuTrigger = ContextMenuPrimitive.Trigger;

const ContextMenuGroup = ContextMenuPrimitive.Group;

const ContextMenuPortal = ContextMenuPrimitive.Portal;

const ContextMenuSub = ContextMenuPrimitive.Sub;

const ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup;

const ContextMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {
    inset?: boolean;
  }
>(({ className, inset, children, ...props }, ref) => (
  <ContextMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground',
      inset && 'pl-8',
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </ContextMenuPrimitive.SubTrigger>
));
ContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName;

const ContextMenuSubContent = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
      className
    )}
    {...props}
  />
));
ContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName;

const ContextMenuContent = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.Portal>
    <ContextMenuPrimitive.Content
      ref={ref}
      className={cn(
        'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
        className
      )}
      {...props}
    />
  </ContextMenuPrimitive.Portal>
));
ContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName;

const ContextMenuItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {
    inset?: boolean;
  }
>(({ className, inset, ...props }, ref) => (
  <ContextMenuPrimitive.Item
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      inset && 'pl-8',
      className
    )}
    {...props}
  />
));
ContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName;

const ContextMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <ContextMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <ContextMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </ContextMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </ContextMenuPrimitive.CheckboxItem>
));
ContextMenuCheckboxItem.displayName =
  ContextMenuPrimitive.CheckboxItem.displayName;

const ContextMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <ContextMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <ContextMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </ContextMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </ContextMenuPrimitive.RadioItem>
));
ContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName;

const ContextMenuLabel = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {
    inset?: boolean;
  }
>(({ className, inset, ...props }, ref) => (
  <ContextMenuPrimitive.Label
    ref={ref}
    className={cn(
      'px-2 py-1.5 text-sm font-semibold text-foreground',
      inset && 'pl-8',
      className
    )}
    {...props}
  />
));
ContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName;

const ContextMenuSeparator = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.Separator
    ref={ref}
    className={cn('-mx-1 my-1 h-px bg-border', className)}
    {...props}
  />
));
ContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName;

const ContextMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        'ml-auto text-xs tracking-widest text-muted-foreground',
        className
      )}
      {...props}
    />
  );
};
ContextMenuShortcut.displayName = 'ContextMenuShortcut';

export {
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuCheckboxItem,
  ContextMenuRadioItem,
  ContextMenuLabel,
  ContextMenuSeparator,
  ContextMenuShortcut,
  ContextMenuGroup,
  ContextMenuPortal,
  ContextMenuSub,
  ContextMenuSubContent,
  ContextMenuSubTrigger,
  ContextMenuRadioGroup,
};

```

# components/ui/dialog.tsx

```tsx
'use client';

import * as React from 'react';
import * as DialogPrimitive from '@radix-ui/react-dialog';
import { X } from 'lucide-react';

import { cn } from '@/lib/utils';

const Dialog = DialogPrimitive.Root;

const DialogTrigger = DialogPrimitive.Trigger;

const DialogPortal = DialogPrimitive.Portal;

const DialogClose = DialogPrimitive.Close;

const DialogOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',
      className
    )}
    {...props}
  />
));
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName;

const DialogContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',
        className
      )}
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
));
DialogContent.displayName = DialogPrimitive.Content.displayName;

const DialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      'flex flex-col space-y-1.5 text-center sm:text-left',
      className
    )}
    {...props}
  />
);
DialogHeader.displayName = 'DialogHeader';

const DialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',
      className
    )}
    {...props}
  />
);
DialogFooter.displayName = 'DialogFooter';

const DialogTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn(
      'text-lg font-semibold leading-none tracking-tight',
      className
    )}
    {...props}
  />
));
DialogTitle.displayName = DialogPrimitive.Title.displayName;

const DialogDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description
    ref={ref}
    className={cn('text-sm text-muted-foreground', className)}
    {...props}
  />
));
DialogDescription.displayName = DialogPrimitive.Description.displayName;

export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogClose,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
};

```

# components/ui/drawer.tsx

```tsx
'use client';

import * as React from 'react';
import { Drawer as DrawerPrimitive } from 'vaul';

import { cn } from '@/lib/utils';

const Drawer = ({
  shouldScaleBackground = true,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (
  <DrawerPrimitive.Root
    shouldScaleBackground={shouldScaleBackground}
    {...props}
  />
);
Drawer.displayName = 'Drawer';

const DrawerTrigger = DrawerPrimitive.Trigger;

const DrawerPortal = DrawerPrimitive.Portal;

const DrawerClose = DrawerPrimitive.Close;

const DrawerOverlay = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Overlay
    ref={ref}
    className={cn('fixed inset-0 z-50 bg-black/80', className)}
    {...props}
  />
));
DrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName;

const DrawerContent = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DrawerPortal>
    <DrawerOverlay />
    <DrawerPrimitive.Content
      ref={ref}
      className={cn(
        'fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background',
        className
      )}
      {...props}
    >
      <div className="mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted" />
      {children}
    </DrawerPrimitive.Content>
  </DrawerPortal>
));
DrawerContent.displayName = 'DrawerContent';

const DrawerHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn('grid gap-1.5 p-4 text-center sm:text-left', className)}
    {...props}
  />
);
DrawerHeader.displayName = 'DrawerHeader';

const DrawerFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn('mt-auto flex flex-col gap-2 p-4', className)}
    {...props}
  />
);
DrawerFooter.displayName = 'DrawerFooter';

const DrawerTitle = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Title
    ref={ref}
    className={cn(
      'text-lg font-semibold leading-none tracking-tight',
      className
    )}
    {...props}
  />
));
DrawerTitle.displayName = DrawerPrimitive.Title.displayName;

const DrawerDescription = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Description
    ref={ref}
    className={cn('text-sm text-muted-foreground', className)}
    {...props}
  />
));
DrawerDescription.displayName = DrawerPrimitive.Description.displayName;

export {
  Drawer,
  DrawerPortal,
  DrawerOverlay,
  DrawerTrigger,
  DrawerClose,
  DrawerContent,
  DrawerHeader,
  DrawerFooter,
  DrawerTitle,
  DrawerDescription,
};

```

# components/ui/dropdown-menu.tsx

```tsx
'use client';

import * as React from 'react';
import * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';
import { Check, ChevronRight, Circle } from 'lucide-react';

import { cn } from '@/lib/utils';

const DropdownMenu = DropdownMenuPrimitive.Root;

const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;

const DropdownMenuGroup = DropdownMenuPrimitive.Group;

const DropdownMenuPortal = DropdownMenuPrimitive.Portal;

const DropdownMenuSub = DropdownMenuPrimitive.Sub;

const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;

const DropdownMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {
    inset?: boolean;
  }
>(({ className, inset, children, ...props }, ref) => (
  <DropdownMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent',
      inset && 'pl-8',
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </DropdownMenuPrimitive.SubTrigger>
));
DropdownMenuSubTrigger.displayName =
  DropdownMenuPrimitive.SubTrigger.displayName;

const DropdownMenuSubContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
      className
    )}
    {...props}
  />
));
DropdownMenuSubContent.displayName =
  DropdownMenuPrimitive.SubContent.displayName;

const DropdownMenuContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <DropdownMenuPrimitive.Portal>
    <DropdownMenuPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
        className
      )}
      {...props}
    />
  </DropdownMenuPrimitive.Portal>
));
DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;

const DropdownMenuItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {
    inset?: boolean;
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Item
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      inset && 'pl-8',
      className
    )}
    {...props}
  />
));
DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;

const DropdownMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <DropdownMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.CheckboxItem>
));
DropdownMenuCheckboxItem.displayName =
  DropdownMenuPrimitive.CheckboxItem.displayName;

const DropdownMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <DropdownMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.RadioItem>
));
DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;

const DropdownMenuLabel = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {
    inset?: boolean;
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Label
    ref={ref}
    className={cn(
      'px-2 py-1.5 text-sm font-semibold',
      inset && 'pl-8',
      className
    )}
    {...props}
  />
));
DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;

const DropdownMenuSeparator = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.Separator
    ref={ref}
    className={cn('-mx-1 my-1 h-px bg-muted', className)}
    {...props}
  />
));
DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;

const DropdownMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn('ml-auto text-xs tracking-widest opacity-60', className)}
      {...props}
    />
  );
};
DropdownMenuShortcut.displayName = 'DropdownMenuShortcut';

export {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuGroup,
  DropdownMenuPortal,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuRadioGroup,
};

```

# components/ui/form.tsx

```tsx
'use client';

import * as React from 'react';
import * as LabelPrimitive from '@radix-ui/react-label';
import { Slot } from '@radix-ui/react-slot';
import {
  Controller,
  ControllerProps,
  FieldPath,
  FieldValues,
  FormProvider,
  useFormContext,
} from 'react-hook-form';

import { cn } from '@/lib/utils';
import { Label } from '@/components/ui/label';

const Form = FormProvider;

type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
> = {
  name: TName;
};

const FormFieldContext = React.createContext<FormFieldContextValue>(
  {} as FormFieldContextValue
);

const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  );
};

const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext);
  const itemContext = React.useContext(FormItemContext);
  const { getFieldState, formState } = useFormContext();

  const fieldState = getFieldState(fieldContext.name, formState);

  if (!fieldContext) {
    throw new Error('useFormField should be used within <FormField>');
  }

  const { id } = itemContext;

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  };
};

type FormItemContextValue = {
  id: string;
};

const FormItemContext = React.createContext<FormItemContextValue>(
  {} as FormItemContextValue
);

const FormItem = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const id = React.useId();

  return (
    <FormItemContext.Provider value={{ id }}>
      <div ref={ref} className={cn('space-y-2', className)} {...props} />
    </FormItemContext.Provider>
  );
});
FormItem.displayName = 'FormItem';

const FormLabel = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>
>(({ className, ...props }, ref) => {
  const { error, formItemId } = useFormField();

  return (
    <Label
      ref={ref}
      className={cn(error && 'text-destructive', className)}
      htmlFor={formItemId}
      {...props}
    />
  );
});
FormLabel.displayName = 'FormLabel';

const FormControl = React.forwardRef<
  React.ElementRef<typeof Slot>,
  React.ComponentPropsWithoutRef<typeof Slot>
>(({ ...props }, ref) => {
  const { error, formItemId, formDescriptionId, formMessageId } =
    useFormField();

  return (
    <Slot
      ref={ref}
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    />
  );
});
FormControl.displayName = 'FormControl';

const FormDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => {
  const { formDescriptionId } = useFormField();

  return (
    <p
      ref={ref}
      id={formDescriptionId}
      className={cn('text-sm text-muted-foreground', className)}
      {...props}
    />
  );
});
FormDescription.displayName = 'FormDescription';

const FormMessage = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, children, ...props }, ref) => {
  const { error, formMessageId } = useFormField();
  const body = error ? String(error?.message) : children;

  if (!body) {
    return null;
  }

  return (
    <p
      ref={ref}
      id={formMessageId}
      className={cn('text-sm font-medium text-destructive', className)}
      {...props}
    >
      {body}
    </p>
  );
});
FormMessage.displayName = 'FormMessage';

export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
};

```

# components/ui/hover-card.tsx

```tsx
'use client';

import * as React from 'react';
import * as HoverCardPrimitive from '@radix-ui/react-hover-card';

import { cn } from '@/lib/utils';

const HoverCard = HoverCardPrimitive.Root;

const HoverCardTrigger = HoverCardPrimitive.Trigger;

const HoverCardContent = React.forwardRef<
  React.ElementRef<typeof HoverCardPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>
>(({ className, align = 'center', sideOffset = 4, ...props }, ref) => (
  <HoverCardPrimitive.Content
    ref={ref}
    align={align}
    sideOffset={sideOffset}
    className={cn(
      'z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
      className
    )}
    {...props}
  />
));
HoverCardContent.displayName = HoverCardPrimitive.Content.displayName;

export { HoverCard, HoverCardTrigger, HoverCardContent };

```

# components/ui/input-otp.tsx

```tsx
'use client';

import * as React from 'react';
import { OTPInput, OTPInputContext } from 'input-otp';
import { Dot } from 'lucide-react';

import { cn } from '@/lib/utils';

const InputOTP = React.forwardRef<
  React.ElementRef<typeof OTPInput>,
  React.ComponentPropsWithoutRef<typeof OTPInput>
>(({ className, containerClassName, ...props }, ref) => (
  <OTPInput
    ref={ref}
    containerClassName={cn(
      'flex items-center gap-2 has-[:disabled]:opacity-50',
      containerClassName
    )}
    className={cn('disabled:cursor-not-allowed', className)}
    {...props}
  />
));
InputOTP.displayName = 'InputOTP';

const InputOTPGroup = React.forwardRef<
  React.ElementRef<'div'>,
  React.ComponentPropsWithoutRef<'div'>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn('flex items-center', className)} {...props} />
));
InputOTPGroup.displayName = 'InputOTPGroup';

const InputOTPSlot = React.forwardRef<
  React.ElementRef<'div'>,
  React.ComponentPropsWithoutRef<'div'> & { index: number }
>(({ index, className, ...props }, ref) => {
  const inputOTPContext = React.useContext(OTPInputContext);
  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index];

  return (
    <div
      ref={ref}
      className={cn(
        'relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md',
        isActive && 'z-10 ring-2 ring-ring ring-offset-background',
        className
      )}
      {...props}
    >
      {char}
      {hasFakeCaret && (
        <div className="pointer-events-none absolute inset-0 flex items-center justify-center">
          <div className="h-4 w-px animate-caret-blink bg-foreground duration-1000" />
        </div>
      )}
    </div>
  );
});
InputOTPSlot.displayName = 'InputOTPSlot';

const InputOTPSeparator = React.forwardRef<
  React.ElementRef<'div'>,
  React.ComponentPropsWithoutRef<'div'>
>(({ ...props }, ref) => (
  <div ref={ref} role="separator" {...props}>
    <Dot />
  </div>
));
InputOTPSeparator.displayName = 'InputOTPSeparator';

export { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator };

```

# components/ui/input.tsx

```tsx
import * as React from "react"

import { cn } from "@/lib/utils"

export interface InputProps
  extends React.InputHTMLAttributes<HTMLInputElement> {}

const Input = React.forwardRef<HTMLInputElement, InputProps>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Input.displayName = "Input"

export { Input }
```

# components/ui/inter-slide-add-buttons.tsx

```tsx
'use client';

import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';
import { Plus, Sparkles, Grid3X3 } from 'lucide-react';

interface InterSlideAddButtonsProps {
  onAddSlide: () => void;
  onAddFromTemplate: () => void;
  onAddWithAI: () => void;
  insertIndex: number; // Position where the slide will be inserted
}

export function InterSlideAddButtons({
  onAddSlide,
  onAddFromTemplate,
  onAddWithAI,
  insertIndex
}: InterSlideAddButtonsProps) {
  const [isHovered, setIsHovered] = useState(false);

  return (
    <TooltipProvider>
      <div 
        className="relative h-8 flex items-center justify-center group"
        onMouseEnter={() => setIsHovered(true)}
        onMouseLeave={() => setIsHovered(false)}
      >
        {/* Hover zone - invisible but extends the hover area */}
        <div className="absolute inset-0 -my-4" />
        
        {/* Divider line that's always visible */}
        <div className="absolute inset-x-0 top-1/2 h-px bg-white/20 transform -translate-y-1/2" />
        
        {/* Button group - only visible on hover */}
        <div className={`
          relative bg-white/10 backdrop-blur-md rounded-full border border-white/20
          transition-all duration-200 ease-out
          ${isHovered 
            ? 'opacity-100 scale-100 translate-y-0' 
            : 'opacity-0 scale-95 translate-y-2 pointer-events-none'
          }
        `}>
          <div className="flex items-center gap-1 p-1">
            {/* Quick Add - Basic slide */}
            <Tooltip>
              <TooltipTrigger asChild>
                <Button
                  size="sm"
                  variant="ghost"
                  onClick={onAddSlide}
                  className="
                    h-8 w-8 p-0 rounded-full
                    bg-white/10 hover:bg-white/20 
                    border border-white/20 hover:border-white/30
                    text-white/80 hover:text-white
                    transition-all duration-150
                  "
                >
                  <Plus className="w-4 h-4" />
                </Button>
              </TooltipTrigger>
              <TooltipContent>
                <p>Add blank slide</p>
              </TooltipContent>
            </Tooltip>
            
            {/* Add from Template */}
            <Tooltip>
              <TooltipTrigger asChild>
                <Button
                  size="sm"
                  variant="ghost"
                  onClick={onAddFromTemplate}
                  className="
                    h-8 w-8 p-0 rounded-full
                    bg-white/10 hover:bg-white/20 
                    border border-white/20 hover:border-white/30
                    text-white/80 hover:text-white
                    transition-all duration-150
                  "
                >
                  <Grid3X3 className="w-4 h-4" />
                </Button>
              </TooltipTrigger>
              <TooltipContent>
                <p>Add from template</p>
              </TooltipContent>
            </Tooltip>
            
            {/* Add with AI */}
            <Tooltip>
              <TooltipTrigger asChild>
                <Button
                  size="sm"
                  variant="ghost"
                  onClick={onAddWithAI}
                  className="
                    h-8 w-8 p-0 rounded-full
                    bg-white/10 hover:bg-white/20 
                    border border-white/20 hover:border-white/30
                    text-white/80 hover:text-white
                    transition-all duration-150
                  "
                >
                  <Sparkles className="w-4 h-4" />
                </Button>
              </TooltipTrigger>
              <TooltipContent>
                <p>Generate with AI</p>
              </TooltipContent>
            </Tooltip>
          </div>
        </div>
        
        {/* Small indicator dot in center when not hovered */}
        <div className={`
          absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2
          w-2 h-2 bg-white/30 rounded-full
          transition-all duration-200
          ${isHovered ? 'opacity-0 scale-0' : 'opacity-100 scale-100'}
        `} />
      </div>
    </TooltipProvider>
  );
} 
```

# components/ui/label.tsx

```tsx
'use client';

import * as React from 'react';
import * as LabelPrimitive from '@radix-ui/react-label';
import { cva, type VariantProps } from 'class-variance-authority';

import { cn } from '@/lib/utils';

const labelVariants = cva(
  'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70'
);

const Label = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &
    VariantProps<typeof labelVariants>
>(({ className, ...props }, ref) => (
  <LabelPrimitive.Root
    ref={ref}
    className={cn(labelVariants(), className)}
    {...props}
  />
));
Label.displayName = LabelPrimitive.Root.displayName;

export { Label };

```

# components/ui/landing-header.tsx

```tsx
'use client';

import React from 'react';
import Link from 'next/link';
import { Button } from './button';
import { Presentation } from 'lucide-react';

export function LandingHeader() {
  return (
    <header className="border-b border-gray-200/20 backdrop-blur-sm bg-white/80">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between items-center py-4">
          <div className="flex items-center space-x-2">
            <Presentation className="h-8 w-8 text-indigo-600" />
            <span className="text-xl font-bold text-gray-900">PresentAI</span>
          </div>
          <nav className="hidden md:flex items-center space-x-8">
            <Link href="#features" className="text-gray-600 hover:text-gray-900 transition-colors">
              Features
            </Link>
            <Link href="#pricing" className="text-gray-600 hover:text-gray-900 transition-colors">
              Pricing
            </Link>
            <Link href="#about" className="text-gray-600 hover:text-gray-900 transition-colors">
              About
            </Link>
            <Link href="/create">
              <Button className="bg-indigo-600 hover:bg-indigo-700 text-white">
                Get Started
              </Button>
            </Link>
          </nav>
        </div>
      </div>
    </header>
  );
} 
```

# components/ui/menubar.tsx

```tsx
'use client';

import * as React from 'react';
import * as MenubarPrimitive from '@radix-ui/react-menubar';
import { Check, ChevronRight, Circle } from 'lucide-react';

import { cn } from '@/lib/utils';

const MenubarMenu = MenubarPrimitive.Menu;

const MenubarGroup = MenubarPrimitive.Group;

const MenubarPortal = MenubarPrimitive.Portal;

const MenubarSub = MenubarPrimitive.Sub;

const MenubarRadioGroup = MenubarPrimitive.RadioGroup;

const Menubar = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Root
    ref={ref}
    className={cn(
      'flex h-10 items-center space-x-1 rounded-md border bg-background p-1',
      className
    )}
    {...props}
  />
));
Menubar.displayName = MenubarPrimitive.Root.displayName;

const MenubarTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Trigger
    ref={ref}
    className={cn(
      'flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground',
      className
    )}
    {...props}
  />
));
MenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName;

const MenubarSubTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {
    inset?: boolean;
  }
>(({ className, inset, children, ...props }, ref) => (
  <MenubarPrimitive.SubTrigger
    ref={ref}
    className={cn(
      'flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground',
      inset && 'pl-8',
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </MenubarPrimitive.SubTrigger>
));
MenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName;

const MenubarSubContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.SubContent
    ref={ref}
    className={cn(
      'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
      className
    )}
    {...props}
  />
));
MenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName;

const MenubarContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>
>(
  (
    { className, align = 'start', alignOffset = -4, sideOffset = 8, ...props },
    ref
  ) => (
    <MenubarPrimitive.Portal>
      <MenubarPrimitive.Content
        ref={ref}
        align={align}
        alignOffset={alignOffset}
        sideOffset={sideOffset}
        className={cn(
          'z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
          className
        )}
        {...props}
      />
    </MenubarPrimitive.Portal>
  )
);
MenubarContent.displayName = MenubarPrimitive.Content.displayName;

const MenubarItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {
    inset?: boolean;
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Item
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      inset && 'pl-8',
      className
    )}
    {...props}
  />
));
MenubarItem.displayName = MenubarPrimitive.Item.displayName;

const MenubarCheckboxItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <MenubarPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.CheckboxItem>
));
MenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName;

const MenubarRadioItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <MenubarPrimitive.RadioItem
    ref={ref}
    className={cn(
      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.RadioItem>
));
MenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName;

const MenubarLabel = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {
    inset?: boolean;
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Label
    ref={ref}
    className={cn(
      'px-2 py-1.5 text-sm font-semibold',
      inset && 'pl-8',
      className
    )}
    {...props}
  />
));
MenubarLabel.displayName = MenubarPrimitive.Label.displayName;

const MenubarSeparator = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Separator
    ref={ref}
    className={cn('-mx-1 my-1 h-px bg-muted', className)}
    {...props}
  />
));
MenubarSeparator.displayName = MenubarPrimitive.Separator.displayName;

const MenubarShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        'ml-auto text-xs tracking-widest text-muted-foreground',
        className
      )}
      {...props}
    />
  );
};
MenubarShortcut.displayname = 'MenubarShortcut';

export {
  Menubar,
  MenubarMenu,
  MenubarTrigger,
  MenubarContent,
  MenubarItem,
  MenubarSeparator,
  MenubarLabel,
  MenubarCheckboxItem,
  MenubarRadioGroup,
  MenubarRadioItem,
  MenubarPortal,
  MenubarSubContent,
  MenubarSubTrigger,
  MenubarGroup,
  MenubarSub,
  MenubarShortcut,
};

```

# components/ui/navigation-menu.tsx

```tsx
import * as React from 'react';
import * as NavigationMenuPrimitive from '@radix-ui/react-navigation-menu';
import { cva } from 'class-variance-authority';
import { ChevronDown } from 'lucide-react';

import { cn } from '@/lib/utils';

const NavigationMenu = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <NavigationMenuPrimitive.Root
    ref={ref}
    className={cn(
      'relative z-10 flex max-w-max flex-1 items-center justify-center',
      className
    )}
    {...props}
  >
    {children}
    <NavigationMenuViewport />
  </NavigationMenuPrimitive.Root>
));
NavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName;

const NavigationMenuList = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.List
    ref={ref}
    className={cn(
      'group flex flex-1 list-none items-center justify-center space-x-1',
      className
    )}
    {...props}
  />
));
NavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName;

const NavigationMenuItem = NavigationMenuPrimitive.Item;

const navigationMenuTriggerStyle = cva(
  'group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50'
);

const NavigationMenuTrigger = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <NavigationMenuPrimitive.Trigger
    ref={ref}
    className={cn(navigationMenuTriggerStyle(), 'group', className)}
    {...props}
  >
    {children}{' '}
    <ChevronDown
      className="relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180"
      aria-hidden="true"
    />
  </NavigationMenuPrimitive.Trigger>
));
NavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName;

const NavigationMenuContent = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.Content
    ref={ref}
    className={cn(
      'left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ',
      className
    )}
    {...props}
  />
));
NavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName;

const NavigationMenuLink = NavigationMenuPrimitive.Link;

const NavigationMenuViewport = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>
>(({ className, ...props }, ref) => (
  <div className={cn('absolute left-0 top-full flex justify-center')}>
    <NavigationMenuPrimitive.Viewport
      className={cn(
        'origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]',
        className
      )}
      ref={ref}
      {...props}
    />
  </div>
));
NavigationMenuViewport.displayName =
  NavigationMenuPrimitive.Viewport.displayName;

const NavigationMenuIndicator = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.Indicator
    ref={ref}
    className={cn(
      'top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in',
      className
    )}
    {...props}
  >
    <div className="relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md" />
  </NavigationMenuPrimitive.Indicator>
));
NavigationMenuIndicator.displayName =
  NavigationMenuPrimitive.Indicator.displayName;

export {
  navigationMenuTriggerStyle,
  NavigationMenu,
  NavigationMenuList,
  NavigationMenuItem,
  NavigationMenuContent,
  NavigationMenuTrigger,
  NavigationMenuLink,
  NavigationMenuIndicator,
  NavigationMenuViewport,
};

```

# components/ui/pagination.tsx

```tsx
import * as React from 'react';
import { ChevronLeft, ChevronRight, MoreHorizontal } from 'lucide-react';

import { cn } from '@/lib/utils';
import { ButtonProps, buttonVariants } from '@/components/ui/button';

const Pagination = ({ className, ...props }: React.ComponentProps<'nav'>) => (
  <nav
    role="navigation"
    aria-label="pagination"
    className={cn('mx-auto flex w-full justify-center', className)}
    {...props}
  />
);
Pagination.displayName = 'Pagination';

const PaginationContent = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<'ul'>
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    className={cn('flex flex-row items-center gap-1', className)}
    {...props}
  />
));
PaginationContent.displayName = 'PaginationContent';

const PaginationItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<'li'>
>(({ className, ...props }, ref) => (
  <li ref={ref} className={cn('', className)} {...props} />
));
PaginationItem.displayName = 'PaginationItem';

type PaginationLinkProps = {
  isActive?: boolean;
} & Pick<ButtonProps, 'size'> &
  React.ComponentProps<'a'>;

const PaginationLink = ({
  className,
  isActive,
  size = 'icon',
  ...props
}: PaginationLinkProps) => (
  <a
    aria-current={isActive ? 'page' : undefined}
    className={cn(
      buttonVariants({
        variant: isActive ? 'outline' : 'ghost',
        size,
      }),
      className
    )}
    {...props}
  />
);
PaginationLink.displayName = 'PaginationLink';

const PaginationPrevious = ({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink
    aria-label="Go to previous page"
    size="default"
    className={cn('gap-1 pl-2.5', className)}
    {...props}
  >
    <ChevronLeft className="h-4 w-4" />
    <span>Previous</span>
  </PaginationLink>
);
PaginationPrevious.displayName = 'PaginationPrevious';

const PaginationNext = ({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink
    aria-label="Go to next page"
    size="default"
    className={cn('gap-1 pr-2.5', className)}
    {...props}
  >
    <span>Next</span>
    <ChevronRight className="h-4 w-4" />
  </PaginationLink>
);
PaginationNext.displayName = 'PaginationNext';

const PaginationEllipsis = ({
  className,
  ...props
}: React.ComponentProps<'span'>) => (
  <span
    aria-hidden
    className={cn('flex h-9 w-9 items-center justify-center', className)}
    {...props}
  >
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More pages</span>
  </span>
);
PaginationEllipsis.displayName = 'PaginationEllipsis';

export {
  Pagination,
  PaginationContent,
  PaginationEllipsis,
  PaginationItem,
  PaginationLink,
  PaginationNext,
  PaginationPrevious,
};

```

# components/ui/popover.tsx

```tsx
'use client';

import * as React from 'react';
import * as PopoverPrimitive from '@radix-ui/react-popover';

import { cn } from '@/lib/utils';

const Popover = PopoverPrimitive.Root;

const PopoverTrigger = PopoverPrimitive.Trigger;

const PopoverContent = React.forwardRef<
  React.ElementRef<typeof PopoverPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>
>(({ className, align = 'center', sideOffset = 4, ...props }, ref) => (
  <PopoverPrimitive.Portal>
    <PopoverPrimitive.Content
      ref={ref}
      align={align}
      sideOffset={sideOffset}
      className={cn(
        'z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
        className
      )}
      {...props}
    />
  </PopoverPrimitive.Portal>
));
PopoverContent.displayName = PopoverPrimitive.Content.displayName;

export { Popover, PopoverTrigger, PopoverContent };

```

# components/ui/progress.tsx

```tsx
'use client';

import * as React from 'react';
import * as ProgressPrimitive from '@radix-ui/react-progress';

import { cn } from '@/lib/utils';

const Progress = React.forwardRef<
  React.ElementRef<typeof ProgressPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>
>(({ className, value, ...props }, ref) => (
  <ProgressPrimitive.Root
    ref={ref}
    className={cn(
      'relative h-4 w-full overflow-hidden rounded-full bg-secondary',
      className
    )}
    {...props}
  >
    <ProgressPrimitive.Indicator
      className="h-full w-full flex-1 bg-primary transition-all"
      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
    />
  </ProgressPrimitive.Root>
));
Progress.displayName = ProgressPrimitive.Root.displayName;

export { Progress };

```

# components/ui/radio-group.tsx

```tsx
'use client';

import * as React from 'react';
import * as RadioGroupPrimitive from '@radix-ui/react-radio-group';
import { Circle } from 'lucide-react';

import { cn } from '@/lib/utils';

const RadioGroup = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Root
      className={cn('grid gap-2', className)}
      {...props}
      ref={ref}
    />
  );
});
RadioGroup.displayName = RadioGroupPrimitive.Root.displayName;

const RadioGroupItem = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Item
      ref={ref}
      className={cn(
        'aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',
        className
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator className="flex items-center justify-center">
        <Circle className="h-2.5 w-2.5 fill-current text-current" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  );
});
RadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;

export { RadioGroup, RadioGroupItem };

```

# components/ui/resizable.tsx

```tsx
'use client';

import { GripVertical } from 'lucide-react';
import * as ResizablePrimitive from 'react-resizable-panels';

import { cn } from '@/lib/utils';

const ResizablePanelGroup = ({
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (
  <ResizablePrimitive.PanelGroup
    className={cn(
      'flex h-full w-full data-[panel-group-direction=vertical]:flex-col',
      className
    )}
    {...props}
  />
);

const ResizablePanel = ResizablePrimitive.Panel;

const ResizableHandle = ({
  withHandle,
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {
  withHandle?: boolean;
}) => (
  <ResizablePrimitive.PanelResizeHandle
    className={cn(
      'relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90',
      className
    )}
    {...props}
  >
    {withHandle && (
      <div className="z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border">
        <GripVertical className="h-2.5 w-2.5" />
      </div>
    )}
  </ResizablePrimitive.PanelResizeHandle>
);

export { ResizablePanelGroup, ResizablePanel, ResizableHandle };

```

# components/ui/scroll-area.tsx

```tsx
'use client';

import * as React from 'react';
import * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area';

import { cn } from '@/lib/utils';

const ScrollArea = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <ScrollAreaPrimitive.Root
    ref={ref}
    className={cn('relative overflow-hidden', className)}
    {...props}
  >
    <ScrollAreaPrimitive.Viewport className="h-full w-full rounded-[inherit]">
      {children}
    </ScrollAreaPrimitive.Viewport>
    <ScrollBar />
    <ScrollAreaPrimitive.Corner />
  </ScrollAreaPrimitive.Root>
));
ScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;

const ScrollBar = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>
>(({ className, orientation = 'vertical', ...props }, ref) => (
  <ScrollAreaPrimitive.ScrollAreaScrollbar
    ref={ref}
    orientation={orientation}
    className={cn(
      'flex touch-none select-none transition-colors',
      orientation === 'vertical' &&
        'h-full w-2.5 border-l border-l-transparent p-[1px]',
      orientation === 'horizontal' &&
        'h-2.5 flex-col border-t border-t-transparent p-[1px]',
      className
    )}
    {...props}
  >
    <ScrollAreaPrimitive.ScrollAreaThumb className="relative flex-1 rounded-full bg-border" />
  </ScrollAreaPrimitive.ScrollAreaScrollbar>
));
ScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;

export { ScrollArea, ScrollBar };

```

# components/ui/select.tsx

```tsx
"use client"

import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { Check, ChevronDown, ChevronUp } from "lucide-react"

import { cn } from "@/lib/utils"

const Select = SelectPrimitive.Root

const SelectGroup = SelectPrimitive.Group

const SelectValue = SelectPrimitive.Value

const SelectTrigger = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
      className
    )}
    {...props}
  >
    {children}
    <SelectPrimitive.Icon asChild>
      <ChevronDown className="h-4 w-4 opacity-50" />
    </SelectPrimitive.Icon>
  </SelectPrimitive.Trigger>
))
SelectTrigger.displayName = SelectPrimitive.Trigger.displayName

const SelectScrollUpButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollUpButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronUp className="h-4 w-4" />
  </SelectPrimitive.ScrollUpButton>
))
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName

const SelectScrollDownButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollDownButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronDown className="h-4 w-4" />
  </SelectPrimitive.ScrollDownButton>
))
SelectScrollDownButton.displayName =
  SelectPrimitive.ScrollDownButton.displayName

const SelectContent = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
>(({ className, children, position = "popper", ...props }, ref) => (
  <SelectPrimitive.Portal>
    <SelectPrimitive.Content
      ref={ref}
      className={cn(
        "relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        position === "popper" &&
          "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
        className
      )}
      position={position}
      {...props}
    >
      <SelectScrollUpButton />
      <SelectPrimitive.Viewport
        className={cn(
          "p-1",
          position === "popper" &&
            "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"
        )}
      >
        {children}
      </SelectPrimitive.Viewport>
      <SelectScrollDownButton />
    </SelectPrimitive.Content>
  </SelectPrimitive.Portal>
))
SelectContent.displayName = SelectPrimitive.Content.displayName

const SelectLabel = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Label
    ref={ref}
    className={cn("py-1.5 pl-8 pr-2 text-sm font-semibold", className)}
    {...props}
  />
))
SelectLabel.displayName = SelectPrimitive.Label.displayName

const SelectItem = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <SelectPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </SelectPrimitive.ItemIndicator>
    </span>

    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
  </SelectPrimitive.Item>
))
SelectItem.displayName = SelectPrimitive.Item.displayName

const SelectSeparator = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
SelectSeparator.displayName = SelectPrimitive.Separator.displayName

export {
  Select,
  SelectGroup,
  SelectValue,
  SelectTrigger,
  SelectContent,
  SelectLabel,
  SelectItem,
  SelectSeparator,
  SelectScrollUpButton,
  SelectScrollDownButton,
}
```

# components/ui/separator.tsx

```tsx
'use client';

import * as React from 'react';
import * as SeparatorPrimitive from '@radix-ui/react-separator';

import { cn } from '@/lib/utils';

const Separator = React.forwardRef<
  React.ElementRef<typeof SeparatorPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
>(
  (
    { className, orientation = 'horizontal', decorative = true, ...props },
    ref
  ) => (
    <SeparatorPrimitive.Root
      ref={ref}
      decorative={decorative}
      orientation={orientation}
      className={cn(
        'shrink-0 bg-border',
        orientation === 'horizontal' ? 'h-[1px] w-full' : 'h-full w-[1px]',
        className
      )}
      {...props}
    />
  )
);
Separator.displayName = SeparatorPrimitive.Root.displayName;

export { Separator };

```

# components/ui/sheet.tsx

```tsx
'use client';

import * as React from 'react';
import * as SheetPrimitive from '@radix-ui/react-dialog';
import { cva, type VariantProps } from 'class-variance-authority';
import { X } from 'lucide-react';

import { cn } from '@/lib/utils';

const Sheet = SheetPrimitive.Root;

const SheetTrigger = SheetPrimitive.Trigger;

const SheetClose = SheetPrimitive.Close;

const SheetPortal = SheetPrimitive.Portal;

const SheetOverlay = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Overlay
    className={cn(
      'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',
      className
    )}
    {...props}
    ref={ref}
  />
));
SheetOverlay.displayName = SheetPrimitive.Overlay.displayName;

const sheetVariants = cva(
  'fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500',
  {
    variants: {
      side: {
        top: 'inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top',
        bottom:
          'inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom',
        left: 'inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm',
        right:
          'inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm',
      },
    },
    defaultVariants: {
      side: 'right',
    },
  }
);

interface SheetContentProps
  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,
    VariantProps<typeof sheetVariants> {}

const SheetContent = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Content>,
  SheetContentProps
>(({ side = 'right', className, children, ...props }, ref) => (
  <SheetPortal>
    <SheetOverlay />
    <SheetPrimitive.Content
      ref={ref}
      className={cn(sheetVariants({ side }), className)}
      {...props}
    >
      {children}
      <SheetPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </SheetPrimitive.Close>
    </SheetPrimitive.Content>
  </SheetPortal>
));
SheetContent.displayName = SheetPrimitive.Content.displayName;

const SheetHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      'flex flex-col space-y-2 text-center sm:text-left',
      className
    )}
    {...props}
  />
);
SheetHeader.displayName = 'SheetHeader';

const SheetFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',
      className
    )}
    {...props}
  />
);
SheetFooter.displayName = 'SheetFooter';

const SheetTitle = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Title
    ref={ref}
    className={cn('text-lg font-semibold text-foreground', className)}
    {...props}
  />
));
SheetTitle.displayName = SheetPrimitive.Title.displayName;

const SheetDescription = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Description
    ref={ref}
    className={cn('text-sm text-muted-foreground', className)}
    {...props}
  />
));
SheetDescription.displayName = SheetPrimitive.Description.displayName;

export {
  Sheet,
  SheetPortal,
  SheetOverlay,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
};

```

# components/ui/skeleton.tsx

```tsx
import { cn } from '@/lib/utils';

function Skeleton({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) {
  return (
    <div
      className={cn('animate-pulse rounded-md bg-muted', className)}
      {...props}
    />
  );
}

export { Skeleton };

```

# components/ui/slide-context-menu.tsx

```tsx
'use client';

import { useState, useRef, useEffect } from 'react';
import { Button } from '@/components/ui/button';
import { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';
import { 
  Files, 
  Trash2, 
  ArrowUp, 
  ArrowDown, 
  Download,
  Eye
} from 'lucide-react';

interface SlideContextMenuProps {
  isOpen: boolean;
  position: { x: number; y: number };
  onClose: () => void;
  slideIndex: number;
  totalSlides: number;
  onDuplicate?: (index: number) => void;
  onDelete?: (index: number) => void;
  onMoveUp?: (index: number) => void;
  onMoveDown?: (index: number) => void;
  onHide?: (index: number) => void;
  onExport?: (index: number) => void;
  variant?: 'sidebar' | 'main'; // Different layouts for different contexts
}

export function SlideContextMenu({
  isOpen,
  position,
  onClose,
  slideIndex,
  totalSlides,
  onDuplicate,
  onDelete,
  onMoveUp,
  onMoveDown,
  onHide,
  onExport,
  variant = 'sidebar'
}: SlideContextMenuProps) {
  const menuRef = useRef<HTMLDivElement>(null);

  // Close menu when clicking outside
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {
        onClose();
      }
    };

    if (isOpen) {
      document.addEventListener('mousedown', handleClickOutside);
      return () => document.removeEventListener('mousedown', handleClickOutside);
    }
  }, [isOpen, onClose]);

  // Close menu on escape key
  useEffect(() => {
    const handleEscape = (event: KeyboardEvent) => {
      if (event.key === 'Escape') {
        onClose();
      }
    };

    if (isOpen) {
      document.addEventListener('keydown', handleEscape);
      return () => document.removeEventListener('keydown', handleEscape);
    }
  }, [isOpen, onClose]);

  if (!isOpen) return null;

  const menuItems = [
    {
      icon: Files,
      label: 'Duplicate',
      onClick: () => { onDuplicate?.(slideIndex); onClose(); },
      enabled: true
    },
    { divider: true },
    {
      icon: ArrowUp,
      label: 'Move up',
      onClick: () => { onMoveUp?.(slideIndex); onClose(); },
      enabled: slideIndex > 0
    },
    {
      icon: ArrowDown,
      label: 'Move down',
      onClick: () => { onMoveDown?.(slideIndex); onClose(); },
      enabled: slideIndex < totalSlides - 1
    },
    { divider: true },
    {
      icon: Download,
      label: 'Export slide',
      onClick: () => { onExport?.(slideIndex); onClose(); },
      enabled: true
    },
    {
      icon: Eye,
      label: 'Hide slide',
      onClick: () => { onHide?.(slideIndex); onClose(); },
      enabled: true
    },
    { divider: true },
    {
      icon: Trash2,
      label: 'Delete',
      onClick: () => { onDelete?.(slideIndex); onClose(); },
      enabled: totalSlides > 1,
      destructive: true
    }
  ].filter(item => item.divider || item.enabled);

  return (
    <div
      ref={menuRef}
      className={`fixed z-50 bg-white/90 backdrop-blur-md border border-white/20 rounded-lg shadow-xl py-1 ${
        variant === 'main' ? 'min-w-0' : 'min-w-[200px]'
      }`}
      style={{
        left: position.x + 2,
        top: position.y + 2,
      }}
    >
      {variant === 'main' ? (
        // Icon-based layout for main slides area - compact version
        <TooltipProvider>
          <div className="grid grid-cols-3 gap-0.5 p-1.5">
            {menuItems.filter(item => !item.divider && item.enabled && item.icon).map((item, index) => {
              const IconComponent = item.icon!;
              return (
                <Tooltip key={index}>
                  <TooltipTrigger asChild>
                    <Button
                      variant="ghost"
                      size="sm"
                      onClick={item.onClick}
                      disabled={!item.enabled}
                      className={`
                        h-8 w-8 p-0 rounded-md
                        ${item.destructive 
                          ? 'text-red-600 hover:text-red-700 hover:bg-red-50' 
                          : 'text-gray-700 hover:text-gray-900 hover:bg-gray-100'
                        }
                      `}
                    >
                      <IconComponent className="w-3.5 h-3.5" />
                    </Button>
                  </TooltipTrigger>
                  <TooltipContent>
                    <p>{item.label}</p>
                  </TooltipContent>
                </Tooltip>
              );
            })}
          </div>
        </TooltipProvider>
      ) : (
        // Text-based layout for sidebar
        <>
          {menuItems.map((item, index) => (
            item.divider ? (
              <div key={index} className="h-px bg-white/20 my-1" />
            ) : (
              <button
                key={index}
                onClick={item.onClick}
                disabled={!item.enabled}
                className={`
                  w-full flex items-center gap-3 px-3 py-2 text-sm
                  ${item.enabled 
                    ? `${item.destructive 
                        ? 'text-red-600 hover:text-red-700 hover:bg-red-50' 
                        : 'text-gray-700 hover:text-gray-900 hover:bg-gray-100'
                      }` 
                    : 'text-gray-400 cursor-not-allowed'
                  }
                  transition-colors
                `}
              >
                {item.icon && (() => {
                  const IconComponent = item.icon;
                  return <IconComponent className="w-4 h-4" />;
                })()}
                <span className="flex-1 text-left">{item.label}</span>
              </button>
            )
          ))}
        </>
      )}
    </div>
  );
} 
```

# components/ui/slide-drag-handle.tsx

```tsx
'use client';

import { useState } from 'react';
import { GripVertical, MoreVertical } from 'lucide-react';
import { useSortable } from '@dnd-kit/sortable';
import { CSS } from '@dnd-kit/utilities';
import { SlideContextMenu } from '@/components/ui/slide-context-menu';
import { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';

interface SlideDragHandleProps {
  slideId: string;
  slideIndex: number;
  totalSlides: number;
  children: React.ReactNode;
  onDuplicate?: (index: number) => void;
  onDelete?: (index: number) => void;
  onMoveUp?: (index: number) => void;
  onMoveDown?: (index: number) => void;
  onHide?: (index: number) => void;
  onExport?: (index: number) => void;
}

export function SlideDragHandle({ 
  slideId, 
  slideIndex, 
  totalSlides, 
  children,
  onDuplicate,
  onDelete,
  onMoveUp,
  onMoveDown,
  onHide,
  onExport
}: SlideDragHandleProps) {
  const [isHovered, setIsHovered] = useState(false);
  const [showContextMenu, setShowContextMenu] = useState(false);
  const [contextMenuPosition, setContextMenuPosition] = useState({ x: 0, y: 0 });
  
  const {
    attributes,
    listeners,
    setNodeRef,
    transform,
    transition,
    isDragging,
  } = useSortable({ id: slideId });

  const style = {
    transform: CSS.Transform.toString(transform),
    transition,
  };

  return (
    <TooltipProvider>
      <div
        ref={setNodeRef}
        style={style}
        className={`relative ${isDragging ? 'z-50' : ''}`}
        onMouseEnter={() => setIsHovered(true)}
        onMouseLeave={() => setIsHovered(false)}
      >
        {/* Drag Handle and Context Menu - appears on hover */}
        <div
          className={`
            absolute -top-2 -left-2 z-10 flex gap-1
            transition-all duration-200 ease-out
            ${isHovered 
              ? 'opacity-100 scale-100 translate-y-0' 
              : 'opacity-0 scale-95 translate-y-1 pointer-events-none'
            }
            ${isDragging ? 'opacity-100 scale-110' : ''}
          `}
        >
          {/* Drag Handle */}
          <Tooltip>
            <TooltipTrigger asChild>
              <div
                className="w-8 h-8 rounded-full bg-white/10 backdrop-blur-md border border-white/20 flex items-center justify-center cursor-grab active:cursor-grabbing hover:bg-white/20 transition-colors"
                {...attributes}
                {...listeners}
              >
                <GripVertical className="w-4 h-4 text-white/80" />
              </div>
            </TooltipTrigger>
            <TooltipContent>
              <p>Drag to reorder slide</p>
            </TooltipContent>
          </Tooltip>
          
          {/* Context Menu Button */}
          <Tooltip>
            <TooltipTrigger asChild>
              <div
                className="w-8 h-8 rounded-full bg-white/10 backdrop-blur-md border border-white/20 flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors"
                onClick={(e) => {
                  e.stopPropagation();
                  setContextMenuPosition({ x: e.clientX, y: e.clientY });
                  setShowContextMenu(true);
                }}
              >
                <MoreVertical className="w-4 h-4 text-white/80" />
              </div>
            </TooltipTrigger>
            <TooltipContent>
              <p>Slide options</p>
            </TooltipContent>
          </Tooltip>
        </div>

      {/* Slide Content */}
      <div className={isDragging ? 'opacity-50' : ''}>
        {children}
      </div>

      {/* Context Menu */}
      <SlideContextMenu
        isOpen={showContextMenu}
        position={contextMenuPosition}
        onClose={() => setShowContextMenu(false)}
        slideIndex={slideIndex}
        totalSlides={totalSlides}
        variant="main"
        onDuplicate={onDuplicate}
        onDelete={onDelete}
        onMoveUp={onMoveUp}
        onMoveDown={onMoveDown}
        onHide={onHide}
        onExport={onExport}
      />
      </div>
    </TooltipProvider>
  );
} 
```

# components/ui/slider.tsx

```tsx
'use client';

import * as React from 'react';
import * as SliderPrimitive from '@radix-ui/react-slider';

import { cn } from '@/lib/utils';

const Slider = React.forwardRef<
  React.ElementRef<typeof SliderPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>
>(({ className, ...props }, ref) => (
  <SliderPrimitive.Root
    ref={ref}
    className={cn(
      'relative flex w-full touch-none select-none items-center',
      className
    )}
    {...props}
  >
    <SliderPrimitive.Track className="relative h-2 w-full grow overflow-hidden rounded-full bg-secondary">
      <SliderPrimitive.Range className="absolute h-full bg-primary" />
    </SliderPrimitive.Track>
    <SliderPrimitive.Thumb className="block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" />
  </SliderPrimitive.Root>
));
Slider.displayName = SliderPrimitive.Root.displayName;

export { Slider };

```

# components/ui/slides-header.tsx

```tsx
'use client';

import React from 'react';
import Link from 'next/link';
import { Button } from './button';
import { ThemesButton } from './themes-button';
import { Presentation, Home } from 'lucide-react';

interface SlidesHeaderProps {
  title?: string;
  showHomeButton?: boolean;
  additionalButtons?: React.ReactNode;
}

export function SlidesHeader({ title, showHomeButton = false, additionalButtons }: SlidesHeaderProps) {
  return (
    <header className="bg-white/80 backdrop-blur-sm border-b border-white/20 px-6 py-4 sticky top-0 z-20">
      <div className="flex items-center justify-between">
        <div className="flex items-center space-x-4">
          {showHomeButton ? (
            <Link href="/" className="flex items-center text-white/80 hover:text-white transition-colors">
              <Home className="w-5 h-5 mr-2" />
              Home
            </Link>
          ) : (
            <div className="flex items-center space-x-2">
              <Presentation className="h-6 w-6 text-gray-700" />
              <span className="text-lg font-semibold text-gray-900">
                {title || 'PresentAI'}
              </span>
            </div>
          )}
        </div>
        
        <div className="flex items-center space-x-2">
          <ThemesButton />
          {additionalButtons}
        </div>
      </div>
    </header>
  );
} 
```

# components/ui/slides-sidebar.tsx

```tsx
'use client';

import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { SlideRenderer, SlideData } from '@/components/slides/SlideRenderer';
import { DndContext, closestCenter, KeyboardSensor, PointerSensor, useSensor, useSensors } from '@dnd-kit/core';
import { arrayMove, SortableContext, sortableKeyboardCoordinates, verticalListSortingStrategy } from '@dnd-kit/sortable';
import { useSortable } from '@dnd-kit/sortable';
import { CSS } from '@dnd-kit/utilities';
import { SlideContextMenu } from '@/components/ui/slide-context-menu';
import { 
  ChevronLeft, 
  ChevronRight, 
  Plus,
  FileText,
  Sparkles,
  ChevronDown,
  ChevronUp
} from 'lucide-react';

// Helper functions to extract text from HTML content
function getSlideTitle(slide: SlideData): string {
  // First try the legacy title field
  if (slide.title) {
    return slide.title;
  }
  
  // Extract title from HTML content
  if (slide.content) {
    // Try to extract h1, h2, or h3 tags
    const titleMatch = slide.content.match(/<h[1-3][^>]*>(.*?)<\/h[1-3]>/i);
    if (titleMatch) {
      return titleMatch[1].replace(/<[^>]*>/g, '').trim();
    }
    
    // Fallback to first line of text content
    const textContent = slide.content.replace(/<[^>]*>/g, '').trim();
    const firstLine = textContent.split('\n')[0];
    if (firstLine.length > 0) {
      return firstLine.length > 50 ? firstLine.substring(0, 47) + '...' : firstLine;
    }
  }
  
  return 'Untitled Slide';
}

function getSlidePreview(slide: SlideData): string {
  // First try the legacy bulletPoints field
  if (slide.bulletPoints && slide.bulletPoints.length > 0) {
    return slide.bulletPoints[0];
  }
  
  // Extract preview from HTML content
  if (slide.content) {
    // Remove HTML tags and get plain text
    let textContent = slide.content.replace(/<[^>]*>/g, '').trim();
    
    // Remove the title part (first line) to get the content
    const lines = textContent.split('\n').filter(line => line.trim().length > 0);
    if (lines.length > 1) {
      // Skip the first line (title) and get the next meaningful content
      const contentLines = lines.slice(1);
      const preview = contentLines.join(' ').trim();
      return preview.length > 100 ? preview.substring(0, 97) + '...' : preview;
    } else if (lines.length === 1) {
      // If only one line, show a portion of it
      const content = lines[0];
      return content.length > 50 ? content.substring(0, 47) + '...' : content;
    }
  }
  
  return 'No content';
}

// Sortable slide item component
function SortableSlideItem({ 
  slide, 
  index, 
  currentSlideIndex, 
  showTextView, 
  onSlideSelect,
  onContextMenu
}: {
  slide: SlideData;
  index: number;
  currentSlideIndex: number;
  showTextView: boolean;
  onSlideSelect: (index: number) => void;
  onContextMenu: (event: React.MouseEvent, index: number) => void;
}) {
  const {
    attributes,
    listeners,
    setNodeRef,
    transform,
    transition,
    isDragging,
  } = useSortable({ id: slide.id });

  const style = {
    transform: CSS.Transform.toString(transform),
    transition: isDragging ? transition : undefined,
  };

  return (
    <div
      ref={setNodeRef}
      style={style}
      {...attributes}
      {...listeners}
      onClick={() => onSlideSelect(index)}
      onContextMenu={(e) => onContextMenu(e, index)}
      className={`
        group cursor-pointer rounded-lg border transition-all duration-200
        ${currentSlideIndex === index 
          ? 'border-white/40 bg-white/20' 
          : 'border-white/10 hover:border-white/30 hover:bg-white/10'
        }
        ${isDragging ? 'opacity-50 z-50' : ''}
      `}
    >
      {showTextView ? (
        // Text View
        <div className="p-3">
          <div className="flex items-start gap-3">
            <div className="text-xs text-white/60 font-medium mt-0.5 min-w-[16px]">
              {index + 1}
            </div>
            <div className="flex-1 min-w-0">
              <h4 className="text-white text-sm font-medium truncate">
                {getSlideTitle(slide)}
              </h4>
              <p className="text-white/60 text-xs mt-1 line-clamp-2">
                {getSlidePreview(slide)}
              </p>
            </div>
          </div>
        </div>
      ) : (
        // Thumbnail View
        <div className="p-2">
          <div 
            className="w-full h-full bg-white/5 rounded border border-white/10 overflow-hidden relative"
            style={{ aspectRatio: '1200/650' }}
          >
            <div 
              className="absolute bottom-2 right-2 z-10 bg-black/60 text-white text-xs font-medium rounded-full w-6 h-6 flex items-center justify-center"
            >
              {index + 1}
            </div>
            
            <div 
              className="absolute inset-0 w-full h-full"
              style={{
                transform: 'scale(0.25)',
                transformOrigin: 'center',
                width: '400%',
                height: '400%',
                left: '-150%',
                top: '-150%'
              }}
            >
              <div className="w-full h-full pointer-events-none">
                <SlideRenderer 
                  slide={slide} 
                  isEditable={false}
                />
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}

interface SlidesSidebarProps {
  slides: SlideData[];
  currentSlideIndex: number;
  onSlideSelect: (index: number) => void;
  onAddSlide?: () => void;
  onAddFromTemplate?: () => void;
  onAddWithAI?: () => void;
  onReorderSlides?: (oldIndex: number, newIndex: number) => void;
  onDuplicateSlide?: (index: number) => void;
  onDeleteSlide?: (index: number) => void;
  onMoveSlideUp?: (index: number) => void;
  onMoveSlideDown?: (index: number) => void;
  onHideSlide?: (index: number) => void;
  onExportSlide?: (index: number) => void;
}

export function SlidesSidebar({ 
  slides, 
  currentSlideIndex, 
  onSlideSelect,
  onAddSlide,
  onAddFromTemplate,
  onAddWithAI,
  onReorderSlides,
  onDuplicateSlide,
  onDeleteSlide,
  onMoveSlideUp,
  onMoveSlideDown,
  onHideSlide,
  onExportSlide
}: SlidesSidebarProps) {
  const [isCollapsed, setIsCollapsed] = useState(false);
  const [showTextView, setShowTextView] = useState(false);
  const [showNewMenu, setShowNewMenu] = useState(false);
  const [contextMenu, setContextMenu] = useState<{
    isOpen: boolean;
    position: { x: number; y: number };
    slideIndex: number;
  }>({
    isOpen: false,
    position: { x: 0, y: 0 },
    slideIndex: -1
  });

  // Drag and drop sensors
  const sensors = useSensors(
    useSensor(PointerSensor, {
      activationConstraint: {
        distance: 8,
      },
    }),
    useSensor(KeyboardSensor, {
      coordinateGetter: sortableKeyboardCoordinates,
    })
  );

  const handleDragEnd = (event: any) => {
    const { active, over } = event;

    if (active.id !== over?.id && onReorderSlides) {
      const oldIndex = slides.findIndex(slide => slide.id === active.id);
      const newIndex = slides.findIndex(slide => slide.id === over.id);
      onReorderSlides(oldIndex, newIndex);
    }
  };

  const handleContextMenu = (event: React.MouseEvent, slideIndex: number) => {
    event.preventDefault();
    setContextMenu({
      isOpen: true,
      position: { x: event.clientX, y: event.clientY },
      slideIndex
    });
  };

  if (isCollapsed) {
    return (
      <div className="fixed left-4 top-1/2 transform -translate-y-1/2 z-50">
        <Button
          variant="ghost"
          size="sm"
          onClick={() => setIsCollapsed(false)}
          className="bg-white/10 backdrop-blur-sm border border-white/20 text-white hover:bg-white/20 rounded-lg p-2"
        >
          <ChevronRight className="w-4 h-4" />
        </Button>
      </div>
    );
  }

  return (
    <div className="fixed left-4 top-1/2 transform -translate-y-1/2 z-50 w-64">
      <div className="bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl shadow-2xl max-h-[80vh] flex flex-col">
        {/* Header */}
        <div className="p-4 border-b border-white/20">
          <div className="flex items-center justify-between mb-3">
            <h3 className="text-white font-medium text-sm">Slides</h3>
            <Button
              variant="ghost"
              size="sm"
              onClick={() => setIsCollapsed(true)}
              className="text-white/70 hover:text-white hover:bg-white/10 p-1"
            >
              <ChevronLeft className="w-3.5 h-3.5" />
            </Button>
          </div>
          
          {/* Tab Navigation */}
          <div className="flex bg-white/10 rounded-lg p-1">
            <button
              onClick={() => setShowTextView(false)}
              title="Thumbnails view" // Tooltip on hover
              className={`flex-1 flex items-center justify-center px-3 py-2 rounded text-xs font-medium transition-all ${
                !showTextView 
                  ? 'bg-white/20 text-white shadow-sm' 
                  : 'text-white/70 hover:text-white hover:bg-white/10'
              }`}
            >
              <div className="w-3.5 h-3.5 grid grid-cols-2 gap-0.5">
                <div className="bg-current rounded-[1px]"></div>
                <div className="bg-current rounded-[1px]"></div>
                <div className="bg-current rounded-[1px]"></div>
                <div className="bg-current rounded-[1px]"></div>
              </div>
            </button>
            <button
              onClick={() => setShowTextView(true)}
              title="Text view" // Tooltip on hover
              className={`flex-1 flex items-center justify-center px-3 py-2 rounded text-xs font-medium transition-all ${
                showTextView 
                  ? 'bg-white/20 text-white shadow-sm' 
                  : 'text-white/70 hover:text-white hover:bg-white/10'
              }`}
            >
              <FileText className="w-3.5 h-3.5" />
            </button>
          </div>
        </div>

        {/* Slides List */}
        <div className="flex-1 overflow-y-auto p-2">
          <DndContext
            sensors={sensors}
            collisionDetection={closestCenter}
            onDragEnd={handleDragEnd}
          >
            <SortableContext
              items={slides.map(slide => slide.id)}
              strategy={verticalListSortingStrategy}
            >
              <div className="space-y-2">
                {slides.map((slide, index) => (
                  <SortableSlideItem
                    key={slide.id}
                    slide={slide}
                    index={index}
                    currentSlideIndex={currentSlideIndex}
                    showTextView={showTextView}
                    onSlideSelect={onSlideSelect}
                    onContextMenu={handleContextMenu}
                  />
                ))}
              </div>
            </SortableContext>
          </DndContext>
        </div>

        {/* Footer with New button and dropdown */}
        <div className="p-2 border-t border-white/20">
          <div className="relative">
            {/* New Menu Dropdown */}
            {showNewMenu && (
              <div className="absolute left-0 top-full mt-2 w-64 bg-white/40 backdrop-blur-sm border border-white/20 rounded-lg shadow-xl z-10">
                {/* 
                  - left-0: aligns dropdown to left edge of button
                  - top-full mt-2: positions dropdown below the button with margin
                  - bg-white/40: more opaque background for better visibility
                */}
                <div className="p-2 space-y-1">
                  <Button
                    variant="ghost"
                    size="sm"
                    onClick={() => {
                      onAddWithAI?.();
                      setShowNewMenu(false);
                    }}
                    className="w-full justify-start text-white/90 hover:text-white hover:bg-white/10 text-sm py-2"
                  >
                    <Sparkles className="w-4 h-4 mr-2" />
                    Add new with AI
                  </Button>
                  <Button
                    variant="ghost"
                    size="sm"
                    onClick={() => {
                      onAddFromTemplate?.();
                      setShowNewMenu(false);
                    }}
                    className="w-full justify-start text-white/90 hover:text-white hover:bg-white/10 text-sm py-2"
                  >
                    <FileText className="w-4 h-4 mr-2" />
                    Add new from template
                  </Button>
                </div>
              </div>
            )}
            
            {/* Split New Button */}
            <div className="flex w-full bg-white/20 hover:bg-white/30 border border-white/30 rounded-lg overflow-hidden">
              {/* Main New Button - Creates slide directly */}
              <button
                onClick={onAddSlide}
                className="flex-1 flex items-center justify-center gap-2 text-white text-sm py-2.5 hover:bg-white/10 transition-colors"
              >
                <Plus className="w-4 h-4" />
                New
              </button>
              
              {/* Dropdown Arrow Button */}
              <button
                onClick={() => setShowNewMenu(!showNewMenu)}
                className="px-3 py-2.5 border-l border-white/30 text-white hover:bg-white/10 transition-colors flex items-center justify-center"
              >
                {showNewMenu ? (
                  <ChevronUp className="w-3.5 h-3.5" />
                ) : (
                  <ChevronDown className="w-3.5 h-3.5" />
                )}
              </button>
            </div>
          </div>
        </div>
      </div>

      {/* Context Menu */}
      <SlideContextMenu
        isOpen={contextMenu.isOpen}
        position={contextMenu.position}
        onClose={() => setContextMenu(prev => ({ ...prev, isOpen: false }))}
        slideIndex={contextMenu.slideIndex}
        totalSlides={slides.length}
        variant="sidebar"
        onDuplicate={onDuplicateSlide}
        onDelete={onDeleteSlide}
        onMoveUp={onMoveSlideUp}
        onMoveDown={onMoveSlideDown}
        onHide={onHideSlide}
        onExport={onExportSlide}
      />
    </div>
  );
} 
```

# components/ui/sonner.tsx

```tsx
'use client';

import { useTheme } from 'next-themes';
import { Toaster as Sonner } from 'sonner';

type ToasterProps = React.ComponentProps<typeof Sonner>;

const Toaster = ({ ...props }: ToasterProps) => {
  const { theme = 'system' } = useTheme();

  return (
    <Sonner
      theme={theme as ToasterProps['theme']}
      className="toaster group"
      toastOptions={{
        classNames: {
          toast:
            'group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg',
          description: 'group-[.toast]:text-muted-foreground',
          actionButton:
            'group-[.toast]:bg-primary group-[.toast]:text-primary-foreground',
          cancelButton:
            'group-[.toast]:bg-muted group-[.toast]:text-muted-foreground',
        },
      }}
      {...props}
    />
  );
};

export { Toaster };

```

# components/ui/switch.tsx

```tsx
'use client';

import * as React from 'react';
import * as SwitchPrimitives from '@radix-ui/react-switch';

import { cn } from '@/lib/utils';

const Switch = React.forwardRef<
  React.ElementRef<typeof SwitchPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>
>(({ className, ...props }, ref) => (
  <SwitchPrimitives.Root
    className={cn(
      'peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input',
      className
    )}
    {...props}
    ref={ref}
  >
    <SwitchPrimitives.Thumb
      className={cn(
        'pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0'
      )}
    />
  </SwitchPrimitives.Root>
));
Switch.displayName = SwitchPrimitives.Root.displayName;

export { Switch };

```

# components/ui/table.tsx

```tsx
import * as React from 'react';

import { cn } from '@/lib/utils';

const Table = React.forwardRef<
  HTMLTableElement,
  React.HTMLAttributes<HTMLTableElement>
>(({ className, ...props }, ref) => (
  <div className="relative w-full overflow-auto">
    <table
      ref={ref}
      className={cn('w-full caption-bottom text-sm', className)}
      {...props}
    />
  </div>
));
Table.displayName = 'Table';

const TableHeader = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <thead ref={ref} className={cn('[&_tr]:border-b', className)} {...props} />
));
TableHeader.displayName = 'TableHeader';

const TableBody = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tbody
    ref={ref}
    className={cn('[&_tr:last-child]:border-0', className)}
    {...props}
  />
));
TableBody.displayName = 'TableBody';

const TableFooter = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tfoot
    ref={ref}
    className={cn(
      'border-t bg-muted/50 font-medium [&>tr]:last:border-b-0',
      className
    )}
    {...props}
  />
));
TableFooter.displayName = 'TableFooter';

const TableRow = React.forwardRef<
  HTMLTableRowElement,
  React.HTMLAttributes<HTMLTableRowElement>
>(({ className, ...props }, ref) => (
  <tr
    ref={ref}
    className={cn(
      'border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted',
      className
    )}
    {...props}
  />
));
TableRow.displayName = 'TableRow';

const TableHead = React.forwardRef<
  HTMLTableCellElement,
  React.ThHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <th
    ref={ref}
    className={cn(
      'h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0',
      className
    )}
    {...props}
  />
));
TableHead.displayName = 'TableHead';

const TableCell = React.forwardRef<
  HTMLTableCellElement,
  React.TdHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <td
    ref={ref}
    className={cn('p-4 align-middle [&:has([role=checkbox])]:pr-0', className)}
    {...props}
  />
));
TableCell.displayName = 'TableCell';

const TableCaption = React.forwardRef<
  HTMLTableCaptionElement,
  React.HTMLAttributes<HTMLTableCaptionElement>
>(({ className, ...props }, ref) => (
  <caption
    ref={ref}
    className={cn('mt-4 text-sm text-muted-foreground', className)}
    {...props}
  />
));
TableCaption.displayName = 'TableCaption';

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
};

```

# components/ui/tabs.tsx

```tsx
'use client';

import * as React from 'react';
import * as TabsPrimitive from '@radix-ui/react-tabs';

import { cn } from '@/lib/utils';

const Tabs = TabsPrimitive.Root;

const TabsList = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.List
    ref={ref}
    className={cn(
      'inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground',
      className
    )}
    {...props}
  />
));
TabsList.displayName = TabsPrimitive.List.displayName;

const TabsTrigger = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Trigger
    ref={ref}
    className={cn(
      'inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm',
      className
    )}
    {...props}
  />
));
TabsTrigger.displayName = TabsPrimitive.Trigger.displayName;

const TabsContent = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Content
    ref={ref}
    className={cn(
      'mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2',
      className
    )}
    {...props}
  />
));
TabsContent.displayName = TabsPrimitive.Content.displayName;

export { Tabs, TabsList, TabsTrigger, TabsContent };

```

# components/ui/template-selection-modal.tsx

```tsx
'use client';

import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { X } from 'lucide-react';

interface TemplateOption {
  id: string;
  name: string;
  description: string;
  preview: string;
}

interface TemplateSelectionModalProps {
  isOpen: boolean;
  onClose: () => void;
  onSelectTemplate: (templateType: string) => void;
}

const templates: TemplateOption[] = [
  {
    id: 'blank-card',
    name: 'Blank Card',
    description: 'Start with a clean slate',
    preview: 'bg-white/10 border-2 border-dashed border-white/30'
  },
  {
    id: 'title-with-bullets',
    name: 'Title with Bullets',
    description: 'Title and bullet points',
    preview: 'bg-white/10'
  },
  {
    id: 'two-columns',
    name: 'Two Columns',
    description: 'Side-by-side content',
    preview: 'bg-white/10'
  },
  {
    id: 'image-and-text',
    name: 'Image and Text',
    description: 'Image with text content',
    preview: 'bg-white/10'
  },
  {
    id: 'text-and-image',
    name: 'Text and Image',
    description: 'Text with side image',
    preview: 'bg-white/10'
  },
  {
    id: 'three-columns',
    name: 'Three Columns',
    description: 'Triple column layout',
    preview: 'bg-white/10'
  },
  {
    id: 'four-columns',
    name: 'Four Columns',
    description: 'Quad column layout',
    preview: 'bg-white/10'
  },
  {
    id: 'bullets',
    name: 'Bullets',
    description: 'Organized bullet points',
    preview: 'bg-white/10'
  },
  {
    id: 'paragraph',
    name: 'Paragraph',
    description: 'Long form content',
    preview: 'bg-white/10'
  }
];

export function TemplateSelectionModal({ isOpen, onClose, onSelectTemplate }: TemplateSelectionModalProps) {
  if (!isOpen) return null;

  return (
    <div className="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
      <div className="bg-white/15 backdrop-blur-md border border-white/20 rounded-xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden">
        {/* Header */}
        <div className="p-6 border-b border-white/20">
          <div className="flex items-center justify-between">
            <div>
              <h2 className="text-xl font-semibold text-white">Choose a template</h2>
              <p className="text-sm text-white/70 mt-1">Select a layout for your new slide</p>
            </div>
            <Button
              variant="ghost"
              size="sm"
              onClick={onClose}
              className="text-white/70 hover:text-white hover:bg-white/10"
            >
              <X className="w-4 h-4" />
            </Button>
          </div>
        </div>

        {/* Template Grid */}
        <div className="p-6 overflow-y-auto max-h-[60vh]">
          <div className="grid grid-cols-3 gap-4">
            {templates.map((template) => (
              <button
                key={template.id}
                onClick={() => {
                  onSelectTemplate(template.id);
                  onClose();
                }}
                className="group p-4 rounded-lg border border-white/20 hover:border-white/40 hover:bg-white/10 transition-all duration-200 text-left"
              >
                {/* Template Preview */}
                <div className={`w-full h-24 rounded-md mb-3 ${template.preview} flex items-center justify-center`}>
                  <div className="text-white/60 text-xs">Preview</div>
                </div>
                
                {/* Template Info */}
                <div>
                  <h3 className="text-sm font-medium text-white group-hover:text-white transition-colors">
                    {template.name}
                  </h3>
                  <p className="text-xs text-white/60 mt-1">
                    {template.description}
                  </p>
                </div>
              </button>
            ))}
          </div>
        </div>
      </div>
    </div>
  );
} 
```

# components/ui/textarea.tsx

```tsx
import * as React from "react"

import { cn } from "@/lib/utils"

export interface TextareaProps
  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}

const Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(
  ({ className, ...props }, ref) => {
    return (
      <textarea
        className={cn(
          "flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Textarea.displayName = "Textarea"

export { Textarea }
```

# components/ui/themed-layout.tsx

```tsx
'use client';

import React, { ReactNode } from 'react';
import { useTheme } from '@/contexts/ThemeContext';
import { ThemesSidebar } from './themes-sidebar';

interface ThemedLayoutProps {
  children: ReactNode;
  className?: string;
}

export function ThemedLayout({ children, className = '' }: ThemedLayoutProps) {
  const { currentTheme } = useTheme();

  return (
    <div className={`min-h-screen relative ${className}`}>
      {/* Background Layer */}
      <div 
        className="fixed inset-0 z-0"
        style={{ 
          background: currentTheme.background,
          backgroundSize: currentTheme.category === 'pattern' ? '40px 40px' : 'cover'
        }}
      />
      
      {/* Glass overlay for better readability */}
      <div className="fixed inset-0 z-0 bg-white/5 backdrop-blur-[0.5px]" />
      
      {/* Content Layer */}
      <div className="relative z-10">
        {children}
      </div>
      
      {/* Themes Sidebar */}
      <ThemesSidebar />
    </div>
  );
} 
```

# components/ui/themes-button.tsx

```tsx
'use client';

import React from 'react';
import { Palette } from 'lucide-react';
import { Button } from './button';
import { useTheme } from '@/contexts/ThemeContext';

export function ThemesButton() {
  const { setIsThemesSidebarOpen } = useTheme();

  return (
    <Button
      variant="outline"
      size="sm"
      onClick={() => setIsThemesSidebarOpen(true)}
      className="bg-white/80 backdrop-blur-sm border-white/20 hover:bg-white/90 hover:border-white/30 text-gray-700"
    >
      <Palette className="w-4 h-4 mr-2" />
      Themes
    </Button>
  );
} 
```

# components/ui/themes-sidebar.tsx

```tsx
'use client';

import React from 'react';
import { useParams, usePathname } from 'next/navigation';
import { X, Palette, Circle, Grid, Sparkles } from 'lucide-react';
import { Button } from './button';
import { ScrollArea } from './scroll-area';
import { Badge } from './badge';
import { useTheme } from '@/contexts/ThemeContext';
import { themes, getThemesByCategory, Theme } from '@/lib/themes';

export function ThemesSidebar() {
  const { currentTheme, setTheme, isThemesSidebarOpen, setIsThemesSidebarOpen } = useTheme();
  const params = useParams();
  const pathname = usePathname();

  if (!isThemesSidebarOpen) return null;

  const gradientThemes = getThemesByCategory('gradient');
  const solidThemes = getThemesByCategory('solid');
  const patternThemes = getThemesByCategory('pattern');
  const glassThemes = getThemesByCategory('glass');

  const handleThemeSelect = (theme: Theme) => {
    // Check if we're on a document/slides page and have a document ID
    const documentId = pathname.includes('/docs/') ? params.id as string : undefined;
    setTheme(theme, documentId);
  };

  const getCategoryIcon = (category: Theme['category']) => {
    switch (category) {
      case 'gradient':
        return <Palette className="w-4 h-4" />;
      case 'solid':
        return <Circle className="w-4 h-4" />;
      case 'pattern':
        return <Grid className="w-4 h-4" />;
      case 'glass':
        return <Sparkles className="w-4 h-4" />;
    }
  };

  const ThemeGrid = ({ themes, title, category }: { 
    themes: Theme[], 
    title: string, 
    category: Theme['category'] 
  }) => (
    <div className="mb-8">
      <div className="flex items-center gap-2 mb-4">
        {getCategoryIcon(category)}
        <h3 className="text-sm font-semibold text-gray-900">{title}</h3>
        <Badge variant="secondary" className="text-xs">
          {themes.length}
        </Badge>
      </div>
      <div className="grid grid-cols-2 gap-3">
        {themes.map((theme) => (
          <div
            key={theme.id}
            className={`
              group relative cursor-pointer rounded-lg overflow-hidden border-2 transition-all duration-200
              ${currentTheme.id === theme.id 
                ? 'border-blue-500 ring-2 ring-blue-500/20 scale-105' 
                : 'border-gray-200 hover:border-gray-300 hover:scale-105'
              }
            `}
            onClick={() => handleThemeSelect(theme)}
          >
            <div 
              className="aspect-video w-full relative"
              style={{ 
                background: theme.background.includes('gradient') || theme.background.includes('radial') || theme.background.includes('repeating')
                  ? theme.background 
                  : theme.background,
                backgroundSize: theme.category === 'pattern' ? '20px 20px' : 'cover'
              }}
            >
              {theme.category === 'glass' && (
                <div className="absolute inset-0 backdrop-blur-sm" />
              )}
              <div className="absolute inset-0 bg-black/10 group-hover:bg-black/5 transition-colors" />
              
              {/* Preview content */}
              <div className="absolute inset-2 flex flex-col justify-center items-center text-center">
                <div className="w-8 h-8 rounded bg-white/20 backdrop-blur-sm mb-1 flex items-center justify-center">
                  <div className="w-4 h-4 rounded bg-white/40" />
                </div>
                <div className="w-12 h-1 bg-white/30 rounded mb-1" />
                <div className="w-8 h-1 bg-white/20 rounded" />
              </div>
              
              {/* Selection indicator */}
              {currentTheme.id === theme.id && (
                <div className="absolute top-2 right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center">
                  <div className="w-2 h-2 bg-white rounded-full" />
                </div>
              )}
            </div>
            
            <div className="p-2 bg-white">
              <p className="text-xs font-medium text-gray-900 truncate">
                {theme.name}
              </p>
            </div>
          </div>
        ))}
      </div>
    </div>
  );

  return (
    <div className="fixed inset-0 z-50 flex">
      {/* Backdrop */}
      <div 
        className="fixed inset-0 bg-black/50 backdrop-blur-sm"
        onClick={() => setIsThemesSidebarOpen(false)}
      />
      
      {/* Sidebar */}
      <div className="relative ml-auto w-80 bg-white shadow-2xl">
        <div className="flex flex-col h-full">
          {/* Header */}
          <div className="flex items-center justify-between p-4 border-b border-gray-200">
            <div className="flex items-center gap-2">
              <Palette className="w-5 h-5 text-gray-700" />
              <h2 className="text-lg font-semibold text-gray-900">Themes</h2>
            </div>
            <Button
              variant="ghost"
              size="sm"
              onClick={() => setIsThemesSidebarOpen(false)}
              className="p-1 h-auto hover:bg-gray-100"
            >
              <X className="w-4 h-4" />
            </Button>
          </div>
          
          {/* Content */}
          <ScrollArea className="flex-1 p-4">
            <div className="space-y-6">
              <ThemeGrid 
                themes={gradientThemes} 
                title="Gradients" 
                category="gradient" 
              />
              <ThemeGrid 
                themes={solidThemes} 
                title="Solid Colors" 
                category="solid" 
              />
              <ThemeGrid 
                themes={patternThemes} 
                title="Patterns" 
                category="pattern" 
              />
              <ThemeGrid 
                themes={glassThemes} 
                title="Glass Effects" 
                category="glass" 
              />
            </div>
          </ScrollArea>
        </div>
      </div>
    </div>
  );
} 
```

# components/ui/toast.tsx

```tsx
'use client';

import * as React from 'react';
import * as ToastPrimitives from '@radix-ui/react-toast';
import { cva, type VariantProps } from 'class-variance-authority';
import { X } from 'lucide-react';

import { cn } from '@/lib/utils';

const ToastProvider = ToastPrimitives.Provider;

const ToastViewport = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Viewport>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Viewport
    ref={ref}
    className={cn(
      'fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]',
      className
    )}
    {...props}
  />
));
ToastViewport.displayName = ToastPrimitives.Viewport.displayName;

const toastVariants = cva(
  'group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full',
  {
    variants: {
      variant: {
        default: 'border bg-background text-foreground',
        destructive:
          'destructive group border-destructive bg-destructive text-destructive-foreground',
      },
    },
    defaultVariants: {
      variant: 'default',
    },
  }
);

const Toast = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &
    VariantProps<typeof toastVariants>
>(({ className, variant, ...props }, ref) => {
  return (
    <ToastPrimitives.Root
      ref={ref}
      className={cn(toastVariants({ variant }), className)}
      {...props}
    />
  );
});
Toast.displayName = ToastPrimitives.Root.displayName;

const ToastAction = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Action>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Action
    ref={ref}
    className={cn(
      'inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive',
      className
    )}
    {...props}
  />
));
ToastAction.displayName = ToastPrimitives.Action.displayName;

const ToastClose = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Close>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Close
    ref={ref}
    className={cn(
      'absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600',
      className
    )}
    toast-close=""
    {...props}
  >
    <X className="h-4 w-4" />
  </ToastPrimitives.Close>
));
ToastClose.displayName = ToastPrimitives.Close.displayName;

const ToastTitle = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Title>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Title
    ref={ref}
    className={cn('text-sm font-semibold', className)}
    {...props}
  />
));
ToastTitle.displayName = ToastPrimitives.Title.displayName;

const ToastDescription = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Description>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Description
    ref={ref}
    className={cn('text-sm opacity-90', className)}
    {...props}
  />
));
ToastDescription.displayName = ToastPrimitives.Description.displayName;

type ToastProps = React.ComponentPropsWithoutRef<typeof Toast>;

type ToastActionElement = React.ReactElement<typeof ToastAction>;

export {
  type ToastProps,
  type ToastActionElement,
  ToastProvider,
  ToastViewport,
  Toast,
  ToastTitle,
  ToastDescription,
  ToastClose,
  ToastAction,
};

```

# components/ui/toaster.tsx

```tsx
'use client';

import { useToast } from '@/hooks/use-toast';
import {
  Toast,
  ToastClose,
  ToastDescription,
  ToastProvider,
  ToastTitle,
  ToastViewport,
} from '@/components/ui/toast';

export function Toaster() {
  const { toasts } = useToast();

  return (
    <ToastProvider>
      {toasts.map(function ({ id, title, description, action, ...props }) {
        return (
          <Toast key={id} {...props}>
            <div className="grid gap-1">
              {title && <ToastTitle>{title}</ToastTitle>}
              {description && (
                <ToastDescription>{description}</ToastDescription>
              )}
            </div>
            {action}
            <ToastClose />
          </Toast>
        );
      })}
      <ToastViewport />
    </ToastProvider>
  );
}

```

# components/ui/toggle-group.tsx

```tsx
'use client';

import * as React from 'react';
import * as ToggleGroupPrimitive from '@radix-ui/react-toggle-group';
import { type VariantProps } from 'class-variance-authority';

import { cn } from '@/lib/utils';
import { toggleVariants } from '@/components/ui/toggle';

const ToggleGroupContext = React.createContext<
  VariantProps<typeof toggleVariants>
>({
  size: 'default',
  variant: 'default',
});

const ToggleGroup = React.forwardRef<
  React.ElementRef<typeof ToggleGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &
    VariantProps<typeof toggleVariants>
>(({ className, variant, size, children, ...props }, ref) => (
  <ToggleGroupPrimitive.Root
    ref={ref}
    className={cn('flex items-center justify-center gap-1', className)}
    {...props}
  >
    <ToggleGroupContext.Provider value={{ variant, size }}>
      {children}
    </ToggleGroupContext.Provider>
  </ToggleGroupPrimitive.Root>
));

ToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName;

const ToggleGroupItem = React.forwardRef<
  React.ElementRef<typeof ToggleGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &
    VariantProps<typeof toggleVariants>
>(({ className, children, variant, size, ...props }, ref) => {
  const context = React.useContext(ToggleGroupContext);

  return (
    <ToggleGroupPrimitive.Item
      ref={ref}
      className={cn(
        toggleVariants({
          variant: context.variant || variant,
          size: context.size || size,
        }),
        className
      )}
      {...props}
    >
      {children}
    </ToggleGroupPrimitive.Item>
  );
});

ToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName;

export { ToggleGroup, ToggleGroupItem };

```

# components/ui/toggle.tsx

```tsx
'use client';

import * as React from 'react';
import * as TogglePrimitive from '@radix-ui/react-toggle';
import { cva, type VariantProps } from 'class-variance-authority';

import { cn } from '@/lib/utils';

const toggleVariants = cva(
  'inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground',
  {
    variants: {
      variant: {
        default: 'bg-transparent',
        outline:
          'border border-input bg-transparent hover:bg-accent hover:text-accent-foreground',
      },
      size: {
        default: 'h-10 px-3',
        sm: 'h-9 px-2.5',
        lg: 'h-11 px-5',
      },
    },
    defaultVariants: {
      variant: 'default',
      size: 'default',
    },
  }
);

const Toggle = React.forwardRef<
  React.ElementRef<typeof TogglePrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &
    VariantProps<typeof toggleVariants>
>(({ className, variant, size, ...props }, ref) => (
  <TogglePrimitive.Root
    ref={ref}
    className={cn(toggleVariants({ variant, size, className }))}
    {...props}
  />
));

Toggle.displayName = TogglePrimitive.Root.displayName;

export { Toggle, toggleVariants };

```

# components/ui/tooltip.tsx

```tsx
'use client';

import * as React from 'react';
import * as TooltipPrimitive from '@radix-ui/react-tooltip';

import { cn } from '@/lib/utils';

const TooltipProvider = TooltipPrimitive.Provider;

const Tooltip = TooltipPrimitive.Root;

const TooltipTrigger = TooltipPrimitive.Trigger;

const TooltipContent = React.forwardRef<
  React.ElementRef<typeof TooltipPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <TooltipPrimitive.Content
    ref={ref}
    sideOffset={sideOffset}
    className={cn(
      'z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',
      className
    )}
    {...props}
  />
));
TooltipContent.displayName = TooltipPrimitive.Content.displayName;

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };

```

# contexts/ThemeContext.tsx

```tsx
'use client';

import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';
import { Theme, defaultTheme, getThemeById } from '@/lib/themes';

interface ThemeContextType {
  currentTheme: Theme;
  setTheme: (theme: Theme, documentId?: string) => void;
  getThemeForDocument: (documentId: string) => Theme;
  isThemesSidebarOpen: boolean;
  setIsThemesSidebarOpen: (open: boolean) => void;
}

const ThemeContext = createContext<ThemeContextType | undefined>(undefined);

interface ThemeProviderProps {
  children: ReactNode;
}

export function ThemeProvider({ children }: ThemeProviderProps) {
  const [currentTheme, setCurrentTheme] = useState<Theme>(defaultTheme);
  const [isThemesSidebarOpen, setIsThemesSidebarOpen] = useState(false);

  // Load theme from localStorage on mount (fallback for global theme)
  useEffect(() => {
    const savedThemeId = localStorage.getItem('selected-theme');
    if (savedThemeId) {
      const theme = getThemeById(savedThemeId);
      setCurrentTheme(theme);
    }
  }, []);

  const setTheme = (theme: Theme, documentId?: string) => {
    setCurrentTheme(theme);
    if (documentId) {
      // Store theme per document
      localStorage.setItem(`document-theme-${documentId}`, theme.id);
    } else {
      // Fallback global theme
      localStorage.setItem('selected-theme', theme.id);
    }
  };

  const getThemeForDocument = (documentId: string): Theme => {
    const savedThemeId = localStorage.getItem(`document-theme-${documentId}`);
    if (savedThemeId) {
      return getThemeById(savedThemeId);
    }
    // Fallback to global theme
    const globalThemeId = localStorage.getItem('selected-theme');
    return globalThemeId ? getThemeById(globalThemeId) : defaultTheme;
  };

  const value: ThemeContextType = {
    currentTheme,
    setTheme,
    getThemeForDocument,
    isThemesSidebarOpen,
    setIsThemesSidebarOpen,
  };

  return (
    <ThemeContext.Provider value={value}>
      {children}
    </ThemeContext.Provider>
  );
}

export function useTheme() {
  const context = useContext(ThemeContext);
  if (context === undefined) {
    throw new Error('useTheme must be used within a ThemeProvider');
  }
  return context;
} 
```

# debug-ai-sdk.js

```js
const { config } = require('dotenv');
const { createAzure } = require('@ai-sdk/azure');
const { generateText } = require('ai');

// Load environment variables from .env.local
config({ path: '.env.local' });

const endpoint = process.env.AZURE_OPENAI_ENDPOINT;
const apiKey = process.env.AZURE_OPENAI_API_KEY || process.env.AZURE_API_KEY;

console.log('ğŸ” Debugging AI SDK Configuration...');
console.log('Endpoint from env:', endpoint);
console.log('API Key length:', apiKey?.length || 0);
console.log('---\n');

// Test different AI SDK configurations
async function testDifferentConfigurations() {
  const configurationsToTest = [
    {
      name: 'Using resourceName only (correct approach)',
      config: {
        apiKey: apiKey,
        apiVersion: '2024-04-01-preview',
        resourceName: 'openai-mpl-eastus',  // extracted from your endpoint URL
      }
    },
    {
      name: 'Current app config (baseURL) - Known to fail',
      config: {
        apiKey: apiKey,
        apiVersion: '2024-04-01-preview',
        baseURL: endpoint,
      }
    },
    {
      name: 'Direct endpoint construction',
      config: {
        apiKey: apiKey,
        apiVersion: '2024-04-01-preview',
        baseURL: 'https://openai-mpl-eastus.openai.azure.com/',
      }
    },
    {
      name: 'Without trailing slash',
      config: {
        apiKey: apiKey,
        apiVersion: '2024-04-01-preview',
        baseURL: 'https://openai-mpl-eastus.openai.azure.com',
      }
    },
    {
      name: 'Different API version with resourceName',
      config: {
        apiKey: apiKey,
        apiVersion: '2025-01-01-preview',
        resourceName: 'openai-mpl-eastus',
      }
    }
  ];

  for (const testConfig of configurationsToTest) {
    console.log(`ğŸ§ª Testing: ${testConfig.name}`);
    console.log('Config:', JSON.stringify(testConfig.config, null, 2));
    
    try {
      const azureOpenAI = createAzure(testConfig.config);
      
      const { text } = await generateText({
        model: azureOpenAI('gpt-4o-mini'),
        prompt: 'Say hello briefly.',
        maxTokens: 10,
        temperature: 0.1,
      });
      
      console.log('âœ… SUCCESS!');
      console.log('Response:', text);
      console.log('ğŸ‰ This configuration works!\n');
      break; // Stop on first success
      
    } catch (error) {
      console.log('âŒ FAILED');
      console.log('Error:', error.message);
      if (error.cause) {
        console.log('Cause:', error.cause.message);
      }
      if (error.cause?.response) {
        console.log('Response Status:', error.cause.response?.status);
        console.log('Response URL:', error.cause.response?.url);
      }
      console.log('---\n');
    }
  }
}

// Compare with working native SDK setup
function showNativeSDKSetup() {
  console.log('ğŸ“‹ Working Native SDK Setup:');
  console.log('const client = new AzureOpenAI({');
  console.log('  endpoint: "' + endpoint + '",');
  console.log('  apiKey: "' + (apiKey ? '[HIDDEN]' : 'MISSING') + '",');
  console.log('  deployment: "gpt-4o-mini",');
  console.log('  apiVersion: "2024-04-01-preview"');
  console.log('});\n');
  
  console.log('ğŸ”— This creates requests to:');
  console.log(endpoint + '/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-04-01-preview');
  console.log('---\n');
}

async function runDebug() {
  showNativeSDKSetup();
  await testDifferentConfigurations();
}

runDebug().catch(console.error); 
```

# hooks/use-toast.ts

```ts
'use client';

// Inspired by react-hot-toast library
import * as React from 'react';

import type { ToastActionElement, ToastProps } from '@/components/ui/toast';

const TOAST_LIMIT = 1;
const TOAST_REMOVE_DELAY = 1000000;

type ToasterToast = ToastProps & {
  id: string;
  title?: React.ReactNode;
  description?: React.ReactNode;
  action?: ToastActionElement;
};

const actionTypes = {
  ADD_TOAST: 'ADD_TOAST',
  UPDATE_TOAST: 'UPDATE_TOAST',
  DISMISS_TOAST: 'DISMISS_TOAST',
  REMOVE_TOAST: 'REMOVE_TOAST',
} as const;

let count = 0;

function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER;
  return count.toString();
}

type ActionType = typeof actionTypes;

type Action =
  | {
      type: ActionType['ADD_TOAST'];
      toast: ToasterToast;
    }
  | {
      type: ActionType['UPDATE_TOAST'];
      toast: Partial<ToasterToast>;
    }
  | {
      type: ActionType['DISMISS_TOAST'];
      toastId?: ToasterToast['id'];
    }
  | {
      type: ActionType['REMOVE_TOAST'];
      toastId?: ToasterToast['id'];
    };

interface State {
  toasts: ToasterToast[];
}

const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();

const addToRemoveQueue = (toastId: string) => {
  if (toastTimeouts.has(toastId)) {
    return;
  }

  const timeout = setTimeout(() => {
    toastTimeouts.delete(toastId);
    dispatch({
      type: 'REMOVE_TOAST',
      toastId: toastId,
    });
  }, TOAST_REMOVE_DELAY);

  toastTimeouts.set(toastId, timeout);
};

export const reducer = (state: State, action: Action): State => {
  switch (action.type) {
    case 'ADD_TOAST':
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      };

    case 'UPDATE_TOAST':
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === action.toast.id ? { ...t, ...action.toast } : t
        ),
      };

    case 'DISMISS_TOAST': {
      const { toastId } = action;

      // ! Side effects ! - This could be extracted into a dismissToast() action,
      // but I'll keep it here for simplicity
      if (toastId) {
        addToRemoveQueue(toastId);
      } else {
        state.toasts.forEach((toast) => {
          addToRemoveQueue(toast.id);
        });
      }

      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === toastId || toastId === undefined
            ? {
                ...t,
                open: false,
              }
            : t
        ),
      };
    }
    case 'REMOVE_TOAST':
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        };
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) => t.id !== action.toastId),
      };
  }
};

const listeners: Array<(state: State) => void> = [];

let memoryState: State = { toasts: [] };

function dispatch(action: Action) {
  memoryState = reducer(memoryState, action);
  listeners.forEach((listener) => {
    listener(memoryState);
  });
}

type Toast = Omit<ToasterToast, 'id'>;

function toast({ ...props }: Toast) {
  const id = genId();

  const update = (props: ToasterToast) =>
    dispatch({
      type: 'UPDATE_TOAST',
      toast: { ...props, id },
    });
  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id });

  dispatch({
    type: 'ADD_TOAST',
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) => {
        if (!open) dismiss();
      },
    },
  });

  return {
    id: id,
    dismiss,
    update,
  };
}

function useToast() {
  const [state, setState] = React.useState<State>(memoryState);

  React.useEffect(() => {
    listeners.push(setState);
    return () => {
      const index = listeners.indexOf(setState);
      if (index > -1) {
        listeners.splice(index, 1);
      }
    };
  }, [state]);

  return {
    ...state,
    toast,
    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),
  };
}

export { useToast, toast };

```

# lib/themes.ts

```ts
export interface Theme {
  id: string;
  name: string;
  category: 'gradient' | 'solid' | 'pattern' | 'glass';
  background: string;
  preview: string;
  textColor: string;
  accentColor: string;
}

export const themes: Theme[] = [
  // Gradient Themes
  {
    id: 'gradient-sunset',
    name: 'Sunset',
    category: 'gradient',
    background: 'linear-gradient(135deg, #ff6b6b 0%, #feca57 50%, #ff9ff3 100%)',
    preview: 'bg-gradient-to-br from-red-500 via-yellow-400 to-pink-400',
    textColor: '#ffffff',
    accentColor: '#f59e0b'
  },
  {
    id: 'gradient-ocean',
    name: 'Ocean',
    category: 'gradient',
    background: 'linear-gradient(135deg, #0093E9 0%, #80D0C7 100%)',
    preview: 'bg-gradient-to-br from-blue-500 to-teal-400',
    textColor: '#ffffff',
    accentColor: '#06b6d4'
  },
  {
    id: 'gradient-forest',
    name: 'Forest',
    category: 'gradient',
    background: 'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)',
    preview: 'bg-gradient-to-br from-teal-600 to-green-400',
    textColor: '#ffffff',
    accentColor: '#10b981'
  },
  {
    id: 'gradient-fire',
    name: 'Fire',
    category: 'gradient',
    background: 'linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)',
    preview: 'bg-gradient-to-br from-pink-600 to-orange-500',
    textColor: '#ffffff',
    accentColor: '#f97316'
  },
  {
    id: 'gradient-aurora',
    name: 'Aurora',
    category: 'gradient',
    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)',
    preview: 'bg-gradient-to-br from-indigo-500 via-purple-600 to-pink-400',
    textColor: '#ffffff',
    accentColor: '#8b5cf6'
  },
  {
    id: 'gradient-cosmic',
    name: 'Cosmic',
    category: 'gradient',
    background: 'linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #764ba2 100%)',
    preview: 'bg-gradient-to-br from-blue-900 via-blue-700 to-purple-600',
    textColor: '#ffffff',
    accentColor: '#6366f1'
  },
  {
    id: 'gradient-tropical',
    name: 'Tropical',
    category: 'gradient',
    background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 50%, #4facfe 100%)',
    preview: 'bg-gradient-to-br from-pink-400 via-red-400 to-blue-400',
    textColor: '#ffffff',
    accentColor: '#ec4899'
  },
  {
    id: 'gradient-neon',
    name: 'Neon',
    category: 'gradient',
    background: 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',
    preview: 'bg-gradient-to-br from-green-400 to-cyan-400',
    textColor: '#ffffff',
    accentColor: '#10b981'
  },
  {
    id: 'gradient-volcano',
    name: 'Volcano',
    category: 'gradient',
    background: 'linear-gradient(135deg, #ff512f 0%, #dd2476 100%)',
    preview: 'bg-gradient-to-br from-red-500 to-pink-600',
    textColor: '#ffffff',
    accentColor: '#ef4444'
  },
  {
    id: 'gradient-electric',
    name: 'Electric',
    category: 'gradient',
    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)',
    preview: 'bg-gradient-to-br from-indigo-500 via-purple-600 to-pink-400',
    textColor: '#ffffff',
    accentColor: '#8b5cf6'
  },
  {
    id: 'gradient-rainbow',
    name: 'Rainbow',
    category: 'gradient',
    background: 'linear-gradient(135deg, #ff0844 0%, #ffb199 25%, #43e97b 50%, #38f9d7 75%, #667eea 100%)',
    preview: 'bg-gradient-to-br from-red-500 via-orange-300 via-green-400 via-cyan-400 to-indigo-500',
    textColor: '#ffffff',
    accentColor: '#8b5cf6'
  },

  // Solid Color Themes
  {
    id: 'solid-midnight',
    name: 'Midnight',
    category: 'solid',
    background: '#1a1a2e',
    preview: 'bg-slate-900',
    textColor: '#ffffff',
    accentColor: '#6366f1'
  },
  {
    id: 'solid-snow',
    name: 'Snow',
    category: 'solid',
    background: '#f8fafc',
    preview: 'bg-slate-50',
    textColor: '#1f2937',
    accentColor: '#3b82f6'
  },
  {
    id: 'solid-emerald',
    name: 'Emerald',
    category: 'solid',
    background: '#065f46',
    preview: 'bg-emerald-800',
    textColor: '#ffffff',
    accentColor: '#10b981'
  },
  {
    id: 'solid-ruby',
    name: 'Ruby',
    category: 'solid',
    background: '#991b1b',
    preview: 'bg-red-800',
    textColor: '#ffffff',
    accentColor: '#ef4444'
  },
  {
    id: 'solid-amber',
    name: 'Amber',
    category: 'solid',
    background: '#92400e',
    preview: 'bg-amber-800',
    textColor: '#ffffff',
    accentColor: '#f59e0b'
  },

  // Pattern Themes
  {
    id: 'pattern-geometric',
    name: 'Geometric',
    category: 'pattern',
    background: `
      radial-gradient(circle at 25% 25%, #667eea 0%, transparent 50%),
      radial-gradient(circle at 75% 75%, #764ba2 0%, transparent 50%),
      linear-gradient(135deg, #74b9ff 0%, #0984e3 100%)
    `,
    preview: 'bg-gradient-to-br from-blue-500 to-purple-600',
    textColor: '#ffffff',
    accentColor: '#8b5cf6'
  },
  {
    id: 'pattern-waves',
    name: 'Waves',
    category: 'pattern',
    background: `
      repeating-linear-gradient(
        45deg,
        #667eea,
        #667eea 2px,
        #764ba2 2px,
        #764ba2 10px
      )
    `,
    preview: 'bg-gradient-to-br from-indigo-500 to-purple-600',
    textColor: '#ffffff',
    accentColor: '#a855f7'
  },
  {
    id: 'pattern-dots',
    name: 'Dots',
    category: 'pattern',
    background: `
      radial-gradient(circle, #667eea 1px, transparent 1px),
      linear-gradient(135deg, #74b9ff 0%, #0984e3 100%)
    `,
    preview: 'bg-gradient-to-br from-blue-400 to-blue-600',
    textColor: '#ffffff',
    accentColor: '#3b82f6'
  },

  // Glass Themes
  {
    id: 'glass-frosted',
    name: 'Frosted',
    category: 'glass',
    background: 'linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)',
    preview: 'bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-sm',
    textColor: '#1f2937',
    accentColor: '#6366f1'
  },
  {
    id: 'glass-tinted',
    name: 'Tinted',
    category: 'glass',
    background: 'linear-gradient(135deg, rgba(102,126,234,0.2) 0%, rgba(118,75,162,0.1) 100%)',
    preview: 'bg-gradient-to-br from-indigo-500/20 to-purple-600/10 backdrop-blur-sm',
    textColor: '#1f2937',
    accentColor: '#8b5cf6'
  },
  {
    id: 'glass-emerald',
    name: 'Emerald Glass',
    category: 'glass',
    background: 'linear-gradient(135deg, rgba(34,197,94,0.2) 0%, rgba(21,128,61,0.1) 100%)',
    preview: 'bg-gradient-to-br from-emerald-500/20 to-emerald-700/10 backdrop-blur-sm',
    textColor: '#1f2937',
    accentColor: '#10b981'
  }
];

export const defaultTheme: Theme = {
  id: 'default',
  name: 'Default',
  category: 'gradient',
  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
  preview: 'bg-gradient-to-br from-indigo-500 to-purple-600',
  textColor: '#ffffff',
  accentColor: '#8b5cf6'
};

export const getThemeById = (id: string): Theme => {
  return themes.find(theme => theme.id === id) || defaultTheme;
};

export const getThemesByCategory = (category: Theme['category']): Theme[] => {
  return themes.filter(theme => theme.category === category);
}; 
```

# lib/utils.ts

```ts
import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"
import { marked } from 'marked'

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}

// Configure marked for safe HTML output
marked.setOptions({
  breaks: true,
  gfm: true,
})

/**
 * Converts markdown text to HTML for use in TiptapEditor
 */
export function parseMarkdownToHtml(markdown: string): string {
  if (!markdown) return '';
  
  try {
    // Parse markdown to HTML
    const html = marked.parse(markdown);
    return typeof html === 'string' ? html : '';
  } catch (error) {
    console.warn('Failed to parse markdown:', error);
    // Return original text if parsing fails
    return markdown;
  }
}

/**
 * Checks if text contains markdown formatting
 */
export function hasMarkdownFormatting(text: string): boolean {
  if (!text) return false;
  
  // Check for common markdown patterns
  const markdownPatterns = [
    /\*\*.*?\*\*/,  // Bold
    /\*.*?\*/,      // Italic
    /^#{1,6}\s/m,   // Headers
    /^\* /m,        // Unordered lists
    /^\d+\. /m,     // Ordered lists
    /\[.*?\]\(.*?\)/, // Links
    /`.*?`/,        // Inline code
  ];
  
  return markdownPatterns.some(pattern => pattern.test(text));
}

```

# manual-curl-commands.md

```md
# Manual curl Commands for Azure OpenAI Testing

Replace the placeholders with your actual values:
- `YOUR_API_KEY`: Your Azure OpenAI API key
- `YOUR_ENDPOINT`: Your Azure OpenAI endpoint (e.g., `https://openai-mpl-eastus.openai.azure.com/`)
- `YOUR_DEPLOYMENT`: Your deployment name

## 1. List Available Deployments

This will show you all deployments in your Azure OpenAI resource:

\`\`\`bash
curl -X GET \
  "YOUR_ENDPOINT/openai/deployments?api-version=2024-07-18" \
  -H "api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json"
\`\`\`

**Example:**
\`\`\`bash
curl -X GET \
  "https://openai-mpl-eastus.openai.azure.com/openai/deployments?api-version=2024-07-18" \
  -H "api-key: your_actual_api_key_here" \
  -H "Content-Type: application/json"
\`\`\`

## 2. Test Chat Completion

Test if your deployment works:

\`\`\`bash
curl -X POST \
  "YOUR_ENDPOINT/openai/deployments/YOUR_DEPLOYMENT/chat/completions?api-version=2024-07-18" \
  -H "api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "YOUR_DEPLOYMENT",
    "messages": [
      {
        "role": "user", 
        "content": "Hello!"
      }
    ],
    "max_tokens": 20
  }'
\`\`\`

**Example with your endpoint:**
\`\`\`bash
curl -X POST \
  "https://openai-mpl-eastus.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-07-18" \
  -H "api-key: your_actual_api_key_here" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gpt-4o-mini",
    "messages": [
      {
        "role": "user", 
        "content": "Hello!"
      }
    ],
    "max_tokens": 20
  }'
\`\`\`

## 3. Try Different API Version

If the above fails, try with a different API version:

\`\`\`bash
curl -X POST \
  "https://openai-mpl-eastus.openai.azure.com/openai/deployments/gpt-4o-mini/chat/completions?api-version=2024-10-01-preview" \
  -H "api-key: your_actual_api_key_here" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gpt-4o-mini",
    "messages": [
      {
        "role": "user", 
        "content": "Hello!"
      }
    ],
    "max_tokens": 20
  }'
\`\`\`

## What to Look For:

### âœ… Success Response:
\`\`\`json
{
  "choices": [
    {
      "message": {
        "content": "Hello! How can I help you today?",
        "role": "assistant"
      },
      "index": 0,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 8,
    "completion_tokens": 10,
    "total_tokens": 18
  }
}
\`\`\`

### âŒ Common Error Responses:

**404 - Resource not found:**
\`\`\`json
{"error":{"code":"404","message": "Resource not found"}}
\`\`\`
- **Cause**: Wrong deployment name or endpoint URL

**401 - Unauthorized:**
\`\`\`json
{"error":{"code":"401","message": "Unauthorized"}}
\`\`\`
- **Cause**: Wrong API key

**400 - Bad Request:**
\`\`\`json
{"error":{"code":"400","message": "Invalid request"}}
\`\`\`
- **Cause**: Wrong API version or request format 
```

# next-env.d.ts

```ts
/// <reference types="next" />
/// <reference types="next/image-types/global" />

// NOTE: This file should not be edited
// see https://nextjs.org/docs/basic-features/typescript for more information.

```

# next.config.js

```js
/** @type {import('next').NextConfig} */
const nextConfig = {
  eslint: {
    ignoreDuringBuilds: true,
  },
  images: { unoptimized: true },
  // Removed output: "export" to allow dynamic API routes
};

module.exports = nextConfig;
```

# package.json

```json
{
  "name": "nextjs",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "@ai-sdk/azure": "^1.3.23",
    "@ai-sdk/groq": "^1.2.9",
    "@ai-sdk/openai": "^0.0.66",
    "@ai-sdk/replicate": "^0.2.8",
    "@dnd-kit/core": "^6.3.1",
    "@dnd-kit/sortable": "^8.0.0",
    "@dnd-kit/utilities": "^3.2.2",
    "@hookform/resolvers": "^3.9.0",
    "@next/swc-wasm-nodejs": "13.5.1",
    "@radix-ui/react-accordion": "^1.2.0",
    "@radix-ui/react-alert-dialog": "^1.1.1",
    "@radix-ui/react-aspect-ratio": "^1.1.0",
    "@radix-ui/react-avatar": "^1.1.0",
    "@radix-ui/react-checkbox": "^1.1.1",
    "@radix-ui/react-collapsible": "^1.1.0",
    "@radix-ui/react-context-menu": "^2.2.1",
    "@radix-ui/react-dialog": "^1.1.1",
    "@radix-ui/react-dropdown-menu": "^2.1.1",
    "@radix-ui/react-hover-card": "^1.1.1",
    "@radix-ui/react-label": "^2.1.0",
    "@radix-ui/react-menubar": "^1.1.1",
    "@radix-ui/react-navigation-menu": "^1.2.0",
    "@radix-ui/react-popover": "^1.1.1",
    "@radix-ui/react-progress": "^1.1.0",
    "@radix-ui/react-radio-group": "^1.2.0",
    "@radix-ui/react-scroll-area": "^1.1.0",
    "@radix-ui/react-select": "^2.1.1",
    "@radix-ui/react-separator": "^1.1.0",
    "@radix-ui/react-slider": "^1.2.0",
    "@radix-ui/react-slot": "^1.1.0",
    "@radix-ui/react-switch": "^1.1.0",
    "@radix-ui/react-tabs": "^1.1.0",
    "@radix-ui/react-toast": "^1.2.1",
    "@radix-ui/react-toggle": "^1.1.0",
    "@radix-ui/react-toggle-group": "^1.1.0",
    "@radix-ui/react-tooltip": "^1.1.2",
    "@tailwindcss/typography": "^0.5.16",
    "@tiptap/core": "^2.8.0",
    "@tiptap/extension-blockquote": "^2.14.1",
    "@tiptap/extension-bubble-menu": "^2.8.0",
    "@tiptap/extension-color": "^2.8.0",
    "@tiptap/extension-document": "^2.8.0",
    "@tiptap/extension-dropcursor": "^2.8.0",
    "@tiptap/extension-gapcursor": "^2.8.0",
    "@tiptap/extension-hard-break": "^2.8.0",
    "@tiptap/extension-heading": "^2.8.0",
    "@tiptap/extension-highlight": "^2.14.1",
    "@tiptap/extension-history": "^2.8.0",
    "@tiptap/extension-image": "^2.8.0",
    "@tiptap/extension-link": "^2.14.1",
    "@tiptap/extension-list-item": "^2.8.0",
    "@tiptap/extension-ordered-list": "^2.8.0",
    "@tiptap/extension-paragraph": "^2.8.0",
    "@tiptap/extension-placeholder": "^2.8.0",
    "@tiptap/extension-subscript": "^2.14.1",
    "@tiptap/extension-superscript": "^2.14.1",
    "@tiptap/extension-table": "^2.22.0",
    "@tiptap/extension-table-cell": "^2.22.0",
    "@tiptap/extension-table-header": "^2.22.0",
    "@tiptap/extension-table-row": "^2.22.0",
    "@tiptap/extension-text": "^2.8.0",
    "@tiptap/extension-text-align": "^2.8.0",
    "@tiptap/extension-text-style": "^2.8.0",
    "@tiptap/extension-underline": "^2.8.0",
    "@tiptap/html": "^2.14.1",
    "@tiptap/pm": "^2.8.0",
    "@tiptap/react": "^2.8.0",
    "@tiptap/starter-kit": "^2.8.0",
    "@types/node": "20.6.2",
    "@types/react": "18.2.22",
    "@types/react-dom": "18.2.7",
    "ai": "^4.3.16",
    "autoprefixer": "10.4.15",
    "class-variance-authority": "^0.7.0",
    "clsx": "^2.1.1",
    "cmdk": "^1.0.0",
    "date-fns": "^3.6.0",
    "dotenv": "^16.5.0",
    "embla-carousel-react": "^8.3.0",
    "eslint": "8.49.0",
    "eslint-config-next": "13.5.1",
    "input-otp": "^1.2.4",
    "lucide-react": "^0.446.0",
    "marked": "^15.0.12",
    "next": "13.5.1",
    "next-themes": "^0.3.0",
    "node-fetch": "^3.3.2",
    "openai": "^5.7.0",
    "postcss": "8.4.30",
    "react": "18.2.0",
    "react-day-picker": "^8.10.1",
    "react-dom": "18.2.0",
    "react-hook-form": "^7.53.0",
    "react-resizable-panels": "^2.1.3",
    "recharts": "^2.12.7",
    "replicate": "^0.34.1",
    "sonner": "^1.5.0",
    "tailwind-merge": "^2.5.2",
    "tailwindcss": "3.3.3",
    "tailwindcss-animate": "^1.0.7",
    "typescript": "5.2.2",
    "vaul": "^0.9.9",
    "zod": "^3.23.8"
  }
}

```

# postcss.config.js

```js
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};

```

# README.md

```md
# Cursor for Slides

AI-powered presentation generation tool built with Next.js and AI SDK.

## Recent Updates

### ğŸ¯ Image Generation Cost Optimization (Latest Fix)

**Problem**: During slide generation, the streaming AI was triggering multiple image generation calls as it typed partial `imagePrompt` content, causing excessive costs.

**Solution**: 
- Moved image generation to occur **only after streaming completes**
- Added duplicate call prevention with `isGeneratingImage` flag
- Added comprehensive logging for debugging

**Before**: Multiple calls during streaming (every 100ms throttle)
**After**: Single call after streaming completes

### ğŸ§ª Test Pages Available

- `/test-title-bullets-image` - Test TitleWithBulletsAndImage component
- `/test-text-image` - Test TextAndImage component  
- `/test-image-text` - Test ImageAndText component

Each test page includes:
- Real-time image generation controls
- Prompt input field
- Loading states and error handling
- Console logging for debugging

## Environment Variables

Make sure to set:
\`\`\`
REPLICATE_API_TOKEN=your_replicate_token_here
\`\`\`

## Development

\`\`\`bash
npm run dev
\`\`\`

## Image Generation Flow

1. User generates slides using AI SDK `streamObject`
2. AI streams slide content including `imagePrompt`
3. **After streaming completes**, single image generation call is made
4. Generated image is displayed in slide

## Cost Optimization

- âœ… Single image generation call per slide
- âœ… Duplicate call prevention
- âœ… Comprehensive error handling
- âœ… Detailed logging for monitoring

```

# tailwind.config.ts

```ts
import type { Config } from 'tailwindcss';

const config: Config = {
  darkMode: ['class'],
  content: [
    './pages/**/*.{js,ts,jsx,tsx,mdx}',
    './components/**/*.{js,ts,jsx,tsx,mdx}',
    './app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      backgroundImage: {
        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
        'gradient-conic':
          'conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))',
      },
      borderRadius: {
        lg: 'var(--radius)',
        md: 'calc(var(--radius) - 2px)',
        sm: 'calc(var(--radius) - 4px)',
      },
      colors: {
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        card: {
          DEFAULT: 'hsl(var(--card))',
          foreground: 'hsl(var(--card-foreground))',
        },
        popover: {
          DEFAULT: 'hsl(var(--popover))',
          foreground: 'hsl(var(--popover-foreground))',
        },
        primary: {
          DEFAULT: 'hsl(var(--primary))',
          foreground: 'hsl(var(--primary-foreground))',
        },
        secondary: {
          DEFAULT: 'hsl(var(--secondary))',
          foreground: 'hsl(var(--secondary-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
        },
        destructive: {
          DEFAULT: 'hsl(var(--destructive))',
          foreground: 'hsl(var(--destructive-foreground))',
        },
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
        chart: {
          '1': 'hsl(var(--chart-1))',
          '2': 'hsl(var(--chart-2))',
          '3': 'hsl(var(--chart-3))',
          '4': 'hsl(var(--chart-4))',
          '5': 'hsl(var(--chart-5))',
        },
      },
      keyframes: {
        'accordion-down': {
          from: {
            height: '0',
          },
          to: {
            height: 'var(--radix-accordion-content-height)',
          },
        },
        'accordion-up': {
          from: {
            height: 'var(--radix-accordion-content-height)',
          },
          to: {
            height: '0',
          },
        },
      },
      animation: {
        'accordion-down': 'accordion-down 0.2s ease-out',
        'accordion-up': 'accordion-up 0.2s ease-out',
      },
    },
  },
  plugins: [require('tailwindcss-animate'), require('@tailwindcss/typography')],
};
export default config;

```

# test-azure-curl.sh

```sh
#!/bin/bash

# Load environment variables from .env.local
if [ -f .env.local ]; then
    export $(grep -v '^#' .env.local | xargs)
fi

# Check if required variables are set
if [ -z "$AZURE_OPENAI_API_KEY" ] && [ -z "$AZURE_API_KEY" ]; then
    echo "âŒ Error: AZURE_OPENAI_API_KEY or AZURE_API_KEY not set"
    exit 1
fi

if [ -z "$AZURE_OPENAI_ENDPOINT" ]; then
    echo "âŒ Error: AZURE_OPENAI_ENDPOINT not set"
    exit 1
fi

# Use the first available API key
API_KEY=${AZURE_OPENAI_API_KEY:-$AZURE_API_KEY}
ENDPOINT=$AZURE_OPENAI_ENDPOINT
DEPLOYMENT_NAME="gpt-4o-mini"  # Change this to match your actual deployment
API_VERSION="2024-07-18"

echo "ğŸ” Testing Azure OpenAI with curl..."
echo "Endpoint: $ENDPOINT"
echo "Deployment: $DEPLOYMENT_NAME"
echo "API Version: $API_VERSION"
echo ""

# Test 1: List deployments (to see what's available)
echo "ğŸ“‹ Test 1: List available deployments"
echo "URL: ${ENDPOINT}openai/deployments?api-version=${API_VERSION}"
echo ""

curl -s -X GET \
  "${ENDPOINT}openai/deployments?api-version=${API_VERSION}" \
  -H "api-key: $API_KEY" \
  -H "Content-Type: application/json" | jq . 2>/dev/null || curl -s -X GET \
  "${ENDPOINT}openai/deployments?api-version=${API_VERSION}" \
  -H "api-key: $API_KEY" \
  -H "Content-Type: application/json"

echo -e "\n" 

# Test 2: Try chat completion with the deployment
echo "ğŸ’¬ Test 2: Test chat completion"
echo "URL: ${ENDPOINT}openai/deployments/${DEPLOYMENT_NAME}/chat/completions?api-version=${API_VERSION}"
echo ""

curl -s -X POST \
  "${ENDPOINT}openai/deployments/${DEPLOYMENT_NAME}/chat/completions?api-version=${API_VERSION}" \
  -H "api-key: $API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "'$DEPLOYMENT_NAME'",
    "messages": [
      {
        "role": "system", 
        "content": "You are a helpful assistant."
      },
      {
        "role": "user", 
        "content": "Say hello from Azure OpenAI!"
      }
    ],
    "max_tokens": 50,
    "temperature": 0.2
  }' | jq . 2>/dev/null || curl -s -X POST \
  "${ENDPOINT}openai/deployments/${DEPLOYMENT_NAME}/chat/completions?api-version=${API_VERSION}" \
  -H "api-key: $API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "'$DEPLOYMENT_NAME'",
    "messages": [
      {
        "role": "system", 
        "content": "You are a helpful assistant."
      },
      {
        "role": "user", 
        "content": "Say hello from Azure OpenAI!"
      }
    ],
    "max_tokens": 50,
    "temperature": 0.2
  }'

echo -e "\n"

# Test 3: Try a different API version
echo "ğŸ”„ Test 3: Try with different API version (2024-10-01-preview)"
API_VERSION_ALT="2024-10-01-preview"
echo "URL: ${ENDPOINT}openai/deployments/${DEPLOYMENT_NAME}/chat/completions?api-version=${API_VERSION_ALT}"
echo ""

curl -s -X POST \
  "${ENDPOINT}openai/deployments/${DEPLOYMENT_NAME}/chat/completions?api-version=${API_VERSION_ALT}" \
  -H "api-key: $API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "'$DEPLOYMENT_NAME'",
    "messages": [
      {
        "role": "user", 
        "content": "Hello!"
      }
    ],
    "max_tokens": 20
  }' | jq . 2>/dev/null || curl -s -X POST \
  "${ENDPOINT}openai/deployments/${DEPLOYMENT_NAME}/chat/completions?api-version=${API_VERSION_ALT}" \
  -H "api-key: $API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "'$DEPLOYMENT_NAME'",
    "messages": [
      {
        "role": "user", 
        "content": "Hello!"
      }
    ],
    "max_tokens": 20
  }'

echo -e "\n"
echo "âœ… curl tests completed!"
echo ""
echo "ğŸ“ Instructions:"
echo "1. Check Test 1 output to see your available deployments"
echo "2. If the deployment name is different, update DEPLOYMENT_NAME in this script"
echo "3. If you get 404 errors, verify your endpoint URL format"
echo "4. If you get 401 errors, check your API key" 
```

# test-azure-native.js

```js
const { config } = require('dotenv');
const { AzureOpenAI } = require('openai');

// Load environment variables from .env.local
config({ path: '.env.local' });

// Azure OpenAI configuration (from official Azure docs)
const endpoint = process.env.AZURE_OPENAI_ENDPOINT;
const apiKey = process.env.AZURE_OPENAI_API_KEY || process.env.AZURE_API_KEY;
const modelName = "gpt-4o-mini";
const deployment = "gpt-4o-mini";
const apiVersion = "2024-04-01-preview"; // From Azure docs

console.log('ğŸ” Testing Azure OpenAI with Official SDK...');
console.log('Endpoint:', endpoint);
console.log('API Key:', apiKey ? 'âœ… Set' : 'âŒ Missing');
console.log('Model/Deployment:', deployment);
console.log('API Version:', apiVersion);
console.log('---\n');

// Test 1: Basic chat completion (from Azure docs)
async function testBasicChat() {
  console.log('ğŸ’¬ Test 1: Basic Chat Completion (Azure SDK)');
  
  try {
    const options = { endpoint, apiKey, deployment, apiVersion };
    const client = new AzureOpenAI(options);

    const response = await client.chat.completions.create({
      messages: [
        { role: "system", content: "You are a helpful assistant." },
        { role: "user", content: "Say hello from Azure OpenAI in 10 words or less." }
      ],
      max_tokens: 50,
      temperature: 0.2,
      model: modelName
    });

    if (response?.error !== undefined && response.status !== "200") {
      throw response.error;
    }

    console.log('âœ… Basic Chat Success!');
    console.log('Response:', response.choices[0].message.content);
    return true;

  } catch (error) {
    console.error('âŒ Basic Chat Failed:', error.message || error);
    if (error.status) {
      console.error('Status:', error.status);
    }
    if (error.code) {
      console.error('Code:', error.code);
    }
    return false;
  }
}

// Test 2: Multi-turn conversation
async function testMultiTurn() {
  console.log('\nğŸ—£ï¸ Test 2: Multi-turn Conversation');
  
  try {
    const options = { endpoint, apiKey, deployment, apiVersion };
    const client = new AzureOpenAI(options);

    const response = await client.chat.completions.create({
      messages: [
        { role: "system", content: "You are a presentation expert." },
        { role: "user", content: "What are the key elements of a good presentation?" },
        { role: "assistant", content: "Key elements include clear structure, engaging visuals, and concise content." },
        { role: "user", content: "How many slides should a 10-minute presentation have?" }
      ],
      max_tokens: 100,
      temperature: 0.3,
      model: modelName
    });

    if (response?.error !== undefined && response.status !== "200") {
      throw response.error;
    }

    console.log('âœ… Multi-turn Success!');
    console.log('Response:', response.choices[0].message.content);
    return true;

  } catch (error) {
    console.error('âŒ Multi-turn Failed:', error.message || error);
    return false;
  }
}

// Test 3: Streaming response
async function testStreaming() {
  console.log('\nğŸŒŠ Test 3: Streaming Response');
  
  try {
    const options = { endpoint, apiKey, deployment, apiVersion };
    const client = new AzureOpenAI(options);

    const response = await client.chat.completions.create({
      messages: [
        { role: "system", content: "You are a helpful assistant." },
        { role: "user", content: "Write a very short poem about presentations." }
      ],
      stream: true,
      max_tokens: 100,
      temperature: 0.7,
      model: modelName
    });

    console.log('âœ… Streaming Success!');
    console.log('Streamed Response: ', end='');
    
    let fullResponse = '';
    for await (const part of response) {
      const content = part.choices[0]?.delta?.content || '';
      process.stdout.write(content);
      fullResponse += content;
    }
    
    console.log('\nâœ… Streaming Complete!');
    return true;

  } catch (error) {
    console.error('âŒ Streaming Failed:', error.message || error);
    return false;
  }
}

// Test 4: Different API versions
async function testDifferentApiVersions() {
  console.log('\nğŸ”„ Test 4: Testing Different API Versions');
  
  const versionsToTest = [
    "2024-04-01-preview",
    "2025-01-01-preview", 
    "2024-10-01-preview",
    "2024-08-01-preview"
  ];

  for (const version of versionsToTest) {
    try {
      console.log(`Testing API version: ${version}`);
      
      const options = { endpoint, apiKey, deployment, apiVersion: version };
      const client = new AzureOpenAI(options);

      const response = await client.chat.completions.create({
        messages: [
          { role: "user", content: "Hello!" }
        ],
        max_tokens: 10,
        model: modelName
      });

      if (response?.error !== undefined && response.status !== "200") {
        throw response.error;
      }

      console.log(`âœ… ${version}: SUCCESS`);
      console.log(`Response: ${response.choices[0].message.content}\n`);
      
    } catch (error) {
      console.log(`âŒ ${version}: FAILED - ${error.message}\n`);
    }
  }
  
  return true;
}

// Run all tests
async function runAllTests() {
  console.log('ğŸš€ Starting Azure OpenAI Native SDK Tests...\n');
  
  const test1 = await testBasicChat();
  const test2 = await testMultiTurn();
  const test3 = await testStreaming();
  await testDifferentApiVersions();
  
  console.log('\nğŸ“Š Test Results:');
  console.log('Basic Chat:', test1 ? 'âœ… PASS' : 'âŒ FAIL');
  console.log('Multi-turn:', test2 ? 'âœ… PASS' : 'âŒ FAIL');
  console.log('Streaming:', test3 ? 'âœ… PASS' : 'âŒ FAIL');
  
  const coreTestsPassed = test1 && test2 && test3;
  console.log('\nğŸ¯ Overall Result:', coreTestsPassed ? 'âœ… CORE TESTS PASSED' : 'âŒ SOME CORE TESTS FAILED');
  
  if (coreTestsPassed) {
    console.log('ğŸ‰ Your Azure OpenAI credentials are working correctly!');
    console.log('The issue is likely with the AI SDK configuration, not your Azure setup.');
  } else {
    console.log('ğŸ”§ There may be an issue with your Azure OpenAI configuration.');
  }
}

runAllTests().catch(console.error); 
```

# test-azure-openai.js

```js
const { config } = require('dotenv');
const { createAzure } = require('@ai-sdk/azure');
const { generateText, generateObject } = require('ai');
const { z } = require('zod');

// Load environment variables from .env.local
config({ path: '.env.local' });

// Configure Azure OpenAI (using working resourceName config)
const azureOpenAI = createAzure({
  apiKey: process.env.AZURE_OPENAI_API_KEY || process.env.AZURE_API_KEY,
  apiVersion: '2025-01-01-preview',
  resourceName: process.env.AZURE_RESOURCE_NAME,
});

const deploymentName = 'gpt-4o-mini'; // Change this to match your actual deployment name

console.log('ğŸ” Testing Azure OpenAI Configuration...');
console.log('API Key:', process.env.AZURE_OPENAI_API_KEY ? 'âœ… Set' : 'âŒ Missing');
console.log('Resource Name:', process.env.AZURE_RESOURCE_NAME || 'âŒ Missing');
console.log('Deployment:', deploymentName);
console.log('API Version: 2025-01-01-preview');
console.log('---');

// Test 1: Simple text generation (like ai-text-completion route)
async function testTextGeneration() {
  console.log('ğŸ“ Test 1: Simple Text Generation');
  try {
    const { text } = await generateText({
      model: azureOpenAI(deploymentName),
      prompt: 'Say hello from Azure OpenAI in 10 words or less.',
      temperature: 0.2,
      maxTokens: 20,
    });
    
    console.log('âœ… Text Generation Success!');
    console.log('Response:', text);
    return true;
  } catch (error) {
    console.error('âŒ Text Generation Failed:', error.message);
    if (error.cause) {
      console.error('Cause:', error.cause.message);
    }
    return false;
  }
}

// Test 2: Structured object generation (like generate-outline route)
async function testObjectGeneration() {
  console.log('\nğŸ—ï¸ Test 2: Structured Object Generation');
  
  const TestSchema = z.object({
    message: z.string().describe('A greeting message'),
    success: z.boolean().describe('Whether this test was successful'),
    timestamp: z.string().describe('Current timestamp in ISO format'),
  });

  try {
    const { object } = await generateObject({
      model: azureOpenAI(deploymentName),
      system: 'You are a helpful test assistant. Always respond with valid JSON.',
      prompt: 'Create a test response with a greeting, success status, and current timestamp.',
      schema: TestSchema,
    });
    
    console.log('âœ… Object Generation Success!');
    console.log('Response:', JSON.stringify(object, null, 2));
    return true;
  } catch (error) {
    console.error('âŒ Object Generation Failed:', error.message);
    if (error.cause) {
      console.error('Cause:', error.cause.message);
    }
    return false;
  }
}

// Test 3: Mini outline generation (like your actual use case)
async function testOutlineGeneration() {
  console.log('\nğŸ“‹ Test 3: Mini Outline Generation (like your app)');
  
  const MiniOutlineSchema = z.object({
    title: z.string().describe('A presentation title'),
    sections: z.array(
      z.object({
        title: z.string().describe('Section title'),
        bulletPoints: z.array(z.string()).describe('2-3 bullet points'),
      })
    ).describe('2-3 presentation sections')
  });

  try {
    const { object } = await generateObject({
      model: azureOpenAI(deploymentName),
      system: 'You are an expert presentation designer. Create concise, professional presentation content.',
      prompt: 'Create a mini presentation outline about "Benefits of Cloud Computing" with 2-3 sections.',
      schema: MiniOutlineSchema,
    });
    
    console.log('âœ… Outline Generation Success!');
    console.log('Response:', JSON.stringify(object, null, 2));
    return true;
  } catch (error) {
    console.error('âŒ Outline Generation Failed:', error.message);
    if (error.cause) {
      console.error('Cause:', error.cause.message);
    }
    return false;
  }
}

// Run all tests
async function runAllTests() {
  console.log('ğŸš€ Starting Azure OpenAI Tests with AI SDK...\n');
  
  const test1 = await testTextGeneration();
  const test2 = await testObjectGeneration();
  const test3 = await testOutlineGeneration();
  
  console.log('\nğŸ“Š Test Results:');
  console.log('Text Generation:', test1 ? 'âœ… PASS' : 'âŒ FAIL');
  console.log('Object Generation:', test2 ? 'âœ… PASS' : 'âŒ FAIL');
  console.log('Outline Generation:', test3 ? 'âœ… PASS' : 'âŒ FAIL');
  
  const allPassed = test1 && test2 && test3;
  console.log('\nğŸ¯ Overall Result:', allPassed ? 'âœ… ALL TESTS PASSED' : 'âŒ SOME TESTS FAILED');
  
  if (allPassed) {
    console.log('ğŸ‰ Your Azure OpenAI setup is working correctly!');
    console.log('Your slides app should now work properly.');
  } else {
    console.log('ğŸ”§ Please check your Azure OpenAI configuration:');
    console.log('1. Verify your API key in .env.local');
    console.log('2. Check your endpoint URL');
    console.log('3. Ensure your deployment name is correct');
    console.log('4. Verify your model deployment is active in Azure portal');
  }
}

runAllTests().catch(console.error); 
```

# test-azure-openai.ts

```ts
import { config } from 'dotenv';
import { createAzure } from '@ai-sdk/azure';
import { generateText, generateObject } from 'ai';
import { z } from 'zod';

// Load environment variables from .env.local
config({ path: '.env.local' });

// Configure Azure OpenAI (same as your app)
const azureOpenAI = createAzure({
  apiKey: process.env.AZURE_OPENAI_API_KEY || process.env.AZURE_API_KEY,
  apiVersion: '2024-07-18', // Same as your app
  baseURL: process.env.AZURE_OPENAI_ENDPOINT,
});

const deploymentName = 'gpt-4o-mini'; // Change this to match your actual deployment name

console.log('ğŸ” Testing Azure OpenAI Configuration...');
console.log('API Key:', process.env.AZURE_OPENAI_API_KEY ? 'âœ… Set' : 'âŒ Missing');
console.log('Endpoint:', process.env.AZURE_OPENAI_ENDPOINT || 'âŒ Missing');
console.log('Deployment:', deploymentName);
console.log('---');

// Test 1: Simple text generation (like ai-text-completion route)
async function testTextGeneration() {
  console.log('ğŸ“ Test 1: Simple Text Generation');
  try {
    const { text } = await generateText({
      model: azureOpenAI(deploymentName),
      prompt: 'Say hello from Azure OpenAI in 10 words or less.',
      temperature: 0.2,
      maxTokens: 20,
    });
    
    console.log('âœ… Text Generation Success!');
    console.log('Response:', text);
    return true;
  } catch (error: any) {
    console.error('âŒ Text Generation Failed:', error.message);
    if (error.cause) {
      console.error('Cause:', error.cause.message);
    }
    return false;
  }
}

// Test 2: Structured object generation (like generate-outline route)
async function testObjectGeneration() {
  console.log('\nğŸ—ï¸ Test 2: Structured Object Generation');
  
  const TestSchema = z.object({
    message: z.string().describe('A greeting message'),
    success: z.boolean().describe('Whether this test was successful'),
    timestamp: z.string().describe('Current timestamp in ISO format'),
  });

  try {
    const { object } = await generateObject({
      model: azureOpenAI(deploymentName),
      system: 'You are a helpful test assistant. Always respond with valid JSON.',
      prompt: 'Create a test response with a greeting, success status, and current timestamp.',
      schema: TestSchema,
    });
    
    console.log('âœ… Object Generation Success!');
    console.log('Response:', JSON.stringify(object, null, 2));
    return true;
  } catch (error: any) {
    console.error('âŒ Object Generation Failed:', error.message);
    if (error.cause) {
      console.error('Cause:', error.cause.message);
    }
    return false;
  }
}

// Test 3: Mini outline generation (like your actual use case)
async function testOutlineGeneration() {
  console.log('\nğŸ“‹ Test 3: Mini Outline Generation (like your app)');
  
  const MiniOutlineSchema = z.object({
    title: z.string().describe('A presentation title'),
    sections: z.array(
      z.object({
        title: z.string().describe('Section title'),
        bulletPoints: z.array(z.string()).describe('2-3 bullet points'),
      })
    ).describe('2-3 presentation sections')
  });

  try {
    const { object } = await generateObject({
      model: azureOpenAI(deploymentName),
      system: 'You are an expert presentation designer. Create concise, professional presentation content.',
      prompt: 'Create a mini presentation outline about "Benefits of Cloud Computing" with 2-3 sections.',
      schema: MiniOutlineSchema,
    });
    
    console.log('âœ… Outline Generation Success!');
    console.log('Response:', JSON.stringify(object, null, 2));
    return true;
  } catch (error: any) {
    console.error('âŒ Outline Generation Failed:', error.message);
    if (error.cause) {
      console.error('Cause:', error.cause.message);
    }
    return false;
  }
}

// Run all tests
async function runAllTests() {
  console.log('ğŸš€ Starting Azure OpenAI Tests with AI SDK...\n');
  
  const test1 = await testTextGeneration();
  const test2 = await testObjectGeneration();
  const test3 = await testOutlineGeneration();
  
  console.log('\nğŸ“Š Test Results:');
  console.log('Text Generation:', test1 ? 'âœ… PASS' : 'âŒ FAIL');
  console.log('Object Generation:', test2 ? 'âœ… PASS' : 'âŒ FAIL');
  console.log('Outline Generation:', test3 ? 'âœ… PASS' : 'âŒ FAIL');
  
  const allPassed = test1 && test2 && test3;
  console.log('\nğŸ¯ Overall Result:', allPassed ? 'âœ… ALL TESTS PASSED' : 'âŒ SOME TESTS FAILED');
  
  if (allPassed) {
    console.log('ğŸ‰ Your Azure OpenAI setup is working correctly!');
    console.log('Your slides app should now work properly.');
  } else {
    console.log('ğŸ”§ Please check your Azure OpenAI configuration:');
    console.log('1. Verify your API key in .env.local');
    console.log('2. Check your endpoint URL');
    console.log('3. Ensure your deployment name is correct');
    console.log('4. Verify your model deployment is active in Azure portal');
  }
}

runAllTests().catch(console.error); 
```

# test-groq-llama4.js

```js
const { config } = require('dotenv');
const { createGroq } = require('@ai-sdk/groq');
const { generateText, generateObject } = require('ai');
const { z } = require('zod');

// Load environment variables from .env.local
config({ path: '.env.local' });

// Configure Groq with Llama 4 Scout
const groq = createGroq({
  apiKey: process.env.GROQ_API_KEY,
});

const modelName = 'meta-llama/llama-4-scout-17b-16e-instruct';

console.log('ğŸ” Testing Groq Llama 4 Scout Configuration...');
console.log('API Key:', process.env.GROQ_API_KEY ? 'âœ… Set' : 'âŒ Missing');
console.log('Model:', modelName);
console.log('---\n');

// Test 1: Basic text generation
async function testBasicGeneration() {
  console.log('ğŸ§ª Test 1: Basic Text Generation');
  try {
    const result = await generateText({
      model: groq(modelName),
      prompt: 'Explain the benefits of mixture-of-experts architecture in AI models in 2 sentences.',
      maxTokens: 100,
    });
    
    console.log('âœ… Success!');
    console.log('Response:', result.text);
    console.log('Usage:', result.usage);
    console.log('---\n');
    return true;
  } catch (error) {
    console.log('âŒ Error:', error.message);
    console.log('---\n');
    return false;
  }
}

// Test 2: Structured object generation (like for slides)
async function testStructuredGeneration() {
  console.log('ğŸ§ª Test 2: Structured Object Generation (Slide Content)');
  try {
    const slideSchema = z.object({
      title: z.string().describe('A compelling slide title'),
      content: z.string().describe('Main slide content in HTML format'),
      bulletPoints: z.array(z.string()).describe('Key bullet points for the slide'),
      imagePrompt: z.string().describe('A detailed prompt for generating an image for this slide'),
    });

    const result = await generateObject({
      model: groq(modelName),
      schema: slideSchema,
      prompt: 'Create a slide about the benefits of renewable energy sources. Make it engaging and informative.',
      maxTokens: 300,
    });
    
    console.log('âœ… Success!');
    console.log('Generated Slide:');
    console.log('Title:', result.object.title);
    console.log('Content:', result.object.content.substring(0, 100) + '...');
    console.log('Bullet Points:', result.object.bulletPoints);
    console.log('Image Prompt:', result.object.imagePrompt);
    console.log('Usage:', result.usage);
    console.log('---\n');
    return true;
  } catch (error) {
    console.log('âŒ Error:', error.message);
    console.log('---\n');
    return false;
  }
}

// Test 3: Outline generation (mimic your app's workflow)
async function testOutlineGeneration() {
  console.log('ğŸ§ª Test 3: Presentation Outline Generation');
  try {
    const outlineSchema = z.object({
      title: z.string().describe('Presentation title'),
      sections: z.array(z.object({
        sectionTitle: z.string().describe('Section title'),
        bulletPoints: z.array(z.string()).describe('Key points for this section'),
        estimatedMinutes: z.number().describe('Estimated time for this section'),
      })).describe('Array of presentation sections'),
    });

    const result = await generateObject({
      model: groq(modelName),
      schema: outlineSchema,
      prompt: 'Create an outline for a 10-minute presentation about "The Future of AI in Healthcare". Include 3-4 main sections with bullet points.',
      maxTokens: 500,
    });
    
    console.log('âœ… Success!');
    console.log('Generated Outline:');
    console.log('Title:', result.object.title);
    console.log('Sections:', result.object.sections.length);
    result.object.sections.forEach((section, index) => {
      console.log(`  ${index + 1}. ${section.sectionTitle} (${section.estimatedMinutes} min)`);
      console.log(`     Bullet Points: ${section.bulletPoints.length}`);
    });
    console.log('Usage:', result.usage);
    console.log('---\n');
    return true;
  } catch (error) {
    console.log('âŒ Error:', error.message);
    console.log('---\n');
    return false;
  }
}

// Run all tests
async function runAllTests() {
  console.log('ğŸš€ Starting Groq Llama 4 Scout Tests...\n');
  
  const test1 = await testBasicGeneration();
  const test2 = await testStructuredGeneration();
  const test3 = await testOutlineGeneration();
  
  const successCount = [test1, test2, test3].filter(Boolean).length;
  console.log(`ğŸ“Š Results: ${successCount}/3 tests passed`);
  
  if (successCount === 3) {
    console.log('ğŸ‰ All tests passed! Groq Llama 4 Scout is working perfectly!');
    console.log('ğŸ’¡ You can now update your API routes to use Groq instead of Azure OpenAI.');
  } else {
    console.log('âŒ Some tests failed. Please check your GROQ_API_KEY and try again.');
  }
}

runAllTests().catch((err) => {
  console.error('ğŸš¨ Unexpected error:', err);
}); 
```

# tsconfig.json

```json
{
  "compilerOptions": {
    "target": "es5",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}

```

# tsconfig.tsbuildinfo

```tsbuildinfo
{"program":{"fileNames":["./node_modules/typescript/lib/lib.es5.d.ts","./node_modules/typescript/lib/lib.es2015.d.ts","./node_modules/typescript/lib/lib.es2016.d.ts","./node_modules/typescript/lib/lib.es2017.d.ts","./node_modules/typescript/lib/lib.es2018.d.ts","./node_modules/typescript/lib/lib.es2019.d.ts","./node_modules/typescript/lib/lib.es2020.d.ts","./node_modules/typescript/lib/lib.es2021.d.ts","./node_modules/typescript/lib/lib.es2022.d.ts","./node_modules/typescript/lib/lib.es2023.d.ts","./node_modules/typescript/lib/lib.esnext.d.ts","./node_modules/typescript/lib/lib.dom.d.ts","./node_modules/typescript/lib/lib.dom.iterable.d.ts","./node_modules/typescript/lib/lib.es2015.core.d.ts","./node_modules/typescript/lib/lib.es2015.collection.d.ts","./node_modules/typescript/lib/lib.es2015.generator.d.ts","./node_modules/typescript/lib/lib.es2015.iterable.d.ts","./node_modules/typescript/lib/lib.es2015.promise.d.ts","./node_modules/typescript/lib/lib.es2015.proxy.d.ts","./node_modules/typescript/lib/lib.es2015.reflect.d.ts","./node_modules/typescript/lib/lib.es2015.symbol.d.ts","./node_modules/typescript/lib/lib.es2015.symbol.wellknown.d.ts","./node_modules/typescript/lib/lib.es2016.array.include.d.ts","./node_modules/typescript/lib/lib.es2017.date.d.ts","./node_modules/typescript/lib/lib.es2017.object.d.ts","./node_modules/typescript/lib/lib.es2017.sharedmemory.d.ts","./node_modules/typescript/lib/lib.es2017.string.d.ts","./node_modules/typescript/lib/lib.es2017.intl.d.ts","./node_modules/typescript/lib/lib.es2017.typedarrays.d.ts","./node_modules/typescript/lib/lib.es2018.asyncgenerator.d.ts","./node_modules/typescript/lib/lib.es2018.asynciterable.d.ts","./node_modules/typescript/lib/lib.es2018.intl.d.ts","./node_modules/typescript/lib/lib.es2018.promise.d.ts","./node_modules/typescript/lib/lib.es2018.regexp.d.ts","./node_modules/typescript/lib/lib.es2019.array.d.ts","./node_modules/typescript/lib/lib.es2019.object.d.ts","./node_modules/typescript/lib/lib.es2019.string.d.ts","./node_modules/typescript/lib/lib.es2019.symbol.d.ts","./node_modules/typescript/lib/lib.es2019.intl.d.ts","./node_modules/typescript/lib/lib.es2020.bigint.d.ts","./node_modules/typescript/lib/lib.es2020.date.d.ts","./node_modules/typescript/lib/lib.es2020.promise.d.ts","./node_modules/typescript/lib/lib.es2020.sharedmemory.d.ts","./node_modules/typescript/lib/lib.es2020.string.d.ts","./node_modules/typescript/lib/lib.es2020.symbol.wellknown.d.ts","./node_modules/typescript/lib/lib.es2020.intl.d.ts","./node_modules/typescript/lib/lib.es2020.number.d.ts","./node_modules/typescript/lib/lib.es2021.promise.d.ts","./node_modules/typescript/lib/lib.es2021.string.d.ts","./node_modules/typescript/lib/lib.es2021.weakref.d.ts","./node_modules/typescript/lib/lib.es2021.intl.d.ts","./node_modules/typescript/lib/lib.es2022.array.d.ts","./node_modules/typescript/lib/lib.es2022.error.d.ts","./node_modules/typescript/lib/lib.es2022.intl.d.ts","./node_modules/typescript/lib/lib.es2022.object.d.ts","./node_modules/typescript/lib/lib.es2022.sharedmemory.d.ts","./node_modules/typescript/lib/lib.es2022.string.d.ts","./node_modules/typescript/lib/lib.es2022.regexp.d.ts","./node_modules/typescript/lib/lib.es2023.array.d.ts","./node_modules/typescript/lib/lib.es2023.collection.d.ts","./node_modules/typescript/lib/lib.esnext.intl.d.ts","./node_modules/typescript/lib/lib.esnext.disposable.d.ts","./node_modules/typescript/lib/lib.esnext.decorators.d.ts","./node_modules/typescript/lib/lib.decorators.d.ts","./node_modules/typescript/lib/lib.decorators.legacy.d.ts","./node_modules/next/dist/styled-jsx/types/css.d.ts","./node_modules/@types/react/global.d.ts","./node_modules/csstype/index.d.ts","./node_modules/@types/prop-types/index.d.ts","./node_modules/@types/react/index.d.ts","./node_modules/next/dist/styled-jsx/types/index.d.ts","./node_modules/next/dist/styled-jsx/types/macro.d.ts","./node_modules/next/dist/styled-jsx/types/style.d.ts","./node_modules/next/dist/styled-jsx/types/global.d.ts","./node_modules/next/dist/shared/lib/amp.d.ts","./node_modules/next/amp.d.ts","./node_modules/@types/node/assert.d.ts","./node_modules/@types/node/assert/strict.d.ts","./node_modules/@types/node/globals.d.ts","./node_modules/@types/node/async_hooks.d.ts","./node_modules/@types/node/buffer.d.ts","./node_modules/@types/node/child_process.d.ts","./node_modules/@types/node/cluster.d.ts","./node_modules/@types/node/console.d.ts","./node_modules/@types/node/constants.d.ts","./node_modules/@types/node/crypto.d.ts","./node_modules/@types/node/dgram.d.ts","./node_modules/@types/node/diagnostics_channel.d.ts","./node_modules/@types/node/dns.d.ts","./node_modules/@types/node/dns/promises.d.ts","./node_modules/@types/node/domain.d.ts","./node_modules/@types/node/dom-events.d.ts","./node_modules/@types/node/events.d.ts","./node_modules/@types/node/fs.d.ts","./node_modules/@types/node/fs/promises.d.ts","./node_modules/@types/node/http.d.ts","./node_modules/@types/node/http2.d.ts","./node_modules/@types/node/https.d.ts","./node_modules/@types/node/inspector.d.ts","./node_modules/@types/node/module.d.ts","./node_modules/@types/node/net.d.ts","./node_modules/@types/node/os.d.ts","./node_modules/@types/node/path.d.ts","./node_modules/@types/node/perf_hooks.d.ts","./node_modules/@types/node/process.d.ts","./node_modules/@types/node/punycode.d.ts","./node_modules/@types/node/querystring.d.ts","./node_modules/@types/node/readline.d.ts","./node_modules/@types/node/readline/promises.d.ts","./node_modules/@types/node/repl.d.ts","./node_modules/@types/node/stream.d.ts","./node_modules/@types/node/stream/promises.d.ts","./node_modules/@types/node/stream/consumers.d.ts","./node_modules/@types/node/stream/web.d.ts","./node_modules/@types/node/string_decoder.d.ts","./node_modules/@types/node/test.d.ts","./node_modules/@types/node/timers.d.ts","./node_modules/@types/node/timers/promises.d.ts","./node_modules/@types/node/tls.d.ts","./node_modules/@types/node/trace_events.d.ts","./node_modules/@types/node/tty.d.ts","./node_modules/@types/node/url.d.ts","./node_modules/@types/node/util.d.ts","./node_modules/@types/node/v8.d.ts","./node_modules/@types/node/vm.d.ts","./node_modules/@types/node/wasi.d.ts","./node_modules/@types/node/worker_threads.d.ts","./node_modules/@types/node/zlib.d.ts","./node_modules/@types/node/globals.global.d.ts","./node_modules/@types/node/index.d.ts","./node_modules/next/dist/server/get-page-files.d.ts","./node_modules/@types/react/canary.d.ts","./node_modules/@types/react/experimental.d.ts","./node_modules/@types/react-dom/index.d.ts","./node_modules/@types/react-dom/canary.d.ts","./node_modules/@types/react-dom/experimental.d.ts","./node_modules/next/dist/compiled/webpack/webpack.d.ts","./node_modules/next/dist/server/config.d.ts","./node_modules/next/dist/lib/load-custom-routes.d.ts","./node_modules/next/dist/shared/lib/image-config.d.ts","./node_modules/next/dist/build/webpack/plugins/subresource-integrity-plugin.d.ts","./node_modules/next/dist/server/body-streams.d.ts","./node_modules/next/dist/server/future/route-kind.d.ts","./node_modules/next/dist/server/future/route-definitions/route-definition.d.ts","./node_modules/next/dist/server/future/route-matches/route-match.d.ts","./node_modules/next/dist/client/components/app-router-headers.d.ts","./node_modules/next/dist/server/request-meta.d.ts","./node_modules/next/dist/server/config-shared.d.ts","./node_modules/next/dist/server/base-http/index.d.ts","./node_modules/next/dist/server/api-utils/index.d.ts","./node_modules/next/dist/server/node-environment.d.ts","./node_modules/next/dist/server/require-hook.d.ts","./node_modules/next/dist/server/node-polyfill-fetch.d.ts","./node_modules/next/dist/server/node-polyfill-form.d.ts","./node_modules/next/dist/server/node-polyfill-web-streams.d.ts","./node_modules/next/dist/server/node-polyfill-crypto.d.ts","./node_modules/next/dist/build/analysis/get-page-static-info.d.ts","./node_modules/next/dist/build/webpack/loaders/get-module-build-info.d.ts","./node_modules/next/dist/build/webpack/plugins/middleware-plugin.d.ts","./node_modules/next/dist/lib/setup-exception-listeners.d.ts","./node_modules/next/dist/build/index.d.ts","./node_modules/next/dist/server/response-cache/types.d.ts","./node_modules/next/dist/server/response-cache/index.d.ts","./node_modules/next/dist/server/lib/incremental-cache/index.d.ts","./node_modules/next/dist/client/components/hooks-server-context.d.ts","./node_modules/next/dist/client/components/static-generation-async-storage.external.d.ts","./node_modules/next/dist/server/pipe-readable.d.ts","./node_modules/next/dist/server/render-result.d.ts","./node_modules/next/dist/server/future/helpers/i18n-provider.d.ts","./node_modules/next/dist/server/web/next-url.d.ts","./node_modules/next/dist/compiled/@edge-runtime/cookies/index.d.ts","./node_modules/next/dist/server/web/spec-extension/cookies.d.ts","./node_modules/next/dist/server/web/spec-extension/request.d.ts","./node_modules/next/dist/server/web/spec-extension/fetch-event.d.ts","./node_modules/next/dist/server/web/spec-extension/response.d.ts","./node_modules/next/dist/server/web/types.d.ts","./node_modules/next/dist/build/webpack/plugins/pages-manifest-plugin.d.ts","./node_modules/next/dist/server/send-payload/revalidate-headers.d.ts","./node_modules/next/dist/server/send-payload/index.d.ts","./node_modules/next/dist/shared/lib/router/utils/route-regex.d.ts","./node_modules/next/dist/shared/lib/router/utils/route-matcher.d.ts","./node_modules/next/dist/server/base-http/node.d.ts","./node_modules/next/dist/shared/lib/router/utils/parse-url.d.ts","./node_modules/next/dist/server/font-utils.d.ts","./node_modules/next/dist/build/webpack/plugins/flight-manifest-plugin.d.ts","./node_modules/next/dist/server/future/route-modules/route-module.d.ts","./node_modules/next/dist/server/load-components.d.ts","./node_modules/next/dist/shared/lib/router/utils/middleware-route-matcher.d.ts","./node_modules/next/dist/build/webpack/plugins/next-font-manifest-plugin.d.ts","./node_modules/next/dist/server/render.d.ts","./node_modules/next/dist/server/future/route-definitions/locale-route-definition.d.ts","./node_modules/next/dist/server/future/route-definitions/pages-api-route-definition.d.ts","./node_modules/next/dist/server/future/route-matches/pages-api-route-match.d.ts","./node_modules/next/dist/server/future/route-matchers/route-matcher.d.ts","./node_modules/next/dist/server/future/route-matcher-providers/route-matcher-provider.d.ts","./node_modules/next/dist/server/future/route-matcher-managers/route-matcher-manager.d.ts","./node_modules/next/dist/server/future/normalizers/normalizer.d.ts","./node_modules/next/dist/server/future/normalizers/locale-route-normalizer.d.ts","./node_modules/next/dist/server/base-server.d.ts","./node_modules/next/dist/server/lib/router-utils/types.d.ts","./node_modules/next/dist/server/lib/render-server.d.ts","./node_modules/next/dist/server/image-optimizer.d.ts","./node_modules/next/dist/server/next-server.d.ts","./node_modules/next/dist/server/dev/static-paths-worker.d.ts","./node_modules/next/dist/server/dev/next-dev-server.d.ts","./node_modules/next/dist/server/next.d.ts","./node_modules/next/dist/lib/metadata/types/alternative-urls-types.d.ts","./node_modules/next/dist/lib/metadata/types/extra-types.d.ts","./node_modules/next/dist/lib/metadata/types/metadata-types.d.ts","./node_modules/next/dist/lib/metadata/types/manifest-types.d.ts","./node_modules/next/dist/lib/metadata/types/opengraph-types.d.ts","./node_modules/next/dist/lib/metadata/types/twitter-types.d.ts","./node_modules/next/dist/lib/metadata/types/metadata-interface.d.ts","./node_modules/next/types/index.d.ts","./node_modules/next/dist/shared/lib/html-context.shared-runtime.d.ts","./node_modules/@next/env/dist/index.d.ts","./node_modules/next/dist/shared/lib/mitt.d.ts","./node_modules/next/dist/client/with-router.d.ts","./node_modules/next/dist/client/router.d.ts","./node_modules/next/dist/client/route-loader.d.ts","./node_modules/next/dist/client/page-loader.d.ts","./node_modules/next/dist/shared/lib/bloom-filter.d.ts","./node_modules/next/dist/shared/lib/router/router.d.ts","./node_modules/next/dist/shared/lib/modern-browserslist-target.d.ts","./node_modules/next/dist/shared/lib/constants.d.ts","./node_modules/next/dist/shared/lib/utils.d.ts","./node_modules/next/dist/pages/_app.d.ts","./node_modules/next/app.d.ts","./node_modules/next/dist/server/web/spec-extension/unstable-cache.d.ts","./node_modules/next/dist/server/web/spec-extension/revalidate-path.d.ts","./node_modules/next/dist/server/web/spec-extension/revalidate-tag.d.ts","./node_modules/next/cache.d.ts","./node_modules/next/dist/shared/lib/runtime-config.external.d.ts","./node_modules/next/config.d.ts","./node_modules/next/dist/pages/_document.d.ts","./node_modules/next/document.d.ts","./node_modules/next/dist/shared/lib/dynamic.d.ts","./node_modules/next/dynamic.d.ts","./node_modules/next/dist/pages/_error.d.ts","./node_modules/next/error.d.ts","./node_modules/next/dist/shared/lib/head.d.ts","./node_modules/next/head.d.ts","./node_modules/next/dist/shared/lib/get-img-props.d.ts","./node_modules/next/dist/client/image-component.d.ts","./node_modules/next/dist/shared/lib/image-external.d.ts","./node_modules/next/image.d.ts","./node_modules/next/dist/client/link.d.ts","./node_modules/next/link.d.ts","./node_modules/next/router.d.ts","./node_modules/next/dist/client/script.d.ts","./node_modules/next/script.d.ts","./node_modules/next/dist/server/web/spec-extension/user-agent.d.ts","./node_modules/next/dist/compiled/@edge-runtime/primitives/url.d.ts","./node_modules/next/dist/compiled/@vercel/og/satori/index.d.ts","./node_modules/next/dist/compiled/@vercel/og/emoji/index.d.ts","./node_modules/next/dist/compiled/@vercel/og/types.d.ts","./node_modules/next/dist/compiled/@vercel/og/index.node.d.ts","./node_modules/next/dist/server/web/spec-extension/image-response.d.ts","./node_modules/next/server.d.ts","./node_modules/next/types/global.d.ts","./node_modules/next/index.d.ts","./node_modules/next/image-types/global.d.ts","./next-env.d.ts","./node_modules/source-map-js/source-map.d.ts","./node_modules/postcss/lib/previous-map.d.ts","./node_modules/postcss/lib/input.d.ts","./node_modules/postcss/lib/css-syntax-error.d.ts","./node_modules/postcss/lib/declaration.d.ts","./node_modules/postcss/lib/root.d.ts","./node_modules/postcss/lib/warning.d.ts","./node_modules/postcss/lib/lazy-result.d.ts","./node_modules/postcss/lib/no-work-result.d.ts","./node_modules/postcss/lib/processor.d.ts","./node_modules/postcss/lib/result.d.ts","./node_modules/postcss/lib/document.d.ts","./node_modules/postcss/lib/rule.d.ts","./node_modules/postcss/lib/node.d.ts","./node_modules/postcss/lib/comment.d.ts","./node_modules/postcss/lib/container.d.ts","./node_modules/postcss/lib/at-rule.d.ts","./node_modules/postcss/lib/list.d.ts","./node_modules/postcss/lib/postcss.d.ts","./node_modules/postcss/lib/postcss.d.mts","./node_modules/tailwindcss/types/generated/corepluginlist.d.ts","./node_modules/tailwindcss/types/generated/colors.d.ts","./node_modules/tailwindcss/types/config.d.ts","./node_modules/tailwindcss/types/index.d.ts","./tailwind.config.ts","./node_modules/@ai-sdk/provider/dist/index.d.ts","./node_modules/zod/dist/types/v3/helpers/typealiases.d.ts","./node_modules/zod/dist/types/v3/helpers/util.d.ts","./node_modules/zod/dist/types/v3/zoderror.d.ts","./node_modules/zod/dist/types/v3/locales/en.d.ts","./node_modules/zod/dist/types/v3/errors.d.ts","./node_modules/zod/dist/types/v3/helpers/parseutil.d.ts","./node_modules/zod/dist/types/v3/helpers/enumutil.d.ts","./node_modules/zod/dist/types/v3/helpers/errorutil.d.ts","./node_modules/zod/dist/types/v3/helpers/partialutil.d.ts","./node_modules/zod/dist/types/v3/standard-schema.d.ts","./node_modules/zod/dist/types/v3/types.d.ts","./node_modules/zod/dist/types/v3/external.d.ts","./node_modules/zod/dist/types/v3/index.d.ts","./node_modules/zod/dist/types/index.d.ts","./node_modules/@ai-sdk/provider-utils/dist/index.d.ts","./node_modules/@ai-sdk/openai/dist/index.d.ts","./node_modules/ai/node_modules/@ai-sdk/provider/dist/index.d.ts","./node_modules/ai/node_modules/@ai-sdk/provider-utils/dist/index.d.ts","./node_modules/@ai-sdk/ui-utils/node_modules/@ai-sdk/provider/dist/index.d.ts","./node_modules/@ai-sdk/ui-utils/node_modules/@ai-sdk/provider-utils/dist/index.d.ts","./node_modules/@ai-sdk/ui-utils/dist/index.d.ts","./node_modules/@opentelemetry/api/build/src/baggage/internal/symbol.d.ts","./node_modules/@opentelemetry/api/build/src/baggage/types.d.ts","./node_modules/@opentelemetry/api/build/src/baggage/utils.d.ts","./node_modules/@opentelemetry/api/build/src/common/exception.d.ts","./node_modules/@opentelemetry/api/build/src/common/time.d.ts","./node_modules/@opentelemetry/api/build/src/common/attributes.d.ts","./node_modules/@opentelemetry/api/build/src/context/types.d.ts","./node_modules/@opentelemetry/api/build/src/context/context.d.ts","./node_modules/@opentelemetry/api/build/src/api/context.d.ts","./node_modules/@opentelemetry/api/build/src/diag/types.d.ts","./node_modules/@opentelemetry/api/build/src/diag/consolelogger.d.ts","./node_modules/@opentelemetry/api/build/src/api/diag.d.ts","./node_modules/@opentelemetry/api/build/src/metrics/observableresult.d.ts","./node_modules/@opentelemetry/api/build/src/metrics/metric.d.ts","./node_modules/@opentelemetry/api/build/src/metrics/meter.d.ts","./node_modules/@opentelemetry/api/build/src/metrics/noopmeter.d.ts","./node_modules/@opentelemetry/api/build/src/metrics/meterprovider.d.ts","./node_modules/@opentelemetry/api/build/src/api/metrics.d.ts","./node_modules/@opentelemetry/api/build/src/propagation/textmappropagator.d.ts","./node_modules/@opentelemetry/api/build/src/baggage/context-helpers.d.ts","./node_modules/@opentelemetry/api/build/src/api/propagation.d.ts","./node_modules/@opentelemetry/api/build/src/trace/attributes.d.ts","./node_modules/@opentelemetry/api/build/src/trace/trace_state.d.ts","./node_modules/@opentelemetry/api/build/src/trace/span_context.d.ts","./node_modules/@opentelemetry/api/build/src/trace/link.d.ts","./node_modules/@opentelemetry/api/build/src/trace/status.d.ts","./node_modules/@opentelemetry/api/build/src/trace/span.d.ts","./node_modules/@opentelemetry/api/build/src/trace/span_kind.d.ts","./node_modules/@opentelemetry/api/build/src/trace/spanoptions.d.ts","./node_modules/@opentelemetry/api/build/src/trace/tracer.d.ts","./node_modules/@opentelemetry/api/build/src/trace/tracer_options.d.ts","./node_modules/@opentelemetry/api/build/src/trace/proxytracer.d.ts","./node_modules/@opentelemetry/api/build/src/trace/tracer_provider.d.ts","./node_modules/@opentelemetry/api/build/src/trace/proxytracerprovider.d.ts","./node_modules/@opentelemetry/api/build/src/trace/samplingresult.d.ts","./node_modules/@opentelemetry/api/build/src/trace/sampler.d.ts","./node_modules/@opentelemetry/api/build/src/trace/trace_flags.d.ts","./node_modules/@opentelemetry/api/build/src/trace/internal/utils.d.ts","./node_modules/@opentelemetry/api/build/src/trace/spancontext-utils.d.ts","./node_modules/@opentelemetry/api/build/src/trace/invalid-span-constants.d.ts","./node_modules/@opentelemetry/api/build/src/trace/context-utils.d.ts","./node_modules/@opentelemetry/api/build/src/api/trace.d.ts","./node_modules/@opentelemetry/api/build/src/context-api.d.ts","./node_modules/@opentelemetry/api/build/src/diag-api.d.ts","./node_modules/@opentelemetry/api/build/src/metrics-api.d.ts","./node_modules/@opentelemetry/api/build/src/propagation-api.d.ts","./node_modules/@opentelemetry/api/build/src/trace-api.d.ts","./node_modules/@opentelemetry/api/build/src/index.d.ts","./node_modules/ai/dist/index.d.ts","./app/api/ai-text-completion/route.ts","./node_modules/@ai-sdk/replicate/node_modules/@ai-sdk/provider/dist/index.d.ts","./node_modules/@ai-sdk/replicate/node_modules/@ai-sdk/provider-utils/dist/index.d.ts","./node_modules/@ai-sdk/replicate/dist/index.d.ts","./app/api/generate-image/route.ts","./lib/types/reasoning.ts","./lib/reasoning/generator.ts","./app/api/generate-outline/route.ts","./app/api/generate-slide/route.ts","./app/api/test-reasoning/route.ts","./node_modules/@radix-ui/react-primitive/dist/index.d.mts","./node_modules/@radix-ui/react-dismissable-layer/dist/index.d.mts","./node_modules/@radix-ui/react-toast/dist/index.d.mts","./node_modules/class-variance-authority/node_modules/clsx/clsx.d.mts","./node_modules/class-variance-authority/dist/types.d.ts","./node_modules/class-variance-authority/dist/index.d.ts","./node_modules/lucide-react/dist/lucide-react.d.ts","./node_modules/clsx/clsx.d.mts","./node_modules/tailwind-merge/dist/types.d.ts","./node_modules/marked/lib/marked.d.ts","./lib/utils.ts","./components/ui/toast.tsx","./hooks/use-toast.ts","./lib/themes.ts","./node_modules/next/dist/compiled/@next/font/dist/types.d.ts","./node_modules/next/dist/compiled/@next/font/dist/google/index.d.ts","./node_modules/next/font/google/index.d.ts","./contexts/themecontext.tsx","./app/layout.tsx","./node_modules/@types/react/jsx-runtime.d.ts","./node_modules/@radix-ui/react-slot/dist/index.d.mts","./components/ui/button.tsx","./components/ui/landing-header.tsx","./app/page.tsx","./components/ui/card.tsx","./components/ui/badge.tsx","./components/ui/themes-button.tsx","./components/ui/slides-header.tsx","./app/create/page.tsx","./node_modules/next/dist/shared/lib/server-inserted-html.shared-runtime.d.ts","./node_modules/next/dist/client/components/redirect.d.ts","./node_modules/next/dist/client/components/not-found.d.ts","./node_modules/next/node_modules/zod/lib/helpers/typealiases.d.ts","./node_modules/next/node_modules/zod/lib/helpers/util.d.ts","./node_modules/next/node_modules/zod/lib/zoderror.d.ts","./node_modules/next/node_modules/zod/lib/locales/en.d.ts","./node_modules/next/node_modules/zod/lib/errors.d.ts","./node_modules/next/node_modules/zod/lib/helpers/parseutil.d.ts","./node_modules/next/node_modules/zod/lib/helpers/enumutil.d.ts","./node_modules/next/node_modules/zod/lib/helpers/errorutil.d.ts","./node_modules/next/node_modules/zod/lib/helpers/partialutil.d.ts","./node_modules/next/node_modules/zod/lib/types.d.ts","./node_modules/next/node_modules/zod/lib/external.d.ts","./node_modules/next/node_modules/zod/lib/index.d.ts","./node_modules/next/node_modules/zod/index.d.ts","./node_modules/next/dist/server/app-render/types.d.ts","./node_modules/next/dist/client/components/router-reducer/fetch-server-response.d.ts","./node_modules/next/dist/client/components/router-reducer/router-reducer-types.d.ts","./node_modules/next/dist/shared/lib/app-router-context.shared-runtime.d.ts","./node_modules/next/dist/client/components/navigation.d.ts","./node_modules/next/navigation.d.ts","./components/ui/input.tsx","./node_modules/@radix-ui/react-focus-scope/dist/index.d.mts","./node_modules/@radix-ui/react-arrow/dist/index.d.mts","./node_modules/@radix-ui/rect/dist/index.d.mts","./node_modules/@radix-ui/react-popper/dist/index.d.mts","./node_modules/@radix-ui/react-portal/dist/index.d.mts","./node_modules/@radix-ui/react-select/dist/index.d.mts","./components/ui/select.tsx","./app/create/generate/page.tsx","./components/ui/textarea.tsx","./node_modules/@radix-ui/react-collapsible/dist/index.d.mts","./components/ui/collapsible.tsx","./node_modules/@radix-ui/react-separator/dist/index.d.mts","./components/ui/separator.tsx","./node_modules/@radix-ui/react-progress/dist/index.d.mts","./components/ui/progress.tsx","./components/ui/reasoning-display.tsx","./node_modules/@dnd-kit/utilities/dist/hooks/usecombinedrefs.d.ts","./node_modules/@dnd-kit/utilities/dist/hooks/useevent.d.ts","./node_modules/@dnd-kit/utilities/dist/hooks/useisomorphiclayouteffect.d.ts","./node_modules/@dnd-kit/utilities/dist/hooks/useinterval.d.ts","./node_modules/@dnd-kit/utilities/dist/hooks/uselatestvalue.d.ts","./node_modules/@dnd-kit/utilities/dist/hooks/uselazymemo.d.ts","./node_modules/@dnd-kit/utilities/dist/hooks/usenoderef.d.ts","./node_modules/@dnd-kit/utilities/dist/hooks/useprevious.d.ts","./node_modules/@dnd-kit/utilities/dist/hooks/useuniqueid.d.ts","./node_modules/@dnd-kit/utilities/dist/hooks/index.d.ts","./node_modules/@dnd-kit/utilities/dist/adjustment.d.ts","./node_modules/@dnd-kit/utilities/dist/coordinates/types.d.ts","./node_modules/@dnd-kit/utilities/dist/coordinates/geteventcoordinates.d.ts","./node_modules/@dnd-kit/utilities/dist/coordinates/index.d.ts","./node_modules/@dnd-kit/utilities/dist/css.d.ts","./node_modules/@dnd-kit/utilities/dist/event/hasviewportrelativecoordinates.d.ts","./node_modules/@dnd-kit/utilities/dist/event/iskeyboardevent.d.ts","./node_modules/@dnd-kit/utilities/dist/event/istouchevent.d.ts","./node_modules/@dnd-kit/utilities/dist/event/index.d.ts","./node_modules/@dnd-kit/utilities/dist/execution-context/canusedom.d.ts","./node_modules/@dnd-kit/utilities/dist/execution-context/getownerdocument.d.ts","./node_modules/@dnd-kit/utilities/dist/execution-context/getwindow.d.ts","./node_modules/@dnd-kit/utilities/dist/execution-context/index.d.ts","./node_modules/@dnd-kit/utilities/dist/focus/findfirstfocusablenode.d.ts","./node_modules/@dnd-kit/utilities/dist/focus/index.d.ts","./node_modules/@dnd-kit/utilities/dist/type-guards/isdocument.d.ts","./node_modules/@dnd-kit/utilities/dist/type-guards/ishtmlelement.d.ts","./node_modules/@dnd-kit/utilities/dist/type-guards/isnode.d.ts","./node_modules/@dnd-kit/utilities/dist/type-guards/issvgelement.d.ts","./node_modules/@dnd-kit/utilities/dist/type-guards/iswindow.d.ts","./node_modules/@dnd-kit/utilities/dist/type-guards/index.d.ts","./node_modules/@dnd-kit/utilities/dist/types.d.ts","./node_modules/@dnd-kit/utilities/dist/index.d.ts","./node_modules/@dnd-kit/core/dist/types/coordinates.d.ts","./node_modules/@dnd-kit/core/dist/types/direction.d.ts","./node_modules/@dnd-kit/core/dist/utilities/algorithms/types.d.ts","./node_modules/@dnd-kit/core/dist/utilities/algorithms/closestcenter.d.ts","./node_modules/@dnd-kit/core/dist/utilities/algorithms/closestcorners.d.ts","./node_modules/@dnd-kit/core/dist/utilities/algorithms/rectintersection.d.ts","./node_modules/@dnd-kit/core/dist/utilities/algorithms/pointerwithin.d.ts","./node_modules/@dnd-kit/core/dist/utilities/algorithms/helpers.d.ts","./node_modules/@dnd-kit/core/dist/utilities/algorithms/index.d.ts","./node_modules/@dnd-kit/core/dist/sensors/pointer/abstractpointersensor.d.ts","./node_modules/@dnd-kit/core/dist/sensors/pointer/pointersensor.d.ts","./node_modules/@dnd-kit/core/dist/sensors/pointer/index.d.ts","./node_modules/@dnd-kit/core/dist/sensors/types.d.ts","./node_modules/@dnd-kit/core/dist/sensors/usesensor.d.ts","./node_modules/@dnd-kit/core/dist/sensors/usesensors.d.ts","./node_modules/@dnd-kit/core/dist/sensors/mouse/mousesensor.d.ts","./node_modules/@dnd-kit/core/dist/sensors/mouse/index.d.ts","./node_modules/@dnd-kit/core/dist/sensors/touch/touchsensor.d.ts","./node_modules/@dnd-kit/core/dist/sensors/touch/index.d.ts","./node_modules/@dnd-kit/core/dist/sensors/keyboard/types.d.ts","./node_modules/@dnd-kit/core/dist/sensors/keyboard/keyboardsensor.d.ts","./node_modules/@dnd-kit/core/dist/sensors/keyboard/defaults.d.ts","./node_modules/@dnd-kit/core/dist/sensors/keyboard/index.d.ts","./node_modules/@dnd-kit/core/dist/sensors/index.d.ts","./node_modules/@dnd-kit/core/dist/types/events.d.ts","./node_modules/@dnd-kit/core/dist/types/other.d.ts","./node_modules/@dnd-kit/core/dist/types/react.d.ts","./node_modules/@dnd-kit/core/dist/types/rect.d.ts","./node_modules/@dnd-kit/core/dist/types/index.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/useautoscroller.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/usecachednode.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/usesyntheticlisteners.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/usecombineactivators.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/usedroppablemeasuring.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/useinitialvalue.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/useinitialrect.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/userect.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/userectdelta.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/useresizeobserver.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/usescrollableancestors.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/usescrollintoviewifneeded.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/usescrolloffsets.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/usescrolloffsetsdelta.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/usesensorsetup.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/userects.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/usewindowrect.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/usedragoverlaymeasuring.d.ts","./node_modules/@dnd-kit/core/dist/hooks/utilities/index.d.ts","./node_modules/@dnd-kit/core/dist/store/constructors.d.ts","./node_modules/@dnd-kit/core/dist/store/types.d.ts","./node_modules/@dnd-kit/core/dist/store/actions.d.ts","./node_modules/@dnd-kit/core/dist/store/context.d.ts","./node_modules/@dnd-kit/core/dist/store/reducer.d.ts","./node_modules/@dnd-kit/core/dist/store/index.d.ts","./node_modules/@dnd-kit/core/dist/components/accessibility/types.d.ts","./node_modules/@dnd-kit/core/dist/components/accessibility/accessibility.d.ts","./node_modules/@dnd-kit/core/dist/components/accessibility/components/restorefocus.d.ts","./node_modules/@dnd-kit/core/dist/components/accessibility/components/index.d.ts","./node_modules/@dnd-kit/core/dist/components/accessibility/defaults.d.ts","./node_modules/@dnd-kit/core/dist/components/accessibility/index.d.ts","./node_modules/@dnd-kit/core/dist/utilities/coordinates/constants.d.ts","./node_modules/@dnd-kit/core/dist/utilities/coordinates/distancebetweenpoints.d.ts","./node_modules/@dnd-kit/core/dist/utilities/coordinates/getrelativetransformorigin.d.ts","./node_modules/@dnd-kit/core/dist/utilities/coordinates/index.d.ts","./node_modules/@dnd-kit/core/dist/utilities/rect/adjustscale.d.ts","./node_modules/@dnd-kit/core/dist/utilities/rect/getrectdelta.d.ts","./node_modules/@dnd-kit/core/dist/utilities/rect/rectadjustment.d.ts","./node_modules/@dnd-kit/core/dist/utilities/rect/getrect.d.ts","./node_modules/@dnd-kit/core/dist/utilities/rect/getwindowclientrect.d.ts","./node_modules/@dnd-kit/core/dist/utilities/rect/rect.d.ts","./node_modules/@dnd-kit/core/dist/utilities/rect/index.d.ts","./node_modules/@dnd-kit/core/dist/utilities/other/noop.d.ts","./node_modules/@dnd-kit/core/dist/utilities/other/index.d.ts","./node_modules/@dnd-kit/core/dist/utilities/scroll/getscrollableancestors.d.ts","./node_modules/@dnd-kit/core/dist/utilities/scroll/getscrollableelement.d.ts","./node_modules/@dnd-kit/core/dist/utilities/scroll/getscrollcoordinates.d.ts","./node_modules/@dnd-kit/core/dist/utilities/scroll/getscrolldirectionandspeed.d.ts","./node_modules/@dnd-kit/core/dist/utilities/scroll/getscrollelementrect.d.ts","./node_modules/@dnd-kit/core/dist/utilities/scroll/getscrolloffsets.d.ts","./node_modules/@dnd-kit/core/dist/utilities/scroll/getscrollposition.d.ts","./node_modules/@dnd-kit/core/dist/utilities/scroll/documentscrollingelement.d.ts","./node_modules/@dnd-kit/core/dist/utilities/scroll/isscrollable.d.ts","./node_modules/@dnd-kit/core/dist/utilities/scroll/scrollintoviewifneeded.d.ts","./node_modules/@dnd-kit/core/dist/utilities/scroll/index.d.ts","./node_modules/@dnd-kit/core/dist/utilities/index.d.ts","./node_modules/@dnd-kit/core/dist/modifiers/types.d.ts","./node_modules/@dnd-kit/core/dist/modifiers/applymodifiers.d.ts","./node_modules/@dnd-kit/core/dist/modifiers/index.d.ts","./node_modules/@dnd-kit/core/dist/components/dndcontext/types.d.ts","./node_modules/@dnd-kit/core/dist/components/dndcontext/dndcontext.d.ts","./node_modules/@dnd-kit/core/dist/components/dndcontext/index.d.ts","./node_modules/@dnd-kit/core/dist/components/dndmonitor/types.d.ts","./node_modules/@dnd-kit/core/dist/components/dndmonitor/context.d.ts","./node_modules/@dnd-kit/core/dist/components/dndmonitor/usedndmonitor.d.ts","./node_modules/@dnd-kit/core/dist/components/dndmonitor/usedndmonitorprovider.d.ts","./node_modules/@dnd-kit/core/dist/components/dndmonitor/index.d.ts","./node_modules/@dnd-kit/core/dist/components/dragoverlay/components/animationmanager/animationmanager.d.ts","./node_modules/@dnd-kit/core/dist/components/dragoverlay/components/animationmanager/index.d.ts","./node_modules/@dnd-kit/core/dist/components/dragoverlay/components/nullifiedcontextprovider/nullifiedcontextprovider.d.ts","./node_modules/@dnd-kit/core/dist/components/dragoverlay/components/nullifiedcontextprovider/index.d.ts","./node_modules/@dnd-kit/core/dist/components/dragoverlay/components/positionedoverlay/positionedoverlay.d.ts","./node_modules/@dnd-kit/core/dist/components/dragoverlay/components/positionedoverlay/index.d.ts","./node_modules/@dnd-kit/core/dist/components/dragoverlay/components/index.d.ts","./node_modules/@dnd-kit/core/dist/components/dragoverlay/hooks/usedropanimation.d.ts","./node_modules/@dnd-kit/core/dist/components/dragoverlay/hooks/usekey.d.ts","./node_modules/@dnd-kit/core/dist/components/dragoverlay/hooks/index.d.ts","./node_modules/@dnd-kit/core/dist/components/dragoverlay/dragoverlay.d.ts","./node_modules/@dnd-kit/core/dist/components/dragoverlay/index.d.ts","./node_modules/@dnd-kit/core/dist/components/index.d.ts","./node_modules/@dnd-kit/core/dist/hooks/usedraggable.d.ts","./node_modules/@dnd-kit/core/dist/hooks/usedndcontext.d.ts","./node_modules/@dnd-kit/core/dist/hooks/usedroppable.d.ts","./node_modules/@dnd-kit/core/dist/hooks/index.d.ts","./node_modules/@dnd-kit/core/dist/index.d.ts","./node_modules/@dnd-kit/sortable/dist/types/disabled.d.ts","./node_modules/@dnd-kit/sortable/dist/types/data.d.ts","./node_modules/@dnd-kit/sortable/dist/types/strategies.d.ts","./node_modules/@dnd-kit/sortable/dist/types/type-guard.d.ts","./node_modules/@dnd-kit/sortable/dist/types/index.d.ts","./node_modules/@dnd-kit/sortable/dist/components/sortablecontext.d.ts","./node_modules/@dnd-kit/sortable/dist/components/index.d.ts","./node_modules/@dnd-kit/sortable/dist/hooks/types.d.ts","./node_modules/@dnd-kit/sortable/dist/hooks/usesortable.d.ts","./node_modules/@dnd-kit/sortable/dist/hooks/defaults.d.ts","./node_modules/@dnd-kit/sortable/dist/hooks/index.d.ts","./node_modules/@dnd-kit/sortable/dist/strategies/horizontallistsorting.d.ts","./node_modules/@dnd-kit/sortable/dist/strategies/rectsorting.d.ts","./node_modules/@dnd-kit/sortable/dist/strategies/rectswapping.d.ts","./node_modules/@dnd-kit/sortable/dist/strategies/verticallistsorting.d.ts","./node_modules/@dnd-kit/sortable/dist/strategies/index.d.ts","./node_modules/@dnd-kit/sortable/dist/sensors/keyboard/sortablekeyboardcoordinates.d.ts","./node_modules/@dnd-kit/sortable/dist/sensors/keyboard/index.d.ts","./node_modules/@dnd-kit/sortable/dist/sensors/index.d.ts","./node_modules/@dnd-kit/sortable/dist/utilities/arraymove.d.ts","./node_modules/@dnd-kit/sortable/dist/utilities/arrayswap.d.ts","./node_modules/@dnd-kit/sortable/dist/utilities/getsortedrects.d.ts","./node_modules/@dnd-kit/sortable/dist/utilities/isvalidindex.d.ts","./node_modules/@dnd-kit/sortable/dist/utilities/itemsequal.d.ts","./node_modules/@dnd-kit/sortable/dist/utilities/normalizedisabled.d.ts","./node_modules/@dnd-kit/sortable/dist/utilities/index.d.ts","./node_modules/@dnd-kit/sortable/dist/index.d.ts","./app/create/generate/[id]/page.tsx","./app/create/import/page.tsx","./app/create/paste/page.tsx","./node_modules/orderedmap/dist/index.d.ts","./node_modules/prosemirror-model/dist/index.d.ts","./node_modules/prosemirror-transform/dist/index.d.ts","./node_modules/prosemirror-view/dist/index.d.ts","./node_modules/prosemirror-state/dist/index.d.ts","./node_modules/@tiptap/pm/state/dist/index.d.ts","./node_modules/@tiptap/pm/model/dist/index.d.ts","./node_modules/@tiptap/pm/view/dist/index.d.ts","./node_modules/@tiptap/core/dist/eventemitter.d.ts","./node_modules/@tiptap/pm/transform/dist/index.d.ts","./node_modules/@tiptap/core/dist/inputrule.d.ts","./node_modules/@tiptap/core/dist/pasterule.d.ts","./node_modules/@tiptap/core/dist/node.d.ts","./node_modules/@tiptap/core/dist/mark.d.ts","./node_modules/@tiptap/core/dist/extension.d.ts","./node_modules/@tiptap/core/dist/types.d.ts","./node_modules/@tiptap/core/dist/extensionmanager.d.ts","./node_modules/@tiptap/core/dist/nodepos.d.ts","./node_modules/@tiptap/core/dist/extensions/clipboardtextserializer.d.ts","./node_modules/@tiptap/core/dist/commands/blur.d.ts","./node_modules/@tiptap/core/dist/commands/clearcontent.d.ts","./node_modules/@tiptap/core/dist/commands/clearnodes.d.ts","./node_modules/@tiptap/core/dist/commands/command.d.ts","./node_modules/@tiptap/core/dist/commands/createparagraphnear.d.ts","./node_modules/@tiptap/core/dist/commands/cut.d.ts","./node_modules/@tiptap/core/dist/commands/deletecurrentnode.d.ts","./node_modules/@tiptap/core/dist/commands/deletenode.d.ts","./node_modules/@tiptap/core/dist/commands/deleterange.d.ts","./node_modules/@tiptap/core/dist/commands/deleteselection.d.ts","./node_modules/@tiptap/core/dist/commands/enter.d.ts","./node_modules/@tiptap/core/dist/commands/exitcode.d.ts","./node_modules/@tiptap/core/dist/commands/extendmarkrange.d.ts","./node_modules/@tiptap/core/dist/commands/first.d.ts","./node_modules/@tiptap/core/dist/commands/focus.d.ts","./node_modules/@tiptap/core/dist/commands/foreach.d.ts","./node_modules/@tiptap/core/dist/commands/insertcontent.d.ts","./node_modules/@tiptap/core/dist/commands/insertcontentat.d.ts","./node_modules/@tiptap/core/dist/commands/join.d.ts","./node_modules/@tiptap/core/dist/commands/joinitembackward.d.ts","./node_modules/@tiptap/core/dist/commands/joinitemforward.d.ts","./node_modules/@tiptap/core/dist/commands/jointextblockbackward.d.ts","./node_modules/@tiptap/core/dist/commands/jointextblockforward.d.ts","./node_modules/@tiptap/core/dist/commands/keyboardshortcut.d.ts","./node_modules/@tiptap/core/dist/commands/lift.d.ts","./node_modules/@tiptap/core/dist/commands/liftemptyblock.d.ts","./node_modules/@tiptap/core/dist/commands/liftlistitem.d.ts","./node_modules/@tiptap/core/dist/commands/newlineincode.d.ts","./node_modules/@tiptap/core/dist/commands/resetattributes.d.ts","./node_modules/@tiptap/core/dist/commands/scrollintoview.d.ts","./node_modules/@tiptap/core/dist/commands/selectall.d.ts","./node_modules/@tiptap/core/dist/commands/selectnodebackward.d.ts","./node_modules/@tiptap/core/dist/commands/selectnodeforward.d.ts","./node_modules/@tiptap/core/dist/commands/selectparentnode.d.ts","./node_modules/@tiptap/core/dist/commands/selecttextblockend.d.ts","./node_modules/@tiptap/core/dist/commands/selecttextblockstart.d.ts","./node_modules/@tiptap/core/dist/commands/setcontent.d.ts","./node_modules/@tiptap/core/dist/commands/setmark.d.ts","./node_modules/@tiptap/core/dist/commands/setmeta.d.ts","./node_modules/@tiptap/core/dist/commands/setnode.d.ts","./node_modules/@tiptap/core/dist/commands/setnodeselection.d.ts","./node_modules/@tiptap/core/dist/commands/settextselection.d.ts","./node_modules/@tiptap/core/dist/commands/sinklistitem.d.ts","./node_modules/@tiptap/core/dist/commands/splitblock.d.ts","./node_modules/@tiptap/core/dist/commands/splitlistitem.d.ts","./node_modules/@tiptap/core/dist/commands/togglelist.d.ts","./node_modules/@tiptap/core/dist/commands/togglemark.d.ts","./node_modules/@tiptap/core/dist/commands/togglenode.d.ts","./node_modules/@tiptap/core/dist/commands/togglewrap.d.ts","./node_modules/@tiptap/core/dist/commands/undoinputrule.d.ts","./node_modules/@tiptap/core/dist/commands/unsetallmarks.d.ts","./node_modules/@tiptap/core/dist/commands/unsetmark.d.ts","./node_modules/@tiptap/core/dist/commands/updateattributes.d.ts","./node_modules/@tiptap/core/dist/commands/wrapin.d.ts","./node_modules/@tiptap/core/dist/commands/wrapinlist.d.ts","./node_modules/@tiptap/core/dist/commands/index.d.ts","./node_modules/@tiptap/core/dist/extensions/commands.d.ts","./node_modules/@tiptap/core/dist/extensions/drop.d.ts","./node_modules/@tiptap/core/dist/extensions/editable.d.ts","./node_modules/@tiptap/core/dist/extensions/focusevents.d.ts","./node_modules/@tiptap/core/dist/extensions/keymap.d.ts","./node_modules/@tiptap/core/dist/extensions/paste.d.ts","./node_modules/@tiptap/core/dist/extensions/tabindex.d.ts","./node_modules/@tiptap/core/dist/extensions/index.d.ts","./node_modules/@tiptap/core/dist/editor.d.ts","./node_modules/@tiptap/core/dist/commandmanager.d.ts","./node_modules/@tiptap/core/dist/helpers/combinetransactionsteps.d.ts","./node_modules/@tiptap/core/dist/helpers/createchainablestate.d.ts","./node_modules/@tiptap/core/dist/helpers/createdocument.d.ts","./node_modules/@tiptap/core/dist/helpers/createnodefromcontent.d.ts","./node_modules/@tiptap/core/dist/helpers/defaultblockat.d.ts","./node_modules/@tiptap/core/dist/helpers/findchildren.d.ts","./node_modules/@tiptap/core/dist/helpers/findchildreninrange.d.ts","./node_modules/@tiptap/core/dist/helpers/findparentnode.d.ts","./node_modules/@tiptap/core/dist/helpers/findparentnodeclosesttopos.d.ts","./node_modules/@tiptap/core/dist/helpers/generatehtml.d.ts","./node_modules/@tiptap/core/dist/helpers/generatejson.d.ts","./node_modules/@tiptap/core/dist/helpers/generatetext.d.ts","./node_modules/@tiptap/core/dist/helpers/getattributes.d.ts","./node_modules/@tiptap/core/dist/helpers/getattributesfromextensions.d.ts","./node_modules/@tiptap/core/dist/helpers/getchangedranges.d.ts","./node_modules/@tiptap/core/dist/helpers/getdebugjson.d.ts","./node_modules/@tiptap/core/dist/helpers/getextensionfield.d.ts","./node_modules/@tiptap/core/dist/helpers/gethtmlfromfragment.d.ts","./node_modules/@tiptap/core/dist/helpers/getmarkattributes.d.ts","./node_modules/@tiptap/core/dist/helpers/getmarkrange.d.ts","./node_modules/@tiptap/core/dist/helpers/getmarksbetween.d.ts","./node_modules/@tiptap/core/dist/helpers/getmarktype.d.ts","./node_modules/@tiptap/core/dist/helpers/getnodeatposition.d.ts","./node_modules/@tiptap/core/dist/helpers/getnodeattributes.d.ts","./node_modules/@tiptap/core/dist/helpers/getnodetype.d.ts","./node_modules/@tiptap/core/dist/helpers/getrenderedattributes.d.ts","./node_modules/@tiptap/core/dist/helpers/getschema.d.ts","./node_modules/@tiptap/core/dist/helpers/getschemabyresolvedextensions.d.ts","./node_modules/@tiptap/core/dist/helpers/getschematypebyname.d.ts","./node_modules/@tiptap/core/dist/helpers/getschematypenamebyname.d.ts","./node_modules/@tiptap/core/dist/helpers/getsplittedattributes.d.ts","./node_modules/@tiptap/core/dist/helpers/gettext.d.ts","./node_modules/@tiptap/core/dist/helpers/gettextbetween.d.ts","./node_modules/@tiptap/core/dist/helpers/gettextcontentfromnodes.d.ts","./node_modules/@tiptap/core/dist/helpers/gettextserializersfromschema.d.ts","./node_modules/@tiptap/core/dist/helpers/injectextensionattributestoparserule.d.ts","./node_modules/@tiptap/core/dist/helpers/isactive.d.ts","./node_modules/@tiptap/core/dist/helpers/isatendofnode.d.ts","./node_modules/@tiptap/core/dist/helpers/isatstartofnode.d.ts","./node_modules/@tiptap/core/dist/helpers/isextensionrulesenabled.d.ts","./node_modules/@tiptap/core/dist/helpers/islist.d.ts","./node_modules/@tiptap/core/dist/helpers/ismarkactive.d.ts","./node_modules/@tiptap/core/dist/helpers/isnodeactive.d.ts","./node_modules/@tiptap/core/dist/helpers/isnodeempty.d.ts","./node_modules/@tiptap/core/dist/helpers/isnodeselection.d.ts","./node_modules/@tiptap/core/dist/helpers/istextselection.d.ts","./node_modules/@tiptap/core/dist/helpers/postodomrect.d.ts","./node_modules/@tiptap/core/dist/helpers/resolvefocusposition.d.ts","./node_modules/@tiptap/core/dist/helpers/rewriteunknowncontent.d.ts","./node_modules/@tiptap/core/dist/helpers/selectiontoinsertionend.d.ts","./node_modules/@tiptap/core/dist/helpers/splitextensions.d.ts","./node_modules/@tiptap/core/dist/helpers/index.d.ts","./node_modules/@tiptap/core/dist/inputrules/markinputrule.d.ts","./node_modules/@tiptap/core/dist/inputrules/nodeinputrule.d.ts","./node_modules/@tiptap/core/dist/inputrules/textblocktypeinputrule.d.ts","./node_modules/@tiptap/core/dist/inputrules/textinputrule.d.ts","./node_modules/@tiptap/core/dist/inputrules/wrappinginputrule.d.ts","./node_modules/@tiptap/core/dist/inputrules/index.d.ts","./node_modules/@tiptap/core/dist/nodeview.d.ts","./node_modules/@tiptap/core/dist/pasterules/markpasterule.d.ts","./node_modules/@tiptap/core/dist/pasterules/nodepasterule.d.ts","./node_modules/@tiptap/core/dist/pasterules/textpasterule.d.ts","./node_modules/@tiptap/core/dist/pasterules/index.d.ts","./node_modules/@tiptap/core/dist/tracker.d.ts","./node_modules/@tiptap/core/dist/utilities/callorreturn.d.ts","./node_modules/@tiptap/core/dist/utilities/createstyletag.d.ts","./node_modules/@tiptap/core/dist/utilities/deleteprops.d.ts","./node_modules/@tiptap/core/dist/utilities/elementfromstring.d.ts","./node_modules/@tiptap/core/dist/utilities/escapeforregex.d.ts","./node_modules/@tiptap/core/dist/utilities/findduplicates.d.ts","./node_modules/@tiptap/core/dist/utilities/fromstring.d.ts","./node_modules/@tiptap/core/dist/utilities/isemptyobject.d.ts","./node_modules/@tiptap/core/dist/utilities/isfunction.d.ts","./node_modules/@tiptap/core/dist/utilities/isios.d.ts","./node_modules/@tiptap/core/dist/utilities/ismacos.d.ts","./node_modules/@tiptap/core/dist/utilities/isnumber.d.ts","./node_modules/@tiptap/core/dist/utilities/isplainobject.d.ts","./node_modules/@tiptap/core/dist/utilities/isregexp.d.ts","./node_modules/@tiptap/core/dist/utilities/isstring.d.ts","./node_modules/@tiptap/core/dist/utilities/mergeattributes.d.ts","./node_modules/@tiptap/core/dist/utilities/mergedeep.d.ts","./node_modules/@tiptap/core/dist/utilities/minmax.d.ts","./node_modules/@tiptap/core/dist/utilities/objectincludes.d.ts","./node_modules/@tiptap/core/dist/utilities/removeduplicates.d.ts","./node_modules/@tiptap/core/dist/utilities/index.d.ts","./node_modules/@tiptap/core/dist/index.d.ts","./node_modules/@popperjs/core/lib/enums.d.ts","./node_modules/@popperjs/core/lib/modifiers/popperoffsets.d.ts","./node_modules/@popperjs/core/lib/modifiers/flip.d.ts","./node_modules/@popperjs/core/lib/modifiers/hide.d.ts","./node_modules/@popperjs/core/lib/modifiers/offset.d.ts","./node_modules/@popperjs/core/lib/modifiers/eventlisteners.d.ts","./node_modules/@popperjs/core/lib/modifiers/computestyles.d.ts","./node_modules/@popperjs/core/lib/modifiers/arrow.d.ts","./node_modules/@popperjs/core/lib/modifiers/preventoverflow.d.ts","./node_modules/@popperjs/core/lib/modifiers/applystyles.d.ts","./node_modules/@popperjs/core/lib/types.d.ts","./node_modules/@popperjs/core/lib/modifiers/index.d.ts","./node_modules/@popperjs/core/lib/utils/detectoverflow.d.ts","./node_modules/@popperjs/core/lib/createpopper.d.ts","./node_modules/@popperjs/core/lib/popper-lite.d.ts","./node_modules/@popperjs/core/lib/popper.d.ts","./node_modules/@popperjs/core/lib/index.d.ts","./node_modules/@popperjs/core/index.d.ts","./node_modules/tippy.js/index.d.ts","./node_modules/@tiptap/extension-bubble-menu/dist/bubble-menu-plugin.d.ts","./node_modules/@tiptap/extension-bubble-menu/dist/bubble-menu.d.ts","./node_modules/@tiptap/extension-bubble-menu/dist/index.d.ts","./node_modules/@tiptap/react/dist/bubblemenu.d.ts","./node_modules/@tiptap/react/dist/useeditor.d.ts","./node_modules/@tiptap/react/dist/context.d.ts","./node_modules/@tiptap/react/dist/editorcontent.d.ts","./node_modules/@tiptap/extension-floating-menu/dist/floating-menu-plugin.d.ts","./node_modules/@tiptap/extension-floating-menu/dist/floating-menu.d.ts","./node_modules/@tiptap/extension-floating-menu/dist/index.d.ts","./node_modules/@tiptap/react/dist/floatingmenu.d.ts","./node_modules/@tiptap/react/dist/nodeviewcontent.d.ts","./node_modules/@tiptap/react/dist/nodeviewwrapper.d.ts","./node_modules/@tiptap/react/dist/reactrenderer.d.ts","./node_modules/@tiptap/react/dist/types.d.ts","./node_modules/@tiptap/react/dist/reactnodeviewrenderer.d.ts","./node_modules/@tiptap/react/dist/useeditorstate.d.ts","./node_modules/@tiptap/react/dist/usereactnodeview.d.ts","./node_modules/@tiptap/react/dist/index.d.ts","./node_modules/@tiptap/extension-blockquote/dist/blockquote.d.ts","./node_modules/@tiptap/extension-blockquote/dist/index.d.ts","./node_modules/@tiptap/extension-bold/dist/bold.d.ts","./node_modules/@tiptap/extension-bold/dist/index.d.ts","./node_modules/@tiptap/extension-bullet-list/dist/bullet-list.d.ts","./node_modules/@tiptap/extension-bullet-list/dist/index.d.ts","./node_modules/@tiptap/extension-code/dist/code.d.ts","./node_modules/@tiptap/extension-code/dist/index.d.ts","./node_modules/@tiptap/extension-code-block/dist/code-block.d.ts","./node_modules/@tiptap/extension-code-block/dist/index.d.ts","./node_modules/@tiptap/extension-dropcursor/dist/dropcursor.d.ts","./node_modules/@tiptap/extension-dropcursor/dist/index.d.ts","./node_modules/@tiptap/extension-hard-break/dist/hard-break.d.ts","./node_modules/@tiptap/extension-hard-break/dist/index.d.ts","./node_modules/@tiptap/extension-heading/dist/heading.d.ts","./node_modules/@tiptap/extension-heading/dist/index.d.ts","./node_modules/@tiptap/extension-history/dist/history.d.ts","./node_modules/@tiptap/extension-history/dist/index.d.ts","./node_modules/@tiptap/extension-horizontal-rule/dist/horizontal-rule.d.ts","./node_modules/@tiptap/extension-horizontal-rule/dist/index.d.ts","./node_modules/@tiptap/extension-italic/dist/italic.d.ts","./node_modules/@tiptap/extension-italic/dist/index.d.ts","./node_modules/@tiptap/extension-list-item/dist/list-item.d.ts","./node_modules/@tiptap/extension-list-item/dist/index.d.ts","./node_modules/@tiptap/extension-ordered-list/dist/ordered-list.d.ts","./node_modules/@tiptap/extension-ordered-list/dist/index.d.ts","./node_modules/@tiptap/extension-paragraph/dist/paragraph.d.ts","./node_modules/@tiptap/extension-paragraph/dist/index.d.ts","./node_modules/@tiptap/extension-strike/dist/strike.d.ts","./node_modules/@tiptap/extension-strike/dist/index.d.ts","./node_modules/@tiptap/starter-kit/dist/starter-kit.d.ts","./node_modules/@tiptap/starter-kit/dist/index.d.ts","./node_modules/@tiptap/extension-underline/dist/underline.d.ts","./node_modules/@tiptap/extension-underline/dist/index.d.ts","./node_modules/@tiptap/extension-text-align/dist/text-align.d.ts","./node_modules/@tiptap/extension-text-align/dist/index.d.ts","./node_modules/@tiptap/extension-text-style/dist/text-style.d.ts","./node_modules/@tiptap/extension-text-style/dist/index.d.ts","./node_modules/@tiptap/extension-color/dist/color.d.ts","./node_modules/@tiptap/extension-color/dist/index.d.ts","./node_modules/@tiptap/extension-image/dist/image.d.ts","./node_modules/@tiptap/extension-image/dist/index.d.ts","./node_modules/@tiptap/extension-placeholder/dist/placeholder.d.ts","./node_modules/@tiptap/extension-placeholder/dist/index.d.ts","./node_modules/@tiptap/extension-highlight/dist/highlight.d.ts","./node_modules/@tiptap/extension-highlight/dist/index.d.ts","./node_modules/@tiptap/extension-table/dist/table.d.ts","./node_modules/@tiptap/extension-table/dist/tableview.d.ts","./node_modules/@tiptap/extension-table/dist/utilities/createcolgroup.d.ts","./node_modules/@tiptap/extension-table/dist/utilities/createtable.d.ts","./node_modules/@tiptap/extension-table/dist/index.d.ts","./node_modules/@tiptap/extension-table-row/dist/table-row.d.ts","./node_modules/@tiptap/extension-table-row/dist/index.d.ts","./node_modules/@tiptap/extension-table-header/dist/table-header.d.ts","./node_modules/@tiptap/extension-table-header/dist/index.d.ts","./node_modules/@tiptap/extension-table-cell/dist/table-cell.d.ts","./node_modules/@tiptap/extension-table-cell/dist/index.d.ts","./components/editor/ai/magic-icon.tsx","./node_modules/@ai-sdk/react/node_modules/@ai-sdk/provider-utils/dist/index.d.ts","./node_modules/@ai-sdk/react/dist/index.d.ts","./node_modules/ai/react/dist/index.d.ts","./node_modules/@radix-ui/react-scroll-area/dist/index.d.mts","./components/ui/scroll-area.tsx","./node_modules/sonner/dist/index.d.ts","./components/editor/ai/ai-selector-commands.tsx","./components/editor/ai/ai-completion-commands.tsx","./components/editor/ai/ai-selector.tsx","./components/editor/ai/generative-menu-switch.tsx","./components/editor/ai/keyboard-shortcuts.tsx","./node_modules/@radix-ui/react-popover/dist/index.d.mts","./components/ui/popover.tsx","./components/editor/formatting/text-type-selector.tsx","./components/editor/formatting/additional-formatting.tsx","./node_modules/@radix-ui/react-roving-focus/dist/index.d.mts","./node_modules/@radix-ui/react-tabs/dist/index.d.mts","./components/ui/tabs.tsx","./components/editor/formatting/enhanced-color-selector.tsx","./components/editor/tiptapeditor.tsx","./components/slides/slidewrapper.tsx","./components/slides/blankcard.tsx","./components/slides/basic/imageandtext.tsx","./components/slides/basic/textandimage.tsx","./components/slides/basic/twocolumns.tsx","./components/slides/basic/twocolumnwithheadings.tsx","./components/slides/basic/threecolumns.tsx","./components/slides/basic/threecolumnwithheadings.tsx","./components/slides/basic/fourcolumns.tsx","./components/slides/basic/fourcolumnswithheadings.tsx","./components/slides/basic/titlewithbullets.tsx","./components/slides/basic/titlewithbulletsandimage.tsx","./components/slides/basic/titlewithtext.tsx","./components/slides/basic/bullets.tsx","./components/slides/basic/paragraph.tsx","./components/slides/basic/accentleft.tsx","./components/slides/basic/accentright.tsx","./components/slides/basic/accenttop.tsx","./components/slides/basic/accentbackground.tsx","./components/slides/sliderenderer.tsx","./components/ui/themes-sidebar.tsx","./components/ui/themed-layout.tsx","./node_modules/@radix-ui/react-tooltip/dist/index.d.mts","./components/ui/tooltip.tsx","./components/ui/slide-context-menu.tsx","./components/ui/slides-sidebar.tsx","./components/ui/template-selection-modal.tsx","./components/ui/ai-generation-modal.tsx","./components/ui/inter-slide-add-buttons.tsx","./components/ui/slide-drag-handle.tsx","./app/docs/[id]/page.tsx","./app/tests/test-accent/page.tsx","./app/tests/test-blank-card/page.tsx","./app/tests/test-bullets/page.tsx","./app/tests/test-four-columns/page.tsx","./app/tests/test-four-columns-headings/page.tsx","./node_modules/@radix-ui/react-label/dist/index.d.mts","./components/ui/label.tsx","./app/tests/test-image-text/page.tsx","./app/tests/test-llm-generation/page.tsx","./app/tests/test-paragraph/page.tsx","./app/tests/test-reasoning/page.tsx","./app/tests/test-text-image/page.tsx","./app/tests/test-three-columns/page.tsx","./app/tests/test-three-columns-headings/page.tsx","./app/tests/test-title-bullets/page.tsx","./app/tests/test-title-bullets-fixed/page.tsx","./app/tests/test-title-bullets-image/page.tsx","./app/tests/test-title-text/page.tsx","./app/tests/test-two-columns/page.tsx","./app/tests/test-two-columns-headings/page.tsx","./components/editor/ai/ai-debounce.tsx","./node_modules/@radix-ui/react-accordion/dist/index.d.mts","./components/ui/accordion.tsx","./node_modules/@radix-ui/react-dialog/dist/index.d.mts","./node_modules/@radix-ui/react-alert-dialog/dist/index.d.mts","./components/ui/alert-dialog.tsx","./components/ui/alert.tsx","./node_modules/@radix-ui/react-aspect-ratio/dist/index.d.mts","./components/ui/aspect-ratio.tsx","./node_modules/@radix-ui/react-avatar/dist/index.d.mts","./components/ui/avatar.tsx","./components/ui/breadcrumb.tsx","./node_modules/date-fns/locale/types.d.ts","./node_modules/date-fns/fp/types.d.ts","./node_modules/date-fns/types.d.ts","./node_modules/date-fns/add.d.ts","./node_modules/date-fns/addbusinessdays.d.ts","./node_modules/date-fns/adddays.d.ts","./node_modules/date-fns/addhours.d.ts","./node_modules/date-fns/addisoweekyears.d.ts","./node_modules/date-fns/addmilliseconds.d.ts","./node_modules/date-fns/addminutes.d.ts","./node_modules/date-fns/addmonths.d.ts","./node_modules/date-fns/addquarters.d.ts","./node_modules/date-fns/addseconds.d.ts","./node_modules/date-fns/addweeks.d.ts","./node_modules/date-fns/addyears.d.ts","./node_modules/date-fns/areintervalsoverlapping.d.ts","./node_modules/date-fns/clamp.d.ts","./node_modules/date-fns/closestindexto.d.ts","./node_modules/date-fns/closestto.d.ts","./node_modules/date-fns/compareasc.d.ts","./node_modules/date-fns/comparedesc.d.ts","./node_modules/date-fns/constructfrom.d.ts","./node_modules/date-fns/constructnow.d.ts","./node_modules/date-fns/daystoweeks.d.ts","./node_modules/date-fns/differenceinbusinessdays.d.ts","./node_modules/date-fns/differenceincalendardays.d.ts","./node_modules/date-fns/differenceincalendarisoweekyears.d.ts","./node_modules/date-fns/differenceincalendarisoweeks.d.ts","./node_modules/date-fns/differenceincalendarmonths.d.ts","./node_modules/date-fns/differenceincalendarquarters.d.ts","./node_modules/date-fns/differenceincalendarweeks.d.ts","./node_modules/date-fns/differenceincalendaryears.d.ts","./node_modules/date-fns/differenceindays.d.ts","./node_modules/date-fns/differenceinhours.d.ts","./node_modules/date-fns/differenceinisoweekyears.d.ts","./node_modules/date-fns/differenceinmilliseconds.d.ts","./node_modules/date-fns/differenceinminutes.d.ts","./node_modules/date-fns/differenceinmonths.d.ts","./node_modules/date-fns/differenceinquarters.d.ts","./node_modules/date-fns/differenceinseconds.d.ts","./node_modules/date-fns/differenceinweeks.d.ts","./node_modules/date-fns/differenceinyears.d.ts","./node_modules/date-fns/eachdayofinterval.d.ts","./node_modules/date-fns/eachhourofinterval.d.ts","./node_modules/date-fns/eachminuteofinterval.d.ts","./node_modules/date-fns/eachmonthofinterval.d.ts","./node_modules/date-fns/eachquarterofinterval.d.ts","./node_modules/date-fns/eachweekofinterval.d.ts","./node_modules/date-fns/eachweekendofinterval.d.ts","./node_modules/date-fns/eachweekendofmonth.d.ts","./node_modules/date-fns/eachweekendofyear.d.ts","./node_modules/date-fns/eachyearofinterval.d.ts","./node_modules/date-fns/endofday.d.ts","./node_modules/date-fns/endofdecade.d.ts","./node_modules/date-fns/endofhour.d.ts","./node_modules/date-fns/endofisoweek.d.ts","./node_modules/date-fns/endofisoweekyear.d.ts","./node_modules/date-fns/endofminute.d.ts","./node_modules/date-fns/endofmonth.d.ts","./node_modules/date-fns/endofquarter.d.ts","./node_modules/date-fns/endofsecond.d.ts","./node_modules/date-fns/endoftoday.d.ts","./node_modules/date-fns/endoftomorrow.d.ts","./node_modules/date-fns/endofweek.d.ts","./node_modules/date-fns/endofyear.d.ts","./node_modules/date-fns/endofyesterday.d.ts","./node_modules/date-fns/_lib/format/formatters.d.ts","./node_modules/date-fns/_lib/format/longformatters.d.ts","./node_modules/date-fns/format.d.ts","./node_modules/date-fns/formatdistance.d.ts","./node_modules/date-fns/formatdistancestrict.d.ts","./node_modules/date-fns/formatdistancetonow.d.ts","./node_modules/date-fns/formatdistancetonowstrict.d.ts","./node_modules/date-fns/formatduration.d.ts","./node_modules/date-fns/formatiso.d.ts","./node_modules/date-fns/formatiso9075.d.ts","./node_modules/date-fns/formatisoduration.d.ts","./node_modules/date-fns/formatrfc3339.d.ts","./node_modules/date-fns/formatrfc7231.d.ts","./node_modules/date-fns/formatrelative.d.ts","./node_modules/date-fns/fromunixtime.d.ts","./node_modules/date-fns/getdate.d.ts","./node_modules/date-fns/getday.d.ts","./node_modules/date-fns/getdayofyear.d.ts","./node_modules/date-fns/getdaysinmonth.d.ts","./node_modules/date-fns/getdaysinyear.d.ts","./node_modules/date-fns/getdecade.d.ts","./node_modules/date-fns/_lib/defaultoptions.d.ts","./node_modules/date-fns/getdefaultoptions.d.ts","./node_modules/date-fns/gethours.d.ts","./node_modules/date-fns/getisoday.d.ts","./node_modules/date-fns/getisoweek.d.ts","./node_modules/date-fns/getisoweekyear.d.ts","./node_modules/date-fns/getisoweeksinyear.d.ts","./node_modules/date-fns/getmilliseconds.d.ts","./node_modules/date-fns/getminutes.d.ts","./node_modules/date-fns/getmonth.d.ts","./node_modules/date-fns/getoverlappingdaysinintervals.d.ts","./node_modules/date-fns/getquarter.d.ts","./node_modules/date-fns/getseconds.d.ts","./node_modules/date-fns/gettime.d.ts","./node_modules/date-fns/getunixtime.d.ts","./node_modules/date-fns/getweek.d.ts","./node_modules/date-fns/getweekofmonth.d.ts","./node_modules/date-fns/getweekyear.d.ts","./node_modules/date-fns/getweeksinmonth.d.ts","./node_modules/date-fns/getyear.d.ts","./node_modules/date-fns/hourstomilliseconds.d.ts","./node_modules/date-fns/hourstominutes.d.ts","./node_modules/date-fns/hourstoseconds.d.ts","./node_modules/date-fns/interval.d.ts","./node_modules/date-fns/intervaltoduration.d.ts","./node_modules/date-fns/intlformat.d.ts","./node_modules/date-fns/intlformatdistance.d.ts","./node_modules/date-fns/isafter.d.ts","./node_modules/date-fns/isbefore.d.ts","./node_modules/date-fns/isdate.d.ts","./node_modules/date-fns/isequal.d.ts","./node_modules/date-fns/isexists.d.ts","./node_modules/date-fns/isfirstdayofmonth.d.ts","./node_modules/date-fns/isfriday.d.ts","./node_modules/date-fns/isfuture.d.ts","./node_modules/date-fns/islastdayofmonth.d.ts","./node_modules/date-fns/isleapyear.d.ts","./node_modules/date-fns/ismatch.d.ts","./node_modules/date-fns/ismonday.d.ts","./node_modules/date-fns/ispast.d.ts","./node_modules/date-fns/issameday.d.ts","./node_modules/date-fns/issamehour.d.ts","./node_modules/date-fns/issameisoweek.d.ts","./node_modules/date-fns/issameisoweekyear.d.ts","./node_modules/date-fns/issameminute.d.ts","./node_modules/date-fns/issamemonth.d.ts","./node_modules/date-fns/issamequarter.d.ts","./node_modules/date-fns/issamesecond.d.ts","./node_modules/date-fns/issameweek.d.ts","./node_modules/date-fns/issameyear.d.ts","./node_modules/date-fns/issaturday.d.ts","./node_modules/date-fns/issunday.d.ts","./node_modules/date-fns/isthishour.d.ts","./node_modules/date-fns/isthisisoweek.d.ts","./node_modules/date-fns/isthisminute.d.ts","./node_modules/date-fns/isthismonth.d.ts","./node_modules/date-fns/isthisquarter.d.ts","./node_modules/date-fns/isthissecond.d.ts","./node_modules/date-fns/isthisweek.d.ts","./node_modules/date-fns/isthisyear.d.ts","./node_modules/date-fns/isthursday.d.ts","./node_modules/date-fns/istoday.d.ts","./node_modules/date-fns/istomorrow.d.ts","./node_modules/date-fns/istuesday.d.ts","./node_modules/date-fns/isvalid.d.ts","./node_modules/date-fns/iswednesday.d.ts","./node_modules/date-fns/isweekend.d.ts","./node_modules/date-fns/iswithininterval.d.ts","./node_modules/date-fns/isyesterday.d.ts","./node_modules/date-fns/lastdayofdecade.d.ts","./node_modules/date-fns/lastdayofisoweek.d.ts","./node_modules/date-fns/lastdayofisoweekyear.d.ts","./node_modules/date-fns/lastdayofmonth.d.ts","./node_modules/date-fns/lastdayofquarter.d.ts","./node_modules/date-fns/lastdayofweek.d.ts","./node_modules/date-fns/lastdayofyear.d.ts","./node_modules/date-fns/_lib/format/lightformatters.d.ts","./node_modules/date-fns/lightformat.d.ts","./node_modules/date-fns/max.d.ts","./node_modules/date-fns/milliseconds.d.ts","./node_modules/date-fns/millisecondstohours.d.ts","./node_modules/date-fns/millisecondstominutes.d.ts","./node_modules/date-fns/millisecondstoseconds.d.ts","./node_modules/date-fns/min.d.ts","./node_modules/date-fns/minutestohours.d.ts","./node_modules/date-fns/minutestomilliseconds.d.ts","./node_modules/date-fns/minutestoseconds.d.ts","./node_modules/date-fns/monthstoquarters.d.ts","./node_modules/date-fns/monthstoyears.d.ts","./node_modules/date-fns/nextday.d.ts","./node_modules/date-fns/nextfriday.d.ts","./node_modules/date-fns/nextmonday.d.ts","./node_modules/date-fns/nextsaturday.d.ts","./node_modules/date-fns/nextsunday.d.ts","./node_modules/date-fns/nextthursday.d.ts","./node_modules/date-fns/nexttuesday.d.ts","./node_modules/date-fns/nextwednesday.d.ts","./node_modules/date-fns/parse/_lib/types.d.ts","./node_modules/date-fns/parse/_lib/setter.d.ts","./node_modules/date-fns/parse/_lib/parser.d.ts","./node_modules/date-fns/parse/_lib/parsers.d.ts","./node_modules/date-fns/parse.d.ts","./node_modules/date-fns/parseiso.d.ts","./node_modules/date-fns/parsejson.d.ts","./node_modules/date-fns/previousday.d.ts","./node_modules/date-fns/previousfriday.d.ts","./node_modules/date-fns/previousmonday.d.ts","./node_modules/date-fns/previoussaturday.d.ts","./node_modules/date-fns/previoussunday.d.ts","./node_modules/date-fns/previousthursday.d.ts","./node_modules/date-fns/previoustuesday.d.ts","./node_modules/date-fns/previouswednesday.d.ts","./node_modules/date-fns/quarterstomonths.d.ts","./node_modules/date-fns/quarterstoyears.d.ts","./node_modules/date-fns/roundtonearesthours.d.ts","./node_modules/date-fns/roundtonearestminutes.d.ts","./node_modules/date-fns/secondstohours.d.ts","./node_modules/date-fns/secondstomilliseconds.d.ts","./node_modules/date-fns/secondstominutes.d.ts","./node_modules/date-fns/set.d.ts","./node_modules/date-fns/setdate.d.ts","./node_modules/date-fns/setday.d.ts","./node_modules/date-fns/setdayofyear.d.ts","./node_modules/date-fns/setdefaultoptions.d.ts","./node_modules/date-fns/sethours.d.ts","./node_modules/date-fns/setisoday.d.ts","./node_modules/date-fns/setisoweek.d.ts","./node_modules/date-fns/setisoweekyear.d.ts","./node_modules/date-fns/setmilliseconds.d.ts","./node_modules/date-fns/setminutes.d.ts","./node_modules/date-fns/setmonth.d.ts","./node_modules/date-fns/setquarter.d.ts","./node_modules/date-fns/setseconds.d.ts","./node_modules/date-fns/setweek.d.ts","./node_modules/date-fns/setweekyear.d.ts","./node_modules/date-fns/setyear.d.ts","./node_modules/date-fns/startofday.d.ts","./node_modules/date-fns/startofdecade.d.ts","./node_modules/date-fns/startofhour.d.ts","./node_modules/date-fns/startofisoweek.d.ts","./node_modules/date-fns/startofisoweekyear.d.ts","./node_modules/date-fns/startofminute.d.ts","./node_modules/date-fns/startofmonth.d.ts","./node_modules/date-fns/startofquarter.d.ts","./node_modules/date-fns/startofsecond.d.ts","./node_modules/date-fns/startoftoday.d.ts","./node_modules/date-fns/startoftomorrow.d.ts","./node_modules/date-fns/startofweek.d.ts","./node_modules/date-fns/startofweekyear.d.ts","./node_modules/date-fns/startofyear.d.ts","./node_modules/date-fns/startofyesterday.d.ts","./node_modules/date-fns/sub.d.ts","./node_modules/date-fns/subbusinessdays.d.ts","./node_modules/date-fns/subdays.d.ts","./node_modules/date-fns/subhours.d.ts","./node_modules/date-fns/subisoweekyears.d.ts","./node_modules/date-fns/submilliseconds.d.ts","./node_modules/date-fns/subminutes.d.ts","./node_modules/date-fns/submonths.d.ts","./node_modules/date-fns/subquarters.d.ts","./node_modules/date-fns/subseconds.d.ts","./node_modules/date-fns/subweeks.d.ts","./node_modules/date-fns/subyears.d.ts","./node_modules/date-fns/todate.d.ts","./node_modules/date-fns/transpose.d.ts","./node_modules/date-fns/weekstodays.d.ts","./node_modules/date-fns/yearstodays.d.ts","./node_modules/date-fns/yearstomonths.d.ts","./node_modules/date-fns/yearstoquarters.d.ts","./node_modules/date-fns/index.d.mts","./node_modules/react-day-picker/dist/index.d.ts","./components/ui/calendar.tsx","./node_modules/embla-carousel/esm/components/alignment.d.ts","./node_modules/embla-carousel/esm/components/noderects.d.ts","./node_modules/embla-carousel/esm/components/axis.d.ts","./node_modules/embla-carousel/esm/components/slidestoscroll.d.ts","./node_modules/embla-carousel/esm/components/limit.d.ts","./node_modules/embla-carousel/esm/components/scrollcontain.d.ts","./node_modules/embla-carousel/esm/components/dragtracker.d.ts","./node_modules/embla-carousel/esm/components/utils.d.ts","./node_modules/embla-carousel/esm/components/animations.d.ts","./node_modules/embla-carousel/esm/components/counter.d.ts","./node_modules/embla-carousel/esm/components/eventhandler.d.ts","./node_modules/embla-carousel/esm/components/eventstore.d.ts","./node_modules/embla-carousel/esm/components/percentofview.d.ts","./node_modules/embla-carousel/esm/components/resizehandler.d.ts","./node_modules/embla-carousel/esm/components/vector1d.d.ts","./node_modules/embla-carousel/esm/components/scrollbody.d.ts","./node_modules/embla-carousel/esm/components/scrollbounds.d.ts","./node_modules/embla-carousel/esm/components/scrolllooper.d.ts","./node_modules/embla-carousel/esm/components/scrollprogress.d.ts","./node_modules/embla-carousel/esm/components/slideregistry.d.ts","./node_modules/embla-carousel/esm/components/scrolltarget.d.ts","./node_modules/embla-carousel/esm/components/scrollto.d.ts","./node_modules/embla-carousel/esm/components/slidefocus.d.ts","./node_modules/embla-carousel/esm/components/translate.d.ts","./node_modules/embla-carousel/esm/components/slidelooper.d.ts","./node_modules/embla-carousel/esm/components/slideshandler.d.ts","./node_modules/embla-carousel/esm/components/slidesinview.d.ts","./node_modules/embla-carousel/esm/components/engine.d.ts","./node_modules/embla-carousel/esm/components/optionshandler.d.ts","./node_modules/embla-carousel/esm/components/plugins.d.ts","./node_modules/embla-carousel/esm/components/emblacarousel.d.ts","./node_modules/embla-carousel/esm/components/draghandler.d.ts","./node_modules/embla-carousel/esm/components/options.d.ts","./node_modules/embla-carousel/esm/index.d.ts","./node_modules/embla-carousel-react/esm/components/useemblacarousel.d.ts","./node_modules/embla-carousel-react/esm/index.d.ts","./components/ui/carousel.tsx","./node_modules/recharts/types/container/surface.d.ts","./node_modules/recharts/types/container/layer.d.ts","./node_modules/@types/d3-time/index.d.ts","./node_modules/@types/d3-scale/index.d.ts","./node_modules/victory-vendor/d3-scale.d.ts","./node_modules/recharts/types/cartesian/xaxis.d.ts","./node_modules/recharts/types/cartesian/yaxis.d.ts","./node_modules/recharts/types/util/types.d.ts","./node_modules/recharts/types/component/defaultlegendcontent.d.ts","./node_modules/recharts/types/util/payload/getuniqpayload.d.ts","./node_modules/recharts/types/component/legend.d.ts","./node_modules/recharts/types/component/defaulttooltipcontent.d.ts","./node_modules/recharts/types/component/tooltip.d.ts","./node_modules/recharts/types/component/responsivecontainer.d.ts","./node_modules/recharts/types/component/cell.d.ts","./node_modules/recharts/types/component/text.d.ts","./node_modules/recharts/types/component/label.d.ts","./node_modules/recharts/types/component/labellist.d.ts","./node_modules/recharts/types/component/customized.d.ts","./node_modules/recharts/types/shape/sector.d.ts","./node_modules/@types/d3-path/index.d.ts","./node_modules/@types/d3-shape/index.d.ts","./node_modules/victory-vendor/d3-shape.d.ts","./node_modules/recharts/types/shape/curve.d.ts","./node_modules/recharts/types/shape/rectangle.d.ts","./node_modules/recharts/types/shape/polygon.d.ts","./node_modules/recharts/types/shape/dot.d.ts","./node_modules/recharts/types/shape/cross.d.ts","./node_modules/recharts/types/shape/symbols.d.ts","./node_modules/recharts/types/polar/polargrid.d.ts","./node_modules/recharts/types/polar/polarradiusaxis.d.ts","./node_modules/recharts/types/polar/polarangleaxis.d.ts","./node_modules/recharts/types/polar/pie.d.ts","./node_modules/recharts/types/polar/radar.d.ts","./node_modules/recharts/types/polar/radialbar.d.ts","./node_modules/recharts/types/cartesian/brush.d.ts","./node_modules/recharts/types/util/ifoverflowmatches.d.ts","./node_modules/recharts/types/cartesian/referenceline.d.ts","./node_modules/recharts/types/cartesian/referencedot.d.ts","./node_modules/recharts/types/cartesian/referencearea.d.ts","./node_modules/recharts/types/cartesian/cartesianaxis.d.ts","./node_modules/recharts/types/cartesian/cartesiangrid.d.ts","./node_modules/recharts/types/cartesian/line.d.ts","./node_modules/recharts/types/cartesian/area.d.ts","./node_modules/recharts/types/util/barutils.d.ts","./node_modules/recharts/types/cartesian/bar.d.ts","./node_modules/recharts/types/cartesian/zaxis.d.ts","./node_modules/recharts/types/cartesian/errorbar.d.ts","./node_modules/recharts/types/cartesian/scatter.d.ts","./node_modules/recharts/types/util/getlegendprops.d.ts","./node_modules/recharts/types/util/chartutils.d.ts","./node_modules/recharts/types/chart/accessibilitymanager.d.ts","./node_modules/recharts/types/chart/types.d.ts","./node_modules/recharts/types/chart/generatecategoricalchart.d.ts","./node_modules/recharts/types/chart/linechart.d.ts","./node_modules/recharts/types/chart/barchart.d.ts","./node_modules/recharts/types/chart/piechart.d.ts","./node_modules/recharts/types/chart/treemap.d.ts","./node_modules/recharts/types/chart/sankey.d.ts","./node_modules/recharts/types/chart/radarchart.d.ts","./node_modules/recharts/types/chart/scatterchart.d.ts","./node_modules/recharts/types/chart/areachart.d.ts","./node_modules/recharts/types/chart/radialbarchart.d.ts","./node_modules/recharts/types/chart/composedchart.d.ts","./node_modules/recharts/types/chart/sunburstchart.d.ts","./node_modules/recharts/types/shape/trapezoid.d.ts","./node_modules/recharts/types/numberaxis/funnel.d.ts","./node_modules/recharts/types/chart/funnelchart.d.ts","./node_modules/recharts/types/util/global.d.ts","./node_modules/recharts/types/index.d.ts","./components/ui/chart.tsx","./node_modules/@radix-ui/react-checkbox/dist/index.d.mts","./components/ui/checkbox.tsx","./node_modules/cmdk/node_modules/@radix-ui/react-primitive/dist/index.d.mts","./node_modules/cmdk/node_modules/@radix-ui/react-dismissable-layer/dist/index.d.mts","./node_modules/cmdk/node_modules/@radix-ui/react-focus-scope/dist/index.d.mts","./node_modules/cmdk/node_modules/@radix-ui/react-portal/dist/index.d.mts","./node_modules/cmdk/node_modules/@radix-ui/react-context/dist/index.d.mts","./node_modules/cmdk/node_modules/@radix-ui/react-dialog/dist/index.d.mts","./node_modules/cmdk/dist/index.d.ts","./components/ui/dialog.tsx","./components/ui/command.tsx","./node_modules/@radix-ui/react-menu/dist/index.d.mts","./node_modules/@radix-ui/react-context-menu/dist/index.d.mts","./components/ui/context-menu.tsx","./node_modules/vaul/dist/index.d.mts","./components/ui/drawer.tsx","./node_modules/@radix-ui/react-dropdown-menu/dist/index.d.mts","./components/ui/dropdown-menu.tsx","./node_modules/react-hook-form/dist/constants.d.ts","./node_modules/react-hook-form/dist/utils/createsubject.d.ts","./node_modules/react-hook-form/dist/types/events.d.ts","./node_modules/react-hook-form/dist/types/path/common.d.ts","./node_modules/react-hook-form/dist/types/path/eager.d.ts","./node_modules/react-hook-form/dist/types/path/index.d.ts","./node_modules/react-hook-form/dist/types/fieldarray.d.ts","./node_modules/react-hook-form/dist/types/resolvers.d.ts","./node_modules/react-hook-form/dist/types/form.d.ts","./node_modules/react-hook-form/dist/types/utils.d.ts","./node_modules/react-hook-form/dist/types/fields.d.ts","./node_modules/react-hook-form/dist/types/errors.d.ts","./node_modules/react-hook-form/dist/types/validator.d.ts","./node_modules/react-hook-form/dist/types/controller.d.ts","./node_modules/react-hook-form/dist/types/index.d.ts","./node_modules/react-hook-form/dist/controller.d.ts","./node_modules/react-hook-form/dist/form.d.ts","./node_modules/react-hook-form/dist/logic/appenderrors.d.ts","./node_modules/react-hook-form/dist/logic/index.d.ts","./node_modules/react-hook-form/dist/usecontroller.d.ts","./node_modules/react-hook-form/dist/usefieldarray.d.ts","./node_modules/react-hook-form/dist/useform.d.ts","./node_modules/react-hook-form/dist/useformcontext.d.ts","./node_modules/react-hook-form/dist/useformstate.d.ts","./node_modules/react-hook-form/dist/usewatch.d.ts","./node_modules/react-hook-form/dist/utils/get.d.ts","./node_modules/react-hook-form/dist/utils/set.d.ts","./node_modules/react-hook-form/dist/utils/index.d.ts","./node_modules/react-hook-form/dist/index.d.ts","./components/ui/form.tsx","./node_modules/@radix-ui/react-hover-card/dist/index.d.mts","./components/ui/hover-card.tsx","./node_modules/input-otp/dist/index.d.ts","./components/ui/input-otp.tsx","./node_modules/@radix-ui/react-context/dist/index.d.mts","./node_modules/@radix-ui/react-menubar/dist/index.d.mts","./components/ui/menubar.tsx","./node_modules/@radix-ui/react-visually-hidden/dist/index.d.mts","./node_modules/@radix-ui/react-navigation-menu/dist/index.d.mts","./components/ui/navigation-menu.tsx","./components/ui/pagination.tsx","./node_modules/@radix-ui/react-radio-group/dist/index.d.mts","./components/ui/radio-group.tsx","./node_modules/react-resizable-panels/dist/declarations/src/vendor/react.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/panel.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/types.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/panelgroup.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/panelresizehandleregistry.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/panelresizehandle.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/utils/assert.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/utils/csp.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/utils/cursor.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/utils/dom/getpanelelement.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/utils/dom/getpanelelementsforgroup.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/utils/dom/getpanelgroupelement.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/utils/dom/getresizehandleelement.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/utils/dom/getresizehandleelementindex.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/utils/dom/getresizehandleelementsforgroup.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/utils/dom/getresizehandlepanelids.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/utils/rects/types.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/utils/rects/getintersectingrectangle.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/utils/rects/intersects.d.ts","./node_modules/react-resizable-panels/dist/declarations/src/index.d.ts","./node_modules/react-resizable-panels/dist/react-resizable-panels.cjs.d.mts","./components/ui/resizable.tsx","./components/ui/sheet.tsx","./components/ui/skeleton.tsx","./node_modules/@radix-ui/react-slider/dist/index.d.mts","./components/ui/slider.tsx","./node_modules/next-themes/dist/types.d.ts","./node_modules/next-themes/dist/index.d.ts","./components/ui/sonner.tsx","./node_modules/@radix-ui/react-switch/dist/index.d.mts","./components/ui/switch.tsx","./components/ui/table.tsx","./components/ui/toaster.tsx","./node_modules/@radix-ui/react-toggle/dist/index.d.mts","./node_modules/@radix-ui/react-toggle-group/dist/index.d.mts","./components/ui/toggle.tsx","./components/ui/toggle-group.tsx","./.next/types/app/layout.ts","./.next/types/app/api/generate-outline/route.ts","./.next/types/app/api/generate-slide/route.ts","./.next/types/app/api/test-reasoning/route.ts","./.next/types/app/create/generate/page.ts","./.next/types/app/create/generate/[id]/page.ts","./.next/types/app/docs/[id]/page.ts","./.next/types/app/tests/test-reasoning/page.ts","./node_modules/@types/d3-array/index.d.ts","./node_modules/@types/d3-color/index.d.ts","./node_modules/@types/d3-ease/index.d.ts","./node_modules/@types/d3-interpolate/index.d.ts","./node_modules/@types/d3-timer/index.d.ts","./node_modules/@types/diff-match-patch/index.d.ts","./node_modules/@types/json5/index.d.ts","./node_modules/@types/linkify-it/build/index.cjs.d.ts","./node_modules/@types/linkify-it/index.d.ts","./node_modules/@types/linkify-it/index.d.mts","./node_modules/@types/mdurl/lib/decode.d.mts","./node_modules/@types/mdurl/lib/encode.d.mts","./node_modules/@types/mdurl/lib/parse.d.mts","./node_modules/@types/mdurl/lib/format.d.mts","./node_modules/@types/mdurl/index.d.mts","./node_modules/@types/markdown-it/dist/index.cjs.d.ts","./node_modules/@types/markdown-it/index.d.ts","./node_modules/@types/mdurl/build/index.cjs.d.ts","./node_modules/@types/mdurl/index.d.ts","./node_modules/@types/scheduler/index.d.ts","./node_modules/@types/use-sync-external-store/index.d.ts"],"fileInfos":[{"version":"2ac9cdcfb8f8875c18d14ec5796a8b029c426f73ad6dc3ffb580c228b58d1c44","affectsGlobalScope":true},"45b7ab580deca34ae9729e97c13cfd999df04416a79116c3bfb483804f85ded4","dc48272d7c333ccf58034c0026162576b7d50ea0e69c3b9292f803fc20720fd5","9a68c0c07ae2fa71b44384a839b7b8d81662a236d4b9ac30916718f7510b1b2d","5e1c4c362065a6b95ff952c0eab010f04dcd2c3494e813b493ecfd4fcb9fc0d8","68d73b4a11549f9c0b7d352d10e91e5dca8faa3322bfb77b661839c42b1ddec7","5efce4fc3c29ea84e8928f97adec086e3dc876365e0982cc8479a07954a3efd4","feecb1be483ed332fad555aff858affd90a48ab19ba7272ee084704eb7167569","5514e54f17d6d74ecefedc73c504eadffdeda79c7ea205cf9febead32d45c4bc","1c0cdb8dc619bc549c3e5020643e7cf7ae7940058e8c7e5aefa5871b6d86f44b","bed7b7ba0eb5a160b69af72814b4dde371968e40b6c5e73d3a9f7bee407d158c",{"version":"0075fa5ceda385bcdf3488e37786b5a33be730e8bc4aa3cf1e78c63891752ce8","affectsGlobalScope":true},{"version":"35299ae4a62086698444a5aaee27fc7aa377c68cbb90b441c9ace246ffd05c97","affectsGlobalScope":true},{"version":"f296963760430fb65b4e5d91f0ed770a91c6e77455bacf8fa23a1501654ede0e","affectsGlobalScope":true},{"version":"09226e53d1cfda217317074a97724da3e71e2c545e18774484b61562afc53cd2","affectsGlobalScope":true},{"version":"4443e68b35f3332f753eacc66a04ac1d2053b8b035a0e0ac1d455392b5e243b3","affectsGlobalScope":true},{"version":"8b41361862022eb72fcc8a7f34680ac842aca802cf4bc1f915e8c620c9ce4331","affectsGlobalScope":true},{"version":"f7bd636ae3a4623c503359ada74510c4005df5b36de7f23e1db8a5c543fd176b","affectsGlobalScope":true},{"version":"ce691fb9e5c64efb9547083e4a34091bcbe5bdb41027e310ebba8f7d96a98671","affectsGlobalScope":true},{"version":"8d697a2a929a5fcb38b7a65594020fcef05ec1630804a33748829c5ff53640d0","affectsGlobalScope":true},{"version":"0c20f4d2358eb679e4ae8a4432bdd96c857a2960fd6800b21ec4008ec59d60ea","affectsGlobalScope":true},{"version":"93495ff27b8746f55d19fcbcdbaccc99fd95f19d057aed1bd2c0cafe1335fbf0","affectsGlobalScope":true},{"version":"82d0d8e269b9eeac02c3bd1c9e884e85d483fcb2cd168bccd6bc54df663da031","affectsGlobalScope":true},{"version":"38f0219c9e23c915ef9790ab1d680440d95419ad264816fa15009a8851e79119","affectsGlobalScope":true},{"version":"b8deab98702588840be73d67f02412a2d45a417a3c097b2e96f7f3a42ac483d1","affectsGlobalScope":true},{"version":"4738f2420687fd85629c9efb470793bb753709c2379e5f85bc1815d875ceadcd","affectsGlobalScope":true},{"version":"2f11ff796926e0832f9ae148008138ad583bd181899ab7dd768a2666700b1893","affectsGlobalScope":true},{"version":"376d554d042fb409cb55b5cbaf0b2b4b7e669619493c5d18d5fa8bd67273f82a","affectsGlobalScope":true},{"version":"9fc46429fbe091ac5ad2608c657201eb68b6f1b8341bd6d670047d32ed0a88fa","affectsGlobalScope":true},{"version":"61c37c1de663cf4171e1192466e52c7a382afa58da01b1dc75058f032ddf0839","affectsGlobalScope":true},{"version":"c4138a3dd7cd6cf1f363ca0f905554e8d81b45844feea17786cdf1626cb8ea06","affectsGlobalScope":true},{"version":"6ff3e2452b055d8f0ec026511c6582b55d935675af67cdb67dd1dc671e8065df","affectsGlobalScope":true},{"version":"03de17b810f426a2f47396b0b99b53a82c1b60e9cba7a7edda47f9bb077882f4","affectsGlobalScope":true},{"version":"8184c6ddf48f0c98429326b428478ecc6143c27f79b79e85740f17e6feb090f1","affectsGlobalScope":true},{"version":"261c4d2cf86ac5a89ad3fb3fafed74cbb6f2f7c1d139b0540933df567d64a6ca","affectsGlobalScope":true},{"version":"6af1425e9973f4924fca986636ac19a0cf9909a7e0d9d3009c349e6244e957b6","affectsGlobalScope":true},{"version":"576711e016cf4f1804676043e6a0a5414252560eb57de9faceee34d79798c850","affectsGlobalScope":true},{"version":"89c1b1281ba7b8a96efc676b11b264de7a8374c5ea1e6617f11880a13fc56dc6","affectsGlobalScope":true},{"version":"15a630d6817718a2ddd7088c4f83e4673fde19fa992d2eae2cf51132a302a5d3","affectsGlobalScope":true},{"version":"b7e9f95a7387e3f66be0ed6db43600c49cec33a3900437ce2fd350d9b7cb16f2","affectsGlobalScope":true},{"version":"01e0ee7e1f661acedb08b51f8a9b7d7f959e9cdb6441360f06522cc3aea1bf2e","affectsGlobalScope":true},{"version":"ac17a97f816d53d9dd79b0d235e1c0ed54a8cc6a0677e9a3d61efb480b2a3e4e","affectsGlobalScope":true},{"version":"bf14a426dbbf1022d11bd08d6b8e709a2e9d246f0c6c1032f3b2edb9a902adbe","affectsGlobalScope":true},{"version":"ec0104fee478075cb5171e5f4e3f23add8e02d845ae0165bfa3f1099241fa2aa","affectsGlobalScope":true},{"version":"2b72d528b2e2fe3c57889ca7baef5e13a56c957b946906d03767c642f386bbc3","affectsGlobalScope":true},{"version":"9cc66b0513ad41cb5f5372cca86ef83a0d37d1c1017580b7dace3ea5661836df","affectsGlobalScope":true},{"version":"368af93f74c9c932edd84c58883e736c9e3d53cec1fe24c0b0ff451f529ceab1","affectsGlobalScope":true},{"version":"709efdae0cb5df5f49376cde61daacc95cdd44ae4671da13a540da5088bf3f30","affectsGlobalScope":true},{"version":"995c005ab91a498455ea8dfb63aa9f83fa2ea793c3d8aa344be4a1678d06d399","affectsGlobalScope":true},{"version":"bc496ef4377553e461efcf7cc5a5a57cf59f9962aea06b5e722d54a36bf66ea1","affectsGlobalScope":true},{"version":"038a2f66a34ee7a9c2fbc3584c8ab43dff2995f8c68e3f566f4c300d2175e31e","affectsGlobalScope":true},{"version":"4fa6ed14e98aa80b91f61b9805c653ee82af3502dc21c9da5268d3857772ca05","affectsGlobalScope":true},{"version":"f5c92f2c27b06c1a41b88f6db8299205aee52c2a2943f7ed29bd585977f254e8","affectsGlobalScope":true},{"version":"930b0e15811f84e203d3c23508674d5ded88266df4b10abee7b31b2ac77632d2","affectsGlobalScope":true},{"version":"8444af78980e3b20b49324f4a16ba35024fef3ee069a0eb67616ea6ca821c47a","affectsGlobalScope":true},{"version":"b9ea5778ff8b50d7c04c9890170db34c26a5358cccba36844fe319f50a43a61a","affectsGlobalScope":true},{"version":"3287d9d085fbd618c3971944b65b4be57859f5415f495b33a6adc994edd2f004","affectsGlobalScope":true},{"version":"50d53ccd31f6667aff66e3d62adf948879a3a16f05d89882d1188084ee415bbc","affectsGlobalScope":true},{"version":"65be38e881453e16f128a12a8d36f8b012aa279381bf3d4dc4332a4905ceec83","affectsGlobalScope":true},{"version":"436aaf437562f276ec2ddbee2f2cdedac7664c1e4c1d2c36839ddd582eeb3d0a","affectsGlobalScope":true},{"version":"307c8b7ebbd7f23a92b73a4c6c0a697beca05b06b036c23a34553e5fe65e4fdc","affectsGlobalScope":true},{"version":"e1913f656c156a9e4245aa111fbb436d357d9e1fe0379b9a802da7fe3f03d736","affectsGlobalScope":true},{"version":"d4b1d2c51d058fc21ec2629fff7a76249dec2e36e12960ea056e3ef89174080f","affectsGlobalScope":true},{"version":"f35a831e4f0fe3b3697f4a0fe0e3caa7624c92b78afbecaf142c0f93abfaf379","affectsGlobalScope":true},{"version":"782dec38049b92d4e85c1585fbea5474a219c6984a35b004963b00beb1aab538","affectsGlobalScope":true},"0990a7576222f248f0a3b888adcb7389f957928ce2afb1cd5128169086ff4d29",{"version":"549df62b64a71004aee17685b445a8289013daf96246ce4d9b087d13d7a27a61","affectsGlobalScope":true},"8a8eb4ebffd85e589a1cc7c178e291626c359543403d58c9cd22b81fab5b1fb9","ed6b820c54de95b2510bb673490d61c7f2187f532a339d8d04981645a918961f",{"version":"a6e6089d668ad148f1dc5435a06e6a4c0b06b0796eabad6e3a07328f57a94955","affectsGlobalScope":true},"cc69795d9954ee4ad57545b10c7bf1a7260d990231b1685c147ea71a6faa265c","8bc6c94ff4f2af1f4023b7bb2379b08d3d7dd80c698c9f0b07431ea16101f05f","1b61d259de5350f8b1e5db06290d31eaebebc6baafd5f79d314b5af9256d7153","57194e1f007f3f2cbef26fa299d4c6b21f4623a2eddc63dfeef79e38e187a36e","0f6666b58e9276ac3a38fdc80993d19208442d6027ab885580d93aec76b4ef00","05fd364b8ef02fb1e174fbac8b825bdb1e5a36a016997c8e421f5fab0a6da0a0","8820d4b6f3277e897854b14519e56fea0877b0c22d33815081d0ac42c758b75c","a69c09dbea52352f479d3e7ac949fde3d17b195abe90b045d619f747b38d6d1a",{"version":"d32f90e6cf32e99c86009b5f79fa50bc750fe54e17137d9bb029c377a2822ee2","affectsGlobalScope":true},"71b4526fb5932511db801d844180291cbe1d74985ef0994b6e2347b7a9b39e10",{"version":"625b214f6ef885f37e5e38180897227075f4df11e7ac8f89d8c5f12457a791b2","affectsGlobalScope":true},"5d43adfdfaeebcf67b08e28eec221b0898ca55fe3cfdcbce2b571d6bdb0fa6f4","8fe65c60df7504b1bcbaec2a088a2bff5d7b368dc0a7966d0dbe8f1c8939c146",{"version":"49479e21a040c0177d1b1bc05a124c0383df7a08a0726ad4d9457619642e875a","affectsGlobalScope":true},"9e390110944981c9428647e2aa14fcffafe99cfe87b15f5e805203f0a4ab0153","e2d8f78894fd5164be13866c76774c43c90ca09d139062665d9be8676989ea5e","76f3fbf450d6a290f6dfc4b255d845e3d3983ebe97d355b1549d3ef324389d4b","5c8bd6a332f932c7f7374b95d3cb4f37b3851c0a9ab58a9133944588b14d2675","0434286811d0ec5b4d828aff611fdf86e33d46dd6419f3df9ed92c644d92a14d","9113b9f010e6bf1ff940e1742fd733d66a3d4b020f14800b8d632a9f61a0dc01","2c5517a55ec36c37320f3202e87905bded4d9625b8e30b779c9ba635df599430",{"version":"6b526a5ec4a401ca7c26cfe6a48e641d8f30af76673bad3b06a1b4504594a960","affectsGlobalScope":true},{"version":"32a7b6e7275912b8fbb8c143ff4eeb92b72f83155b48988c30761d69ffeb60f7","affectsGlobalScope":true},"2fb37a76de96cabd401e61bbdd4016799fc24585f96f494bfccb63825ed3fea6","c9cf880485dd30cda73200d52fe126accab426bbb21dc6d3fcdf8541265675c1","cb0cda9e99405f1b8118d46f9535e8f9681bb47c9f83bb3ceb80e99af4d93fee","1bedee1d03d259bf856a1c8cd7c183f1eea9a905f5b02978ecfa47161e597602","5262206d8fe3089bbd1a076cea3da9c9ef6a340e5fa4059c392d400c1964b679","47a0fda775c89671a3705ce925a837cf12b5268bf4ee46a129e12344791c17b6",{"version":"d0a454adb7d0ce354a8c145ef6245d81e2b717fe6908142522eafc2661229e75","affectsGlobalScope":true},"6467de6d1b3c0f03867347567d2d4c33fbea7a572082203149b2c2a591fea13f","4de63c30726b2c653278d8432f5b28cd8ac2afd112dd2f9b025b9bec70d53655","9aff938f442b8e8d5fc5e78c79fed33db2149a3428518519a5fc4d1b7d269d62",{"version":"e626f299569eefa361164975aae1df5e43d2f1b4fde2dc73f882920c6c8db51c","affectsGlobalScope":true},{"version":"087686bf5f9ed81b703f92a2e0544ed494dac0da42aba0ec517f8ffd8352da8b","affectsGlobalScope":true},"bfe95d6a23ba0bc20a0cde03b53d4530ba2bc7f98a92da6ef36bb3ed8ee1a8ab","61e02d13e598146b83a754e285b186da796ff1372893fa64ee1f939284958a07","9b974e1a1d5df0df99045d82407704e5e9ff0e66f497ae4fed5a3a091d46fbea","0db6e6dc5e6caad7389b6287f74e62c0e7fe3dd5b6cd39de0c62907fffbd0576","4e1e712f478183a6a3ff8937a22557d6327e403d7467bfb6b3372c11d82cb76f","24f824ad358f6799e6a2409e248ede18652cae6ce124e9fd41faf13d7a0a1324","f59166827125fba0699710f461c206a25889636c23e2c1383b3053010717ca24","e94f2232bbd613dfaa65c586fe6911734cabc679670e5915b374bec69a716c36","4b73a5ad969173b5ab7047023e477eed5faee5aabb768439b75cee6e9d0b03a2","6d581bc758d3f4c35052d87f6f40c9a4c87f1906ce80de842ce1ef4df17f5b97",{"version":"a54ee34c2cc03ec4bbf0c9b10a08b9f909a21b3314f90a743de7b12b85867cef","affectsGlobalScope":true},{"version":"da89bfd4e3191339bb141434d8e714039617939fa7fc92b3924c288d053ec804","affectsGlobalScope":true},"b860ef7c7864bc87e8e0ebbf1cc6e51a6733926c017f8282e595490495a3f0eb","d3295359ae7abb41a1781105fefb501065ae81d4957ce539b8e513d0ac720c1d","b8e1cba3aedc0673796772a9c30b1343a0f188454b48ddf507b56e0fccbcb7a8","18af2140d025adf83a9a2933c245b4c95f822020e7fedb02c92592e72dfae12a",{"version":"66d3421e032f6fb8474f31e7ff0d54994dea1ff736d4303d24ea67240116f806","affectsGlobalScope":true},{"version":"803daee46683593a3cfd2949bed70bb21b4e36adcaa3d3b43ffd036ed361f832","affectsGlobalScope":true},"b76a0cbccf8d46bfbdf34f20af3de072b613813327e7eea74a5f9bdd55bb683a","6d4161785afef5bbfa5ffb4e607fcb2594b6e8dcbc40557f01ae22b3f67a4b72","30a211c426e095de60924262e4e43455ee7c88975aba4136eced97ee0de9b22d",{"version":"31a3c2c16b0d7e45f15c13648e22635bc873068a1cc1c36a2b4894711587202a","affectsGlobalScope":true},"9a6a91f0cd6a2bd8635bb68c4ae38e3602d4064c9fb74617e7094ae3bf5fe7c2",{"version":"ab9b9a36e5284fd8d3bf2f7d5fcbc60052f25f27e4d20954782099282c60d23e","affectsGlobalScope":true},"13e851ee5f3dad116583e14e9d3f4aaf231194bbb6f4b969dc7446ae98a3fa73","8caa5c86be1b793cd5f599e27ecb34252c41e011980f7d61ae4989a149ff6ccc","72b9a5e3faa0569def625ec0e50cf91fe1aa8e527af85bbc7181113821684016","fd2355eaf50b2c1b9cd00eeacef19d8f098199d1b4facdc065e162780e4651f8","a95b76aef31395752eb5cb7b386be2e287fdc32dfdf7bdbbb666e333133b1ef7","bd2c377599828b9f08f7de649d3453545f0b4a9c09de7074e9208b60eba73314","cdc2a15950c3f418c9fe84cf7f556bc3edef28dd2989d3a706b5197e5b4d09f2","db6d2d9daad8a6d83f281af12ce4355a20b9a3e71b82b9f57cddcca0a8964a96","eb4b9a746cc7326485e091731e98708acf669c314348c72a88f8ed7a684c719e","cbea99888785d49bb630dcbb1613c73727f2b5a2cf02e1abcaab7bcf8d6bf3c5","a3f1220f5331589384d77ed650001719baac21fcbed91e36b9abc5485b06335a","a86f82d646a739041d6702101afa82dcb935c416dd93cbca7fd754fd0282ce1f","6ceac05c32f579adbed2f1a9c98cd297de3c00a3caaffc423385d00e82bce4ce","fa5bbc7ab4130dd8cdc55ea294ec39f76f2bc507a0f75f4f873e38631a836ca7","abb8aec2e3346d3ad3ad7d050306e86b09e6baeff73e420058ac9f72b9a6f9a1","cf86de1054b843e484a3c9300d62fbc8c97e77f168bbffb131d560ca0474d4a8","37f7b8e560025858aae5195ca74a3e95ecd55591e2babc0acd57bc1dab4ea8ea","24687523374b3ee67cd2499475dde9f08dd9a254a020dd06b4251761ab30834c","11a87146cd98ffa649cc26865b8690a9420258b4d7526e23b2d9275bb360fd1d","653060b69b4c62825fca79d91259a5f42736f56dba428322b36cfae593ee8359","b7b3258e8d47333721f9d4c287361d773f8fa88e52d1148812485d9fc06d2577","e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","49e567e0aa388ab416eeb7a7de9bce5045a7b628bad18d1f6fa9d3eacee7bc3f","e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","8a8bf772f83e9546b61720cf3b9add9aa4c2058479ad0d8db0d7c9fd948c4eaf","e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","eed041005bb5e595e276684cb5ed194ab19205504f4cd0e41de754a622f22964","aeb888c84e570f3aea036de32da9b6f2c0ab204af27cb550753e897598ac63e0","4c91cc1ab59b55d880877ccf1999ded0bb2ebc8e3a597c622962d65bf0e76be8","e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","e1c9c204454567f39c3fdcb102871ccb750f44899dfbe29df3404f4da94d647f","2d0fe1768fcbed8a61709d1deebcd1bd21b1b4fc42cd233e1c335e1432d58aa9","3cd0346fc79e262233785d9fe2cbad08fc3fe6339af3419791687152ddfe5596","ccc2b7e6bc181b89049fd416f286d09545c685a817e2230ca938fcec023f8c4f","d23518a5f155f1a3e07214baf0295687507122ae2e6e9bd5e772551ebd4b3157","b17d9f0b2bad7fed990e5d96adecd847302de584f3083fe5d1a727c020eedc23","7766763be661053bee846b36fd78f4c99f7a3633d25fc301ac0f70aa95d56d08","55f080a632a591ccb5d7c1b5d37fd617d8b9014434adf077b2da3ac3177928cc","e8da637cbd6ed1cf6c36e9424f6bcee4515ca2c677534d4006cbd9a05f930f0c","ca1b882a105a1972f82cc58e3be491e7d750a1eb074ffd13b198269f57ed9e1b","9214131d35f51d70cb3bddc3fd4f7c172d9dc4f7b7d512a1d371ed72e120a3c4","3867ca0e9757cc41e04248574f4f07b8f9e3c0c2a796a5eb091c65bfd2fc8bdb","6c66f6f7d9ff019a644ff50dd013e6bf59be4bf389092948437efa6b77dc8f9a","58902668adae2e5eb67efbccb4048afa02308fa684f1a4e4c7d47668ecf58c1b","ef2d1bd01d144d426b72db3744e7a6b6bb518a639d5c9c8d86438fb75a3b1934","b50e6d569520af07eb7c9d95ce1325d10c19b9ea6d97f8edb0f0ef102a5fa900","476c48dfa7aef1b279542a1d90018f67912b3c970e147b77c2d8063c40c06b24","17937316a2f7f362dd6375251a9ce9e4960cfdc0aa7ba6cbd00656f7ab92334b","be2d91ce0cef98ac6a467d0b48813d78ae0a54d5f1a994afb16018a6b45f711d","973b59a17aaa817eb205baf6c132b83475a5c0a44e8294a472af7793b1817e89","ada39cbb2748ab2873b7835c90c8d4620723aedf323550e8489f08220e477c7f","a7a92f071d6891b2fa6542e343bdebc819492e6e14db37563bb71b8bd7e9b83f","6e5f5cee603d67ee1ba6120815497909b73399842254fc1e77a0d5cdc51d8c9c","99ace27cc2c78ef0fe3f92f11164eca7494b9f98a49ee0a19ede0a4c82a6a800","c89845d0f0fe40e7f8c423645f1577b91b6d67790eb6f394eb66779035f3a52e","ef61792acbfa8c27c9bd113f02731e66229f7d3a169e3c1993b508134f1a58e0","609e9dc4bb74cdfd2b9c89ade164e2c4032d92e903f2cbf2ca96dd3b76158b6e","f6404e7837b96da3ea4d38c4f1a3812c96c9dcdf264e93d5bdb199f983a3ef4b","c5426dbfc1cf90532f66965a7aa8c1136a78d4d0f96d8180ecbfc11d7722f1a5","84ddb2dd959dfcfb7e05783d94b6fa372ee5b0137152ab7de918740a83e12d0e","c1ac179620434b59c1569f2964a5c7354037ac91a212a1fb281673589965c893","9f891dc96f3e9343c4e823ba28195fd77e59c84199696a8bdfe7b67925732409","bae6dd176832f6423966647382c0d7ba9e63f8c167522f09a982f086cd4e8b23","1364f64d2fb03bbb514edc42224abd576c064f89be6a990136774ecdd881a1da","741c438ec079a077b08d37d9c0466924b68e98ed47224e83fcb125c5863eb355","fa34a00e044e9a3a6044abdb52d38bc7877ff1d6348aa79be99774e413c2568a","e927c2c13c4eaf0a7f17e6022eee8519eb29ef42c4c13a31e81a611ab8c95577","1822b69406252b606dc1aec3231a7104ac1d456cfa2c0a9041e61061895ae348","b4733aeb29c348d5dbc4eb3df22a8c00f311372504571ca1747c4cc318e515e0","f416c9c3eee9d47ff49132c34f96b9180e50485d435d5748f0e8b72521d28d2e","006da9ad49d319f6a47444c8ad2afb5ee2135f50990ae336d614c1e66e2bee9d","2a36120d258dfa9e6f4a7ba709984b767741025502fb75960226675bf9968ae3","1bbbfdb608c03f858adda0f378477daf74d4519e74c414e68096d465a75a9d75","0ca7b4d6520e97f9394853874bc4a1574b88f815747a0f5956005ddf9742e38d","dacc544b815d4e54ae4e039de4ce03c0a3bcbfbcaa01cd6512c4eb6aa22a0c1d","78aede3751e6d5755ea9bbb6850a4dda573e41a4ca2c367e9bdf133ecb68dc54","a1c8542ed1189091dd39e732e4390882a9bcd15c0ca093f6e9483eba4e37573f","a805c88b28da817123a9e4c45ceb642ef0154c8ea41ea3dde0e64a70dde7ac5f","3a17f09634c50cce884721f54fd9e7b98e03ac505889c560876291fcf8a09e90","32531dfbb0cdc4525296648f53b2b5c39b64282791e2a8c765712e49e6461046","0ce1b2237c1c3df49748d61568160d780d7b26693bd9feb3acb0744a152cd86d","e489985388e2c71d3542612685b4a7db326922b57ac880f299da7026a4e8a117","ce6530262460220d8f2ac48df1e2e605dad9303af59e2a9ba5c43f4f5c0adc7f",{"version":"6d3ee1bc1bc2fc2f4d448f2ffd1ec5c8cdd6690591d9c6a3bd71178c5e98f03c","affectsGlobalScope":true},"fd1b9d883b9446f1e1da1e1033a6a98995c25fbf3c10818a78960e2f2917d10c","19252079538942a69be1645e153f7dbbc1ef56b4f983c633bf31fe26aeac32cd","de9d2df7663e64e3a91bf495f315a7577e23ba088f2949d5ce9ec96f44fba37d","c7af78a2ea7cb1cd009cfb5bdb48cd0b03dad3b54f6da7aab615c2e9e9d570c5","1dc574e42493e8bf9bb37be44d9e38c5bd7bbc04f884e5e58b4d69636cb192b3",{"version":"f14c2bb33b3272bbdfeb0371eb1e337c9677cb726274cf3c4c6ea19b9447a666","affectsGlobalScope":true},{"version":"db01d18853469bcb5601b9fc9826931cc84cc1a1944b33cad76fd6f1e3d8c544","affectsGlobalScope":true},"6b8e8c0331a0c2e9fb53b8b0d346e44a8db8c788dae727a2c52f4cf3bd857f0d",{"version":"0aa0f0184c0f9635dd1b95c178223aa262bb01ec8ac7b39c911ef2bd32b8f65b","affectsGlobalScope":true},"ec29be0737d39268696edcec4f5e97ce26f449fa9b7afc2f0f99a86def34a418","3bfd9f50a763cd7f22edc2c0ce8d2f4b7bf703003ceae3f63ac86ac939af2522","f0489f34d2dee69b61e21b82edefe0c21272fc353f0149e7d8d3e5690a46df19","edaa27d57d30467edc63e9da7e7196acd315b02071f2c7ecd8475085a5cab9a2","65c24a8baa2cca1de069a0ba9fba82a173690f52d7e2d0f1f7542d59d5eb4db0","ec9fd890d681789cb0aa9efbc50b1e0afe76fbf3c49c3ac50ff80e90e29c6bcb","5fbd292aa08208ae99bf06d5da63321fdc768ee43a7a104980963100a3841752","9eac5a6beea91cfb119688bf44a5688b129b804ede186e5e2413572a534c21bb","6c292de17d4e8763406421cb91f545d1634c81486d8e14fceae65955c119584e","b7fff2d004c5879cae335db8f954eb1d61242d9f2d28515e67902032723caeab","5f3dc10ae646f375776b4e028d2bed039a93eebbba105694d8b910feebbe8b9c","145d0d6d3e07786d18ac835cc2129c073b2a8737d05a57a7287b0de64ab08ca2","4545c1a1ceca170d5d83452dd7c4994644c35cf676a671412601689d9a62da35","15959543f93f27e8e2b1a012fe28e14b682034757e2d7a6c1f02f87107fc731e","a2d648d333cf67b9aeac5d81a1a379d563a8ffa91ddd61c6179f68de724260ff","4e828bf688597c32905215785730cbdb603b54e284d472a23fc0195c6d4aeee8","a3f41ed1b4f2fc3049394b945a68ae4fdefd49fa1739c32f149d32c0545d67f5","4da80db9ed5a1a20fd5bfce863dd178b8928bcaf4a3d75e8657bcae32e572ede","47699512e6d8bebf7be488182427189f999affe3addc1c87c882d36b7f2d0b0e","7c8ee03d9ac384b0669c5438e5f3bf6216e8f71afe9a78a5ed4639a62961cb62","898b714aad9cfd0e546d1ad2c031571de7622bd0f9606a499bee193cf5e7cf0c","09cb73020ab795df196977eee9f4531614109f07c943bdbe55a9cf858c83dc34","fedebeae32c5cdd1a85b4e0504a01996e4a8adf3dfa72876920d3dd6e42978e7","004e2ddb267cf59659a8a7f5422dbc1af78a3ce711d6fab490a857ce34730575","cdf21eee8007e339b1b9945abf4a7b44930b1d695cc528459e68a3adc39a622e","1d079c37fa53e3c21ed3fa214a27507bda9991f2a41458705b19ed8c2b61173d","922bea60daff1f927afcf650f440bc1939f87f8f6710627d3143a0f721479f12","5835a6e0d7cd2738e56b671af0e561e7c1b4fb77751383672f4b009f4e161d70","c0eeaaa67c85c3bb6c52b629ebbfd3b2292dc67e8c0ffda2fc6cd2f78dc471e6","4b7f74b772140395e7af67c4841be1ab867c11b3b82a51b1aeb692822b76c872","2470a2412a59c6177cd4408dd7edb099ca7ace68c0187f54187dfee56dc9c5aa","c2008605e78208cfa9cd70bd29856b72dda7ad89df5dc895920f8e10bcb9cd0a","ec61ebac4d71c4698318673efbb5c481a6c4d374da8d285f6557541a5bd318d0","10ec84e648ffc7654868ca02c21a851bc211c8e4d50fd68131c1afa9afd96a33","40d8b22be2580a18ad37c175080af0724ecbdf364e4cb433d7110f5b71d5f771",{"version":"16fd66ae997b2f01c972531239da90fbf8ab4022bb145b9587ef746f6cecde5a","affectsGlobalScope":true},{"version":"fc8fbee8f73bf5ffd6ba08ba1c554d6f714c49cae5b5e984afd545ab1b7abe06","affectsGlobalScope":true},"6d7a1155bc29ed4f608bad12f17d1eadccfc4a5ca55f0c483255089ab5c30855","b789bf89eb19c777ed1e956dbad0925ca795701552d22e68fd130a032008b9f9","9269d492817e359123ac64c8205e5d05dab63d71a3a7a229e68b5d9a0e8150bf","402e5c534fb2b85fa771170595db3ac0dd532112c8fa44fc23f233bc6967488b","8885cf05f3e2abf117590bbb951dcf6359e3e5ac462af1c901cfd24c6a6472e2","18c04c22baee54d13b505fa6e8bcd4223f8ba32beee80ec70e6cac972d1cc9a6","5e92a2e8ba5cbcdfd9e51428f94f7bd0ab6e45c9805b1c9552b64abaffad3ce3","53ca39fe70232633759dd3006fc5f467ecda540252c0c819ab53e9f6ad97b226","e7174a839d4732630d904a8b488f22380e5bcf1d6405d1f59614e10795eca17d","7ec359bbc29b69d4063fe7dad0baaf35f1856f914db16b3f4f6e3e1bca4099fa","b9261ac3e9944d3d72c5ee4cf888ad35d9743a5563405c6963c4e43ee3708ca4","c84fd54e8400def0d1ef1569cafd02e9f39a622df9fa69b57ccc82128856b916","c7a38c1ef8d6ae4bf252be67bd9a8b012b2cdea65bd6225a3d1a726c4f0d52b6","e773630f8772a06e82d97046fc92da59ada8414c61689894fff0155dd08f102c","74f2815d9e1b8530120dcad409ed5f706df8513c4d93e99fc6213997aa4dd60e","9d1f36ccd354f2e286b909bf01d626a3a28dd6590770303a18afa7796fe50db9","c4bc6a572f9d763ac7fa0d839be3de80273a67660e2002e3225e00ef716b4f37","106e607866d6c3e9a497a696ac949c3e2ec46b6e7dda35aabe76100bf740833b","8a6c755dc994d16c4e072bba010830fa2500d98ff322c442c7c91488d160a10d","d4514d11e7d11c53da7d43b948654d6e608a3d93d666a36f8d01e18ece04c9bd","3d65182eff7bbb16de1a69e17651c51083f740af11a1a92359be6dab939e8bcf","bb53fe9074a25dfa9410e2ee1c4db8c71d02275f916d2019de7fd9cadd50c30b","77926a706478940016e826b162f95f8e4077b1ad3184b2592dc03bd8b33e0384","b5f622e0916bfab17f24bf37f54ef2fe822dbd3f88a8c80ba0f006c716f415d2","01374379f82be05d25c08d2f30779fa4a4c41895a18b93b33f14aeef51768692","9ae83384abbd32d2e949f73c79ec09834a37d969b0a55af921be5e4a829145f9","e2e69d4946fe8da5ee1001a3ef5011ff2a3d0be02a1bff580b7f1c7d2cf4a02f","dad6fe0cabc0935df8450f8f925e6eb99650b567918476f6ad24c89ff074576c","8d31024a5a23b990eb1aad4c6c2c171ce07c21de59806ae36c34af22c47e1af1","d3cfde44f8089768ebb08098c96d01ca260b88bccf238d55eee93f1c620ff5a5","293eadad9dead44c6fd1db6de552663c33f215c55a1bfa2802a1bceed88ff0ec","54f6ec6ea75acea6eb23635617252d249145edbc7bcd9d53f2d70280d2aef953","c25ce98cca43a3bfa885862044be0d59557be4ecd06989b2001a83dcf69620fd","8e71e53b02c152a38af6aec45e288cc65bede077b92b9b43b3cb54a37978bb33","754a9396b14ca3a4241591afb4edc644b293ccc8a3397f49be4dfd520c08acb3","f672c876c1a04a223cf2023b3d91e8a52bb1544c576b81bf64a8fec82be9969c","e4b03ddcf8563b1c0aee782a185286ed85a255ce8a30df8453aade2188bbc904","de2316e90fc6d379d83002f04ad9698bc1e5285b4d52779778f454dd12ce9f44","25b3f581e12ede11e5739f57a86e8668fbc0124f6649506def306cad2c59d262","2da997a01a6aa5c5c09de5d28f0f4407b597c5e1aecfd32f1815809c532650a2","5d26d2e47e2352def36f89a3e8bf8581da22b7f857e07ef3114cd52cf4813445","3db2efd285e7328d8014b54a7fce3f4861ebcdc655df40517092ed0050983617","d5d39a24c759df40480a4bfc0daffd364489702fdbcbdfc1711cde34f8739995","c26409940c9eb8a4e9ef1bb7911f10b929dbf7017280fb38358dbaf6f96f2151","bfc738a7b6ea660a9f86a2d2a5c7fa631b324dbb9ee83deabc8026923ba01a53","a93daf9245e2e7a8db7055312db5d9aae6d2ac69c20e433a521f69c16c04c5ae","e91013ea9bf651a1671f143cc1cfb805afc80e954e18168f7ca1f1f38703e187","a93daf9245e2e7a8db7055312db5d9aae6d2ac69c20e433a521f69c16c04c5ae","e91013ea9bf651a1671f143cc1cfb805afc80e954e18168f7ca1f1f38703e187","25947a3f4ce1016a8f967ccaf83a2f2229e15844bc78d4b63a4f7df9e98ecb05","a4e9e0d92dcad2cb387a5f1bdffe621569052f2d80186e11973aa7080260d296","f6380cc36fc3efc70084d288d0a05d0a2e09da012ee3853f9d62431e7216f129","497c3e541b4acf6c5d5ba75b03569cfe5fe25c8a87e6c87f1af98da6a3e7b918","d9429b81edf2fb2abf1e81e9c2e92615f596ed3166673d9b69b84c369b15fdc0","7e22943ae4e474854ca0695ab750a8026f55bb94278331fda02a4fb42efce063","7da9ff3d9a7e62ddca6393a23e67296ab88f2fcb94ee5f7fb977fa8e478852ac","e1b45cc21ea200308cbc8abae2fb0cfd014cb5b0e1d1643bcc50afa5959b6d83","c9740b0ce7533ce6ba21a7d424e38d2736acdddeab2b1a814c00396e62cc2f10","b3c1f6a3fdbb04c6b244de6d5772ffdd9e962a2faea1440e410049c13e874b87","dcaa872d9b52b9409979170734bdfd38f846c32114d05b70640fd05140b171bb","6c434d20da381fcd2e8b924a3ec9b8653cf8bed8e0da648e91f4c984bd2a5a91","992419d044caf6b14946fa7b9463819ab2eeb7af7c04919cc2087ce354c92266","fa9815e9ce1330289a5c0192e2e91eb6178c0caa83c19fe0c6a9f67013fe795c","06384a1a73fcf4524952ecd0d6b63171c5d41dd23573907a91ef0a687ddb4a8c","34b1594ecf1c84bcc7a04d9f583afa6345a6fea27a52cf2685f802629219de45","d82c9ca830d7b94b7530a2c5819064d8255b93dfeddc5b2ebb8a09316f002c89","7e046b9634add57e512412a7881efbc14d44d1c65eadd35432412aa564537975","aac9079b9e2b5180036f27ab37cb3cf4fd19955be48ccc82eab3f092ee3d4026","3d9c38933bc69e0a885da20f019de441a3b5433ce041ba5b9d3a541db4b568cb","606aa2b74372221b0f79ca8ae3568629f444cc454aa59b032e4cb602308dec94","50474eaea72bfda85cc37ae6cd29f0556965c0849495d96c8c04c940ef3d2f44","b4874382f863cf7dc82b3d15aed1e1372ac3fede462065d5bfc8510c0d8f7b19","df10b4f781871afb72b2d648d497671190b16b679bf7533b744cc10b3c6bf7ea","1fdc28754c77e852c92087c789a1461aa6eed19c335dc92ce6b16a188e7ba305","a656dab1d502d4ddc845b66d8735c484bfebbf0b1eda5fb29729222675759884","465a79505258d251068dc0047a67a3605dd26e6b15e9ad2cec297442cbb58820","ddae22d9329db28ce3d80a2a53f99eaed66959c1c9cd719c9b744e5470579d2f","d0e25feadef054c6fc6a7f55ccc3b27b7216142106b9ff50f5e7b19d85c62ca7","111214009193320cacbae104e8281f6cb37788b52a6a84d259f9822c8c71f6ca","01c8e2c8984c96b9b48be20ee396bd3689a3a3e6add8d50fe8229a7d4e62ff45","a4a0800b592e533897b4967b00fb00f7cd48af9714d300767cc231271aa100af","20aa818c3e16e40586f2fa26327ea17242c8873fe3412a69ec68846017219314","f498532f53d54f831851990cb4bcd96063d73e302906fa07e2df24aa5935c7d1","5fd19dfde8de7a0b91df6a9bbdc44b648fd1f245cae9e8b8cf210d83ee06f106","3b8d6638c32e63ea0679eb26d1eb78534f4cc02c27b80f1c0a19f348774f5571","ce0da52e69bc3d82a7b5bc40da6baad08d3790de13ad35e89148a88055b46809","9e01233da81bfed887f8d9a70d1a26bf11b8ddff165806cc586c84980bf8fc24","214a6afbab8b285fc97eb3cece36cae65ea2fca3cbd0c017a96159b14050d202","14beeca2944b75b229c0549e0996dc4b7863e07257e0d359d63a7be49a6b86a4","f7bb9adb1daa749208b47d1313a46837e4d27687f85a3af7777fc1c9b3dc06b1","c549fe2f52101ffe47f58107c702af7cdcd42da8c80afd79f707d1c5d77d4b6e","3966ea9e1c1a5f6e636606785999734988e135541b79adc6b5d00abdc0f4bf05","0b60b69c957adb27f990fbc27ea4ac1064249400262d7c4c1b0a1687506b3406","12c26e5d1befc0ded725cee4c2316f276013e6f2eb545966562ae9a0c1931357","27b247363f1376c12310f73ebac6debcde009c0b95b65a8207e4fa90e132b30a","05bd302e2249da923048c09dc684d1d74cb205551a87f22fb8badc09ec532a08","fe930ec064571ab3b698b13bddf60a29abf9d2f36d51ab1ca0083b087b061f3a","6b85c4198e4b62b0056d55135ad95909adf1b95c9a86cdbed2c0f4cc1a902d53","02cf6057df8dcc34b248db0534665c565bdf9b2824b1a4b30b7e47d53adc3f56","3316c0ce0bfdcfe38b49642dec38f3ec3adb3807a4d8a450e537b69ef72a87e9","a93daf9245e2e7a8db7055312db5d9aae6d2ac69c20e433a521f69c16c04c5ae","e91013ea9bf651a1671f143cc1cfb805afc80e954e18168f7ca1f1f38703e187","51a33c73275ac8ce293e6c6fe9eaa68213709f473dc4f78e8acfb26f353f3a36","6ea6e4d2962d930bd24756ac6a3de5777d1d8420c63b45d10f94ab5354164d59","9a122aa5403669fb0a5b463042e9a3339c46de443421fc9eb84f717ab895e8d3","ad8a4933ddebbd2272590bfb34d9f78f2383549dfbcd8b06f0d27cad25e13f4f","7e3f2acb44f2af6d11c1e7394c6f58bc4a26086c2f4f8477f706c5faf058183a","a63c5a2faca1af712ef93dbd818c4406f0e01e7489af6152000fe52682acc523","d9cfc6305e55b2cc952859f07b12915a36d75742d46fa5383aa1985a49e1079c","ea3dc94b0fffe98fdf557e22b26282b039aa8c3cbbf872d0087d982d1a1f496c","7ec047b73f621c526468517fea779fec2007dd05baa880989def59126c98ef79","11d84eef6662ddfd17c1154a56d9e71d61ae3c541a61e3bc50f875cb5954379f","e5885f7b9247fb96fb143a533f3a37fd511f8b96b42d56f76ed0fc7dc36e6dc8","571b2640f0cf541dfed72c433706ad1c70fb55ed60763343aa617e150fbb036e","6a2372186491f911527a890d92ac12b88dec29f1c0cec7fce93745aba3253fde","22227267459567f5b88936b6be5168164aea54ffbcaf4a6373230116754673ff","c57b441e0c0a9cbdfa7d850dae1f8a387d6f81cbffbc3cd0465d530084c2417d","ab90a99fb09a5dd94d80d697b6833b041239843e15ebd634857853240db7e25f","2f9501a28443c63187a4a868f2e33807640191569144bc65c9127ed0a6ee9f3b","e31494f0210c9b4d565e1d26a9db8ede840cd83a4718e012142aad0ecca718a1","88177c1b08789127a549e92991c7d1d91a00c6f1bb8f3d4056d0322dcbe95229","cc7a43baee74d3d2b7ccf9517b24d5558dd66763e701dae60424d389a5711aa5","e42d60a801684a79f68b106d643527f5ecfe870f406c0ca335fbfe8a47bc4082","fe93c474ab38ac02e30e3af073412b4f92b740152cf3a751fdaee8cbea982341","6965020d465c71ee0acad2700ae68dd2c9859333aef634cddc0a6a0c5301a187","1e00b8bf9e3766c958218cd6144ffe08418286f89ff44ba5a2cc830c03dd22c7","ecb8dd251e55644dd117a650b79e597f7ba038791276f108e2a997abfb8ba210","ceb28411a437bf595f0c5cb539b4a3247e7ce3aa874b601237f7e010e6c22e0d","de618fec44f70765cc7bbc30c9049b1c31f3cfb3824e7a7731121ca1785998e4","a80b7bc4eda856374c26a56f6f25297f4c393309d4c4548002a5238cd57b2b66","136949c98d449f127781ea9c99d8f3dd7dd78f41b478c9958187482cf40e2bf7","7e65611bcc18186bdcf6e2c1a8657c38582291de5b861ce74a3a56cdd14a9d0a","5aa7c25b25664fc31ad0e776106857d6c1453f8d2991d2bbf00e7fcca8233327","07827f7d9469a14cf358e3c5277bbda649785d902c645da25b4018fa925afa30","354ef7f51c4370250e1fcd878b4e86e80c465ee3a1bfde2dd66dcae5d601c6f8","9b0d966432e83b8cfdcb8a0dd8ae5d0fbd441a17568ae644051f1db44ef1d88d","7e8194d9f3191445de5e3e77cce0fdc1b803c1828e2fa0720dd34153c774f2ee","bae0479c57669bad5a5c2b947475f1ba8476349c05e146a7dd8c0ee73bd2ef1a","2e4f37ffe8862b14d8e24ae8763daaa8340c0df0b859d9a9733def0eee7562d9","e0aa1079d58134e55ad2f73508ad1be565a975f2247245d76c64c1ca9e5e5b26","cd0c5af42811a4a56a0f77856cfa6c170278e9522888db715b11f176df3ff1f2","5487b97cfa28b26b4a9ef0770f872bdbebd4c46124858de00f242c3eed7519f4","7a01f546ace66019156e4232a1bee2fabc2f8eabeb052473d926ee1693956265","fb53b1c6a6c799b7e3cc2de3fb5c9a1c04a1c60d4380a37792d84c5f8b33933b","8485b6da53ec35637d072e516631d25dae53984500de70a6989058f24354666f","ebe80346928736532e4a822154eb77f57ef3389dbe2b3ba4e571366a15448ef2","c2cb3c8ff388781258ea9ddbcd8a947f751bddd6886e1d3b3ea09ddaa895df80","f672c876c1a04a223cf2023b3d91e8a52bb1544c576b81bf64a8fec82be9969c","98a9cc18f661d28e6bd31c436e1984f3980f35e0f0aa9cf795c54f8ccb667ffe","c76b0c5727302341d0bdfa2cc2cee4b19ff185b554edb6e8543f0661d8487116","19903057d0249e45c579bef2b771c37609e4853a8b88adbb0b6b63f9e1d1f372","f5ef066942e4f0bd98200aa6a6694b831e73200c9b3ade77ad0aa2409e8fe1b1","b9e99cd94f4166a245f5158f7286c05406e2a4c694619bceb7a4f3519d1d768e","5568d7c32e5cf5f35e092649f4e5e168c3114c800b1d7545b7ae5e0415704802","7a3f77aba5b4a39186f82e6bb561effebc2c6f201831c4859a9887c29b7bed3d","094220a45928be7bbb5f749fbc5fc9f8183bbd25d0c529dbd09300179d6a39f6","515d001d3eceb7ee53775f2064248c6804c6d8679ee080e99f7ddc71ef4f0d4d","8a7f51fb6782c87de17f065e9030d861fbd46cb6a435b8b75b1fe570cf7fdb96","68f81dad9e8d7b7aa15f35607a70c8b68798cf579ac44bd85325b8e2f1fb3600","1de80059b8078ea5749941c9f863aa970b4735bdbb003be4925c853a8b6b4450","ee872d2141e689536fa3ed3d5123b1a92b3a6053d8401884d75a98a7b11e4d08","8dd450de6d756cee0761f277c6dc58b0b5a66b8c274b980949318b8cad26d712","6b5f886fe41e2e767168e491fe6048398ed6439d44e006d9f51cc31265f08978","f4a1eba860f7493d19df42373ddde4f3c6f31aa574b608e55e5b2bd459bba587","6388a549ff1e6a2d5d18da48709bb167ea28062b573ff1817016099bc6138861","904d6ad970b6bd825449480488a73d9b98432357ab38cf8d31ffd651ae376ff5","87ab226fcfb59cd4008b9f1623d89cc0abebfe80dd3609b0147dc5fc141123f9","fa2f4e4d9d643629eaadd27d33d020c11dc44262a578711f2681f39120f55a91","490593682ca62c8e828e13d11db73d3adb37660536b96eb3999528171aa31db6","2230834a69cdb1efd3db6b804953fb7a57e2a5e204d0f5c0861471336a2a47ab","39d99bc0c71d7ef889a4d4ac4692571e00c62667c0386985bf2123c917df220d","aedcd10b62404b39d8d5544c01fee90aa7b66e7280bb80a215601ad198a1b8fd","9c580c6eae94f8c9a38373566e59d5c3282dc194aa266b23a50686fe10560159","beaa135aba592ee287a049db614af9935c0df8c349a76ca95f91d503fca63c9f","108886e64130a63fc4bf9aa939575207b7f4d73f9d435a15cc7d62569dc69306","9c1ea4565f1c2f82addcab6cc532aa745b79401f1945932556d1cd31e79202ab","522cab943014b845617400db018e2aae44ceedfbd052d450e04a2088b187b96b","dd332252bb45677533cd5553e0c35340cee4c485c90c63360f8e653901286a4f","dddde95f3dea44dc49c9095a861298e829122a54a3f56b3b815e615501e2ed16","794a88237c94d74302df12ebb02f521cf5389a5bf046a3fdbdd3afb21dc02511","66a08d30c55a7aefa847c1f5958924a3ef9bea6cd1c962a8ff1b2548f66a6ce0","0790ae78f92ab08c9d7e66b59733a185a9681be5d0dc90bd20ab5d84e54dcb86","1046cd42ec19e4fd038c803b4fc1aff31e51e6e48a6b8237a0240a11c1c27792","8f93c7e1084de38a142085c7f664b0eb463428601308fb51c68b25cb687e0887","83f69c968d32101f8690845f47bcae016cbea049e222a5946889eb3ae37e7582","59c3f3ed18de1c7f5927e0eafcdc0e545db88bfae4168695a89e38a85943a86d","32e6c27fd3ef2b1ddbf2bf833b2962d282eb07d9d9d3831ca7f4ff63937268e1","406ebb72aa8fdd9227bfce7a1b3e390e2c15b27f5da37ea9e3ed19c7fb78d298","197109f63a34b5f9379b2d7ba82fc091659d6878db859bd428ea64740cb06669","059871a743c0ca4ae511cbd1e356548b4f12e82bc805ab2e1197e15b5588d1c4","8ccefe3940a2fcb6fef502cdbc7417bb92a19620a848f81abc6caa146ab963e9","44d8ec73d503ae1cb1fd7c64252ffa700243b1b2cc0afe0674cd52fe37104d60","67ea5a827a2de267847bb6f1071a56431aa58a4c28f8af9b60d27d5dc87b7289","e33bb784508856827448a22947f2cac69e19bc6e9d6ef1c4f42295f7bd4ce293","383bb09bfeb8c6ef424c7fbce69ec7dc59b904446f8cfec838b045f0143ce917","83508492e3fc5977bc73e63541e92c5a137db076aafc59dcf63e9c6ad34061c7","ef064b9a331b7fc9fe0b368499c52623fb85d37d8972d5758edc26064189d14d","d64457d06ab06ad5e5f693123ee2f17594f00e6d5481517058569deac326fea0","e92ea29d716c5fe1977a34e447866d5cfbd94b3f648e3b9c550603fdae0e94fb","3d10f47c6b1e9225c68c140235657a0cdd4fc590c18faf87dcd003fd4e22c67f","13989f79ff8749a8756cac50f762f87f153e3fb1c35768cc6df15968ec1adb1a","e014c2f91e94855a52dd9fc88867ee641a7d795cfe37e6045840ecf93dab2e6b","74b9f867d1cc9f4e6122f81b59c77cbd6ff39f482fb16cffdc96e4cda1b5fdb1","7c8574cfc7cb15a86db9bf71a7dc7669593d7f62a68470adc01b05f246bd20ff","c8f49d91b2669bf9414dfc47089722168602e5f64e9488dbc2b6fe1a0f6688da","3abee758d3d415b3b7b03551f200766c3e5dd98bb1e4ff2c696dc6f0c5f93191","79bd7f60a080e7565186cfdfd84eac7781fc4e7b212ab4cd315b9288c93b7dc7","4a2f281330a7b5ed71ebc4624111a832cd6835f3f92ad619037d06b944398cf4","ea8130014cb8ee30621bf521f58d036bff3b9753b2f6bd090cc88ac15836d33c","c740d49c5a0ecc553ddfc14b7c550e6f5a2971be9ed6e4f2280b1f1fa441551d","886a56c6252e130f3e4386a6d3340cf543495b54c67522d21384ed6fb80b7241","4b7424620432be60792ede80e0763d4b7aab9fe857efc7bbdb374e8180f4092a","e407db365f801ee8a693eca5c21b50fefd40acafda5a1fa67f223800319f98a8","529660b3de2b5246c257e288557b2cfa5d5b3c8d2240fa55a4f36ba272b57d18","0f6646f9aba018d0a48b8df906cb05fa4881dc7f026f27ab21d26118e5aa15de","b3620fcf3dd90a0e6a07268553196b65df59a258fe0ec860dfac0169e0f77c52","08135e83e8d9e34bab71d0cf35b015c21d0fd930091b09706c6c9c0e766aca28","96e14f2fdc1e3a558462ada79368ed49b004efce399f76f084059d50121bb9a9","56f2ade178345811f0c6c4e63584696071b1bd207536dc12384494254bc1c386","e484786ef14e10d044e4b16b6214179c95741e89122ba80a7c93a7e00bf624b1","4763ce202300b838eb045923eaeb32d9cf86092eee956ca2d4e223cef6669b13","7cff5fff5d1a92ae954bf587e5c35987f88cacaa006e45331b3164c4e26369de","c276acedaadc846336bb51dd6f2031fdf7f299d0fae1ee5936ccba222e1470ef","426c3234f768c89ba4810896c1ee4f97708692727cfecba85712c25982e7232b","ee12dd75feac91bb075e2cb0760279992a7a8f5cf513b1cffaa935825e3c58be","3e51868ea728ceb899bbfd7a4c7b7ad6dd24896b66812ea35893e2301fd3b23f","781e8669b80a9de58083ca1f1c6245ef9fb04d98add79667e3ed70bde034dfd5","cfd35b460a1e77a73f218ebf7c4cd1e2eeeaf3fa8d0d78a0a314c6514292e626","452d635c0302a0e1c5108edebcca06fc704b2f8132123b1e98a5220afa61a965","bbe64c26d806764999b94fcd47c69729ba7b8cb0ca839796b9bb4d887f89b367","b87d65da85871e6d8c27038146044cffe40defd53e5113dbd198b8bce62c32db","c37712451f6a80cbf8abec586510e5ac5911cb168427b08bc276f10480667338","ecf02c182eec24a9a449997ccc30b5f1b65da55fd48cbfc2283bcfa8edc19091","0b2c6075fc8139b54e8de7bcb0bed655f1f6b4bf552c94c3ee0c1771a78dea73","49707726c5b9248c9bac86943fc48326f6ec44fe7895993a82c3e58fb6798751","a9679a2147c073267943d90a0a736f271e9171de8fbc9c378803dd4b921f5ed3","a8a2529eec61b7639cce291bfaa2dd751cac87a106050c3c599fccb86cc8cf7f","bfc46b597ca6b1f6ece27df3004985c84807254753aaebf8afabd6a1a28ed506","7fdee9e89b5a38958c6da5a5e03f912ac25b9451dc95d9c5e87a7e1752937f14","b8f3eafeaf04ba3057f574a568af391ca808bdcb7b031e35505dd857db13e951","30b38ae72b1169c4b0d6d84c91016a7f4c8b817bfe77539817eac099081ce05c","c9f17e24cb01635d6969577113be7d5307f7944209205cb7e5ffc000d27a8362","685ead6d773e6c63db1df41239c29971a8d053f2524bfabdef49b829ae014b9a","b7bdabcd93148ae1aecdc239b6459dfbe35beb86d96c4bd0aca3e63a10680991","e83cfc51d3a6d3f4367101bfdb81283222a2a1913b3521108dbaf33e0baf764a","95f397d5a1d9946ca89598e67d44a214408e8d88e76cf9e5aecbbd4956802070","74042eac50bc369a2ed46afdd7665baf48379cf1a659c080baec52cc4e7c3f13","1541765ce91d2d80d16146ca7c7b3978bd696dc790300a4c2a5d48e8f72e4a64","ec6acc4492c770e1245ade5d4b6822b3df3ba70cf36263770230eac5927cf479","4c39ee6ae1d2aeda104826dd4ce1707d3d54ac34549d6257bea5d55ace844c29","deb099454aabad024656e1fc033696d49a9e0994fc3210b56be64c81b59c2b20","80eec3c0a549b541de29d3e46f50a3857b0b90552efeeed90c7179aba7215e2f","a4153fbd5c9c2f03925575887c4ce96fc2b3d2366a2d80fad5efdb75056e5076","6f7c70ca6fa1a224e3407eb308ec7b894cfc58042159168675ccbe8c8d4b3c80","4b56181b844219895f36cfb19100c202e4c7322569dcda9d52f5c8e0490583c9","5609530206981af90de95236ce25ddb81f10c5a6a346bf347a86e2f5c40ae29b","632ce3ee4a6b320a61076aeca3da8432fb2771280719fde0936e077296c988a9","8b293d772aff6db4985bd6b33b364d971399993abb7dc3f19ceed0f331262f04","4eb7bad32782df05db4ba1c38c6097d029bed58f0cb9cda791b8c104ccfdaa1f","c6a8aa80d3dde8461b2d8d03711dbdf40426382923608aac52f1818a3cead189","bf5e79170aa7fc005b5bf87f2fe3c28ca8b22a1f7ff970aa2b1103d690593c92","ba3c92c785543eba69fbd333642f5f7da0e8bce146dec55f06cfe93b41e7e12f","c6d72ececae6067e65c78076a5d4a508f16c806577a3d206259a0d0bfeedc8d1","b6429631df099addfcd4a5f33a046cbbde1087e3fc31f75bfbbd7254ef98ea3c","4e9cf1b70c0faf6d02f1849c4044368dc734ad005c875fe7957b7df5afe867c9","7498b7d83674a020bd6be46aeed3f0717610cb2ae76d8323e560e964eb122d0c","b80405e0473b879d933703a335575858b047e38286771609721c6ab1ea242741","7193dfd01986cd2da9950af33229f3b7c5f7b1bee0be9743ad2f38ec3042305e","1ccb40a5b22a6fb32e28ffb3003dea3656a106dd3ed42f955881858563776d2c","8d97d5527f858ae794548d30d7fc78b8b9f6574892717cc7bc06307cc3f19c83","ccb4ecdc8f28a4f6644aa4b5ab7337f9d93ff99c120b82b1c109df12915292ac","8bbcf9cecabe7a70dcb4555164970cb48ba814945cb186493d38c496f864058f","7d57bdfb9d227f8a388524a749f5735910b3f42adfe01bfccca9999dc8cf594c","3508810388ea7c6585496ee8d8af3479880aba4f19c6bbd61297b17eb30428f4","56931daef761e6bdd586358664ccd37389baabeb5d20fe39025b9af90ea169a5","abb48247ab33e8b8f188ef2754dfa578129338c0f2e277bfc5250b14ef1ab7c5","beaba1487671ed029cf169a03e6d680540ea9fa8b810050bc94cb95d5e462db2","1418ef0ba0a978a148042bc460cf70930cd015f7e6d41e4eb9348c4909f0e16d","56be4f89812518a2e4f0551f6ef403ffdeb8158a7c271b681096a946a25227e9","bbb0937150b7ab2963a8bc260e86a8f7d2f10dc5ee7ddb1b4976095a678fdaa4","862301d178172dc3c6f294a9a04276b30b6a44d5f44302a6e9d7dc1b4145b20b","cbf20c7e913c08cb08c4c3f60dae4f190abbabaa3a84506e75e89363459952f0","0f3333443f1fea36c7815601af61cb3184842c06116e0426d81436fc23479cb8","421d3e78ed21efcbfa86a18e08d5b6b9df5db65340ef618a9948c1f240859cc1","b1225bc77c7d2bc3bad15174c4fd1268896a90b9ab3b306c99b1ade2f88cddcc","ca46e113e95e7c8d2c659d538b25423eac6348c96e94af3b39382330b3929f2a","03ca07dbb8387537b242b3add5deed42c5143b90b5a10a3c51f7135ca645bd63","ca936efd902039fda8a9fc3c7e7287801e7e3d5f58dd16bf11523dc848a247d7","2c7b3bfa8b39ed4d712a31e24a8f4526b82eeca82abb3828f0e191541f17004c","5ffaae8742b1abbe41361441aa9b55a4e42aee109f374f9c710a66835f14a198","ecab0f43679211efc9284507075e0b109c5ad024e49b190bb28da4adfe791e49","967109d5bc55face1aaa67278fc762ac69c02f57277ab12e5d16b65b9023b04f","36d25571c5c35f4ce81c9dcae2bdd6bbaf12e8348d57f75b3ef4e0a92175cd41","fde94639a29e3d16b84ea50d5956ee76263f838fa70fe793c04d9fce2e7c85b9","5f4c286fea005e44653b760ebfc81162f64aabc3d1712fd4a8b70a982b8a5458","e02dabe428d1ffd638eccf04a6b5fba7b2e8fccee984e4ef2437afc4e26f91c2","60dc0180bd223aa476f2e6329dca42fb0acaa71b744a39eb3f487ab0f3472e1c","b6fdbecf77dcbf1b010e890d1a8d8bfa472aa9396e6c559e0fceee05a3ef572f","e1bf9d73576e77e3ae62695273909089dbbb9c44fb52a1471df39262fe518344","d2d57df33a7a5ea6db5f393df864e3f8f8b8ee1dfdfe58180fb5d534d617470f","fdcd692f0ac95e72a0c6d1e454e13d42349086649828386fe7368ac08c989288","5583eef89a59daa4f62dd00179a3aeff4e024db82e1deff2c7ec3014162ea9a2","b0641d9de5eaa90bff6645d754517260c3536c925b71c15cb0f189b68c5386b4","9899a0434bd02881d19cb08b98ddd0432eb0dafbfe5566fa4226bdd15624b56f","4496c81ce10a0a9a2b9cb1dd0e0ddf63169404a3fb116eb65c52b4892a2c91b9","ecdb4312822f5595349ec7696136e92ecc7de4c42f1ea61da947807e3f11ebfc","42edbfb7198317dd7359ce3e52598815b5dc5ca38af5678be15a4086cccd7744","8105321e64143a22ed5411258894fb0ba3ec53816dad6be213571d974542feeb","d1b34c4f74d3da4bdf5b29bb930850f79fd5a871f498adafb19691e001c4ea42","9a1caf586e868bf47784176a62bf71d4c469ca24734365629d3198ebc80858d7","35a443f013255b33d6b5004d6d7e500548536697d3b6ba1937fd788ca4d5d37b","b591c69f31d30e46bc0a2b383b713f4b10e63e833ec42ee352531bbad2aadfaa","31e686a96831365667cbd0d56e771b19707bad21247d6759f931e43e8d2c797d","dfc3b8616bece248bf6cd991987f723f19c0b9484416835a67a8c5055c5960e0","03b64b13ecf5eb4e015a48a01bc1e70858565ec105a5639cfb2a9b63db59b8b1","c56cc01d91799d39a8c2d61422f4d5df44fab62c584d86c8a4469a5c0675f7c6","5205951312e055bc551ed816cbb07e869793e97498ef0f2277f83f1b13e50e03","50b1aeef3e7863719038560b323119f9a21f5bd075bb97efe03ee7dec23e9f1b","0cc13970d688626da6dce92ae5d32edd7f9eabb926bb336668e5095031833b7c","3be9c1368c34165ba541027585f438ed3e12ddc51cdc49af018e4646d175e6a1","7d617141eb3f89973b1e58202cdc4ba746ea086ef35cdedf78fb04a8bb9b8236","ea6d9d94247fd6d72d146467070fe7fc45e4af6e0f6e046b54438fd20d3bd6a2","d584e4046091cdef5df0cb4de600d46ba83ff3a683c64c4d30f5c5a91edc6c6c","ce68902c1612e8662a8edde462dff6ee32877ed035f89c2d5e79f8072f96aed0","d48ac7569126b1bc3cd899c3930ef9cf22a72d51cf45b60fc129380ae840c2f2","e4f0d7556fda4b2288e19465aa787a57174b93659542e3516fd355d965259712","756b471ce6ec8250f0682e4ad9e79c2fddbe40618ba42e84931dbb65d7ac9ab0","ce9635a3551490c9acdbcb9a0491991c3d9cd472e04d4847c94099252def0c94","b70ee10430cc9081d60eb2dc3bee49c1db48619d1269680e05843fdaba4b2f7a","9b78500996870179ab99cbbc02dffbb35e973d90ab22c1fb343ed8958598a36c","c6ee8f32bb16015c07b17b397e1054d6906bc916ab6f9cd53a1f9026b7080dbf","67e913fa79af629ee2805237c335ea5768ea09b0b541403e8a7eaef253e014d9","0b8a688a89097bd4487a78c33e45ca2776f5aedaa855a5ba9bc234612303c40e","188e5381ed8c466256937791eab2cc2b08ddcc5e4aaf6b4b43b8786ed1ab5edd","8559f8d381f1e801133c61d329df80f7fdab1cbad5c69ebe448b6d3c104a65bd","00a271352b854c5d07123587d0bb1e18b54bf2b45918ab0e777d95167fd0cb0b","10c4be0feeac95619c52d82e31a24f102b593b4a9eba92088c6d40606f95b85d","e1385f59b1421fceba87398c3eb16064544a0ce7a01b3a3f21fa06601dc415dc","bacf2c0f8cbfc5537b3c64fc79d3636a228ccbb00d769fb1426b542efe273585","3103c479ff634c3fbd7f97a1ccbfb645a82742838cb949fdbcf30dd941aa7c85","4b37b3fab0318aaa1d73a6fde1e3d886398345cff4604fe3c49e19e7edd8a50d","bf429e19e155685bda115cc7ea394868f02dec99ee51cfad8340521a37a5867a","72116c0e0042fd5aa020c2c121e6decfa5414cf35d979f7db939f15bb50d2943","20510f581b0ee148a80809122f9bcaa38e4691d3183a4ed585d6d02ffe95a606","71f4b56ed57bbdea38e1b12ad6455653a1fbf5b1f1f961d75d182bff544a9723","b3e1c5db2737b0b8357981082b7c72fe340edf147b68f949413fee503a5e2408","396e64a647f4442a770b08ed23df3c559a3fa7e35ffe2ae0bbb1f000791bda51","698551f7709eb21c3ddec78b4b7592531c3e72e22e0312a128c40bb68692a03f","662b28f09a4f60e802023b3a00bdd52d09571bc90bf2e5bfbdbc04564731a25e","e6b8fb8773eda2c898e414658884c25ff9807d2fce8f3bdb637ab09415c08c3c","528288d7682e2383242090f09afe55f1a558e2798ceb34dc92ae8d6381e3504a","0538219c10e04db6cea27f2d47676c123fa5f168afc290bc03a575bccf87d82e","37e52e54019859de1e4186f6d664640b81884864c9f888faaf5d41f8e5f0eead","c03e46e052dfb36690089e52d97d68a494e235da018c8cd7efdf1b3169e248f5","264f935450101e4b000eb351cf75c9d799ca20a278b260a9e5770303b5f2b6a3","a3ffe0da859afda5b09afdcc10a4e85196a81877e4ef1447604ce9a9dfb74a58","b0585389e0dcd131241ff48a6b4e8bebdf97813850183ccfa2a60118532938dd",{"version":"8db2708d71d93131112a8db84847a1245fb170f78fdc7db916ad955dc6c42be1","affectsGlobalScope":true},"e29c3246bccba476f4285c89ea0c026b6bfdf9e3d15b6edf2d50e7ea1a59ecfb","e689cc8cd8a102d31c9d3a7b0db0028594202093c4aca25982b425e8ae744556","478e59ac0830a0f6360236632d0d589fb0211183aa1ab82292fbca529c0cce35","1b4ed9deaba72d4bc8495bf46db690dbf91040da0cb2401db10bad162732c0e2","cf60c9e69392dd40b81c02f9674792e8bc5b2aff91d1b468e3d19da8b18358f8","3e94295f73335c9122308a858445d2348949842579ac2bacd30728ab46fe75a7","8a778c0e0c2f0d9156ca87ab56556b7fd876a185960d829c7e9ed416d5be5fb4","b233a945227880b8100b0fec2a8916339fa061ccc23d2d9db4b4646a6cd9655f","54821272a9f633d5e8ec23714ece5559ae9a7acc576197fe255974ddbd9b05d6","e08685c946d49f555b523e481f4122b398c4444c55b164e5ac67c3ba878db8d1","3c99d5232a3c8b54016e5700502078af50fe917eb9cb4b6d9a75a0a3456fcd5d","9d8e34ec610435ee2708595564bbad809eab15c9e3fa01ad3746bbe9015faaed","7202a89bea0bdab87cc0ae60912b9e631a48f519b6a1f323dba8bc77a02a3481","f865343c121abc3516abf5b888d0c1b7596ec772229d8e4d4d796f89e8c9d0c0","77114bdbc7388aeeb188c85ebe27e38b1a6e29bc9fea6e09b7011bbb4d71ec41","3df489529e6dfe63250b187f1823a9d6006b86a7e9cac6b338944d5fc008db70","fe0d316062384b233b16caee26bf8c66f2efdcedcf497be08ad9bcea24bd2d2c","2f5846c85bd28a5e8ce93a6e8b67ad0fd6f5a9f7049c74e9c1f6628a0c10062a","7dfb517c06ecb1ca89d0b46444eae16ad53d0054e6ec9d82c38e3fbf381ff698","35999449fe3af6c7821c63cad3c41b99526113945c778f56c2ae970b4b35c490","1fff68ffb3b4a2bf1b6f7f4793f17d6a94c72ca8d67c1d0ac8a872483d23aaf2","6dd231d71a5c28f43983de7d91fb34c2c841b0d79c3be2e6bffeb2836d344f00","e6a96ceaa78397df35800bafd1069651832422126206e60e1046c3b15b6e5977","035dcab32722ff83675483f2608d21cb1ec7b0428b8dca87139f1b524c7fcdb5","605892c358273dffa8178aa455edf675c326c4197993f3d1287b120d09cee23f","a1caf633e62346bf432d548a0ae03d9288dc803c033412d52f6c4d065ef13c25","774f59be62f64cf91d01f9f84c52d9797a86ef7713ff7fc11c8815512be20d12","46fc114448951c7b7d9ed1f2cc314e8b9be05b655792ab39262c144c7398be9f","9be0a613d408a84fa06b3d748ca37fd83abf7448c534873633b7a1d473c21f76","f447ea732d033408efd829cf135cac4f920c4d2065fa926d7f019bff4e119630","09f1e21f95a70af0aa40680aaa7aadd7d97eb0ef3b61effd1810557e07e4f66a","a43ec5b51f6b4d3c53971d68d4522ef3d5d0b6727e0673a83a0a5d8c1ced6be2","c06578ae45a183ba9d35eee917b48ecfdec19bb43860ffc9947a7ab2145c8748","2a9b4fd6e99e31552e6c1861352c0f0f2efd6efb6eacf62aa22375b6df1684b1","ad9f4320035ac22a5d7f5346a38c9907d06ec35e28ec87e66768e336bc1b4d69","05a090d5fb9dc0b48e001b69dc13beaab56883d016e6c6835dbdaf4027d622d4","76edff84d1d0ad9cece05db594ebc8d55d6492c9f9cc211776d64b722f1908e0","ec7cef68bcd53fae06eecbf331bb3e7fdfbbf34ed0bbb1fb026811a3cd323cb4","36ea0d582c82f48990eea829818e7e84e1dd80c9dc26119803b735beac5ee025","9c3f927107fb7e1086611de817b1eb2c728da334812ddab9592580070c3d0754","eeae71425f0747a79f45381da8dd823d625a28c22c31dca659d62fcc8be159c2","d769fae4e2194e67a946d6c51bb8081cf7bd35688f9505951ad2fd293e570701","55ce8d5c56f615ae645811e512ddb9438168c0f70e2d536537f7e83cd6b7b4b0","fa1369ff60d8c69c1493e4d99f35f43089f0922531205d4040e540bb99c0af4f","a3382dd7ef2186ea109a6ee6850ca95db91293693c23f7294045034e7d4e3acf","2b1d213281f3aa615ae6c81397247800891be98deca0b8b2123681d736784374","c34e7a89ed828af658c88c87db249b579a61e116bea0c472d058e05a19bf5fa9","7ae166eb400af5825d3e89eea5783261627959809308d4e383f3c627f9dad3d8","69f64614a16f499e755db4951fcbb9cf6e6b722cc072c469b60d2ea9a7d3efe8","75df3b2101fc743f2e9443a99d4d53c462953c497497cce204d55fc1efb091e0","7dc0f40059b991a1624098161c88b4650644375cc748f4ac142888eb527e9ccd","a601809a87528d651b7e1501837d57bb840f47766f06e695949a85f3e58c6315","d64f68c9dbd079ad99ec9bae342e1b303da6ce5eac4160eb1ed2ef225a9e9b23","99c738354ecc1dba7f6364ed69b4e32f5b0ad6ec39f05e1ee485e1ee40b958eb","8cd2c3f1c7c15af539068573c2c77a35cc3a1c6914535275228b8ef934e93ae4","efb3ac710c156d408caa25dafd69ea6352257c4cebe80dba0f7554b9e903919c","260244548bc1c69fbb26f0a3bb7a65441ae24bcaee4fe0724cf0279596d97fb4","ce230ce8f34f70c65809e3ac64dfea499c5fd2f2e73cd2c6e9c7a2c5856215a8","0e154a7f40d689bd52af327dee00e988d659258af43ee822e125620bdd3e5519","cca506c38ef84e3f70e1a01b709dc98573044530807a74fe090798a8d4dc71ac","160dbb165463d553da188b8269b095a4636a48145b733acda60041de8fa0ae88","8b1deebfd2c3507964b3078743c1cb8dbef48e565ded3a5743063c5387dec62f","6a77c11718845ff230ac61f823221c09ec9a14e5edd4c9eae34eead3fc47e2c7","5a633dd8dcf5e35ee141c70e7c0a58df4f481fb44bce225019c75eed483be9be","f3fb008d3231c50435508ec6fd8a9e1fdc04dd75d4e56ec3879b08215da02e2c","9e4af21f88f57530eea7c963d5223b21de0ddccfd79550636e7618612cc33224","b48dd54bd70b7cf7310c671c2b5d21a4c50e882273787eeea62a430c378b041a","1302d4a20b1ce874c8c7c0af30051e28b7105dadaec0aebd45545fd365592f30","fd939887989692c614ea38129952e34eeca05802a0633cb5c85f3f3b00ce9dff","3040f5b3649c95d0df70ce7e7c3cce1d22549dd04ae05e655a40e54e4c6299de","de0bd5d5bd17ba2789f4a448964aba57e269a89d0499a521ccb08531d8892f55","921d42c7ec8dbefd1457f09466dadedb5855a71fa2637ad67f82ff1ed3ddc0d0","b0750451f8aec5c70df9e582ab794fab08dae83ea81bb96bf0b0976e0a2301ee","8ba931de83284a779d0524b6f8d6cf3956755fb41c8c8c41cd32caf464d27f05","4305804b3ae68aebb7ef164aabd7345c6b91aada8adda10db0227922b2c16502","96ae321ebb4b8dcdb57e9f8f92a3f8ddb50bdf534cf58e774281c7a90b502f66","934158ee729064a805c8d37713161fef46bf36aa9f0d0949f2cd665ded9e2444","6ef5957bb7e973ea49d2b04d739e8561bca5ae125925948491b3cfbd4bf6a553","6a32433315d54a605c4be53bf7248dfd784a051e8626aeb01a4e71294dd2747f","9476325d3457bfe059adfee87179a5c7d44ecbeec789ede9cfab8dc7b74c48db","4f1c9401c286c6fff7bbf2596feef20f76828c99e3ccb81f23d2bd33e72256aa","b711cdd39419677f7ca52dd050364d8f8d00ea781bb3252b19c71bdb7ec5423e","ee11e2318448babc4d95f7a31f9241823b0dfc4eada26c71ef6899ea06e6f46b","27a270826a46278ad5196a6dfc21cd6f9173481ca91443669199379772a32ae8","7c52f16314474cef2117a00f8b427dfa62c00e889e6484817dc4cabb9143ac73","6c72a60bb273bb1c9a03e64f161136af2eb8aacc23be0c29c8c3ece0ea75a919","6fa96d12a720bbad2c4e2c75ddffa8572ef9af4b00750d119a783e32aede3013","00128fe475159552deb7d2f8699974a30f25c848cf36448a20f10f1f29249696","e7bd1dc063eced5cd08738a5adbba56028b319b0781a8a4971472abf05b0efb4","2a92bdf4acbd620f12a8930f0e0ec70f1f0a90e3d9b90a5b0954aac6c1d2a39c","c8d08a1e9d91ad3f7d9c3862b30fa32ba4bc3ca8393adafdeeeb915275887b82","c0dd6b325d95454319f13802d291f4945556a3df50cf8eed54dbb6d0ade0de2f","0627ae8289f0107f1d8425904bb0daa9955481138ca5ba2f8b57707003c428d5","4d8c5cc34355bfb08441f6bc18bf31f416afbfa1c71b7b25255d66d349be7e14","b365233eaff00901f4709fa605ae164a8e1d304dc6c39b82f49dda3338bea2b0","456da89f7f4e0f3dc82afc7918090f550a8af51c72a3cfb9887cf7783d09a266","d9a2dcc08e20a9cf3cc56cd6e796611247a0e69aa51254811ec2eed5b63e4ba5","44abf5b087f6500ab9280da1e51a2682b985f110134488696ac5f84ae6be566c","ced7ef0f2429676d335307ad64116cd2cc727bb0ce29a070bb2992e675a8991e","0b73db1447d976759731255d45c5a6feff3d59b7856a1c4da057ab8ccf46dc84","3fc6f405e56a678370e4feb7a38afd909f77eb2e26fe153cdaea0fb3c42fbbee","2762ed7b9ceb45268b0a8023fd96f02df88f5eb2ad56851cbb3da110fd35fdb5","9c20802909ca00f79936c66d8315a5f7f2355d343359a1e51b521ec7a8cfa8bf","31ddfdf751c96959c458220cd417454b260ff5e88f66dddc33236343156eb22c","ec0339cf070b4dedf708aaed26b8da900a86b3396b30a4777afcd76e69462448","067eed0758f3e99f0b1cfe5e3948aa371cbb0f48a26db8c911772e50a9cc9283","7dfb9316cfbf2124903d9bc3721d6c19afbf5109dfbc2017ca8ae758f85178ab","919a7135fa54057cf42c8cd52165bf938baeb6df316b438bbf4d97f3174ff532","4a2957dfe878c8b49acb18299dfba2f72b8bf7a265b793916c0479b3d636b23b","fad6a11a73a787168630bf5276f8e8525ab56f897a6a0bf0d3795550201e9df5","0cc8d34354ec904617af9f1d569c29b90915634c06d61e7e74b74de26c9379d2","529b225f4de49eed08f5a8e5c0b3030699980a8ea130298ff9dfa385a99c2a76","77bb50ea87284de10139d000837e5cce037405ac2b699707e3f8766454a8c884","95c33ceea3574b974d7a2007fed54992c16b68472b25b426336ef9813e2e96e8","1ecb3c690b1bfdc8ea6aaa565415802e5c9012ec616a1d9fb6a2dbd15de7b9dc","57fc10e689d39484d5ae38b7fc5632c173d2d9f6f90196fc6a81d6087187ed03","f1fb180503fecd5b10428a872f284cc6de52053d4f81f53f7ec2df1c9760d0c0","d30d4de63fc781a5b9d8431a4b217cd8ca866d6dc7959c2ce8b7561d57a7213f","765896b848b82522a72b7f1837342f613d7c7d46e24752344e790d1f5b02810b","ee032efc2dd5c686680f097a676b8031726396a7a2083a4b0b0499b0d32a2aea","b76c65680c3160e6b92f5f32bc2e35bca72fedb854195126b26144fd191cd696","13e9a215593478bd90e44c1a494caf3c2079c426d5ad8023928261bfc4271c72","3e27476a10a715506f9bb196c9c8699a8fe952199233c5af428d801fdda56761","dbb9ad48b056876e59a7da5e1552c730b7fa27d59fcd5bf27fd7decc9d823bb8","4bd72a99a4273c273201ca6d1e4c77415d10aa24274089b7246d3d0e0084ca06","7ae03c4abb0c2d04f81d193895241b40355ae605ec16132c1f339c69552627c1","650eddf2807994621e8ca331a29cc5d4a093f5f7ff2f588c3bb7016d3fe4ae6a","615834ad3e9e9fe6505d8f657e1de837404a7366e35127fcb20e93e9a0fb1370","c3661daba5576b4255a3b157e46884151319d8a270ec37ca8f353c3546b12e9b","de4abffb7f7ba4fffbd5986f1fe1d9c73339793e9ac8175176f0d70d4e2c26d2","211513b39f80376a8428623bb4d11a8f7ef9cd5aa9adce243200698b84ce4dfb","9e8d2591367f2773368f9803f62273eb44ef34dd7dfdaa62ff2f671f30ee1165","0f3cef820a473cd90e8c4bdf43be376c7becfda2847174320add08d6a04b5e6e","20eed68bc1619806d1a8c501163873b760514b04fcf6a7d185c5595ff5baef65","620ef28641765cc6701be0d10d537b61868e6f54c9db153ae64d28187b51dbc0","341c8114357c0ec0b17a2a1a99aecbfc6bc0393df49ea6a66193d1e7a691b437","b01fe782d4c8efc30ab8f55fae1328898ad88a3b2362ba4daac2059bd30ef903","f8e8b33983efa33e28e045b68347341fc77f64821b7aabaac456d17b1781e5f4","8d3e416906fb559b9e4ad8b4c4a5f54aeadeb48702e4d0367ffba27483a2e822","47db572e8e1c12a37c9ac6bd7e3c88b38e169e3d7fd58cb8fb4a978651e3b121","a83a8785713569da150cded8e22c8c14b98b8802eb56167db5734157e23ee804","cce1c8b93d1e5ed8dcbaca2c4d346abb34da5c14fa51a1c2e5f93a31c214d8e9","213a867daad9eba39f37f264e72e7f2faa0bda9095837de58ab276046d61d97c","e1c2ba2ca44e3977d3a79d529940706cef16c9fdd9fd9cad836022643edff84f","d63bfe03c3113d5e5b6fcef0bed9cd905e391d523a222caa6d537e767f4e0127","4f0a99cb58b887865ae5eed873a34f24032b9a8d390aa27c11982e82f0560b0f","831ec85d8b9ce9460069612cb8ac6c1407ce45ccaa610a8ae53fe6398f4c1ffd","84a15a4f985193d563288b201cb1297f3b2e69cf24042e3f47ad14894bd38e74","ea9357f6a359e393d26d83d46f709bc9932a59da732e2c59ea0a46c7db70a8d2","2b26c09c593fea6a92facd6475954d4fba0bcc62fe7862849f0cc6073d2c6916","b56425afeb034738f443847132bcdec0653b89091e5ea836707338175e5cf014","7b3019addc0fd289ab1d174d00854502642f26bec1ae4dadd10ca04db0803a30","77883003a85bcfe75dc97d4bd07bd68f8603853d5aad11614c1c57a1204aaf03","a69755456ad2d38956b1e54b824556195497fbbb438052c9da5cce5a763a9148","c4ea7a4734875037bb04c39e9d9a34701b37784b2e83549b340c01e1851e9fca","bba563452954b858d18cc5de0aa8a343b70d58ec0369788b2ffd4c97aa8a8bd1","48dd38c566f454246dd0a335309bce001ab25a46be2b44b1988f580d576ae3b5","0362f8eccf01deee1ada6f9d899cf83e935970431d6b204a0a450b8a425f8143","942c02023b0411836b6d404fc290583309df4c50c0c3a5771051be8ecd832e8d","27d7f5784622ac15e5f56c5d0be9aeefe069ed4855e36cc399c12f31818c40d4","0e5e37c5ee7966a03954ddcfc7b11c3faed715ee714a7d7b3f6aaf64173c9ac7","adcfd9aaf644eca652b521a4ebac738636c38e28826845dcd2e0dac2130ef539","fecc64892b1779fb8ee2f78682f7b4a981a10ed19868108d772bd5807c7fec4f","a68eb05fb9bfda476d616b68c2c37776e71cba95406d193b91e71a3369f2bbe7","0adf5fa16fe3c677bb0923bde787b4e7e1eb23bcc7b83f89d48d65a6eb563699","b5a4d9f20576e513c3e771330bf58547b9cf6f6a4d769186ecef862feba706fd","560a6b3a1e8401fe5e947676dabca8bb337fa115dfd292e96a86f3561274a56d","70a29119482d358ab4f28d28ee2dcd05d6cbf8e678068855d016e10a9256ec12","869ac759ae8f304536d609082732cb025a08dcc38237fe619caf3fcdd41dde6f","0ea900fe6565f9133e06bce92e3e9a4b5a69234e83d40b7df2e1752b8d2b5002","e5408f95ca9ac5997c0fea772d68b1bf390e16c2a8cad62858553409f2b12412","3c1332a48695617fc5c8a1aead8f09758c2e73018bd139882283fb5a5b8536a6","9260b03453970e98ce9b1ad851275acd9c7d213c26c7d86bae096e8e9db4e62b","083838d2f5fea0c28f02ce67087101f43bd6e8697c51fd48029261653095080c","969132719f0f5822e669f6da7bd58ea0eb47f7899c1db854f8f06379f753b365","94ca5d43ff6f9dc8b1812b0770b761392e6eac1948d99d2da443dc63c32b2ec1","2cbc88cf54c50e74ee5642c12217e6fd5415e1b35232d5666d53418bae210b3b","ccb226557417c606f8b1bba85d178f4bcea3f8ae67b0e86292709a634a1d389d","5ea98f44cc9de1fe05d037afe4813f3dcd3a8c5de43bdd7db24624a364fad8e6","5260a62a7d326565c7b42293ed427e4186b9d43d6f160f50e134a18385970d02","0b3fc2d2d41ad187962c43cb38117d0aee0d3d515c8a6750aaea467da76b42aa","ed219f328224100dad91505388453a8c24a97367d1bc13dcec82c72ab13012b7","6847b17c96eb44634daa112849db0c9ade344fe23e6ced190b7eeb862beca9f4","d479a5128f27f63b58d57a61e062bd68fa43b684271449a73a4d3e3666a599a7","6f308b141358ac799edc3e83e887441852205dc1348310d30b62c69438b93ca0","b2e451d7958fb4e559df8470e78cbabd17bcebdf694c3ac05440b00ae685aadb","435b214f224e0bd2daa15376b7663fd6f5cb0e2bb3a4042672d6396686f7967b","5ac787a4a245d99203a12f93f1004db507735a7f3f16f3bc41d21997ccf54256","767a9d1487a4a83e6dbe19a56310706b92a77dc0e6c400aa288f48891c8af8d3","b0ccf103205b560110318646f3f6b3b85afcd36b395bfc656387d19295c56b25","277e5040ad36ac9e71259b903298e1b289b2df4522223638def3c960faf65495","332c11d25d366de26411a167669fa82258e971db2e14aa688e187b130917362e","5f17f99d2499676a7785b8753ae8c19fa1e45779f05881e917d11906c6217c86","39613fd5250b0e6b48f03d2c994f0135c55d64060c6a0486ecfd6344d4a90a7f","8dfbc0d30d20c17f8a9a4487ca14ca8fab6b7d6e0432378ba50cc689d4c07a73","4b91040a9b0a06d098defafb39f7e6794789d39c6be0cfd95d73dd3635ca7961","9f2412466e93dd732e8d60bdcdf84fcde2b29e71c63a26b6fce3dd88ea391318","dc9b0d2cd3da59b544da009f7871dcdc6556b158b375ef829beef4ac0074a2a0","27db7c0e40f6ee7bd969c07b883e48c375c41169a312c1a4ff00b3d5593525d6","900ccfe7038f066dd196808d3c3ea2f3d4ec5fb0fafa580f1a4b08d247c46119","b10fc9b1f4aa6b24fcc250a77e4cb81d8727301f1e22f35aca518f7dd6bed96e","033d90dff1fa1a3de4951a3822e2a80191d61261b3c5e75417e38484a8e9e8c9","379770e8610d964c05020126b49a77c6ab48e607a60694f850bacd0a8cf45e69","41e4fe8410decbd56067299850f9a69c4b7e9f7e7386c163b4abe79d3f74dbaf","44b98806b773c11de81d4ef8b8a3be3c4b762c037f4282d73e6866ae0058f294","9f10481b11a6e7969c7e561c460d5688f616119386848e07592303e5f4912270","16e3c387b5803cd54e89e7d7875d5847648e6019265e00c44e741e16e9e13287","866a4060991136808d3c325420d03e47f69405cb364395c65018affc0948fa9c","3d330974280dab5661a9a1bd00699daf81df36ad766c4f37283582894ffb15de","ad5a9d47bd9596164e00bc129f9eb8074ef1863812a679f57fa4af4833ad87ad","850e32fe7a5e300eb330562410011ffbc8843fbaa02fbe7562ff9bd860903b87","da57c088e67db8a5e9d84824fa773999a1b9162b54b2475ba9a41e336506fb35","654bf243ceac675b96807da90603d771546288b18c49f7deca5eebdcac53fd35","80aecf89123febc567973281d217209da5f5e1d2d01428d0e5d4597555efbf50","ed239ff502ac351b080cbc57f7fbd03ffdd221afa8004d70e471d472214d88c4","ec6a440570e9cc08b8ad9a87a503e4d7bb7e9597b22da4f8dfc5385906ec120a","0cfacd0c9299e92fcc4002f6ba0a72605b49da368666af4696b4abe21f608bb0","7cc93ff349774f09694f3876f4ccaeb6110638b1d523637672c061a72dc9f769","df2c9708aec11e8c271acbdfdc5d246db35abcdff5917ab032da29a2cd3f7891","bb871e5403f70b415aa8502df7f3086dfd7755395ef591706465ae3af6ff2918","8a98f6435239b5f20c98864ea28941d6fb30f1b84c88c05174ee94e9a6a83c50","614d5a3113da6375ed51c5ab4ee07c4b66aa71892596733db4e25fafbe7d264c","94a3f5e0914e76cdef83f0b1fd94527d681b9e30569fb94d0676581aa9db504d","dd96ea29fbdc5a9f580dc1b388e91f971d69973a5997c25f06e5a25d1ff4ea0a","294526bc0c9c50518138b446a2a41156c9152fc680741af600718c1578903895","24fbf0ebcda9005a4e2cd56e0410b5a280febe922c73fbd0de2b9804b92cbf1e","180a81451c9b74fc9d75a1ce4bb73865fefd0f3970289caa30f68a170beaf441","8a97c63d66e416235d4df341518ced9196997c54064176ec51279fdf076f51ef","87375d127c4533d41c652b32dca388eb12a8ce8107c3655a4a791e19fb1ef234","d2e7a7267add63c88f835a60072160c119235d9bda2b193a1eed2671acd9b52c","81e859cc427588e7ad1884bc42e7c86e13e50bc894758ad290aee53e4c3a4089","618c13508f5fedefa6a3ecf927d9a54f6b09bca43cdefa6f33a3812ad6421a9a","4152c3a8b60d36724dcde5353cbd71ed523326b09d3bbb95a92b2794d6e8690c","bf827e3329d86aeef4300d78f0ac31781c911f4c0e4f0147a6c27f32f7396efa","23034618b7909f122631a6c5419098fe5858cb1a1e9ba96255f62b0848d162f0","cb250b425ab81021045f6dc6a9a815e34a954dfaaec6e6c42a2980b0b2a74f9e","7a8fabc8c280dd5cc076910119ac51abfc6c54a62a7f06d34b44c0d740b70b72","e19e82d9834303b10cc49945c9d1e2f5349004bd7c8c4a1f0ae9b69be682fbc5","bea9a1eeca967c79b1faef469bf540f40924447c754435325185c53ee4d4a16b","3dd081747bc8aeef4d8e969aa9f0f14dfb2fd59c1d517087f7e55e22e042e52f","e0127fc5a1114a4d2c02ace6aa5fee5bdd083e0d757376b10cb5c55efa5c32e7","b8ca0d1c7753de4341ef04e4b70e45f6edc94f5135c70150c730c5eed94fbe59","3c2ee3ef559588b93daa9757e6169d1bcb898b0853cc46cb7aa76364286f9ad4","f9d5d369ca3d41bac562069c38aca068c73b33e9d76fa0f582459720d3423fe1","daf6ff3ec1d79aeddfb3c9aa3b6f4c892c4ec916a89de64a34306e193a96e3f5","2d24546cd9d78a7c269515eeb17a26a0b938acf216083447abdf8e67690b4dfb","ff60c866538314128f6f690f2908cf5a65095e35f15233f76d473da1affb06f4","4c1f82aa595ccf1ce285b2219b5c472cee8f4c9d21b2fe53d9be65654d12a893","9a851864e5702fa1f59d49855bbe667d77e61b0e1138675acd9933f57f9be311","e60c7cc07fa546681b94a3c3429953109740b6571c75ab311bbb65b7cfc4aa34","1c4b0377ec2cafcc03f4fd0b7a31911353d1055bb057c6176968fcb9091a2c6e","777eca614b04743e3900ec4ada7b9cdf683b633241f1aaafcf1b734f6117b66e","321dd9d26923aa978e1a50bcc7f4f70052c4962aad225fbd8626dd940b20d1a8","9bdbc6ca3f69f40e7ae6b4dbd8669a94ed9489d6485aef1c0cf5d3566c07a6e3","c71d2b68b06f475bed80f30d6939c654d72e25eb0f17801be90702676b622b93","5980b79a2109d3adc0799cdd493ff4815c29addfb9c1b30498280930de2a3b13","da2c4843c3dee4f24ccaaa9f116d42f57cd290134ed238327a1b5f461983679f","dafb34c287e807a22b3e64ce21e2f3d5f413f1e30456e6d4b3a26f9c1505156e","7c0b65b06fb17f8dfb4f6a477c6b0bdcb5ee16f96cf8abfef4ff2e7afc80339f","4c56e902472f6a81f5b8f1f861e529f59c1e4cbfc7f00d06165cd09433a28a08","3623d4b0c7c623dca50cce79573f6a01c11d13a8fcb5b30c7a6391fbb4a7aa71","7431f5f0053eb9e44fb4d5d5cdf28dc260a7672bca2f9d3848158146db838f7d","401d61bc33a34187a7aa10990b4f36af6bb4f6f527f5994dfbbf2396cdde2d3f","e91013ea9bf651a1671f143cc1cfb805afc80e954e18168f7ca1f1f38703e187","d88ced626bd310ed85d0ac8ca791eedafee719966e90a1b2f236585aa53879cd","f627bee86935ea5e53b2e5661cda0b6665929c2b94d927b34cd5c1e594d9324f","5ff3c49847d4c90f90a2b4261ddda4547a4f47e11077bfde70dbf405b945a049","f4ea03f4d64c61ab5c8a2820c41f42fda19524718f792728e0a84dfd20b4354e","bd8545e4b9d04073306186b84b75159735d59e1dd5b8a6b6c14a2e6bce5a9e67","eb3c569dd81b7760f94b8c1f6ce217dfa16031f69bac80aa239d4b26c0055854","6ebf0f470617ec60088d803831af387192fd93dd34825dfa62259fe943205db8","916c52e58c2c9979e8bd059be5f92a10cb20f9655eb094e3bb6897d9ae93d871","2431c62dfd244ad5e6fd66c4c99a4ce0800e5c4e7c0572867d761d4c138b2c64","41e1ecbcf32ff957c5837679945b45aa9ac5f838e002f3f9c03a41ee0ad21f8f","32d280360f1bcc8b4721ff72d11a29a79ac2cb0e82dde14eea891bf73ba98f9d","2cd24fbc2c91c225d496060f2f10d55f884e643f682bfb5c06aa51cbc305c10a","2c0fd18cb2bb9480ec62e27e68b75e7b122acf889a44792adfefdbb8d4e49e8c","dce9716ef6c5d132e2b09c4515729789924f9c58e1f689f9c5aaa96638bc4211","1bd7f5374f768d5e5273a1709ccd58e0385c919b23deb4e94e025cc72dcf8d65","02f593088e0ae995392f47d8d687d11546424094160ce774f779170863633244","daacc53a22e63862f7242fa2892a6eedabe6acfbb719a0679cf9d6d683594354","e5728d9a1984cf332f3448ba1c305ec31574891f2cd8be8e46f00cae65c0cdaf","b4d67cb4838857d7414b8747370e38ffd9ebc923c69e869e28e3bdfa665ca2f4","9abb27ea022e1501ba0f4b39dbc3c1590d366d9aa28e173c554057def0f1e71a","2e25d307d549a0c9747561a94b7560770d7b24228bf7fbf1662e4e75c1260f09","99c5f1252f64386c2ddc07940390ddf9963c1c86c34c5eb2b0f30e46a2ebcbf8","84a95efb80ca9a22aae6292851f7938c868531788f5642e5d5d072b49f04339d","3465de4b726ef8b0086152c595a86f933e924c93497a26a9229b7d2f4b16e658","e034171d6f1dfdfe4b48fcf2f0999674dcca2a26dddaa549ee09e0257aaf8ac7","79705e3ff7c446e8fc6c790f2488c33a86172145bd971699a064eb113ae41df3","e8f253cc2dbf00a6bfbba7c7b3865fe40525b0e35abb8bf19af2db1420bc84a5","4c2a5faeae52ba91f0e83284743737edede7b77293738612addee1a055ea3350","c3266287b632d5727e692bc576edebb5ebc7b24707de27c754bb863756b65216","c721cc3c773c100c95093d83a4043d920b89526ef2419f6c09d798e44f71b0d6","7e7f56e8878d4a77cafeadd1f3d60825aeb01091a4cfe54143b9c2a3807f9267","a1aa5bcbbe6eaddbc14e17a020e778cd34e1cd0393b8377888f0888b1100813e","94a9cd7d67d8ae287bd116fea490add19e184d4b837fbc7825498f9ecfe1984d","918ed074dc3599fddfb9da6cb065e6ebd70a0dfa124321fcb969a0351d59737a","070788067390f845ac76a4fa6eb10f3a104cf98cf61a5998d66c397245ee323a","fbe53071f73579a3a7e6ac5fdd09c8cbd096c9f2ce9398bd85652a6928ff3836","00318cdf78ac23d34c2736c2a0625faa0b47dd0886a1dd55db145bd979951df5","a1b1a7af82a753eba7b5892e3cea3cd3685bdadb42190a4a1c2afde96dc15812","6fba4aa6cbf51f7b9ba2039f115de2de9e2b59b5b71d7ca1a0ec6221fccb9e33","e6dfc68dfbb7331cc1bdc6a385fa36afd4da693116cc01463cfafc7d71e63852","84a3b9524b3c94b31a2cfb06717c9554c67cd2ebf05771e05ad409ec2dcd5a0d","04ed965b785fc7d3056548978b10013b6c63f757445d14ee4bc40b6a40125930","86030b2106cbfa126e1e538dada690a35b4e8f94abaa20d235b30443bf296de6","f589f2dc0b2d288459d0eecd352fa326de9b0f0412e3de7c61f057d5c10e529e","5e667bce88a9eebd4c517a9f85fef16f9882124dd8b776c8a1210999cc2c7eaf","40e1fbf1dbcb3d3257f50602975cdff1cb3f70c1ef247eb69594abdc601e990b","90e10886a001b0ad443c38bad1109d01f6fcf8e72b5b6b321975ff2402c90980","303807d880475383ef8592ebc6cfcc8930702af50bdee34a4be608425c944809","3f0f326e39e53977e0438bf80b47e1f6091c917f44703a60ce004cf174314100",{"version":"840fece17781db2f50329475f678f53faab9ba14094db6b28da9fe48d60c3120","signature":"25968406498783fd08ef401bb3a8256cbdbb70119e34830e238196da2c2b5576"},"5427d7d593e142cd95c6daea0689a802332d3042e17b8419ea7062247f3942b9","6f92a5bf677b3b3fabd5a747e49bd31aa2f65241dd3662024995cd3aabbb9699","aa32e32b07f388dd23729ff872206c5dd412277cf755211d4884e6e732396f84","8e4d1115ce0e2587a483b5b651784eacad7ec3d23719a6dd1c945037f8a6a9b5","b284aee1c660826b2f6131a8f6270b4148937c0dcd78a219e3aa7fe62ddb6cbc","71acd198e19fa38447a3cbc5c33f2f5a719d933fccf314aaff0e8b0593271324","11ce429297f25093809138886ff7f6ad71ff73a1ce81274a1d13d93e6fc6b31b","3e309dc850ccf887bb4e9abf049f1b0502b6a1e971e81bec5532944e8ff7425d",{"version":"cf53aff7c237d655b2b098ea1113816a632e1d25fd44c0f4559f473f1d93bf86","signature":"f723ebdb6591985645bdeff08069300fcca8a4048bb6e8687c67f0dcdbabe998"},"9a7e57d0fd96d133c9a71ce7431aa016d225d1c575d831649b42c291bf881363","8d0437926aef03c31d858d4a742a2eff9bbf4bbf667ea247b87cbe142d60f683","2ddccc8203822de877b0abab14ec095d49ab39fbc0d3bdcdb184d049f106a96f","d603b68e3ad00ba5beaccc14e9cba46c1fdf62bb92223377d1cdf6c4d985728d","69ae00177ffd7c3c881b3a7a0b70db361dc98cb3f397763ab7ed015a6566489d","284837d427d478e8f9f9d7eb8fe41edc909843147a882d20d91b7af8f1325177","f7d7701c9647251f69c897e418f81a4ac02db92de8964df906f0d152051eef5a","67d04ad6057a4cd67fbbf9d1afd28f0757a890c7653d04361877b74776a659b9","11dede0ada9f3d2b0baefd6266996b1730471cde608553bb2912ce0db3ddcb55","dc149be742a36e38f6f15873f6c9fb06d4329b3a3b5973305c88fc64f466d41d","e29d41eb174b4d54b67e979430e1285d4c299a4e88a01437111ce4db954778c6","58cd445df4a8023bc9745d3c63365f6e32ecb91e6b58e8b7efb53c67aabb4e1a","b4e4fb9a010230d14059b922e8bfa98d198e5d0e83bac13f5d82f5fede15dcd5","ba6ca16e63e545ccb8317a0107a0f0909a53fe7aa8dc1f04a719d4e070dd6819","0eca9db21fa3ff4874640e1bec31c03da0615462388c07e7299e1b930851a80c","962d43d10b27082be6586605480acd294b569c6b886eec252ac7d42adfee68b4","84888a8d76cd850e75dc8d2092303b319fdfb36fa4a769e967ce463e2b90cdb2","343efa64aad155f1097c45e58243ee9c0102f23697e817adf20cd29365035821","36d8011f1437aecf0e6e88677d933e4fb3403557f086f4ac00c5a4cb6d028ac2","9c2338fa109b3fbdfc1767c0d1c0f4c396a39895c7f778343f4c4b897843ed66","0ce26a97620df3601a7a7772f9bcda4f578aae8650264a2470df875daf01070c","da992eb96f72288d735f4dfabc92857a6437eb5eed2c0c75516d4e4a21c23e3a","6f161990b5a321a024e1f2c9b411a6558384b111ffff4ef6ca9aeec8fd1fe534","f4e8f4151c3490cf7b68c685aabe901cbab19f962aaa2f118a97550e22689a76","799003c0ab928582fca04977f47b8d85b43a8de610f4eef0ad2d069fbb9f9399","d998eea476c695d8e4ff9d007d5b46d49ca2ffa052f74dc20ca516425abd57b1","a0bd46d587005aad4819980f6cf2dbcd80ebf584ed1a946202326a27158ba70e","07fcbb61a71bd69a92a5bbde69e60654666cf966b5675c2010c3bf9f436f056a","88b2eb23d36692162f2bf1e50577ebcde26de017260473e03ed9a0e61e2726a4","23ffbd8c0e20a697d2ea5a0cf7513fb6e42c955a7648f021da12541728f62182","43fba5fc019a4ce721a6f53ddb97fdc34c55049cfb793bc544d5c864ee5560b9","f4e12292c9a7663a13d152195019711c427c552eb0fa02705e0f61370cd5547a","c127ebf14d1b59d1604865008fb072865c5ca52277621f566092fe1f42ce0954","def638da26d84825a312113a20649d3086861de7c06a18ea13121278702976fd","fbaf86f8ba11298dea2727ce0da84b4ab6ae6c265e1919d44aff7d9b2bbc578a","c1010caaeaca8e420c6e040c2e822dbe18702459c93a7d2d5de38597d477b8cd","e1f0d8392efd9d71f2644eb97d3f33d90827e30ea8051d93b6f92bb11dff520a","085211167559ca307d4053bb8d2298d5ad83cbc3d2ae9bb4c8435a4cabf59369","55fc49198d8a85a73cdb79e596d9381cfdc9de93c32c77d42e661c1c1e7268ef","6a53fb3df8dd32ed1a65502ca30aeae19cfe80990e78ba68162d6cb2a7fed129","b5dcc18d7902597a5584a43c1146ca4fe0295ceb5125f724c1348f6a851dd6ed","0c6b0f3fbe6eb6a3805170b3766a341118c92ed7b6d1f193b9f35aa82f594846","60eaadb36cf157c5cae9c40e84fa367d04f52a150db3920dbe35139780739143","4680a32b1098c49dc87881329af1e68af9af94e051e1b9e19fed555a786f6ce6","89fcd129ec37f321cddcdb6b258ffe562de4281e90ec3ccbe7c1199ba39359ca","4313011f692861c2c1f5205d7f9a473e763adab6444f9853b96937b187fb19f7","caa57157e7bdb8d5f1efe56826fb84a6c8f22a1927bba7fa21fd54e2a44ccba2","6b74700abfe4a9b88be957fd8e373cfd998efb1a5f6ad122da49a92997e183ad","9ef1342f193bd8bae86c64e450c3ac468ef08652110355e1f3cdd45362eb95c4","6853c91662c36a2bf4c8371a87177c819007c76a23c293ef3f686ce9157ae4c8","9be1c5dabce43380d13fc621100676b03d420b5687b08d1288f479bee68ab7a8","8996d218010896712678e6a0337d8ef8b81c1066ab76f637dd8253f0d6ff838d","a15603bf387fc45defe28a68f405a6c29105e135c4e8538eeb6d0a1ef5b69a81","84e2532e4d42949a2775cdd8bb7b2b97370dd6ddb683d0c199b21bf6978b152d","22bf5f19f620db3b8392cfece44bdd587cdbed80ba39c88a53697d427135bf37","23ebbd8d484d07e1c1d8783169c20570ed8409966b28f6be6cf8e970d76ef491","18b6fa2c778cad6489f2febf76433453f5e2432ec3535f2d45ae7d803b93cc17","609d0d7419999cf44529e6ba687e2944b2fc7ad2570d278fd4e6b1683c075149","249cf421b8878a3fe948d9c02f6b0bae65491b3bb974c2ffc612341406fa78ff","b4aa22522d653428c8148ddbf1dcc1fb3a3471e15eb1964429a67c390d8c7f38","30b2cee905b1848b61c7d28082ebfa2675dd5545c0d25d1c093ce21a905cdccc","0a2a2eed4137368735205de97c245f2a685af1a7f1bf8d636b918a0ee4ff4326","69f342ce86706aa2835a62898e93ea7a1f21b1d89c70845da69371441bb6cd56","b5ab4282affcfd860dd1cc3201653f591509a586d110f8e5b1b010508ba79b2c","d396233f6cd3edf0d33c2fbfc84ded029c3ea4a05af3c94d09d31a367cced111","bc41a726c817624a5136ae893d7aac7c4dc93c771e8d243a670324bccf39b02b","710728600e4b3197f834c4dd1956443be787d2e647a72f190bf6519f235aaadd","a45097e01ef30ba26640fed365376ab3ccd5faf97d03f20daff3355a7e60286a","763cbb7c22199f43fd5c2b1566af5ba96bf7366f125dd31a038a2291cbc89254","031933bf279b7563e11100b5e1746397caf3a278596796a87bc0db23cf68dc9e","a4a54c1f58fc6e25a82e2c0f651bf680058bd7f72cfb2d43b85ee0ab5fe2e87e","9613d789b6f1037f2523a8f70e1b736f1da4566b470593da062be5c9e13dac57","0d2a320763a0c9c71493f8f1069971018c8720a6e7e5a8f10c26b6de79aa2f7d","817e0df27a237a268dc16e5acffc19f9a74467093af7a0ba164ee927007a4d25","43102521b5ca50ff1865188c3c60790feaed94dc9262b25d4adec4dbc76f9035","f99947f8d873b960b0115e506ef9c43f4e40c2071b1d20375564538af4a6023b","c1e5ad5ca89d18d2a36d25e8ec105623648cf35615825e202c7d8295a49d61ab","2b6c9cb81da4e0a2e32a58230e8c0dec49fc5b345efb7f7a3648b98956be4b13","99e34af3ede50062dcc826a1c3ce2d45562060dfd0f29f8066381a6ef548bf2a","49f5c2a23ea5fc4b2cdb4426f09d1c8b83f8409fa2af13ef38845cc9b9d4bc3d","e935227675144b64ecde3489e4a5e242eeb25fdd6b7464b8c21ad1f7a0faa88b","b42e6bbe88dc79c2d6dc5605fb9c15184e70f64bdd7b8d4069b802b90ce86df6","b9cd712399fdc00fdae07e96c9b39c3cb311e2a8a5425f1bd583f13cab35e44b","5a978550ae131b7fef441d67372fd972abab98ea9fdb9fa266e8bdc89edcb8d6","4f287919cfc1d26420db9f0457cd5c8780b1ef0a9f949570936abe48d3a43d91","496b23b2fd07e614bc01d90dd4388996cb18cd5f3a612d98201e9f683e58ad2e","dcfbe42824f37c5fb6dc7b9427ef2500791ec0d30825ecb614f15b8d5bf5a667","390124ad2361b46bf01851d25e331cd7eed355d04451d8b2a4aa985c9de4f8ce","14d94f17772c3a58eda01b6603490983d845ee2012cd643f7497b4e22566aacb","03ef2386c683707ce741a1c30cb126e8c51a908aa0acc01c3471fafb9baaacd5","66a372e03c41d2d5e920df5282dadcec2acae4c629cb51cab850825d2a144cea","5b48ba9a30a93176a93c87f9e0abf26a9df457eeb808928009439ca578b56f27","4707625392316d3c16edbd0716f4ac310e8ff5d346d58f4d01a2b7e0533a23df","154d58a4b2d9c552dc864ea39c223d66efd0ed2dd8b55bd13db5225d14322915","6a830433fa072931b4ea3eb9aa5fa7d283f470080586a27bfe69837a0f12de9a","d25e930e181f4f69b2b128514538f2abb54ef1d48a046ad776ac6f1cda885a72","0259b4c21bc93b52ca82c755f97fc90481072bcc44a8010131b2ea7326cf03fe","bea43a13a1104a640da0cb049db85c6993f484a6cc03660496b97824719ecc91","0224239d61fe66d4900544d912b2e11c2cca24b4707d53fdb94b874a01e29f48","2bce8fd2d16a9432110bbe0ba1e663fd02f7d8b8968cd10178ea7bc306c4a5df","9c4ad63738346873d685e5c086acbf41199e7022eff5b72bb668931e9ca42404","cfb6329bf8ce324e83fe4bbdee537d866a0d5328246f149a0958b75d033de409","efc3816f19ea87a7050c84271ea3d3aad9631a517c168013c4f4b6724c287ce0","f99f6737336140047e8dd4ade3859f08331aa4b17bc2bd5f156a25c54e0febbc","12a2b25c7c9c05c8994adf193e65749926acfcc076381f7166c2f709a97bdf0a","0f93a3fdd517c1e45218cd0027c1d6b82237e379dc6b66d693aab1fe74c82e81","03c753da0bee80ad0d0f1819b9b42dfe9bf9f436664caf15325aa426246fd891","18f5bf1dae429c451f20171427c9e3223fade4346af4dfd817725cbeb247a09d","a4eece5fab202e840dd84f7239e511017a8162edb8fc8b54ff2851c5c844125c","c4a94af483a63bf947d89f97553a55df5107c605ec8a26f0b9b8bdcc14bd6d89","19de2915ccebc0a1482c2337b34cb178d446def2493bf775c4018a4ea355adb8","9be8fc03c8b5392cd17d40fd61063d73f08d0ee3457ecf075dcb3768ae1427bd","3b568b63f0e8b3873629a4d7a918dce4266ad41461004ab979f8dcdfd13532bb","a5e5223c775fe30d606b8aaa521953c925d5ad176a531c2b69437d2461aaabbd","8cbf41d2d1ce8ac2066783ae00613c33feef07493796f638e30beaf892e4354a","e22ad737718160df198cd428f18da707177d0467934cecdeed4be6e067b0c619","15bf5ed8cb7c1a1e1db53fa9b45bc1a1c73c0497735343a8d0c59fdb596a3744","791fce84bce8b6948e4f23422d9cbbd7d08c74b3f91cca12dcae83d96079798b","8a2619c8e24305f6b9700b35af178394b995dcb28690a57a71cca87ee7e709ae","f95fd2fc3cc164921a891f5d6c935fa0d014a576223dd098fc64677e696b0025","8c9cecaaa9caba9a8caa47f46dcf24b524b27899b286d8edcc75a81b370d2ba3","2b7a82692ecc877c5379df9653902e23f2d0d0bc9f210ec3cf9e47be54413c5c","e2ad09c011cf9d7ee128875406bef787eeb504659495f42656a0098c15fe646c","eb518567ea6b0b2623f9a6d37c364e1b1ac9d8b508d79e558f64ac05c17e2685","630a48fb8f6b07161588e0aee3f9d301c59c97e1532c884118f89368baf4073b","14736c608aa46120f8d6d0bc5e0721b46b927bc7eba20e479600571935f27062","7574803692d2230db13205a7749b9c3587dccaccdf9e76f003f9e08078bb6d09","f3cc1588e666651c51353b1728460bee8acbc6e0f36be8c025eaaf292dca525d","0d4ea8a20527dcf3ad6cf1bd188b8ad4e449df174fad09b9e540ed81080af834","aa82876d59912d25becff5a79ed7341af04c71bfeb2221cc0417bc34531125e2","6f4b0389f439adc84cba35d45428668eabcfbdd351ba17e459d414ca51ab8eb8","d5dd33d15fbb07668c264b38065ac542a07a7650af4917727bbc09b58570e862","7d90202d0212e9cdc91a20bfddf04a539c89f09fe1d64db3343546fa2eb37e71","1a5d073c95a3a4480b17d2fa7fd41862a9df0cb2afaee86834b13649e96bdb45","2092495a5b3116c760527a690c4529748f2d8b126cdd5f56b2ce2230b48aba3f","620b29d6adbd4061bc0a8fedf145fcc8e8fc9648fb6e0a39726e33babb4e07bc","931eda51b5977f7f3fa7a0d9afde01cfd8b0cc1df0bb66dcf8c2cf6e7090384e","b084a412374bdd124048c52c4e8a82d64f3adec6c0a9ad5ecbb7317636039b0f","11199daa694c3ced3cc2a382a3fa7bd64e95eb40f9bbc3979fc8fb43f5ba38cc","2c86f279d7db3c024de0f21cd9c8c2c972972f842357016bfbbd86955723b223","dfb53b9d748df3e140b0fddb75f74d21d7623e800bb1f233817a1a2118d4bb24","8cfc293b33082003cacbf7856b8b5e2d6dd3bde46abbd575b0c935dc83af4844","7730c538d6d35efe95d2c0d246b1371565b13037e893178033360b4c9d2ac863","b256694544b0d45495942720852d9597116979d52f2b53c559fda31f635c60df","794e8831c68cc471671430ee0998397ea7a62c3b706b30304efdc3eaff77545a","9cfc1b227477e31988e3fb18d26b6988618f4a5da9b7da6bc3df7fc12fb2602e","264a292b6024567dd901fdabbf3239a8742bea426432cdbda4cf390b224188e1","f1556a28bb8e33862dcfa9da7e6f1dca0b149faf433fe6a50153ae76f3362db1","1d321aea1c6a77b2a44e02e5c2aeff290e3f1675ead1a86652b6d77f5fea2b32","4910efc2ce1f96d6e71a9e7c9437812ffae5764b33ab3831c614663f62294124","e3ceab51a36e8b34ab787af1a7cf02b9312b6651bac67c750579b3f05af646c1","baf9f145bcee1b765bed6e79fd45e1ff0ca297a81315944de81eb5d6fff2d13d","2afd62362b83db93cd20de22489fe4d46c6f51822069802620589a51ccad4b99","9f0cd9bd4ab608123b88328c78814738cbdee620f29258b89ef8cd923f07ff9c","801186c9e765583c825f28dab63a7ad12db5609e36dc6d9acbdc97d23888a463","96c515141c6135ccd6fb655fb9e3500074a9216ba956fb685dc8edc33f689594","416af6d65fc76c9ced6795f255cb1096c9d7947bede75b82289732b74d902784","a280c68b128ebba35fb044965d67895201c2f83b6b28281bb8b023ade68bf665","6fa118f15723b099a41d3beea98ed059bcd1b3eda708acf98c5eff0c7e88832f","dcbf582243e20ea50d283f28f4f64e9990b4ed4a608757e996160c63cff6aa99","efa432d8fd562529c4e9f859fd936676dd8fef5d3b4bedb06f754e4740056ea9","a59b66720b2ccf2e0150fafb49e8da8dabdf4e1be36244a4ccd92f5bd18e1e9e","c657fb1ec3b727d6a14a24c71ea20c41cb7d26a503e8e41b726bb919eb964534","50d6d3174868f6e974355bf8e8db8c8b3fcf059315282a0c359ecf799d95514a","86bf79091014a1424fc55122caa47f08622b721a4d614b97dd620e3037711541","7a63313dff3a57f824a926e49a7262f7bd14e0e833cf45fa5af6da25286769c2","36dcaeffe1a1aed1cb84d4feba32895bf442795170edccc874fa32232b2354e5","686c6962d04d90edafc174aa5940acb9c9db8949c8d425131c01d796cf9a3aef","2b1dbc3d5762d6865744b6e7be94b8b9004097698c37e93e06983e42dd8fe93b","eb5e8f74826bdf3a6a0644d37a0f48133f8ad0b5298cc2c574102868542ba4eb","c6a82a9673ba517cf04dd0803513257d0adf101aed2e3b162a54d840c9a1a3b2","fc9f0f415abaa323efcecc4a4e0b6763bfe576e32043546d44f1de6541b6399b","2c4d772ac7ac56a44deef82903364eb7c78dd7bc997701123df0ce4639fe39bb","9369ef11eed17c1c223fdea9c0fa39e83f3722914ef390b1448db3d71620c93a","aa84130dbc9049bba6095f87932138698f53259b642635f6c9e92dd0ddc7512c","084ceadd21efabd4b58667dca00d4f644306099151d2ee18cd28a395855b8009","b9503e29f06c99b352b7cae052da19e3599fa42899509d32b23a27c9bb5bebf6","75188920fe6ccc14070fe9a65c036049f1141d968c627b623d4a897ec3587e15","e2e1df7f45013d2b34f8d08e6ae5a9339724b0ea251b5445fcca3e170e640105","af06feb5d18a6ea11c088b683bdb571800d1f76b98d848eecdf41e5ec8f317fd","0596af52b95e0c8adc2c07f49f109d746b164739c5866fa8bb394dd6329a3725","c3365d08fe7a1ccc3b8e8638edc30123007f3241b4604e2585b9f14422ab97d8","a7a3d96b04bb0ec8cb7d2669767c4756f97dd70d08548f9e6522dde4de8e8a03","745e960e885a4ba04c872225cbb44bd67a7490d169ceaefab7c0dfc444768676","0b1ce1768cde3535493a9daf99e3bbb8c7dcc3a7f9d8cd358cb846af71ce5cdf","48b9603f6e8a7c94b727277592a089f94261baa64e6c9d18165da0481663a69e","3c20a3bb0c50c819419f44aa55acc58476dad4754a16884cef06012d02b0722f","4dc64902cb86e677a928293593658fbf53388f9a30d2b934140c70a7267b07ec","cb4fd56539a61d163ea9befe6b0292c32aa68a104c1f68f61416f1bc769bcfba","0d852bdc2b72b22393a8eebe374ee3efe3e0d44e630037b5e1b6087985388e62","b6c9a2deefb6a57ff68d2a38d33c34407b9939487fc9ee9f32ba3ecf2987a88a","f6b371377bab3018dac2bca63e27502ecbd5d06f708ad7e312658d3b5315d948","faa72893e85cb8ebb1dafde6b427e5204e60bb5f3ee6576bb64c01db1f255bc8","95b7ed47b31a6eaddcdd853ee0871f2bb61e39ce36a01d03dfafb83766f6c10c","19287d6b76288c2814f1633bdd68d2b76748757ffd355e73e41151644e4773d6","fc4e6ec7dade5f9d422b153c5d8f6ad074bd9cc4e280415b7dc58fb5c52b5df1","3aea973106e1184db82d8880f0ca134388b6cbc420f7309d1c8947b842886349","765e278c464923da94dda7c2b281ece92f58981642421ae097862effe2bd30fa","de260bed7f7d25593f59e859bd7c7f8c6e6bb87e8686a0fcafa3774cb5ca02d8","d95c4eaad4df9e564859f0c74a177fa0b2e5f8a155939b52580566ab6b311c3f","7192a6d17bfa06e83ba14287907b7c671bef9b7111c146f59c6ea753cfc736b9","5156d3d392db5d77e1e2f3ea723c0a8bd3ca8acffe3b754b10c84b12f55a6e10","a6494e7833ee04386a9f0c686726f7cb05f52f6e069d9293475ccb1e791ee0da","d9af0c89a310256851238f509a22aa1071a464d35dc22ea8c2a0bae42dd81bc5","291642a66e55e6ca38b029bc6921c7301f5c7b7acf21ae588a5f352e6c1f6d58","43cd7c37298b051d1ce0307d94105bcd792c6c7e017282c9d13f1097c27408e8","e00d8cce6e2e627654e49c543b582568ad0bf27c1d4ad1018d26aff78d7599df","ed13354f0d96fb6d5878655b1fead51722b54875e91d5e53ef16de5b71a0e278","fcb934d0fcdee06a8571bd90aa3a63aa288c784b3ebcecfe7ae90d3104d321f4","af682dfabe85688289b420d939020a10eb61f0120e393d53c127f1968b3e9f66","0dca04006bf13f72240c6a6a502df9c0b49c41c3cab2be75e81e9b592dcd4ea8","7dc0b5e3d7be8e1f451f0545448c2eaa02683f230797d24434b36f9820d5a641","247af61cdc3f4ec7876b9e993a2ecdd069e10934ff790c9cee5811842bff49eb","4be8c2c63d5cd1381081d90021ddfaef106881df4129eddeeaba906f2d0f75d0","012f621d6eb28172afb1b2dc23898d8bc74cf35a6d76b63e5581aa8e50fa71b3","3a561fa91097e4580c5349ce72e69d247c31c11d29f39e1d0bd3716042ff2c0b","bc9981a79dda3badea61d716d368a280c370267e900f43321f828495f4fef23c","2ed3b93d55aea416d7be8d49fe25016430caab0fe64c87d641e4c2c551130d17","3d66dfc31dd26092c3663d9623b6fc5cec90878606941a19e2b884c4eacd1a24","6916c678060af14a8ce8d78a1929d84184e9507fba7ab75142c1bcb646e1c789","3eea74afae095028597b3954bde69390f568afc66d457f64fff56e416ea47811","549fb2d19deb7d7cae64922918ddddf190109508cc6c7c47033478f7359556d2","e7023afc677a74f03f8ccb567532fe9eedd1f5241ee74be7b75ac2336514f6f6","ff55505622eac7d104b9ab9570f4cc67166ba47dd8f3badfb85605d55dd6bdc9","102fac015b1eebfa13305cb90fd91a4f0bbcabb10f2343556b3483bbb0a04b62","18a1f4493f2dbad5fd4f7d9bfba683c98cf5ed5a4fa704fa0d9884e3876e2446","f57e6707d035ab89a03797d34faef37deefd3dd90aa17d90de2f33dce46a2c56","cc8b559b2cf9380ca72922c64576a43f000275c72042b2af2415ce0fb88d7077","1a337ca294c428ba8f2eb01e887b28d080ee4a4307ae87e02e468b1d26af4a74","310fe80ff40a158c2de408efbe9de11e249c53d2de5e33ca32798e6f3fbc8822","d6ce96c7bb34945c1d444101f44e0f8ba0bba8ab7587a6cc009a9934b538c335","1b10a2715917601939a9288d49beccd45b591723256495b229569cd67bbe48a8","7498dfdeed2e003ec49cdf726ff6c293002d1d7fdadbc398ce8aafe6d0688de7","8492306a4864a1dc6fc7e0cc0de0ae9279cbd37f3aae3e9dc1065afcdc83dddc","9c86abbc4fd0248f56abc12aaecd76854517389af405d5ec2eb187fdb00a606f","9ffd906f14f8b059d6b95d6640920f530507e596e548f7a595da58ab66e3ce76","1884bccc10ce40adca470c2c371c1c938b36824f169c56f7f43d860416ca0a4c","986b55b4f920c99d77c1845f2542df6f746cb5adc9ab93eb1545a7e6ef37590d","cd00906068b81fbd8a22d021580ac505e272844408174520fafed0ae00627a5d","69fab68a769c17a52a24b868aeb644f3ee14abaa5064115f575ddd59231105ce","e181eb86b2caf80fe18c72efce6b913bc226e4a69a5456eaf4f859f1c29c6fd6","93f7871380478bc6acf02ad9f3dc7da0c21997caebbe782eb93a11b7bd06a46d","d00279ab020713264f570d5181c89ca362b7de8abddf96733de86bce0eca082c","f7db473f1d5d2a124f14886ac9dbfeccfbb94a98bbe1610a47c30c2933afa279","f44cf6c6d608ef925831e550b19841b5d71bd87195bd346604ff05644fb0d29c","154f23902d7a3fcdace4c20b654da7355fee4b7f807d1f77d6c9a24a8756013a","562f4f3c75a497d3ad7709381f850bb8c7646a9c6e94fdf8e91928e23d155411","4583380b676ee59b70a9696b42acfa986cd5f32430f37672e04f31f40b05df74","ad0a13f35a0d88803979f8ea9050ad7441e09d21a509abf2f303e18c1267af17","ba9781c718ab3d09cbde1216029072698d2da6135f0d2f856ba387d6caceb13e","d7c597c14698ba5fc8010076afa426f029b2d8edabb5073270c070cc645ba638","bd2afc69cf1d85cd950a99813bc7eff007d8afa496e7c2142a845cd1181d0474","558b462b23ea186d094dbff158d652acd58c0988c9fd53af81a8903412aa5901","0e984ae642a15973d652fd7b0d2712a284787d0d7a1db99aa49af0121e47f1df","0ad53ee208a23eef2a5cb3d85f2a9dc1019fd5e69179c4b0c02dc56c40d611c4","7a6898b26947bd356f33f4efef3eb23e61174d85dca19f41a8780d6bb4bfb405","9fe30349d26f34e85209fb06340bac34177f7eae3d6bb69dc12cd179d2c13ddf","d568c51d2c4360fd407445e39f4d86891dba04083402602bf5f24fd3969cacbb","b2483a924349ec835f4d778dd6787447a2f8bfbb651164851bff29d5b3d990a6","aae66889332cff4b2f7586c5c8758abc394d8d1c48f9b04b0c257e58f629d285","0f86c85130c64d6dbe6a9090bb3df71c4b0987bce4a08afe1ac4ece597655b9c","0ce28ad2671baed24517e1c1f4f2a986029137635bce788ee8fb542f002ac5b8","cd12e4fe77d24db98d66049360a4269299bcfb9dc3a1b47078ab1b4afac394cb","1589e5ac394b2b2e64264da3e1798d0e103b4f408f5bae1527d9e706f98269c7","ff8181aa0fde5ec2d737aecc5ebaa9e881379041f13e5ce1745620e17f78dcf9","0b2e54504b568c08df1e7db11c105786742866ba51e20486ab9b2286637d268f","bc1ffc3a2dca8ee715571739be3ec74d079e60505e1d0d2446e4978f6c75ba5c","770a40373470dff27b3f7022937ea2668a0854d7977c9d22073e1c62af537727","a0f8ce72cb02247a112ce4a2fa0f122478a8e99c90a5e6b676b41a68b1891ad2","6e957ea18b2bf951cf3995d115ad9bfa439e8d891aeb1afc901d793202c0b90d","a1c65bd78725f9172b5846c3c58ddf4bcbb43a30ab19e951f0102552fbfd3d5d","04718c7325e7df4bac9a6d026a0a2bd5a8b54501f274aaf93a03b5d1d0635bd1","405205f932d4e0ce688a380fa3150b1c7ff60e7fc89909e11a33eab7af240edb","566fc1a6616a522f8b45082032a33e6d37ff7df3f7d4d63c3cce9017d0345178","3b699b08db04559803b85aa0809748e61427b3d831f77834b8206e9f2ed20c93","b27242dd3af2a5548d0c7231db7da63d6373636d6c4e72d9b616adaa2acef7e1","e0ee7ba0571b83c53a3d6ec761cf391e7128d8f8f590f8832c28661b73c21b68","072bfd97fc61c894ef260723f43a416d49ebd8b703696f647c8322671c598873","e70875232f5d5528f1650dd6f5c94a5bed344ecf04bdbb998f7f78a3c1317d02","8e495129cb6cd8008de6f4ff8ce34fe1302a9e0dcff8d13714bd5593be3f7898","8079d851ffa1dbe193fe36643b3d67f4fdf8d360df4c900065788eff44bc15a7","1093e85516e04f669e7e20afee4230e8fc7bbd251201845aa102190aab4ce41c","e516240bc1e5e9faef055432b900bc0d3c9ca7edce177fdabbc6c53d728cced8","5402765feacf44e052068ccb4535a346716fa1318713e3dae1af46e1e85f29a9","e16ec5d4796e7a765810efee80373675cedc4aa4814cf7272025a88addf5f0be","1f57157fcd45f9300c6efcfc53e2071fbe43396b0a7ed2701fbd1efb5599f07f","9f1886f3efddfac35babcada2d454acd4e23164345d11c979966c594af63468b","a3541c308f223863526df064933e408eba640c0208c7345769d7dc330ad90407","59af208befeb7b3c9ab0cb6c511e4fec54ede11922f2ffb7b497351deaf8aa2e","389b7dbcf9e17473de7b1a0af368a5b881573f0d1ff4ff508dbf854e95ffa21d","c25af9b9fc03f806f8be4d0c6361d6cfd8168ea8a78be7e128031647148b1d12","39e0da933908de42ba76ea1a92e4657305ae195804cfaa8760664e80baac2d6a","55ce6ca8df9d774d60cef58dd5d716807d5cc8410b8b065c06d3edac13f2e726","788a0faf3f28d43ce3793b4147b7539418a887b4a15a00ffb037214ed8f0b7f6","a3e66e7b8ccdab967cd4ada0f178151f1c42746eabb589a06958482fd4ed354e","bf45a2964a872c9966d06b971d0823daecbd707f97e927f2368ba54bb1b13a90","39973a12c57e06face646fb79462aabe8002e5523eec4e86e399228eb34b32c9","1deece6413d2726b1505496a88a0c0934975471f80c092ce637faa42d8c4f89b","b3e87824c9e7e3a3be7f76246e45c8d603ce83d116733047200b3aa95875445b","7e1f7f9ae14e362d41167dc861be6a8d76eca30dde3a9893c42946dc5a5fc686","9308ef3b9433063ac753a55c3f36d6d89fa38a8e6c51e05d9d8329c7f1174f24","cd3bb1aa24726a0abd67558fde5759fe968c3c6aa3ec7bad272e718851502894","1ae0f22c3b8420b5c2fec118f07b7ebd5ae9716339ab3477f63c603fe7a151c8","919ff537fff349930acc8ad8b875fd985a17582fb1beb43e2f558c541fd6ecd9","4e67811e45bae6c44bd6f13a160e4188d72fd643665f40c2ac3e8a27552d3fd9","3d1450fd1576c1073f6f4db9ebae5104e52e2c4599afb68d7d6c3d283bdbaf4f","c072af873c33ff11af126c56a846dfada32461b393983a72b6da7bff373e0002","de66e997ea5376d4aeb16d77b86f01c7b7d6d72fbb738241966459d42a4089e0","d77ea3b91e4bc44d710b7c9487c2c6158e8e5a3439d25fc578befeb27b03efd7","a3d5c695c3d1ebc9b0bd55804afaf2ac7c97328667cbeedf2c0861b933c45d3e","270724545d446036f42ddea422ee4d06963db1563ccc5e18b01c76f6e67968ae","85441c4f6883f7cfd1c5a211c26e702d33695acbabec8044e7fa6831ed501b45","0f268017a6b1891fdeea69c2a11d576646d7fd9cdfc8aac74d003cd7e87e9c5a","9ece188c336c80358742a5a0279f2f550175f5a07264349d8e0ce64db9701c0b","cf41b0fc7d57643d1a8d21af07b0247db2f2d7e2391c2e55929e9c00fbe6ab9a","11e7ddddd9eddaac56a6f23d8699ae7a94c2a55ae8c986fdabc719d3c3e875a1","dd129c2d348be7dbf9f15d34661defdfc11ee00628ca6f7161bead46095c6bc3","c38d8e7cfc64bbfc14a63346388249c1cfa2cc02166c5f37e5a57da4790ce27f","9017e9bcdc69a8f98d24cb273c76890b5cde375c722c76a3e8ebedf4c8ee6444","c3338d996ada02844323754da51658e7180769e21f47a88878cc02c3995a96a3","1c3dfad66ff0ba98b41c98c6f41af096fc56e959150bc3f44b2141fb278082fd","432a61971738da04b67e04e08390ac124cc543479083709896b2071d0a790066","1ba55e9efbea1dcf7a6563969ff406de1a9a865cbbdaea2714f090fff163e2b5","eb9271b3c585ea9dc7b19b906a921bf93f30f22330408ffec6df6a22057f3296","f9f61a838f9246515aa4fed5940322f2cfc8e345eb32243f4fbacccba3479fbf","42ab028dd35dc961470612a78ba1c9d040ea8ff01486634021c0bb7d3d000a0f","da4c1cb1f66776c48f09181a8c042e714b43f54f704da01e7fe244805df029fa","a99a3bae716063e38c83b23fafc1a55e9cb45d5434c7286014fb3f89be692fa8","9085584ae1a83f8189c66a6d602a2b009284d9d23cadb50e222fef24946f7a95","6293b17eddf1c852ae4e76010e60ea3d465ef35cd3025456e8c2226f2fc1ffc7","790adee5f56f61596eed1a76fb068563d4d374a439a5a835f4bd029d50c3491b","57c7878c13e1d87d84c1480ff4ad07a60cf2bf8a3280c5500642dad7789050a3","a3b3a1712610260c7ab96e270aad82bd7b28a53e5776f25a9a538831057ff44c","fde31d22a31abdc2757e3ad3df718bde226a02946a3ae7e742b18fa324d4c54c","d5a4fca3b69f2f740e447efb9565eecdbbe4e13f170b74dd4a829c5c9a5b8ebf","56f1e1a0c56efce87b94501a354729d0a0898508197cb50ab3e18322eb822199","deb0d672b4caa205a0c77f4186b08f49c6c6b5c807540e4d2e0a209304ed74f6","4f65463e30ed09f5dbcc5f131c6a45afd3d920a7b3924d7f042663267e7fbbea","7274356dc6444446b572cf720e2c02f67bb16cc3f6fdcfdfbf57de5202bb2649","f94362be0203351e67499c41bd1f3c91f4dabf6872e5c880f269d5ad7ffda603",{"version":"75bc851da666e3e8ddfe0056f56ae55e4bd52e42590e35cbe55d89752a991006","affectsGlobalScope":true},"c60b14c297cc569c648ddaea70bc1540903b7f4da416edd46687e88a543515a1","e4ef275feade16c78bef2759af5b0f8ce57b882ff8afb67fa44666af39cf361a","a1c3779e363276ba41c2fc9034b5c2eca68f499971b82c6e98eeb73f61908d8b","fef9539cbffc7c087854d032aa5fe82142f1905d5a9db6b6661cb006d2276081","50bf58c0c6b1bd26359f8428db27fe1936708f83aa7cfc5794092fe1cd739fa6","0ed552ce80c7d0cf4cb6985ca53f6174517b7c2afe11912f80e0451569aec2ee","771d81449a42adbf792493e8f6b007499c154b49c97b16fc6504deeb64e2f247","9cc1557da84880050482140fbf0bf7951d2cc457c02e13502147a8ea0f752222","0149c8c1a290b65d6f955867b2a4d2d02b7ace13ed365d7ec6410469449e2717","6ac1675ed559eff0e8aa14a14b224c681871d3f8e68acfb50c42164b72beadc2","3635def0a5db8a89e47833255cd794b4cd68c4f1d935d4c1db868fff0d20dff5","8438f12dddf4224e606317753cfce80385ce1104e314486f72b154b31ec53129","42a82398b273a7394af9c1dfdaaf183b48bb1947931e822541d4918764d6ef20","d8f5d4f2aff38491b9d0dfde04a98ac2792f59a9e710d3f6033cff23e9154f31","3cf494506a50b60bf506175dead23f43716a088c031d3aa00f7220b3fbcd56c9","b1b3b7a3c752ca985f6b09c593d00385808884459783ebcdfe4122a9fa360df8","97530eae471f905dd4c493ec96aab7a3337b1f1a387e16d49f44ed8be2d63edf","4699f3859df619dc6f27262aec14c863dbc612ed80b3e3281968079c3b9467b5","f9ab6aaf703ee2a8fad56b4755d79c4cc3b1620fbdbb0fecd538137249ca99ac","8ba7dabf8dc7b23ac1eee9f57380a8cf013ba429b5e62a3e5dc8526befd15cb9","6274f91193b49939451450dd3ae9853f42ee9ba6a33fc8035967625b01f16267","39828e003373503c579854007419eae48fe4b7e16798e667848383293ec5c49f","262074e00915c234c1af0d5fdacc7c9fd7b35605bb45060c1a87f8ef9690e5d4","df3dca66f34e948593e88b5048ff9f201575a2c6f153354330e832641160c8d8","7b1dab45d6bd9dc6b65466ad1e69e8b05e06bc9b2431ee48be53ba52a9bea600","059bd2240c4e0d64699cdd485d58c3e426becb28329f6827f33925afd245d1f6","10710b3c797fab6f9f79ab8165efd62c4229d4b54f0bce7401311acb457e2c26","44c1a26f578277f8ccef3215a4bd642a0a4fbbaf187cf9ae3053591c891fdc9c","6edd5553fe74e2a27586cd9dc19cd696bd8ec7eb5dc38fcc320ace561eef9f76","f65b8fa1532dfe0ef2c261d63e72c46fe5f089b28edcd35b3526328d42b412b8","1cf1e1e0002de1dcb2b5de2349e3d4bf8b3b16b169eca34a3be69b55f9ef960c","5919f587006302199f8ebd13845f62c8205429f0f1b795d2602112fe5adbe017","88864800705e35c8a11f2e5c43f841555ee49b584ce53907a997cbc24f9c1f5a","e39c4f60db93b42e1d959518502597cf132c76c6213afae3231bd5206a1231fc","373540518297635e353d6d5329d2ffe31299194135e5df1d8cfa87fb00ab7c4c","fc7f9c8676a128e870e8f476a97da1651e4793bccef5fb3ab263386daa967549","1331273a7652f896917a1cf9725e2378c2b0ba8c3f8477d1ed1f75fd09341614","d093c8f7302bac66a19d9554b50bc672a1369ecfa8b13de4fed4e15524a01428","7648dfb5f6802f8590a39f828affe2fcdb5a30d3b85e48d19826bd74e48207e6","3fe54e8a1314d95af7a9ff5c24975b6b8c55b923838ae926af8f4b6e6d8f8473","5d9e4935d6625baec16e1bfdcdc107f32640fdb474ad5875440cc4d3fd9096c4","f2a89a264bce226e9a76bd56b201a7407c921a60bb23998c103015fae7b6643e","33e608d19c096b0431304bc1dd3c4fc3a73c0d53416276bfecf0b41402a6f296","88f60ec524c9a4bddf2e395b4d8bca4b5a3befe67d37564cbe514a7861b03346","7920a10cfd5980f5ed0a5e03c7836c5b3d4706916bc619b3beb8fa9b7ac9914d","214dc4f7c7b99db6cf9a6f3a247d38a4e4a22e8ab8cfbbe9f886d229226606b0","dd6051c7b02af0d521857069c49897adb8595d1f0e94487d53ebc157294ef864","79c6a11f75a62151848da39f6098549af0dd13b22206244961048326f451b2a8","21fcbe0801b08659af90e7b609c7649e9e6d784e72edf94cfc90c78038368c0f","8ce5238de425a6f0a41e6f72608a6cb96cdceee81c7e9df8d0a2ee773e05c64f","35ff2274fe90d25d2b85adfae48490cfd1be6b139352f8982e8cf33215e8b2da","6b98bd8d87f15c2ec66a98f66bb2f3f676e2811873612100aca6c66d4ee0651e","5dc4b28d92018055827cdacc57c002cba55ad2dd55dc95098f7684e9fbd016ec","6552460efe3df85dc656654231b75161e5072fc8ae0d5d3fd72d184f1d1f9487","fcbed278dcc536e0762684323d7fd4fb19b58aae6bc370a825d0872b4cfbd810","e68cefe327be0e10ee06cf6b7a8c0f11271640333d1582c2176741896aade369","dd251a6e4b7330067b6564cee997bd93f225c34b9dd264d78a2f7d173e49c929","210a3af986f5bc11180fdc6f85fefd5f03f904379df575391f69292ed6316f70","efb08d2d263d9889f9c4f76f7101b466a90032209dbd82409504a6c76d131993","dce6eafe749c5b3a27f33d0380f3f6926a4f4413c77e6a157918c059c399cf29","014dd91ad98c7e941c5735ce0b3e74d119a3dd5d9109bb5261dc364a168b21f0","4fed04fa783719a456801c031bbdeb29ef5cb04008c7adb55afac749327cd670","86914afb946c5e63e58c1a5529c277e2ce82c34dd381c52f01d17ac0b8a80bc8","ad3362b8881ffb0d53ad3dd902f6eba9381f407d5682d354f1a0745d8ae0005e","b15899ea2ab2c6cfa35b76104636739acb93d3ce8068ab12fe44a0916bc6e582","9ff8f846444ceccae61b3b65f3378be44ac419328430afc7cfd8ee14a0cb55f5","0b7613aaafd0a3c73b39ef44248c391be81cc7a72caac7340c3ca5c50a7228b1","91b4ce96f6ad631a0a6920eb0ab928159ff01a439ae0e266ecdc9ea83126a195","e3448881d526bfca052d5f9224cc772f61d9fc84d0c52eb7154b13bd4db9d8b2","e348f128032c4807ad9359a1fff29fcbc5f551c81be807bfa86db5a45649b7ba","42f4d7040a48e5b9c9b20b5f17a04c381676211bdb0b5a580a183cf5908664be","ad4d2c881a46db2a93346d760aa4e5e9f7d79a87e4b443055f5416b10dbe748c","c2fc483dea0580d1266c1500f17e49a739ca6cfe408691da638ddc211dfffad0","7c31a2b77ae042fb1f057c21367e730f364849ae8fa1d72f5a9936cef963a8b2","650d4007870fee41b86182e7965c6fb80283388d0ba8882ce664cc311a2840b5","67c8b8aeafe28988d5e7a1ce6fe1b0e57fae57af15e96839b3b345835e3aed9c","c16c3b97930e8fbf05022024f049d51c998dd5eb6509047e1f841777968e85c1","b512c143a2d01012a851fdf2d739f29a313e398b88ac363526fb2adddbabcf95","535b2fc8c89091c20124fe144699bb4a96d5db4418a1594a9a0a6a863b2195ae","dd5165bf834f6e784b4aad9fae6d84307c19f140829e4c6c4123b2d1a707d8bd","7ee6cd3fbeb95b580c5447f49129a4dc1604bfc96defe387a76f96884d59f844","21575cdeaca6a2c2a0beb8c2ecbc981d9deb95f879f82dc7d6e325fe8737b5ba","33398d82c7ed8379f358940786903643fbaa0121e3b589a2a9946b5e367d73b5","faba53dda443d501f30e2d92ed33a8d11f88b420b0e2f03c5d7d62ebe9e7c389","3eb7d541136cd8b66020417086e4f481fb1ae0e2b916846d43cbf0b540371954","9ff4b9f562c6b70f750ca1c7a88d460442f55007843531f233ab827c102ac855","4f4cbbada4295ab9497999bec19bd2eea1ede9212eb5b4d0d6e529df533c5a4b","cf81fae6e5447acb74958bc8353b0d50b6700d4b3a220c9e483f42ca7a7041aa","92f6f02b25b107a282f27fde90a78cbd46e21f38c0d7fc1b67aea3fff35f083e","479eec32bca85c1ff313f799b894c6bb304fdab394b50296e6efe4304d9f00aa","27c37f4535447fb3191a4c1bd9a5fcab1922bec4e730f13bace2cfa25f8d7367","3e9b3266a6b9e5b3e9a293c27fd670871753ab46314ce3eca898d2bcf58eb604","e52d722c69692f64401aa2dacea731cf600086b1878ed59e476d68dae094d9aa","149518c823649aa4d7319f62dee4bc9e45bffe92cecc6b296c6f6f549b7f3e37","039bd8d1e0d151570b66e75ee152877fb0e2f42eca43718632ac195e6884be34","89fb1e22c3c98cbb86dc3e5949012bdae217f2b5d768a2cc74e1c4b413c25ad2","2e96f82f3762021269110f8a8b024c367dcd701994e22ae67f89a9762099e331","999663f22a1db434da84e8e4b795372a557afedde97096d6221adc58d114bfbc","ccc1af95a56dfa03b77dc0407f3169aad57b9d8de42cdcdbde9894214accfd85","21470f3bce930646c5e2a1fcf38d6c783e535e7c91bb93b12d86e4074819efcb","9ba2e6103428da3a5dce291a9f8604e305dd7313db33a9fb9ebb827c0ef8ee8b","a26d74bc8768e134734fa049d5a89fb674a560292f4bf1b39392416dc04cf49e","db3c15a0c5e190e5cb972da0758c3154fef73813e8f90250aa0a30d32c070b4e","d705478624f4ce9370ea585c636fa401f6788c7c119a56c9d4bccbe54a17c27c","6fb3298e948c919dddff11c2b835e0d78e0b7f8597aff359c359a0e5a64cffe0","f6db7c2fc7748011fc3c21fba68c407e7d33a17b63c5b516cd1fa0528a3c494c","3aaaeaa17a258500e5899483ecba8b030782eae459d3986ad6d63d26f171c260","ca07862d9bba2f76bde6e0cfa108d0ffa11e497725de676d6b4ed8107a513a66","0b6f7d46098ec4dd9de98b7a4650638700588c4f086df6eb479f7678c223a123","9c082ffa20d190f8b6d119ba0c5be44c7545e50da56251acdaa1aeb8eebfa5f5","ad37aec058ed443d7460433df152313718febcae11564e2c7940f4535ce02233","3509a51f87227ae65de0e428750e4b8c4148681b5cb56385b6526c79bfb51275","348c13a1c9160681e41bc5cd3cc519dd8170d38a36a30480b41849f60f5bf8a0","fe74332a7ba8f5119f6c6e7ead56584db093f91dcc7a3f8986be5c74f87c754c","279248c34ecd223fc46224f86384ebf49c775eb69329ad644d3d99f1205f3e7d","284a96a6ad160f5982dcc1d6fa36350e042f94d84d49f46db454b356dcb824a8","3aa3513d5e13d028202e788d763f021d2d113bd673087b42a2606ab50345492d","f012173d64d0579875aa60405de21ad379af7971b93bf46bee23acc5fa2b76a4","dcf5dc3ce399d472929c170de58422b549130dd540531623c830aaaaf3dd5f93","ec35f1490510239b89c745c948007c5dd00a8dca0861a836dcf0db5360679a2d","32868e4ec9b6bd4b1d96d24611343404b3a0a37064a7ac514b1d66b48325a911","4bbea07f21ff84bf3ceeb218b5a8c367c6e0f08014d3fd09e457d2ffb2826b9c","873a07dbeb0f8a3018791d245c0cf10c3289c8f7162cdbbb4a5b9cf723136185","43839af7f24edbd4b4e42e861eb7c0d85d80ec497095bb5002c93b451e9fcf88","54a7ee56aadecbe8126744f7787f54f79d1e110adab8fe7026ad83a9681f136a","6333c727ee2b79cdab55e9e10971e59cbfee26c73dfb350972cfd97712fc2162","8743b4356e522c26dc37f20cde4bcdb5ebd0a71a3afe156e81c099db7f34621d","af3d97c3a0da9491841efc4e25585247aa76772b840dd279dbff714c69d3a1ec","d9ac50fe802967929467413a79631698b8d8f4f2dc692b207e509b6bb3a92524","3cb4960dce78abf548af390b5849e0eec1a0ce34fb16e3fab2bbd95ed434c026","b75d56703daaffcb31a7cdebf190856e07739a9481f01c2919f95bde99be9424","940c7535de09668b16fc9a671100b9f5693b1af2b7980da72e27d9fe0531f205","7c8f938c4986c1c022fbf5e5e73ac76a70de595a7cebd80183e0c9b1f0567f5c","43b0afa75a641b3298dbe332a0a3cc214bb30f8b77d39c020ebc1f176f051321","bbae7de9b113baec55dfb8537a439f43162f3b05eaf4363500182df29adce9c7","00782d16e4ad5d90e061780fddc4da735e4dcad53527a8360095c3c518eae354","87751d98eb135aedd77ca8289e70ce0f389ebd5ca966f97e59bc11b05876111b","e361e681415c6e7f95315b710f61fcce578b3afe23e494a63ad33b96b77f0743","de5a5d9ae404545fcb0f21123530ffcf89d24a47812c70b3ca1376591e28dbdd","08721e216f19034499702861e3e54d1251fba68882b8bb6e79fba69ec60edde5","bdc148b0770830d4658f8fe921618bca6c52fc28ab591190b022f1d9653224ac","6215a80d50a9f155ffb0917ab23832380ad50bc17bf6b79918d854642f0e1f57","245b319bc739b7a4513dfeec86ac18859dc256711af5439be094ef8f5dd94ee4","69ec8d900cfec3d40e50490fedbbea5c1b49d32c38adbc236e73a3b8978c0b11","9d104a720f913ecc3d88e63eaad139e4fc923a3b3649b877cbfa5bc4c65354a6","4d4d244c3251fc12eb9f72a5a0173bd3d0b153f6ae2c32462c9869df5b9ebd47","b6f3a9143bfda78945247923fbaca551355df378cc5736d06061e31f8731c50b","e55c431bbd371393529e3c428cc8293cc2ed67649ee5d5464792cf2133eb48c5","d997a8284d01be0eaee5908f64d11fac8dfbb934b593ee92f9c901c1b29fddf7","36fed774cd6e205853ebea1e47dd498b1758bb209c704341fda762bab2f23c34","aa874d38d6d20cd962ded0cc511072869cf8016f47fbc8a94e86efe1fb4ee783","0e4b3899b220c30f83b67a35ab29dc11958d91d5fd4970aefddf6843b7de432c","1cf79563b193889d07274b91470c03f2c20ad3d1049f2fedbc115efb277f6e2a","3609bd7db5a7325bf4799df2f7ca158e558252abfc4c05cbf93c51784c9f3076","706531e61d317c1c015926d3496009d981879c0909248d5eb72b5b9e32022bc6","e0c868a08451c879984ccf4d4e3c1240b3be15af8988d230214977a3a3dad4ce","6fc1a4f64372593767a9b7b774e9b3b92bf04e8785c3f9ea98973aa9f4bbe490","ff09b6fbdcf74d8af4e131b8866925c5e18d225540b9b19ce9485ca93e574d84","d5895252efa27a50f134a9b580aa61f7def5ab73d0a8071f9b5bf9a317c01c2d","1f366bde16e0513fa7b64f87f86689c4d36efd85afce7eb24753e9c99b91c319","460627dd2a599c2664d6f9e81ed4765ef520dc2786551d9dcab276df57b98c02","96d14f21b7652903852eef49379d04dbda28c16ed36468f8c9fa08f7c14c9538","742f21debb3937c3839a63245648238555bdab1ea095d43fd10c88a64029bf76","7cfdf3b9a5ba934a058bfc9390c074104dc7223b7e3c16fd5335206d789bc3d3","01f9bade4ea5db62464fed4f6bda2abc928862000baae48a0f54cfffc1af3cc6","f1ed4b327880fa467f6b7b8a8f0c0a182901213ec4bc732a1de32a24f959424a","1f527f5aa7667cf13cd61a83327ac127bd9be0fe705517bec56abd7f93a3267d","930371ee0f953df416ac187dc69f9d469e1808f05023410d8864ddbe4c877731","fe0150ce20bc36bcc4250e562b951073a27c3665bf58c5c19defcdcb4c124307","1287b82bfb7169da991900975e76543c3c21c42733bee7378e5429cb367e016a","8a7219b41d3c1c93f3f3b779146f313efade2404eeece88dcd366df7e2364977","a109c4289d59d9019cfe1eeab506fe57817ee549499b02a83a7e9d3bdf662d63","0944f27ebff4b20646b71e7e3faaaae50a6debd40bc63e225de1320dd15c5795","5d30565583300c9256072a013ac0318cc603ff769b4c5cafc222394ea93963e1","4ef960df4f672e93b479f88211ed8b5cfa8a598b97aafa3396cacdc3341e3504","7fa8d75d229eeaee235a801758d9c694e94405013fe77d5d1dd8e3201fc414f1"],"root":[263,288,360,[364,369],[380,383],387,388,[391,398],421,[428,430],432,434,436,437,[612,614],881,886,[888,892],[894,896],[899,923],[925,937],[939,953],955,958,959,961,963,964,1223,1260,1331,1333,1341,1342,1345,1347,1349,1379,1381,1383,1386,1389,1390,1392,[1414,1416],1418,1421,[1423,1425],[1428,1437]],"options":{"esModuleInterop":true,"jsx":1,"module":99,"skipLibCheck":true,"strict":true,"target":1},"fileIdsList":[[123,259,367],[123,259,368],[123,259,369],[123,213,612],[123,213,429],[123,213,932],[123,213,388],[123,213,943],[123,305,359],[123,359,363],[123,303,305,359,365,366],[123,259],[70,123,248,365,376,391,394,397,420,421,428,430,437,470,584,611],[70,123,248,376,391,394,420,421,428],[123,248,376,391,394,395],[123,248,376,391,394,395,397],[70,123,248,376,391,394,395,428,430],[70,123,365,376,387,391,397,420,437,584,611,921,923,927,928,929,930,931],[123,261,386,387],[123,248,376,391,392],[70,123,387,917,918,919,920,923],[123,903],[70,123,921],[123,911],[123,910],[70,123,391,421,921,939],[70,123,376,391,394,921,923],[70,123,376,391,394,395,430,437],[123,909],[123,908],[123,387,912,923],[70,123,391,421,913,939],[70,123,391,912],[123,387,914,923],[123,907],[123,906],[123,376,391],[70,123],[70,123,376,391,421,881,884,886,887,888,889],[70,123,391,881,890],[123,376,391,894,899],[123,376,391,894],[70,123,376,380,391,823,825,855,857,859,861,863,865,867,869,874,876,878,880,891,892,895,896,900],[70,123,376,901,902,921],[123,901,902,921],[123,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920],[70,123,387],[70,123,376,380,954],[70,123,376,391],[70,123,380,391,957],[70,123,375,380],[123,960],[70,123,380,962],[70,123,376,380,390],[70,123,375,380,390],[70,123,376,380,391,1222],[70,123,380],[70,123,376,380,391,1259],[70,123,380,1330],[70,123,376,380,1332],[123,431],[70,123,376,380,956,1340,1341],[70,123,376,380,1344],[70,123,376,380,956],[70,123,380,1346],[70,123,376,380,1348],[70,123,380,390,938,939,1378],[70,123,380,1380],[70,123,376,380,1382],[70,123,376,391,925],[70,123,375,380,938],[70,123,248,376,391],[70,123,376,380,1385],[70,123,375,376,380,1388],[70,123,376,380,391],[70,123,380,893],[70,123,380,435],[70,123,376,380,1391],[70,123,365,376,391,394,395,432,434,436],[123,376,380,1413],[70,123,380,885],[70,123,376,380,427],[70,123,380,433],[70,123,375,376,380,956],[123,380],[70,123,376,470,611,925,926],[70,123,380,1417],[70,123,248,376,391,396],[70,123,376,391,470,584,611,921,926],[123,887,1420],[70,123,380,1422],[70,123,380,898],[70,123,387,922],[70,123,376,387,391],[70,123,376,383,387,391,395,420,886],[70,123,372,375,376,380],[123,381,382],[70,123,375,380,1427,1428],[70,123,375,380,1426],[70,123,380,924],[70,123,383],[70,123,381],[123,303,305,359,365],[123],[123,377,378,379],[123,261,262],[123,289,304],[123,289,303],[123,303,307,310],[123,303,306],[123,306,307],[123,303,306,307],[70,123,525],[123,527],[123,525],[123,525,526,528,529],[123,524],[70,123,470,494,499,518,530,555,558,559],[123,559,560],[123,499,518],[70,123,562],[123,562,563,564,565],[123,499],[123,562],[70,123,499],[123,567],[123,568,570,572],[123,569],[123,571],[70,123,470,499],[70,123,558,573,576],[123,574,575],[123,470,499,524,561],[123,576,577],[123,530,561,566,578],[123,518,580,581,582],[70,123,524],[70,123,470,499,518,524],[70,123,499,524],[123,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517],[123,499,524],[123,494,502],[123,499,520],[123,449,499],[123,470],[123,494],[123,584],[123,494,499,524,555,558,579,583],[123,470,556],[123,556,557],[123,470,499,524],[123,482,483,484,485,487,489,493],[123,490],[123,490,491,492],[123,483,490],[123,483,499],[123,486],[70,123,482,483],[123,480,481],[70,123,480,483],[123,488],[70,123,479,482,499,524],[123,483],[70,123,520],[123,520,521,522,523],[123,520,521],[70,123,470,479,499,518,519,521,579],[123,471,479,494,499,524],[123,471,472,495,496,497,498],[70,123,470],[123,473],[123,473,499],[123,473,474,475,476,477,478],[123,531,532,533],[123,479,534,541,543,554],[123,542],[123,470,499],[123,535,536,537,538,539,540],[123,498],[123,544,545,546,547,548,549,550,551,552,553],[123,590],[70,123,584,589],[123,592],[123,592,593,594],[123,470,584],[70,123,470,518,584,589,592],[123,589,591,595,600,603,610],[123,602],[123,601],[123,589],[123,596,597,598,599],[123,585,586,587,588],[123,584,586],[123,604,605,606,607,608,609],[123,449],[123,449,450],[123,453,454,455],[123,457,458,459],[123,461],[123,438,439,440,441,442,443,444,445,446],[123,447,448,451,452,456,460,462,468,469],[123,463,464,465,466,467],[123,317],[123,320],[123,325,327],[123,313,317,329,330],[123,340,343,349,351],[123,312,317],[123,311],[123,312],[123,319],[123,322],[123,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,352,353,354,355,356,357],[123,328],[123,324],[123,325],[123,316,317,323],[123,324,325],[123,331],[123,352],[123,316],[123,317,334,337],[123,333],[123,334],[123,332,334],[123,317,337,339,340,341],[123,340,341,343],[123,317,332,335,338,345],[123,332,333],[123,314,315,332,334,335,336],[123,334,337],[123,315,332,335,338],[123,317,337,339],[123,340,341],[123,802],[123,796,798],[123,786,796,797,799,800,801],[123,796],[123,786,796],[123,787,788,789,790,791,792,793,794,795],[123,787,791,792,795,796,799],[123,787,788,789,790,791,792,793,794,795,796,797,799,800],[123,786,787,788,789,790,791,792,793,794,795],[70,123,370,431],[70,123,956],[70,123,370],[70,123,370,1343],[70,123,370,371,422,426],[70,123,370,371,425,426],[70,123,370,371,422,425,426,897],[70,123,370,389,897,1343,1384],[70,123,370,371,1384,1387],[70,123,370,371,422,425,426],[70,123,370,423,424],[70,123,370,897],[70,123,389],[70,123,370,371],[70,123,370,897,1426],[123,620,630,698],[123,627,628,629,630,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,620,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,620,621,622,623,630,631,632,697],[123,620,625,626,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,698,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,620,621,622,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,698,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,629],[123,629,689],[123,620,629],[123,633,690,691,692,693,694,695,696],[123,620,621,624],[123,620],[123,621,630],[123,621],[123,616,620,630],[123,630],[123,620,621],[123,624,630],[123,621,630,698],[123,621,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750],[123,622],[123,620,621,630],[123,627,628,629,630],[123,625,626,627,628,629,630,632,697,698,699,751,757,758,762,763,784],[123,752,753,754,755,756],[123,621,625,630],[123,625],[123,621,625,630,698],[123,620,621,625,626,627,628,629,630,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,698,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,622,630,698],[123,759,760,761],[123,621,626,630],[123,626],[123,620,621,622,624,627,628,629,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,698,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783],[123,627,628,629,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,824],[123,826],[123,620,622,627,628,629,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,804,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,627,628,629,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,805,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,805,806],[123,828],[123,832],[123,830],[123,627,628,629,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,861,862,864,868,870],[123,862],[123,834],[123,627,628,629,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,812,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,812,813],[123,836],[123,838],[123,868],[123,840],[123,842],[123,864],[123,844],[123,846],[123,848],[123,850],[123,866],[123,621,627,628,629,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,852],[123,879],[123,877],[123,875],[123,870,871,872,873],[123,621,622,627,628,629,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,621,622],[123,858],[123,860],[123,856],[123,616],[123,619],[123,617],[123,618],[70,123,807],[70,123,627,628,629,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,809,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[70,123,627,628,629,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[70,123,814],[123,627,628,629,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,808,809,810,811,815,816,817,818,819,820,821,822,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[70,123,621,622,627,628,629,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,818,819,824,826,828,830,832,836,838,840,842,844,848,850,852,856,858,860,862,864,868,870],[123,854],[123,627,628,629,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,785,824,825,826,827,828,829,830,831,832,833,835,836,837,838,839,840,841,842,843,844,845,847,848,849,850,851,852,853,856,858,860,862,864,868,870],[123,1439],[123,1263],[123,1281],[123,1445],[123,1447,1452],[123,1453],[123,1448,1449,1450,1451],[123,1455],[123,1450],[77,123],[80,123],[81,86,114,123],[82,93,94,101,111,122,123],[82,83,93,101,123],[84,123],[85,86,94,102,123],[86,111,119,123],[87,89,93,101,123],[88,123],[89,90,123],[93,123],[91,93,123],[93,94,95,111,122,123],[93,94,95,108,111,114,123],[123,127],[89,93,96,101,111,122,123],[93,94,96,97,101,111,119,122,123],[96,98,111,119,122,123],[77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129],[93,99,123],[100,122,123,127],[89,93,101,111,123],[102,123],[103,123],[80,104,123],[105,121,123,127],[106,123],[107,123],[93,108,109,123],[108,110,123,125],[81,93,111,112,113,114,123],[81,111,113,123],[111,112,123],[114,123],[115,123],[80,111,123],[93,117,118,123],[117,118,123],[86,101,111,119,123],[120,123],[101,121,123],[81,96,107,122,123],[86,123],[111,123,124],[100,123,125],[123,126],[81,86,93,95,104,111,122,123,125,127],[111,123,128],[70,123,134,135,136],[70,123,134,135],[70,74,123,133,214,256],[70,74,123,132,214,256],[67,68,69,123],[96,123,303,306,307,310,358],[123,883],[123,373,374],[123,373],[70,123,1339],[70,123,1334,1335,1336,1337,1338],[70,123,1334],[123,967],[123,965,967],[123,965],[123,967,1031,1032],[123,1034],[123,1035],[123,1052],[123,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,991,992,993,994,995,996,997,998,999,1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1120,1121,1122,1123,1124,1125,1126,1127,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140,1141,1142,1143,1144,1145,1146,1147,1148,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1178,1179,1180,1181,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200,1201,1202,1203,1204,1205,1206,1207,1208,1209,1210,1211,1212,1213,1214,1215,1216,1217,1218,1219,1220],[123,1128],[123,967,1032,1152],[123,965,1149,1150],[123,1151],[123,1149],[123,965,966],[123,1257],[123,1258],[123,1231,1251],[123,1225],[123,1226,1230,1231,1232,1233,1234,1236,1238,1239,1244,1245,1254],[123,1226,1231],[123,1234,1251,1253,1256],[123,1225,1226,1227,1228,1231,1232,1233,1234,1235,1236,1237,1238,1239,1240,1241,1242,1243,1244,1245,1246,1247,1248,1249,1250,1255,1256],[123,1254],[123,1224,1226,1227,1229,1237,1246,1249,1250,1255],[123,1231,1256],[123,1252,1254,1256],[123,1225,1226,1231,1234,1254],[123,1238],[123,1228,1236,1238,1239],[123,1228],[123,1228,1238],[123,1232,1233,1234,1238,1239,1244],[123,1234,1235,1239,1243,1245,1254],[123,1226,1238,1247],[123,1227,1228,1229],[123,1234,1254],[123,1234],[123,1225,1226],[123,1226],[123,1230],[123,1234,1239,1251,1252,1253,1254,1256],[70,123,1419],[75,123],[123,227],[123,229,230,231],[123,233],[123,139,148,158,214],[123,139,146,150],[123,137,157],[123,137],[123,137,157,158],[123,399,400,401,418],[123,172],[123,415,417],[123,415,416,418],[80,123,130,164,165],[70,123,140,243],[70,122,123,130],[70,123,157,220],[70,123,157],[123,218,223],[70,123,219,226],[123,384],[70,111,123,130,256],[70,74,96,123,130,132,133,214,254,255],[123,138],[123,207,208,209,210,211,212],[123,209],[70,123,215,226],[70,123,226],[96,123,130,149,226],[70,123,148,164,185,187,189,214,414],[96,123,130,148,150],[96,111,123,130,147,149,150,214],[96,107,122,123,130,138,140,147,148,149,150,157,161,163,164,168,169,177,179,181,184,185,187,188,189,190,193,196,198,214],[96,111,123,130],[123,137,139,140,141,147,214,226],[123,148],[107,122,123,130,145,147,149,164,176,177,181,182,183,187,196,199,203,204],[123,148,152,164],[123,147,148],[123,169,197],[123,143,144],[123,143,191],[123,143],[123,145,169,195],[123,194],[123,144,145],[123,145,192],[123,144],[96,122,123,130,140,147,148,163],[123,161,163,226],[96,123,130,200,206],[123,131,185,186,214,226],[96,107,122,123,130,145,147,149,152,159,161,163,164,168,176,177,179,181,182,183,184,187,190,193,199,201,202,226],[96,123,130,147,148,152,203,205],[123,166,167],[70,96,107,123,130,138,140,147,150,168,184,185,187,189,214,226],[96,107,122,123,130,142,145,146,149],[123,162],[96,123,130,168],[96,123,130,168,178],[96,123,130,149,179],[96,123,130,148,169],[123,171],[123,173],[123,257],[123,148,170,172,176],[123,148,170,172],[96,123,130,142,148,173,174,175],[70,123,415,416,417],[123,224],[70,123,140],[70,123,131,184,189,214,226],[123,140,243,244],[70,107,122,123,130,138,217,219,221,222,226],[123,149,157,181],[107,123,130],[123,180],[70,96,107,123,130,138,214,215,216,223,225],[66,70,71,72,73,123,132,133,214,256],[123,235],[123,237],[123,239],[123,385],[123,241],[123,245],[74,76,123,214,228,232,234,236,238,240,242,246,248,249,251,259,260],[123,247],[123,419],[123,413],[123,404,405],[123,402,403,404,406,407,411],[123,403,404],[123,412],[123,404],[123,402,403,404,407,408,409,410],[123,402,403,413],[123,219],[123,250],[80,123,173,174,175,176,252,253,256,258],[123,130],[70,74,96,98,107,123,130,132,133,134,136,138,150,206,213,226,256],[123,279],[123,277,279],[123,268,276,277,278,280],[123,266],[123,269,274,279,282],[123,265,282],[123,269,270,273,274,275,282],[123,269,270,271,273,274,282],[123,266,267,268,269,270,274,275,276,278,279,280,282],[123,282],[123,264,266,267,268,269,270,271,273,274,275,276,277,278,279,280,281],[123,264,282],[123,269,271,272,274,275,282],[123,273,282],[123,274,275,279,282],[123,267,277],[123,615],[123,616,617,618],[123,616,617,619],[70,123,1221],[70,123,1364],[123,1364,1365,1366,1368,1369,1370,1371,1372,1373,1374,1377],[123,1364],[123,1367],[70,123,1362,1364],[123,1359,1360,1362],[123,1355,1358,1360,1362],[123,1359,1362],[70,123,1350,1351,1352,1355,1356,1357,1359,1360,1361,1362],[123,1352,1355,1356,1357,1358,1359,1360,1361,1362,1363],[123,1359],[123,1353,1359,1360],[123,1353,1354],[123,1358,1360,1361],[123,1358],[123,1350,1355,1360,1361],[123,1375,1376],[123,1394,1396,1397,1398,1399,1400,1401,1402,1403,1404,1405,1406,1407,1408,1410,1411],[70,123,1393],[70,123,1393,1395],[123,1393,1397],[123,1395],[123,1394],[123,1409],[123,1412],[70,123,1266,1267,1268,1284,1287],[70,123,1266,1267,1268,1277,1285,1305],[70,123,1265,1268],[70,123,1268],[70,123,1266,1267,1268],[70,123,1266,1267,1268,1303,1306,1309],[70,123,1266,1267,1268,1277,1284,1287],[70,123,1266,1267,1268,1277,1285,1297],[70,123,1266,1267,1268,1277,1287,1297],[70,123,1266,1267,1268,1277,1297],[70,123,1266,1267,1268,1272,1278,1284,1289,1307,1308],[123,1268],[70,123,1268,1312,1313,1314],[70,123,1268,1311,1312,1313],[70,123,1268,1285],[70,123,1268,1311],[70,123,1268,1277],[70,123,1268,1269,1270],[70,123,1268,1270,1272],[123,1261,1262,1266,1267,1268,1269,1271,1272,1273,1274,1275,1276,1277,1278,1279,1280,1284,1285,1286,1287,1288,1289,1290,1291,1292,1293,1294,1295,1296,1298,1299,1300,1301,1302,1303,1304,1306,1307,1308,1309,1315,1316,1317,1318,1319,1320,1321,1322,1323,1324,1325,1326,1327,1328,1329],[70,123,1268,1326],[70,123,1268,1280],[70,123,1268,1287,1291,1292],[70,123,1268,1278,1280],[70,123,1268,1283],[70,123,1268,1306],[70,123,1268,1283,1310],[70,123,1271,1311],[70,123,1265,1266,1267],[123,284,285],[123,283,286],[123,803],[123,1264],[123,1282],[123,302],[123,292,293],[123,290,291,292,294,295,300],[123,291,292],[123,300],[123,301],[123,292],[123,290,291,292,295,296,297,298,299],[123,290,291,302],[123,287],[70]],"referencedMap":[[1431,1],[1432,2],[1433,3],[1435,4],[1434,5],[1436,6],[1430,7],[1437,8],[360,9],[364,10],[367,11],[368,11],[369,12],[612,13],[429,14],[613,15],[398,16],[614,17],[932,18],[388,19],[393,20],[933,21],[934,22],[935,23],[937,24],[936,25],[940,26],[941,27],[942,23],[943,28],[944,26],[946,29],[945,30],[948,31],[949,32],[947,33],[950,34],[952,35],[951,36],[889,37],[953,38],[888,37],[890,39],[891,40],[892,38],[881,38],[896,37],[900,41],[895,42],[901,43],[920,44],[917,44],[918,44],[919,44],[915,45],[910,45],[911,45],[904,44],[916,45],[905,44],[908,45],[909,45],[912,45],[913,44],[914,45],[906,45],[907,45],[903,45],[921,46],[902,47],[955,48],[929,49],[958,50],[959,51],[961,52],[963,53],[395,51],[964,54],[391,55],[1223,56],[394,57],[1260,58],[1331,59],[1333,60],[432,61],[1342,62],[1345,63],[1341,64],[1347,65],[1349,66],[1379,67],[1381,68],[1383,69],[421,57],[930,70],[939,71],[392,72],[1386,73],[1389,74],[1390,75],[894,76],[436,77],[1392,78],[437,79],[1414,80],[886,81],[428,82],[434,83],[1415,84],[1416,85],[926,70],[931,86],[1418,87],[397,88],[927,89],[1421,90],[1423,91],[1424,57],[899,92],[928,49],[430,57],[923,93],[396,94],[922,95],[381,96],[1425,97],[1429,98],[1428,99],[925,100],[387,101],[382,102],[366,103],[383,104],[365,104],[380,105],[263,106],[305,107],[304,108],[289,104],[883,109],[882,110],[363,111],[362,110],[361,104],[310,112],[309,110],[308,104],[526,113],[528,114],[527,104],[529,115],[530,116],[525,117],[560,118],[561,119],[559,120],[563,121],[566,122],[562,123],[564,124],[565,124],[567,125],[568,126],[573,127],[570,128],[569,38],[572,129],[571,130],[577,131],[576,132],[574,133],[575,123],[578,134],[579,135],[583,136],[581,137],[580,138],[582,139],[518,140],[500,123],[501,141],[503,142],[517,141],[504,143],[506,123],[505,104],[507,123],[508,144],[515,123],[509,104],[510,104],[511,104],[512,123],[513,145],[514,146],[502,125],[516,147],[584,148],[557,149],[558,150],[556,151],[494,152],[492,153],[493,154],[491,155],[490,156],[487,157],[486,158],[480,156],[482,159],[481,160],[489,161],[488,158],[483,162],[484,163],[485,163],[521,143],[519,143],[522,164],[524,165],[523,166],[520,167],[471,145],[472,104],[495,168],[499,169],[496,104],[497,170],[498,104],[474,171],[475,171],[478,172],[479,173],[477,171],[476,172],[473,141],[531,123],[532,123],[533,123],[534,174],[555,175],[543,176],[542,104],[535,177],[538,123],[536,123],[539,123],[541,178],[540,179],[537,123],[551,104],[544,104],[545,104],[546,123],[547,123],[548,104],[549,123],[550,104],[554,180],[552,104],[553,123],[591,181],[590,182],[594,183],[595,184],[592,185],[593,186],[611,187],[603,188],[602,189],[601,147],[596,190],[600,191],[597,190],[598,190],[599,190],[586,147],[585,104],[589,192],[587,185],[588,193],[604,104],[605,104],[606,147],[610,194],[607,104],[608,147],[609,190],[448,104],[450,195],[451,196],[449,104],[452,104],[453,104],[456,197],[454,104],[455,104],[457,104],[458,104],[459,104],[460,198],[461,104],[462,199],[447,200],[438,104],[439,104],[441,104],[440,38],[442,38],[443,104],[444,38],[445,104],[446,104],[470,201],[468,202],[463,104],[464,104],[465,104],[466,104],[467,104],[469,104],[216,104],[319,203],[322,204],[328,205],[331,206],[352,207],[330,208],[311,104],[312,209],[313,210],[316,104],[314,104],[315,104],[353,211],[318,203],[317,104],[354,212],[321,204],[320,104],[358,213],[355,214],[325,215],[327,216],[324,217],[326,218],[323,215],[356,219],[329,203],[357,220],[332,221],[351,222],[348,223],[350,224],[335,225],[342,226],[344,227],[346,228],[345,229],[337,230],[334,223],[338,104],[349,231],[339,232],[336,104],[347,104],[333,104],[340,233],[341,104],[343,234],[803,235],[799,236],[786,104],[802,237],[795,238],[793,239],[792,239],[791,238],[788,239],[789,238],[797,240],[790,239],[787,238],[794,239],[800,241],[801,242],[796,243],[798,239],[954,244],[957,245],[423,246],[960,246],[962,246],[1332,246],[431,246],[1344,247],[1384,38],[956,248],[371,246],[1348,247],[422,246],[1380,249],[938,246],[1343,250],[1385,251],[1388,252],[893,253],[425,254],[426,246],[370,38],[435,246],[1391,255],[897,246],[885,246],[427,253],[433,246],[1417,246],[390,256],[1422,246],[898,255],[372,257],[1427,258],[1426,246],[924,249],[1387,246],[424,104],[699,259],[634,260],[635,261],[636,262],[637,263],[638,264],[639,265],[640,266],[641,267],[642,268],[643,269],[644,270],[645,271],[646,272],[647,273],[648,274],[649,275],[689,276],[650,277],[651,278],[652,279],[653,280],[654,281],[655,282],[656,283],[657,284],[658,285],[659,286],[660,287],[661,288],[662,289],[663,290],[664,291],[665,292],[666,293],[667,294],[668,295],[669,296],[670,297],[671,298],[672,299],[673,300],[674,301],[675,302],[676,303],[677,304],[678,305],[679,306],[680,307],[681,308],[682,309],[683,310],[684,311],[685,312],[686,313],[687,314],[688,315],[698,316],[623,104],[629,317],[631,318],[633,319],[690,320],[691,319],[692,319],[693,321],[697,322],[694,319],[695,319],[696,319],[700,323],[701,324],[702,325],[703,325],[704,326],[705,325],[706,325],[707,327],[708,325],[709,328],[710,328],[711,328],[712,329],[713,328],[714,330],[715,325],[716,328],[717,326],[718,329],[719,325],[720,325],[721,326],[722,329],[723,329],[724,326],[725,325],[726,331],[727,332],[728,326],[729,326],[730,328],[731,325],[732,325],[733,326],[734,325],[751,333],[735,325],[736,324],[737,324],[738,324],[739,328],[740,328],[741,329],[742,329],[743,326],[744,324],[745,324],[746,334],[747,335],[748,325],[749,324],[750,336],[785,337],[625,259],[757,338],[752,339],[753,339],[754,339],[755,340],[756,341],[628,342],[627,342],[632,331],[758,343],[626,259],[762,344],[759,345],[760,345],[761,346],[763,324],[630,347],[764,328],[765,104],[766,104],[767,104],[768,104],[769,104],[770,104],[784,348],[771,104],[772,104],[773,104],[774,104],[775,104],[776,104],[777,104],[778,104],[779,104],[780,104],[781,104],[782,104],[783,104],[824,349],[825,350],[826,349],[827,351],[805,352],[806,353],[807,354],[828,349],[829,355],[832,349],[833,356],[830,349],[831,357],[862,358],[863,359],[834,349],[835,360],[812,352],[813,361],[814,362],[836,349],[837,363],[838,349],[839,364],[868,349],[869,365],[840,349],[841,366],[842,349],[843,367],[864,349],[865,368],[845,369],[844,349],[847,370],[846,349],[849,371],[848,349],[851,372],[850,349],[867,373],[866,374],[853,375],[852,349],[880,376],[879,349],[878,377],[877,349],[876,378],[875,349],[874,379],[870,380],[871,381],[872,326],[873,326],[859,382],[858,349],[861,383],[860,349],[857,384],[856,349],[621,385],[620,386],[624,387],[622,388],[808,389],[810,390],[811,391],[815,392],[823,393],[816,38],[817,38],[820,394],[818,391],[819,391],[809,391],[821,349],[822,38],[855,395],[854,396],[1438,104],[1439,104],[1440,104],[1441,397],[1281,104],[1264,398],[1282,399],[1263,104],[1442,104],[1443,104],[1444,104],[1445,104],[1447,104],[1446,400],[1453,401],[1454,402],[1455,104],[1452,403],[1456,404],[1448,104],[1449,104],[1451,405],[1450,104],[77,406],[78,406],[80,407],[81,408],[82,409],[83,410],[84,411],[85,412],[86,413],[87,414],[88,415],[89,416],[90,416],[92,417],[91,418],[93,417],[94,419],[95,420],[79,421],[129,104],[96,422],[97,423],[98,424],[130,425],[99,426],[100,427],[101,428],[102,429],[103,430],[104,431],[105,432],[106,433],[107,434],[108,435],[109,435],[110,436],[111,437],[113,438],[112,439],[114,440],[115,441],[116,442],[117,443],[118,444],[119,445],[120,446],[121,447],[122,448],[123,449],[124,450],[125,451],[126,452],[127,453],[128,454],[69,104],[135,455],[136,456],[134,38],[132,457],[133,458],[67,104],[70,459],[389,38],[1457,104],[1458,104],[359,460],[307,110],[306,104],[884,461],[375,462],[374,463],[373,104],[377,104],[1340,464],[1338,38],[1339,465],[1335,466],[1336,466],[1337,466],[1334,38],[68,104],[1052,467],[1031,468],[1128,104],[1032,469],[968,467],[969,104],[970,104],[971,104],[972,104],[973,104],[974,104],[975,104],[976,104],[977,104],[978,104],[979,104],[980,467],[981,467],[982,104],[983,104],[984,104],[985,104],[986,104],[987,104],[988,104],[989,104],[990,104],[992,104],[991,104],[993,104],[994,104],[995,467],[996,104],[997,104],[998,467],[999,104],[1000,104],[1001,467],[1002,104],[1003,467],[1004,467],[1005,467],[1006,104],[1007,467],[1008,467],[1009,467],[1010,467],[1011,467],[1013,467],[1014,104],[1015,104],[1012,467],[1016,467],[1017,104],[1018,104],[1019,104],[1020,104],[1021,104],[1022,104],[1023,104],[1024,104],[1025,104],[1026,104],[1027,104],[1028,467],[1029,104],[1030,104],[1033,470],[1034,467],[1035,467],[1036,471],[1037,472],[1038,467],[1039,467],[1040,467],[1041,467],[1044,467],[1042,104],[1043,104],[966,104],[1045,104],[1046,104],[1047,104],[1048,104],[1049,104],[1050,104],[1051,104],[1053,473],[1054,104],[1055,104],[1056,104],[1058,104],[1057,104],[1059,104],[1060,104],[1061,104],[1062,467],[1063,104],[1064,104],[1065,104],[1066,104],[1067,467],[1068,467],[1070,467],[1069,467],[1071,104],[1072,104],[1073,104],[1074,104],[1221,474],[1075,467],[1076,467],[1077,104],[1078,104],[1079,104],[1080,104],[1081,104],[1082,104],[1083,104],[1084,104],[1085,104],[1086,104],[1087,104],[1088,104],[1089,467],[1090,104],[1091,104],[1092,104],[1093,104],[1094,104],[1095,104],[1096,104],[1097,104],[1098,104],[1099,104],[1100,467],[1101,104],[1102,104],[1103,104],[1104,104],[1105,104],[1106,104],[1107,104],[1108,104],[1109,104],[1110,467],[1111,104],[1112,104],[1113,104],[1114,104],[1115,104],[1116,104],[1117,104],[1118,104],[1119,467],[1120,104],[1121,104],[1122,104],[1123,104],[1124,104],[1125,104],[1126,467],[1127,104],[1129,475],[965,467],[1130,104],[1131,467],[1132,104],[1133,104],[1134,104],[1135,104],[1136,104],[1137,104],[1138,104],[1139,104],[1140,104],[1141,467],[1142,104],[1143,104],[1144,104],[1145,104],[1146,104],[1147,104],[1148,104],[1153,476],[1151,477],[1152,478],[1150,479],[1149,467],[1154,104],[1155,104],[1156,467],[1157,104],[1158,104],[1159,104],[1160,104],[1161,104],[1162,104],[1163,104],[1164,104],[1165,104],[1166,467],[1167,467],[1168,104],[1169,104],[1170,104],[1171,467],[1172,104],[1173,467],[1174,104],[1175,473],[1176,104],[1177,104],[1178,104],[1179,104],[1180,104],[1181,104],[1182,104],[1183,104],[1184,104],[1185,467],[1186,467],[1187,104],[1188,104],[1189,104],[1190,104],[1191,104],[1192,104],[1193,104],[1194,104],[1195,104],[1196,104],[1197,104],[1198,104],[1199,467],[1200,467],[1201,104],[1202,104],[1203,467],[1204,104],[1205,104],[1206,104],[1207,104],[1208,104],[1209,104],[1210,104],[1211,104],[1212,104],[1213,104],[1214,104],[1215,104],[1216,467],[967,480],[1217,104],[1218,104],[1219,104],[1220,104],[1258,481],[1259,482],[1224,104],[1232,483],[1226,484],[1233,104],[1255,485],[1230,486],[1254,487],[1251,488],[1234,489],[1235,104],[1228,104],[1225,104],[1256,490],[1252,491],[1236,104],[1253,492],[1237,493],[1239,494],[1240,495],[1229,496],[1241,497],[1242,496],[1244,497],[1245,498],[1246,499],[1248,500],[1243,501],[1249,502],[1250,503],[1227,504],[1247,505],[1231,506],[1238,104],[1257,507],[1382,38],[376,38],[379,104],[1420,508],[1419,38],[76,509],[228,510],[232,511],[234,512],[157,513],[161,514],[158,515],[185,516],[159,517],[189,516],[177,516],[141,516],[146,104],[165,104],[419,518],[401,104],[400,519],[416,520],[417,521],[166,522],[244,523],[247,524],[221,525],[220,526],[219,527],[250,38],[218,528],[171,104],[253,104],[385,529],[384,104],[255,104],[257,530],[254,38],[256,531],[137,104],[139,532],[207,104],[208,104],[210,104],[213,533],[209,104],[211,534],[212,534],[160,104],[227,528],[235,535],[239,536],[150,537],[415,538],[149,539],[182,540],[199,541],[142,542],[148,543],[138,544],[205,545],[204,546],[184,104],[169,547],[198,548],[197,104],[191,549],[192,550],[144,551],[143,104],[196,552],[195,553],[194,554],[193,555],[145,556],[186,556],[131,104],[202,557],[164,558],[201,559],[200,104],[187,560],[203,561],[206,562],[151,104],[156,104],[153,104],[154,104],[155,104],[167,104],[168,563],[190,564],[147,565],[152,104],[163,566],[162,567],[179,568],[178,569],[170,570],[172,571],[174,572],[258,573],[173,574],[175,575],[230,104],[231,104],[229,104],[252,104],[176,576],[75,104],[418,577],[222,104],[225,578],[237,38],[243,579],[241,38],[215,580],[140,104],[245,581],[217,104],[224,104],[223,582],[188,583],[183,584],[181,585],[180,104],[233,104],[399,38],[226,586],[66,104],[74,587],[71,38],[72,104],[73,104],[236,588],[238,589],[240,590],[386,591],[242,592],[262,593],[246,593],[261,594],[248,595],[420,596],[414,597],[406,598],[412,599],[408,104],[409,104],[407,600],[410,597],[402,104],[403,104],[413,601],[405,602],[411,603],[404,604],[249,605],[251,606],[259,607],[260,608],[214,609],[615,104],[280,610],[278,611],[279,612],[267,613],[268,611],[275,614],[266,615],[271,616],[281,104],[272,617],[277,618],[283,619],[282,620],[265,621],[273,622],[274,623],[269,624],[276,610],[270,625],[616,626],[619,627],[617,385],[618,628],[1222,629],[1350,104],[1365,630],[1366,630],[1378,631],[1367,632],[1368,633],[1363,634],[1361,635],[1352,104],[1356,636],[1360,637],[1358,638],[1364,639],[1353,640],[1354,641],[1355,642],[1357,643],[1359,644],[1362,645],[1369,632],[1370,632],[1371,632],[1372,630],[1373,632],[1374,632],[1351,632],[1375,104],[1377,646],[1376,632],[1412,647],[1394,648],[1396,649],[1398,650],[1397,651],[1395,104],[1399,104],[1400,104],[1401,104],[1402,104],[1403,104],[1404,104],[1405,104],[1406,104],[1407,104],[1408,652],[1410,653],[1411,653],[1409,104],[1393,38],[1413,654],[1304,655],[1306,656],[1296,657],[1301,658],[1302,659],[1308,660],[1303,661],[1300,662],[1299,663],[1298,664],[1309,665],[1266,658],[1267,658],[1307,658],[1312,666],[1322,667],[1316,667],[1324,667],[1328,667],[1314,668],[1315,667],[1317,667],[1320,667],[1323,667],[1319,669],[1321,667],[1325,38],[1318,658],[1313,670],[1275,38],[1279,38],[1269,658],[1272,38],[1277,658],[1278,671],[1271,672],[1274,38],[1276,38],[1273,673],[1262,38],[1261,38],[1330,674],[1327,675],[1293,676],[1292,658],[1290,38],[1291,658],[1294,677],[1295,678],[1288,38],[1284,679],[1287,658],[1286,658],[1285,658],[1280,658],[1289,679],[1326,658],[1305,680],[1311,681],[1310,682],[1329,104],[1297,104],[1270,104],[1268,683],[887,38],[264,104],[378,104],[286,684],[285,104],[284,104],[287,685],[804,686],[64,104],[65,104],[12,104],[13,104],[15,104],[14,104],[2,104],[16,104],[17,104],[18,104],[19,104],[20,104],[21,104],[22,104],[23,104],[3,104],[4,104],[24,104],[28,104],[25,104],[26,104],[27,104],[29,104],[30,104],[31,104],[5,104],[32,104],[33,104],[34,104],[35,104],[6,104],[39,104],[36,104],[37,104],[38,104],[40,104],[7,104],[41,104],[46,104],[47,104],[42,104],[43,104],[44,104],[45,104],[8,104],[51,104],[48,104],[49,104],[50,104],[52,104],[9,104],[53,104],[54,104],[55,104],[58,104],[56,104],[57,104],[59,104],[60,104],[10,104],[1,104],[11,104],[63,104],[62,104],[61,104],[1346,245],[1265,687],[1283,688],[303,689],[294,690],[301,691],[296,104],[297,104],[295,692],[298,693],[290,104],[291,104],[302,694],[293,695],[299,104],[300,696],[292,697],[288,698]],"exportedModulesMap":[[1431,1],[1432,2],[1433,3],[1435,4],[1434,5],[1436,6],[1430,7],[1437,8],[360,9],[364,10],[367,11],[368,11],[369,12],[612,13],[429,14],[613,15],[398,16],[614,17],[932,699],[388,19],[393,20],[933,21],[934,22],[935,23],[937,24],[936,25],[940,26],[941,699],[942,23],[943,28],[944,26],[946,29],[945,30],[948,31],[949,32],[947,33],[950,34],[952,35],[951,36],[889,37],[953,38],[888,37],[890,39],[891,40],[892,38],[881,38],[896,37],[900,41],[895,42],[901,43],[920,44],[917,44],[918,44],[919,44],[915,45],[910,45],[911,45],[904,44],[916,45],[905,44],[908,45],[909,45],[912,45],[913,44],[914,45],[906,45],[907,45],[903,45],[921,46],[902,47],[955,48],[929,49],[958,50],[959,51],[961,52],[963,53],[395,51],[964,54],[391,55],[1223,56],[394,57],[1260,58],[1331,59],[1333,60],[432,61],[1342,62],[1345,63],[1341,64],[1347,65],[1349,66],[1379,67],[1381,68],[1383,69],[421,57],[930,70],[939,71],[392,72],[1386,73],[1389,74],[1390,75],[894,76],[436,77],[1392,78],[437,79],[1414,80],[886,81],[428,82],[434,83],[1415,84],[1416,85],[926,70],[931,86],[1418,87],[397,88],[927,89],[1421,90],[1423,91],[1424,57],[899,92],[928,49],[430,57],[923,93],[396,94],[922,95],[381,96],[1425,97],[1429,98],[1428,99],[925,100],[387,101],[382,102],[366,103],[383,104],[365,104],[380,105],[263,106],[305,107],[304,108],[289,104],[883,109],[882,110],[363,111],[362,110],[361,104],[310,112],[309,110],[308,104],[526,113],[528,114],[527,104],[529,115],[530,116],[525,117],[560,118],[561,119],[559,120],[563,121],[566,122],[562,123],[564,124],[565,124],[567,125],[568,126],[573,127],[570,128],[569,38],[572,129],[571,130],[577,131],[576,132],[574,133],[575,123],[578,134],[579,135],[583,136],[581,137],[580,138],[582,139],[518,140],[500,123],[501,141],[503,142],[517,141],[504,143],[506,123],[505,104],[507,123],[508,144],[515,123],[509,104],[510,104],[511,104],[512,123],[513,145],[514,146],[502,125],[516,147],[584,148],[557,149],[558,150],[556,151],[494,152],[492,153],[493,154],[491,155],[490,156],[487,157],[486,158],[480,156],[482,159],[481,160],[489,161],[488,158],[483,162],[484,163],[485,163],[521,143],[519,143],[522,164],[524,165],[523,166],[520,167],[471,145],[472,104],[495,168],[499,169],[496,104],[497,170],[498,104],[474,171],[475,171],[478,172],[479,173],[477,171],[476,172],[473,141],[531,123],[532,123],[533,123],[534,174],[555,175],[543,176],[542,104],[535,177],[538,123],[536,123],[539,123],[541,178],[540,179],[537,123],[551,104],[544,104],[545,104],[546,123],[547,123],[548,104],[549,123],[550,104],[554,180],[552,104],[553,123],[591,181],[590,182],[594,183],[595,184],[592,185],[593,186],[611,187],[603,188],[602,189],[601,147],[596,190],[600,191],[597,190],[598,190],[599,190],[586,147],[585,104],[589,192],[587,185],[588,193],[604,104],[605,104],[606,147],[610,194],[607,104],[608,147],[609,190],[448,104],[450,195],[451,196],[449,104],[452,104],[453,104],[456,197],[454,104],[455,104],[457,104],[458,104],[459,104],[460,198],[461,104],[462,199],[447,200],[438,104],[439,104],[441,104],[440,38],[442,38],[443,104],[444,38],[445,104],[446,104],[470,201],[468,202],[463,104],[464,104],[465,104],[466,104],[467,104],[469,104],[216,104],[319,203],[322,204],[328,205],[331,206],[352,207],[330,208],[311,104],[312,209],[313,210],[316,104],[314,104],[315,104],[353,211],[318,203],[317,104],[354,212],[321,204],[320,104],[358,213],[355,214],[325,215],[327,216],[324,217],[326,218],[323,215],[356,219],[329,203],[357,220],[332,221],[351,222],[348,223],[350,224],[335,225],[342,226],[344,227],[346,228],[345,229],[337,230],[334,223],[338,104],[349,231],[339,232],[336,104],[347,104],[333,104],[340,233],[341,104],[343,234],[803,235],[799,236],[786,104],[802,237],[795,238],[793,239],[792,239],[791,238],[788,239],[789,238],[797,240],[790,239],[787,238],[794,239],[800,241],[801,242],[796,243],[798,239],[954,244],[957,245],[423,246],[960,246],[962,246],[1332,246],[431,246],[1344,247],[1384,38],[956,248],[371,246],[1348,247],[422,246],[1380,249],[938,246],[1343,250],[1385,251],[1388,252],[893,253],[425,254],[426,246],[370,38],[435,246],[1391,255],[897,246],[885,246],[427,253],[433,246],[1417,246],[390,256],[1422,246],[898,255],[372,257],[1427,258],[1426,246],[924,249],[1387,246],[424,104],[699,259],[634,260],[635,261],[636,262],[637,263],[638,264],[639,265],[640,266],[641,267],[642,268],[643,269],[644,270],[645,271],[646,272],[647,273],[648,274],[649,275],[689,276],[650,277],[651,278],[652,279],[653,280],[654,281],[655,282],[656,283],[657,284],[658,285],[659,286],[660,287],[661,288],[662,289],[663,290],[664,291],[665,292],[666,293],[667,294],[668,295],[669,296],[670,297],[671,298],[672,299],[673,300],[674,301],[675,302],[676,303],[677,304],[678,305],[679,306],[680,307],[681,308],[682,309],[683,310],[684,311],[685,312],[686,313],[687,314],[688,315],[698,316],[623,104],[629,317],[631,318],[633,319],[690,320],[691,319],[692,319],[693,321],[697,322],[694,319],[695,319],[696,319],[700,323],[701,324],[702,325],[703,325],[704,326],[705,325],[706,325],[707,327],[708,325],[709,328],[710,328],[711,328],[712,329],[713,328],[714,330],[715,325],[716,328],[717,326],[718,329],[719,325],[720,325],[721,326],[722,329],[723,329],[724,326],[725,325],[726,331],[727,332],[728,326],[729,326],[730,328],[731,325],[732,325],[733,326],[734,325],[751,333],[735,325],[736,324],[737,324],[738,324],[739,328],[740,328],[741,329],[742,329],[743,326],[744,324],[745,324],[746,334],[747,335],[748,325],[749,324],[750,336],[785,337],[625,259],[757,338],[752,339],[753,339],[754,339],[755,340],[756,341],[628,342],[627,342],[632,331],[758,343],[626,259],[762,344],[759,345],[760,345],[761,346],[763,324],[630,347],[764,328],[765,104],[766,104],[767,104],[768,104],[769,104],[770,104],[784,348],[771,104],[772,104],[773,104],[774,104],[775,104],[776,104],[777,104],[778,104],[779,104],[780,104],[781,104],[782,104],[783,104],[824,349],[825,350],[826,349],[827,351],[805,352],[806,353],[807,354],[828,349],[829,355],[832,349],[833,356],[830,349],[831,357],[862,358],[863,359],[834,349],[835,360],[812,352],[813,361],[814,362],[836,349],[837,363],[838,349],[839,364],[868,349],[869,365],[840,349],[841,366],[842,349],[843,367],[864,349],[865,368],[845,369],[844,349],[847,370],[846,349],[849,371],[848,349],[851,372],[850,349],[867,373],[866,374],[853,375],[852,349],[880,376],[879,349],[878,377],[877,349],[876,378],[875,349],[874,379],[870,380],[871,381],[872,326],[873,326],[859,382],[858,349],[861,383],[860,349],[857,384],[856,349],[621,385],[620,386],[624,387],[622,388],[808,389],[810,390],[811,391],[815,392],[823,393],[816,38],[817,38],[820,394],[818,391],[819,391],[809,391],[821,349],[822,38],[855,395],[854,396],[1438,104],[1439,104],[1440,104],[1441,397],[1281,104],[1264,398],[1282,399],[1263,104],[1442,104],[1443,104],[1444,104],[1445,104],[1447,104],[1446,400],[1453,401],[1454,402],[1455,104],[1452,403],[1456,404],[1448,104],[1449,104],[1451,405],[1450,104],[77,406],[78,406],[80,407],[81,408],[82,409],[83,410],[84,411],[85,412],[86,413],[87,414],[88,415],[89,416],[90,416],[92,417],[91,418],[93,417],[94,419],[95,420],[79,421],[129,104],[96,422],[97,423],[98,424],[130,425],[99,426],[100,427],[101,428],[102,429],[103,430],[104,431],[105,432],[106,433],[107,434],[108,435],[109,435],[110,436],[111,437],[113,438],[112,439],[114,440],[115,441],[116,442],[117,443],[118,444],[119,445],[120,446],[121,447],[122,448],[123,449],[124,450],[125,451],[126,452],[127,453],[128,454],[69,104],[135,455],[136,456],[134,38],[132,457],[133,458],[67,104],[70,459],[389,38],[1457,104],[1458,104],[359,460],[307,110],[306,104],[884,461],[375,462],[374,463],[373,104],[377,104],[1340,464],[1338,38],[1339,465],[1335,466],[1336,466],[1337,466],[1334,38],[68,104],[1052,467],[1031,468],[1128,104],[1032,469],[968,467],[969,104],[970,104],[971,104],[972,104],[973,104],[974,104],[975,104],[976,104],[977,104],[978,104],[979,104],[980,467],[981,467],[982,104],[983,104],[984,104],[985,104],[986,104],[987,104],[988,104],[989,104],[990,104],[992,104],[991,104],[993,104],[994,104],[995,467],[996,104],[997,104],[998,467],[999,104],[1000,104],[1001,467],[1002,104],[1003,467],[1004,467],[1005,467],[1006,104],[1007,467],[1008,467],[1009,467],[1010,467],[1011,467],[1013,467],[1014,104],[1015,104],[1012,467],[1016,467],[1017,104],[1018,104],[1019,104],[1020,104],[1021,104],[1022,104],[1023,104],[1024,104],[1025,104],[1026,104],[1027,104],[1028,467],[1029,104],[1030,104],[1033,470],[1034,467],[1035,467],[1036,471],[1037,472],[1038,467],[1039,467],[1040,467],[1041,467],[1044,467],[1042,104],[1043,104],[966,104],[1045,104],[1046,104],[1047,104],[1048,104],[1049,104],[1050,104],[1051,104],[1053,473],[1054,104],[1055,104],[1056,104],[1058,104],[1057,104],[1059,104],[1060,104],[1061,104],[1062,467],[1063,104],[1064,104],[1065,104],[1066,104],[1067,467],[1068,467],[1070,467],[1069,467],[1071,104],[1072,104],[1073,104],[1074,104],[1221,474],[1075,467],[1076,467],[1077,104],[1078,104],[1079,104],[1080,104],[1081,104],[1082,104],[1083,104],[1084,104],[1085,104],[1086,104],[1087,104],[1088,104],[1089,467],[1090,104],[1091,104],[1092,104],[1093,104],[1094,104],[1095,104],[1096,104],[1097,104],[1098,104],[1099,104],[1100,467],[1101,104],[1102,104],[1103,104],[1104,104],[1105,104],[1106,104],[1107,104],[1108,104],[1109,104],[1110,467],[1111,104],[1112,104],[1113,104],[1114,104],[1115,104],[1116,104],[1117,104],[1118,104],[1119,467],[1120,104],[1121,104],[1122,104],[1123,104],[1124,104],[1125,104],[1126,467],[1127,104],[1129,475],[965,467],[1130,104],[1131,467],[1132,104],[1133,104],[1134,104],[1135,104],[1136,104],[1137,104],[1138,104],[1139,104],[1140,104],[1141,467],[1142,104],[1143,104],[1144,104],[1145,104],[1146,104],[1147,104],[1148,104],[1153,476],[1151,477],[1152,478],[1150,479],[1149,467],[1154,104],[1155,104],[1156,467],[1157,104],[1158,104],[1159,104],[1160,104],[1161,104],[1162,104],[1163,104],[1164,104],[1165,104],[1166,467],[1167,467],[1168,104],[1169,104],[1170,104],[1171,467],[1172,104],[1173,467],[1174,104],[1175,473],[1176,104],[1177,104],[1178,104],[1179,104],[1180,104],[1181,104],[1182,104],[1183,104],[1184,104],[1185,467],[1186,467],[1187,104],[1188,104],[1189,104],[1190,104],[1191,104],[1192,104],[1193,104],[1194,104],[1195,104],[1196,104],[1197,104],[1198,104],[1199,467],[1200,467],[1201,104],[1202,104],[1203,467],[1204,104],[1205,104],[1206,104],[1207,104],[1208,104],[1209,104],[1210,104],[1211,104],[1212,104],[1213,104],[1214,104],[1215,104],[1216,467],[967,480],[1217,104],[1218,104],[1219,104],[1220,104],[1258,481],[1259,482],[1224,104],[1232,483],[1226,484],[1233,104],[1255,485],[1230,486],[1254,487],[1251,488],[1234,489],[1235,104],[1228,104],[1225,104],[1256,490],[1252,491],[1236,104],[1253,492],[1237,493],[1239,494],[1240,495],[1229,496],[1241,497],[1242,496],[1244,497],[1245,498],[1246,499],[1248,500],[1243,501],[1249,502],[1250,503],[1227,504],[1247,505],[1231,506],[1238,104],[1257,507],[1382,38],[376,38],[379,104],[1420,508],[1419,38],[76,509],[228,510],[232,511],[234,512],[157,513],[161,514],[158,515],[185,516],[159,517],[189,516],[177,516],[141,516],[146,104],[165,104],[419,518],[401,104],[400,519],[416,520],[417,521],[166,522],[244,523],[247,524],[221,525],[220,526],[219,527],[250,38],[218,528],[171,104],[253,104],[385,529],[384,104],[255,104],[257,530],[254,38],[256,531],[137,104],[139,532],[207,104],[208,104],[210,104],[213,533],[209,104],[211,534],[212,534],[160,104],[227,528],[235,535],[239,536],[150,537],[415,538],[149,539],[182,540],[199,541],[142,542],[148,543],[138,544],[205,545],[204,546],[184,104],[169,547],[198,548],[197,104],[191,549],[192,550],[144,551],[143,104],[196,552],[195,553],[194,554],[193,555],[145,556],[186,556],[131,104],[202,557],[164,558],[201,559],[200,104],[187,560],[203,561],[206,562],[151,104],[156,104],[153,104],[154,104],[155,104],[167,104],[168,563],[190,564],[147,565],[152,104],[163,566],[162,567],[179,568],[178,569],[170,570],[172,571],[174,572],[258,573],[173,574],[175,575],[230,104],[231,104],[229,104],[252,104],[176,576],[75,104],[418,577],[222,104],[225,578],[237,38],[243,579],[241,38],[215,580],[140,104],[245,581],[217,104],[224,104],[223,582],[188,583],[183,584],[181,585],[180,104],[233,104],[399,38],[226,586],[66,104],[74,587],[71,38],[72,104],[73,104],[236,588],[238,589],[240,590],[386,591],[242,592],[262,593],[246,593],[261,594],[248,595],[420,596],[414,597],[406,598],[412,599],[408,104],[409,104],[407,600],[410,597],[402,104],[403,104],[413,601],[405,602],[411,603],[404,604],[249,605],[251,606],[259,607],[260,608],[214,609],[615,104],[280,610],[278,611],[279,612],[267,613],[268,611],[275,614],[266,615],[271,616],[281,104],[272,617],[277,618],[283,619],[282,620],[265,621],[273,622],[274,623],[269,624],[276,610],[270,625],[616,626],[619,627],[617,385],[618,628],[1222,629],[1350,104],[1365,630],[1366,630],[1378,631],[1367,632],[1368,633],[1363,634],[1361,635],[1352,104],[1356,636],[1360,637],[1358,638],[1364,639],[1353,640],[1354,641],[1355,642],[1357,643],[1359,644],[1362,645],[1369,632],[1370,632],[1371,632],[1372,630],[1373,632],[1374,632],[1351,632],[1375,104],[1377,646],[1376,632],[1412,647],[1394,648],[1396,649],[1398,650],[1397,651],[1395,104],[1399,104],[1400,104],[1401,104],[1402,104],[1403,104],[1404,104],[1405,104],[1406,104],[1407,104],[1408,652],[1410,653],[1411,653],[1409,104],[1393,38],[1413,654],[1304,655],[1306,656],[1296,657],[1301,658],[1302,659],[1308,660],[1303,661],[1300,662],[1299,663],[1298,664],[1309,665],[1266,658],[1267,658],[1307,658],[1312,666],[1322,667],[1316,667],[1324,667],[1328,667],[1314,668],[1315,667],[1317,667],[1320,667],[1323,667],[1319,669],[1321,667],[1325,38],[1318,658],[1313,670],[1275,38],[1279,38],[1269,658],[1272,38],[1277,658],[1278,671],[1271,672],[1274,38],[1276,38],[1273,673],[1262,38],[1261,38],[1330,674],[1327,675],[1293,676],[1292,658],[1290,38],[1291,658],[1294,677],[1295,678],[1288,38],[1284,679],[1287,658],[1286,658],[1285,658],[1280,658],[1289,679],[1326,658],[1305,680],[1311,681],[1310,682],[1329,104],[1297,104],[1270,104],[1268,683],[887,38],[264,104],[378,104],[286,684],[285,104],[284,104],[287,685],[804,686],[64,104],[65,104],[12,104],[13,104],[15,104],[14,104],[2,104],[16,104],[17,104],[18,104],[19,104],[20,104],[21,104],[22,104],[23,104],[3,104],[4,104],[24,104],[28,104],[25,104],[26,104],[27,104],[29,104],[30,104],[31,104],[5,104],[32,104],[33,104],[34,104],[35,104],[6,104],[39,104],[36,104],[37,104],[38,104],[40,104],[7,104],[41,104],[46,104],[47,104],[42,104],[43,104],[44,104],[45,104],[8,104],[51,104],[48,104],[49,104],[50,104],[52,104],[9,104],[53,104],[54,104],[55,104],[58,104],[56,104],[57,104],[59,104],[60,104],[10,104],[1,104],[11,104],[63,104],[62,104],[61,104],[1346,245],[1265,687],[1283,688],[303,689],[294,690],[301,691],[296,104],[297,104],[295,692],[298,693],[290,104],[291,104],[302,694],[293,695],[299,104],[300,696],[292,697],[288,698]],"semanticDiagnosticsPerFile":[1431,1432,1433,1435,1434,1436,1430,1437,360,364,367,368,369,612,429,613,398,614,932,388,393,933,934,935,937,936,940,941,942,943,944,946,945,948,949,947,950,952,951,889,953,888,890,891,892,881,896,900,895,901,920,917,918,919,915,910,911,904,916,905,908,909,912,913,914,906,907,903,921,902,955,929,958,959,961,963,395,964,391,1223,394,1260,1331,1333,432,1342,1345,1341,1347,1349,1379,1381,1383,421,930,939,392,1386,1389,1390,894,436,1392,437,1414,886,428,434,1415,1416,926,931,1418,397,927,1421,1423,1424,899,928,430,923,396,922,381,1425,1429,1428,925,387,382,366,383,365,380,263,305,304,289,883,882,363,362,361,310,309,308,526,528,527,529,530,525,560,561,559,563,566,562,564,565,567,568,573,570,569,572,571,577,576,574,575,578,579,583,581,580,582,518,500,501,503,517,504,506,505,507,508,515,509,510,511,512,513,514,502,516,584,557,558,556,494,492,493,491,490,487,486,480,482,481,489,488,483,484,485,521,519,522,524,523,520,471,472,495,499,496,497,498,474,475,478,479,477,476,473,531,532,533,534,555,543,542,535,538,536,539,541,540,537,551,544,545,546,547,548,549,550,554,552,553,591,590,594,595,592,593,611,603,602,601,596,600,597,598,599,586,585,589,587,588,604,605,606,610,607,608,609,448,450,451,449,452,453,456,454,455,457,458,459,460,461,462,447,438,439,441,440,442,443,444,445,446,470,468,463,464,465,466,467,469,216,319,322,328,331,352,330,311,312,313,316,314,315,353,318,317,354,321,320,358,355,325,327,324,326,323,356,329,357,332,351,348,350,335,342,344,346,345,337,334,338,349,339,336,347,333,340,341,343,803,799,786,802,795,793,792,791,788,789,797,790,787,794,800,801,796,798,954,957,423,960,962,1332,431,1344,1384,956,371,1348,422,1380,938,1343,1385,1388,893,425,426,370,435,1391,897,885,427,433,1417,390,1422,898,372,1427,1426,924,1387,424,699,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,689,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,698,623,629,631,633,690,691,692,693,697,694,695,696,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,751,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,785,625,757,752,753,754,755,756,628,627,632,758,626,762,759,760,761,763,630,764,765,766,767,768,769,770,784,771,772,773,774,775,776,777,778,779,780,781,782,783,824,825,826,827,805,806,807,828,829,832,833,830,831,862,863,834,835,812,813,814,836,837,838,839,868,869,840,841,842,843,864,865,845,844,847,846,849,848,851,850,867,866,853,852,880,879,878,877,876,875,874,870,871,872,873,859,858,861,860,857,856,621,620,624,622,808,810,811,815,823,816,817,820,818,819,809,821,822,855,854,1438,1439,1440,1441,1281,1264,1282,1263,1442,1443,1444,1445,1447,1446,1453,1454,1455,1452,1456,1448,1449,1451,1450,77,78,80,81,82,83,84,85,86,87,88,89,90,92,91,93,94,95,79,129,96,97,98,130,99,100,101,102,103,104,105,106,107,108,109,110,111,113,112,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,69,135,136,134,132,133,67,70,389,1457,1458,359,307,306,884,375,374,373,377,1340,1338,1339,1335,1336,1337,1334,68,1052,1031,1128,1032,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,992,991,993,994,995,996,997,998,999,1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1013,1014,1015,1012,1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1033,1034,1035,1036,1037,1038,1039,1040,1041,1044,1042,1043,966,1045,1046,1047,1048,1049,1050,1051,1053,1054,1055,1056,1058,1057,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1070,1069,1071,1072,1073,1074,1221,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1120,1121,1122,1123,1124,1125,1126,1127,1129,965,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140,1141,1142,1143,1144,1145,1146,1147,1148,1153,1151,1152,1150,1149,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1178,1179,1180,1181,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200,1201,1202,1203,1204,1205,1206,1207,1208,1209,1210,1211,1212,1213,1214,1215,1216,967,1217,1218,1219,1220,1258,1259,1224,1232,1226,1233,1255,1230,1254,1251,1234,1235,1228,1225,1256,1252,1236,1253,1237,1239,1240,1229,1241,1242,1244,1245,1246,1248,1243,1249,1250,1227,1247,1231,1238,1257,1382,376,379,1420,1419,76,228,232,234,157,161,158,185,159,189,177,141,146,165,419,401,400,416,417,166,244,247,221,220,219,250,218,171,253,385,384,255,257,254,256,137,139,207,208,210,213,209,211,212,160,227,235,239,150,415,149,182,199,142,148,138,205,204,184,169,198,197,191,192,144,143,196,195,194,193,145,186,131,202,164,201,200,187,203,206,151,156,153,154,155,167,168,190,147,152,163,162,179,178,170,172,174,258,173,175,230,231,229,252,176,75,418,222,225,237,243,241,215,140,245,217,224,223,188,183,181,180,233,399,226,66,74,71,72,73,236,238,240,386,242,262,246,261,248,420,414,406,412,408,409,407,410,402,403,413,405,411,404,249,251,259,260,214,615,280,278,279,267,268,275,266,271,281,272,277,283,282,265,273,274,269,276,270,616,619,617,618,1222,1350,1365,1366,1378,1367,1368,1363,1361,1352,1356,1360,1358,1364,1353,1354,1355,1357,1359,1362,1369,1370,1371,1372,1373,1374,1351,1375,1377,1376,1412,1394,1396,1398,1397,1395,1399,1400,1401,1402,1403,1404,1405,1406,1407,1408,1410,1411,1409,1393,1413,1304,1306,1296,1301,1302,1308,1303,1300,1299,1298,1309,1266,1267,1307,1312,1322,1316,1324,1328,1314,1315,1317,1320,1323,1319,1321,1325,1318,1313,1275,1279,1269,1272,1277,1278,1271,1274,1276,1273,1262,1261,1330,1327,1293,1292,1290,1291,1294,1295,1288,1284,1287,1286,1285,1280,1289,1326,1305,1311,1310,1329,1297,1270,1268,887,264,378,286,285,284,287,804,64,65,12,13,15,14,2,16,17,18,19,20,21,22,23,3,4,24,28,25,26,27,29,30,31,5,32,33,34,35,6,39,36,37,38,40,7,41,46,47,42,43,44,45,8,51,48,49,50,52,9,53,54,55,58,56,57,59,60,10,1,11,63,62,61,1346,1265,1283,303,294,301,296,297,295,298,290,291,302,293,299,300,292,288],"affectedFilesPendingEmit":[1431,1432,1433,1435,1434,1436,1430,1437,360,364,367,368,369,612,429,613,398,614,932,388,393,933,934,935,937,936,940,941,942,943,944,946,945,948,949,947,950,952,951,889,953,888,890,891,892,881,896,900,895,901,920,917,918,919,915,910,911,904,916,905,908,909,912,913,914,906,907,903,921,902,955,929,958,959,961,963,395,964,391,1223,394,1260,1331,1333,432,1342,1345,1341,1347,1349,1379,1381,1383,421,930,939,392,1386,1389,1390,894,436,1392,437,1414,886,428,434,1415,1416,926,931,1418,397,927,1421,1423,1424,899,928,430,923,396,922,381,1425,1429,1428,925,387,382,366,383,365,380,288]},"version":"5.2.2"}
```

